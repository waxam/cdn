!function(a,b){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?b(exports,require("@polymer/polymer/polymer-legacy.js"),require("@polymer/iron-ajax/iron-ajax.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@polymer/iron-ajax/iron-ajax.js"],b):b(a.JwtLogin={},a.polymerLegacy_js)}(this,function(a,b){"use strict";function c(){var f,g,h=(f=["\n    <style>\n      :host {\n        visibility: hidden;\n      }\n    </style>\n    <iron-ajax\n      id=\"loginrequest\"\n      method=\"GET\"\n      url=\"[[url]]\"\n      handle-as=\"json\"\n      on-response=\"loginResponse\"\n    >\n    </iron-ajax>\n  "],g||(g=f.slice(0)),Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(g)}})));return c=function(){return h},h}var d=b.Polymer({_template:b.html(c()),is:"jwt-login",properties:{url:{type:String},key:{type:String,value:"jwt"},jwt:{type:String,notify:!0}},ready:function(){this.jwt=localStorage.getItem(this.key),this.fire("jwt-token",this.jwt)},toggleLogin:function(){null==this.jwt?this.$.loginrequest.generateRequest():(localStorage.removeItem(this.key),this.jwt=null,this.fire("jwt-logged-in",!1))},loginResponse:function(g){this.jwt=g.detail.response,null==this.jwt||""==this.jwt?this.fire("jwt-logged-in",!1):(localStorage.setItem(this.key,this.jwt),this.fire("jwt-token",this.jwt),this.fire("jwt-logged-in",!0))}});a.JwtLogin=d,Object.defineProperty(a,"__esModule",{value:!0})});