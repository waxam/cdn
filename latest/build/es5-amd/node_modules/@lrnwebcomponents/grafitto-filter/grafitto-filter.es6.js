var _templateObject=babelHelpers.taggedTemplateLiteral(["\n    <div id=\"dom\"><slot></slot></div>\n  "],["\n    <div id=\"dom\"><slot></slot></div>\n  "]);import{html,Polymer}from"./node_modules/@polymer/polymer/polymer-legacy.js";import{addDebouncer,dom,flush}from"./node_modules/@polymer/polymer/lib/legacy/polymer.dom.js";import{Templatizer}from"./node_modules/@polymer/polymer/lib/legacy/templatizer-behavior.js";import{OptionalMutableDataBehavior}from"./node_modules/@polymer/polymer/lib/legacy/mutable-data-behavior.js";var GrafittoFilter=Polymer({_template:html(_templateObject),is:"grafitto-filter",behaviors:[Templatizer,OptionalMutableDataBehavior],properties:{items:{type:Array,value:[]},like:{type:String,value:""},where:{type:String,value:"name"},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:"items"},filtered:{type:Array,computed:"_computeFiltered(items, where, like, caseSensitive)",observer:"_onFilter"},f:{type:Function,notify:!0}},observers:["_populateUserTemplate(filtered)"],filter:function(){this.where=""},_computeFiltered:function(d,e,f,g){var h=null;h=g?new RegExp(f):new RegExp(f,"i");var i=[];if(this.f){var j=this.f.bind(this);i=d.filter(j)}else{var k=this._decomposeWhere.bind(this);i=d.filter(function(l){if("object"==("undefined"===typeof l?"undefined":babelHelpers.typeof(l))){var m=k(e,l);return"undefined"==typeof m&&""!=e&&console.warn("grafitto-filter was unable to find a property in '"+e+"'"),h.test(m)}return"string"==typeof l?h.test(l):"number"==typeof l?h.test(l.toString()):void 0})}return i},_populateUserTemplate:function(d){return this.ctor?void(this.__clone[this.as]=d):void(this._userTemplate=this.querySelector("template"),!this._userTemplate&&console.warn("grafitto-filter requires a template to be provided in light-dom"),this.templatize(this._userTemplate),this.__clone=this.stamp(null),this.__clone[this.as]=d,dom(this).appendChild(this.__clone.root))},_decomposeWhere:function(d,e){return d.split(".").reduce(function(f,g){return f&&f[g]},e)},_onFilter:function(){this.fire("filter")}});export{GrafittoFilter};