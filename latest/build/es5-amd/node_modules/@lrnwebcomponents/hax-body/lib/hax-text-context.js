var _templateObject=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"materializecss-styles-colors\">\n      :host {\n        display: block;\n        pointer-events: none;\n        background-color: white;\n      }\n      paper-item {\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n        height: 32px;\n        padding: 0 8px;\n        min-height: 32px;\n      }\n      paper-item:hover {\n        background-color: #d3d3d3;\n        cursor: pointer;\n      }\n      iron-icon {\n        padding: 8px;\n      }\n      paper-item strong {\n        padding: 8px;\n        font-size: 12px;\n      }\n      :host(.hax-context-pin-top) hax-toolbar {\n        position: fixed;\n        top: 64px;\n        opacity: 0.95;\n      }\n      :host(.hax-context-pin-bottom) hax-toolbar {\n        position: fixed;\n        bottom: 0;\n        opacity: 0.95;\n      }\n    </style>\n    <hax-toolbar selected=\"[[selection]]\" hide-transform=\"\">\n      <hax-context-item-menu\n        corner=\"left\"\n        slot=\"primary\"\n        selected-value=\"{{selectedValue}}\"\n        id=\"formatsize\"\n        icon=\"text-format\"\n        label=\"Format\"\n        event-name=\"text-tag\"\n      >\n        <paper-item value=\"p\"\n          ><iron-icon icon=\"editor:format-textdirection-l-to-r\"></iron-icon\n          >Normal text <strong>&lt;P&gt;</strong></paper-item\n        >\n        <paper-item value=\"h2\"\n          ><iron-icon icon=\"editor:title\"></iron-icon>Title\n          <strong>&lt;H2&gt;</strong></paper-item\n        >\n        <paper-item value=\"h3\"\n          ><iron-icon icon=\"editor:title\"></iron-icon>Content heading\n          <strong>&lt;H3&gt;</strong></paper-item\n        >\n        <paper-item value=\"h4\"\n          ><iron-icon icon=\"editor:text-fields\"></iron-icon>Subheading\n          <strong>&lt;H4&gt;</strong></paper-item\n        >\n        <paper-item value=\"h5\"\n          ><iron-icon icon=\"editor:text-fields\"></iron-icon>Deeper subheading\n          <strong>&lt;H5&gt;</strong></paper-item\n        >\n        <paper-item value=\"blockquote\"\n          ><iron-icon icon=\"editor:format-quote\"></iron-icon>Quote<strong\n            >&lt;blockquote&gt;</strong\n          ></paper-item\n        >\n        <paper-item value=\"code\"\n          ><iron-icon icon=\"icons:code\"></iron-icon>Code block<strong\n            >&lt;code&gt;</strong\n          ></paper-item\n        >\n      </hax-context-item-menu>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-bold\"\n        label=\"Bold\"\n        event-name=\"text-bold\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-italic\"\n        label=\"Italic\"\n        event-name=\"text-italic\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:insert-link\"\n        label=\"Link\"\n        event-name=\"text-link\"\n      ></hax-context-item-textop>\n      <hax-context-item-menu\n        slot=\"primary\"\n        selected-value=\"{{justifyValue}}\"\n        id=\"justify\"\n        icon=\"[[justifyIcon]]\"\n        label=\"Alignment\"\n      >\n        <paper-item value=\"\" hidden=\"\"></paper-item>\n        <paper-item value=\"text-align-left\">\n          <iron-icon icon=\"editor:format-align-left\"></iron-icon>\n        </paper-item>\n        <paper-item value=\"text-align-right\">\n          <iron-icon icon=\"editor:format-align-right\"></iron-icon>\n        </paper-item>\n      </hax-context-item-menu>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-list-numbered\"\n        label=\"Numbered list\"\n        event-name=\"text-list-numbered\"\n        hidden$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-list-bulleted\"\n        label=\"Bulleted list\"\n        event-name=\"text-list-bulleted\"\n        hidden$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-indent-increase\"\n        label=\"Indent\"\n        event-name=\"text-indent\"\n        hidden$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-indent-decrease\"\n        label=\"Outdent\"\n        event-name=\"text-outdent\"\n        hidden$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-clear\"\n        label=\"Remove format\"\n        event-name=\"text-remove-format\"\n      ></hax-context-item-textop>\n      <hax-context-item\n        slot=\"primary\"\n        icon=\"device:graphic-eq\"\n        label=\"Advanced item\"\n        event-name=\"insert-inline-gizmo\"\n      ></hax-context-item>\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"mdextra:unlink\"\n        event-name=\"text-unlink\"\n        >Remove link</hax-context-item-textop\n      >\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"mdextra:subscript\"\n        event-name=\"text-subscript\"\n        >Subscript</hax-context-item-textop\n      >\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"mdextra:superscript\"\n        event-name=\"text-superscript\"\n        >Superscript</hax-context-item-textop\n      >\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"editor:format-strikethrough\"\n        event-name=\"text-strikethrough\"\n        >Cross out</hax-context-item-textop\n      >\n    </hax-toolbar>\n  "],["\n    <style include=\"materializecss-styles-colors\">\n      :host {\n        display: block;\n        pointer-events: none;\n        background-color: white;\n      }\n      paper-item {\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n        height: 32px;\n        padding: 0 8px;\n        min-height: 32px;\n      }\n      paper-item:hover {\n        background-color: #d3d3d3;\n        cursor: pointer;\n      }\n      iron-icon {\n        padding: 8px;\n      }\n      paper-item strong {\n        padding: 8px;\n        font-size: 12px;\n      }\n      :host(.hax-context-pin-top) hax-toolbar {\n        position: fixed;\n        top: 64px;\n        opacity: 0.95;\n      }\n      :host(.hax-context-pin-bottom) hax-toolbar {\n        position: fixed;\n        bottom: 0;\n        opacity: 0.95;\n      }\n    </style>\n    <hax-toolbar selected=\"[[selection]]\" hide-transform=\"\">\n      <hax-context-item-menu\n        corner=\"left\"\n        slot=\"primary\"\n        selected-value=\"{{selectedValue}}\"\n        id=\"formatsize\"\n        icon=\"text-format\"\n        label=\"Format\"\n        event-name=\"text-tag\"\n      >\n        <paper-item value=\"p\"\n          ><iron-icon icon=\"editor:format-textdirection-l-to-r\"></iron-icon\n          >Normal text <strong>&lt;P&gt;</strong></paper-item\n        >\n        <paper-item value=\"h2\"\n          ><iron-icon icon=\"editor:title\"></iron-icon>Title\n          <strong>&lt;H2&gt;</strong></paper-item\n        >\n        <paper-item value=\"h3\"\n          ><iron-icon icon=\"editor:title\"></iron-icon>Content heading\n          <strong>&lt;H3&gt;</strong></paper-item\n        >\n        <paper-item value=\"h4\"\n          ><iron-icon icon=\"editor:text-fields\"></iron-icon>Subheading\n          <strong>&lt;H4&gt;</strong></paper-item\n        >\n        <paper-item value=\"h5\"\n          ><iron-icon icon=\"editor:text-fields\"></iron-icon>Deeper subheading\n          <strong>&lt;H5&gt;</strong></paper-item\n        >\n        <paper-item value=\"blockquote\"\n          ><iron-icon icon=\"editor:format-quote\"></iron-icon>Quote<strong\n            >&lt;blockquote&gt;</strong\n          ></paper-item\n        >\n        <paper-item value=\"code\"\n          ><iron-icon icon=\"icons:code\"></iron-icon>Code block<strong\n            >&lt;code&gt;</strong\n          ></paper-item\n        >\n      </hax-context-item-menu>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-bold\"\n        label=\"Bold\"\n        event-name=\"text-bold\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-italic\"\n        label=\"Italic\"\n        event-name=\"text-italic\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:insert-link\"\n        label=\"Link\"\n        event-name=\"text-link\"\n      ></hax-context-item-textop>\n      <hax-context-item-menu\n        slot=\"primary\"\n        selected-value=\"{{justifyValue}}\"\n        id=\"justify\"\n        icon=\"[[justifyIcon]]\"\n        label=\"Alignment\"\n      >\n        <paper-item value=\"\" hidden=\"\"></paper-item>\n        <paper-item value=\"text-align-left\">\n          <iron-icon icon=\"editor:format-align-left\"></iron-icon>\n        </paper-item>\n        <paper-item value=\"text-align-right\">\n          <iron-icon icon=\"editor:format-align-right\"></iron-icon>\n        </paper-item>\n      </hax-context-item-menu>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-list-numbered\"\n        label=\"Numbered list\"\n        event-name=\"text-list-numbered\"\n        hidden\\$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-list-bulleted\"\n        label=\"Bulleted list\"\n        event-name=\"text-list-bulleted\"\n        hidden\\$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-indent-increase\"\n        label=\"Indent\"\n        event-name=\"text-indent\"\n        hidden\\$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-indent-decrease\"\n        label=\"Outdent\"\n        event-name=\"text-outdent\"\n        hidden\\$=\"[[!polyfillSafe]]\"\n      ></hax-context-item-textop>\n      <hax-context-item-textop\n        slot=\"primary\"\n        icon=\"editor:format-clear\"\n        label=\"Remove format\"\n        event-name=\"text-remove-format\"\n      ></hax-context-item-textop>\n      <hax-context-item\n        slot=\"primary\"\n        icon=\"device:graphic-eq\"\n        label=\"Advanced item\"\n        event-name=\"insert-inline-gizmo\"\n      ></hax-context-item>\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"mdextra:unlink\"\n        event-name=\"text-unlink\"\n        >Remove link</hax-context-item-textop\n      >\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"mdextra:subscript\"\n        event-name=\"text-subscript\"\n        >Subscript</hax-context-item-textop\n      >\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"mdextra:superscript\"\n        event-name=\"text-superscript\"\n        >Superscript</hax-context-item-textop\n      >\n      <hax-context-item-textop\n        menu=\"\"\n        slot=\"more\"\n        icon=\"editor:format-strikethrough\"\n        event-name=\"text-strikethrough\"\n        >Cross out</hax-context-item-textop\n      >\n    </hax-toolbar>\n  "]);import{html,Polymer}from"@polymer/polymer/polymer-legacy.js";import"@polymer/app-layout/app-toolbar/app-toolbar.js";import"@polymer/paper-item/paper-item.js";import"@polymer/iron-icons/iron-icons.js";import"@lrnwebcomponents/materializecss-styles/lib/colors.js";import"@lrnwebcomponents/md-extra-icons/md-extra-icons.js";import"./hax-context-item-menu.js";import"./hax-context-item.js";import"./hax-context-item-textop.js";import"./hax-toolbar.js";Polymer({_template:html(_templateObject),is:"hax-text-context",listeners:{"hax-context-item-selected":"_haxContextOperation"},properties:{justifyIcon:{type:String,value:"editor:format-align-left"},polyfillSafe:{type:Boolean},selectedValue:{type:String,value:"p",notify:!0},justifyValue:{type:String,value:"text-align-left",notify:!0},selection:{type:Boolean,value:!1}},ready:function(){this.polyfillSafe=window.HaxStore.instance.computePolyfillSafe()},_haxContextOperation:function(b){var c=b.detail,d=window.getSelection();switch(c.eventName){case"text-align-left":this.justifyIcon=c.target.children[0].attributes[0].value;break;case"text-align-center":this.justifyIcon=c.target.children[0].attributes[0].value;break;case"text-align-right":this.justifyIcon=c.target.children[0].attributes[0].value;break;case"text-justify-full":this.justifyIcon=c.target.children[0].attributes[0].value;break;case"close-menu":this.$.justify.$.menu.hideMenu(),this.$.formatsize.$.menu.hideMenu();break;case"insert-inline-gizmo":if(null!=window.HaxStore.instance.activePlaceHolder){var f={text:window.HaxStore.instance.activePlaceHolder.toString()},g="inline",h=window.HaxStore.guessGizmo(g,f);0<h.length&&window.HaxStore.instance.haxAppPicker.presentOptions(h,g,"Transform selected text to..","gizmo")}break;case"text-bold":document.execCommand("bold");break;case"text-italic":document.execCommand("italic");break;case"text-underline":document.execCommand("underline"),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-subscript":document.execCommand("subscript"),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-superscript":document.execCommand("superscript"),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-remove-format":document.execCommand("removeFormat");break;case"text-strikethrough":document.execCommand("strikeThrough"),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-link":var i="";babelHelpers.typeof(d.focusNode.parentNode.href)!=="undefined"&&(i=d.focusNode.parentNode.href);var j=prompt("Enter a URL:",i);j&&document.execCommand("createLink",!1,j);break;case"text-unlink":document.execCommand("unlink");break;case"text-indent":document.execCommand("indent");break;case"text-outdent":document.execCommand("outdent");break;case"text-list-numbered":document.execCommand("insertOrderedList");break;case"text-list-bulleted":document.execCommand("insertUnorderedList");}},isSafari:function(){var c=navigator.userAgent.toLowerCase();if(-1!=c.indexOf("safari"))if(-1<c.indexOf("chrome"));else return!0;return!1}});