(function(i,j,o){var s=o(i);"undefined"!==typeof module&&"exports"in module?module.exports=s:"function"===typeof define&&define.amd?define([],function(){return s}):i[j]=s})(this,"jdenticon",function(i,j){function o(X,Y){this.x=X,this.y=Y}function s(X,Y,Z,$){this.o=X,this.s=Y,this.f=Z,this.l=$}function E(X){this.C=X,this.m=s.O}function H(X){return X|=0,0>X?"00":16>X?"0"+X.toString(16):256>X?X.toString(16):"ff"}function I(X,Y,Z){return Z=0>Z?Z+6:6<Z?Z-6:Z,H(255*(1>Z?X+(Y-X)*Z:3>Z?Y:4>Z?X+(Y-X)*(4-Z):X))}function J(X,Y){return[V.w(0,0,Y.H(0)),V.v(X,Y.A,Y.u(.5)),V.w(0,0,Y.H(1)),V.v(X,Y.A,Y.u(1)),V.v(X,Y.A,Y.u(0))]}function M(X,Y,Z,$,_){function aa(ja,ka,la,ma,na){for(ma=ma?parseInt(Y.charAt(ma),16):0,ka=ka[parseInt(Y.charAt(la),16)%ka.length],X.F(ga[ha[ja]]),ja=0;ja<na.length;ja++)ea.m=new s(ca+na[ja][0]*fa,da+na[ja][1]*fa,fa,ma++%4),ka(ea,fa,ja);X.G()}function ba(ja){if(0<=ja.indexOf(ia))for(var ka=0;ka<ja.length;ka++)if(0<=ha.indexOf(ja[ka]))return!0}var ca=0,da=0;if($=0|Z*(void 0===$?.08:$),Z-=2*$,!/^[0-9a-f]{11,}$/i.test(Y))throw Error("Invalid hash passed to Jdenticon.");var ia,ea=new E(X),fa=0|Z/4,ca=ca+(0|$+Z/2-2*fa),da=da+(0|$+Z/2-2*fa),ga=J(parseInt(Y.substr(-7),16)/268435455,_),ha=[];for(Z=0;3>Z;Z++)ia=parseInt(Y.charAt(8+Z),16)%ga.length,(ba([0,4])||ba([2,3]))&&(ia=1),ha.push(ia);aa(0,U.J,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),aa(1,U.J,4,5,[[0,0],[3,0],[3,3],[0,3]]),aa(2,U.N,1,null,[[1,1],[2,1],[2,2],[1,2]])}function N(){this.i=""}function O(X,Y){this.j={},this.f={M:X,I:Y}}function Q(X,Y,Z){this.h=X,X.clearRect(0,0,Y,Z)}function R(){function X($,_,aa){var ba=Z[$]instanceof Array?Z[$]:[_,aa];return function(ca){return ca=ba[0]+ca*(ba[1]-ba[0]),0>ca?0:1<ca?1:ca}}var Y=T.config||i.jdenticon_config||{},Z=Y.lightness||{},Y=Y.saturation;return{A:"number"==typeof Y?Y:.5,u:X("color",.4,.8),H:X("grayscale",.3,.9)}}function S(X,Y,Z){if("string"===typeof X){if(W){X=document.querySelectorAll(X);for(var $=0;$<X.length;$++)S(X[$],Y,Z)}}else if(X&&X.tagName&&(Y=Y||X.getAttribute("data-jdenticon-hash"))){var _="svg"==X.tagName.toLowerCase(),$="canvas"==X.tagName.toLowerCase();if(_||$&&"getContext"in X){var $=+X.getAttribute("width")||X.clientWidth||0,aa=+X.getAttribute("height")||X.clientHeight||0,ba=_?new O($,aa):new Q(X.getContext("2d"),$,aa);if(M(ba,Y,Math.min($,aa),Z,R()),_){for(Y=document.createElement("span"),Y.innerHTML=ba.K(!1);X.firstChild;)X.removeChild(X.firstChild);for(Y=Y.firstChild.childNodes;Y.length;)X.appendChild(Y[0]);X.setAttribute("viewBox","0 0 "+$+" "+aa)}}}}function T(){W&&S("svg[data-jdenticon-hash],canvas[data-jdenticon-hash]")}s.prototype={L:function(Y,Z,$,_){var aa=this.o+this.f,ba=this.s+this.f;return 1===this.l?new o(aa-Z-(_||0),this.s+Y):2===this.l?new o(aa-Y-($||0),ba-Z-(_||0)):3===this.l?new o(this.o+Z,ba-Y-($||0)):new o(this.o+Y,this.s+Z)}},s.O=new s(0,0,0,0),E.prototype={a:function(Y,Z){var ba,$=Z?-2:2,_=this.m,aa=[];for(ba=Z?Y.length-2:0;ba<Y.length&&0<=ba;ba+=$)aa.push(_.L(Y[ba],Y[ba+1]));this.C.a(aa)},b:function(Y,Z,$,_){this.C.b(this.m.L(Y,Z,$,$),$,_)},c:function(Y,Z,$,_,aa){this.a([Y,Z,Y+$,Z,Y+$,Z+_,Y,Z+_],aa)},g:function(Y,Z,$,_,aa,ba){Y=[Y+$,Z,Y+$,Z+_,Y,Z+_,Y,Z],Y.splice(2*((aa||0)%4),2),this.a(Y,ba)},D:function(Y,Z,$,_,aa){this.a([Y+$/2,Z,Y+$,Z+_/2,Y+$/2,Z+_,Y,Z+_/2],aa)}};var U={N:[function(X,Y){var Z=.42*Y;X.a([0,0,Y,0,Y,Y-2*Z,Y-Z,Y,0,Y])},function(X,Y){var Z=0|.5*Y;X.g(Y-Z,0,Z,0|.8*Y,2)},function(X,Y){var Z=0|Y/3;X.c(Z,Z,Y-Z,Y-Z)},function(X,Y){var Z=.1*Y,Z=1<Z?0|Z:.5<Z?1:Z,$=6>Y?1:8>Y?2:0|.25*Y;X.c($,$,Y-Z-$,Y-Z-$)},function(X,Y){var Z=0|.15*Y,$=0|.5*Y;X.b(Y-$-Z,Y-$-Z,$)},function(X,Y){var Z=.1*Y,$=4*Z;X.c(0,0,Y,Y),X.a([$,$,Y-Z,$,$+(Y-$-Z)/2,Y-Z],!0)},function(X,Y){X.a([0,0,Y,0,Y,.7*Y,.4*Y,.4*Y,.7*Y,Y,0,Y])},function(X,Y){X.g(Y/2,Y/2,Y/2,Y/2,3)},function(X,Y){X.c(0,0,Y,Y/2),X.c(0,Y/2,Y/2,Y/2),X.g(Y/2,Y/2,Y/2,Y/2,1)},function(X,Y){var Z=.14*Y,Z=8>Y?Z:0|Z,$=4>Y?1:6>Y?2:0|.35*Y;X.c(0,0,Y,Y),X.c($,$,Y-$-Z,Y-$-Z,!0)},function(X,Y){var Z=.12*Y,$=3*Z;X.c(0,0,Y,Y),X.b($,$,Y-Z-$,!0)},function(X,Y){X.g(Y/2,Y/2,Y/2,Y/2,3)},function(X,Y){var Z=.25*Y;X.c(0,0,Y,Y),X.D(Z,Z,Y-Z,Y-Z,!0)},function(X,Y,Z){var $=.4*Y;Z||X.b($,$,1.2*Y)}],J:[function(X,Y){X.g(0,0,Y,Y,0)},function(X,Y){X.g(0,Y/2,Y,Y/2,0)},function(X,Y){X.D(0,0,Y,Y)},function(X,Y){var Z=Y/6;X.b(Z,Z,Y-2*Z)}]},V={P:function(Y,Z,$){return"#"+H(Y)+H(Z)+H($)},w:function(Y,Z,$){return 0==Z?(Y=H(255*$),"#"+Y+Y+Y):(Z=.5>=$?$*(Z+1):$+Z-$*Z,$=2*$-Z,"#"+I($,Z,6*Y+2)+I($,Z,6*Y)+I($,Z,6*Y-2))},v:function(Y,Z,$){var _=[0.55,0.5,0.5,0.46,0.6,0.55,0.55][0|6*Y+.5];return V.w(Y,Z,.5>$?2*($*_):_+2*(($-.5)*(1-_)))}};N.prototype={a:function(Y){for(var X="M"+Y[0].x+" "+Y[0].y,Z=1;Z<Y.length;Z++)X+="L"+Y[Z].x+" "+Y[Z].y;this.i+=X+"Z"},b:function(Y,Z,$){$=$?0:1;var _=Z/2;this.i+="M"+Y.x+" "+(Y.y+_)+"a"+_+","+_+" 0 1,"+$+" "+Z+",0a"+_+","+_+" 0 1,"+$+" "+-Z+",0"}},O.prototype={F:function(Y){this.B=this.j[Y]||(this.j[Y]=new N)},G:function(){},a:function(Y){this.B.a(Y)},b:function(Y,Z,$){this.B.b(Y,Z,$)},K:function(Y){var $,Z=Y?"":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\""+this.f.M+"\" height=\""+this.f.I+"\" viewBox=\"0 0 "+this.f.M+" "+this.f.I+"\" preserveAspectRatio=\"xMidYMid meet\">";for($ in this.j)Z+="<path fill=\""+$+"\" d=\""+this.j[$].i+"\"/>";return Y?Z:Z+"</svg>"}},Q.prototype={F:function(Y){this.h.fillStyle=Y,this.h.beginPath()},G:function(){this.h.fill()},a:function(Y){var Z,X=this.h;for(X.moveTo(Y[0].x,Y[0].y),Z=1;Z<Y.length;Z++)X.lineTo(Y[Z].x,Y[Z].y);X.closePath()},b:function(Y,Z,$){var _=this.h;Z/=2,_.arc(Y.x+Z,Y.y+Z,Z,0,2*Math.PI,$),_.closePath()}};var W="document"in i&&"querySelectorAll"in document;return T.drawIcon=function(X,Y,Z){if(!X)throw Error("No canvas specified.");X=new Q(X,Z,Z),M(X,Y,Z,0,R())},T.toSvg=function(X,Y,Z){var $=new O(Y,Y);return M($,X,Y,Z,R()),$.K()},T.update=S,T.version="1.4.0",j&&(j.fn.jdenticon=function(X,Y){return this.each(function(Z,$){S($,X,Y)}),this}),"function"===typeof setTimeout&&setTimeout(T,0),T});