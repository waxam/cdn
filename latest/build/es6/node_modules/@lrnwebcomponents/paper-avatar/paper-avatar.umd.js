!function(j,k){"object"==typeof exports&&"undefined"!=typeof module?k(exports,require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/utils/resolve-url.js"),require("@lrnwebcomponents/es-global-bridge/es-global-bridge.js"),require("crypto"),require("buffer")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/utils/resolve-url.js","@lrnwebcomponents/es-global-bridge/es-global-bridge.js","crypto","buffer"],k):k(j.PaperAvatar={},j.polymerLegacy_js,j.resolveUrl_js,null,j.crypto,j.buffer)}(this,function(j,k,m,q,x,z){"use strict";function A(F){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(F)}function B(){var F,G,H=(F=["\n    <style>\n      :host {\n        --paper-avatar-width: 40px;\n        display: inline-block;\n        box-sizing: border-box;\n        position: relative;\n        width: var(--paper-avatar-width);\n        height: var(--paper-avatar-width);\n        border-radius: 50%;\n        cursor: default;\n        background-color: var(\n          --paper-avatar-color,\n          var(--paper-avatar-bgcolor)\n        );\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }\n\n      :host > * {\n        pointer-events: none;\n      }\n\n      #label,\n      #img,\n      #jdenticon {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n      }\n      #label {\n        overflow: hidden;\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n        flex-direction: row;\n        -webkit-align-items: center;\n        -ms-flex-align: center;\n        align-items: center;\n      }\n      #label span {\n        display: block;\n        width: 100%;\n        font-weight: 400;\n        color: rgba(255, 255, 255, 0.8);\n        text-transform: capitalize;\n        font-family: \"Roboto\", \"Noto\", sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-align: center;\n        font-size: calc(var(--paper-avatar-width) / 1.65);\n      }\n      #jdenticon {\n        width: var(--paper-avatar-width);\n        height: var(--paper-avatar-width);\n      }\n    </style>\n    <div id=\"label\" title=\"[[label]]\"><span>[[_label(label)]]</span></div>\n    <svg id=\"jdenticon\" width=\"40\" height=\"40\"><slot></slot></svg>\n    <template is=\"dom-if\" if=\"[[src]]\">\n      <img\n        id=\"img\"\n        src=\"[[src]]\"\n        title=\"[[label]]\"\n        on-load=\"_onImgLoad\"\n        on-error=\"_onImgError\"\n        title=\"[[color]]\"\n      />\n    </template>\n  "],G||(G=F.slice(0)),Object.freeze(Object.defineProperties(F,{raw:{value:Object.freeze(G)}})));return B=function(){return H},H}x=x&&x.hasOwnProperty("default")?x.default:x,z=z&&z.hasOwnProperty("default")?z.default:z;var C="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,D;(function(F){!function(){function G(V){if(V)Q[0]=Q[16]=Q[1]=Q[2]=Q[3]=Q[4]=Q[5]=Q[6]=Q[7]=Q[8]=Q[9]=Q[10]=Q[11]=Q[12]=Q[13]=Q[14]=Q[15]=0,this.blocks=Q,this.buffer8=J;else if(L){var W=new ArrayBuffer(68);this.buffer8=new Uint8Array(W),this.blocks=new Uint32Array(W)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}var H="object"==("undefined"==typeof window?"undefined":A(window))?window:{},I=!H.JS_MD5_NO_NODE_JS&&"object"==("undefined"==typeof process?"undefined":A(process))&&process.versions&&process.versions.node;I&&(H=C);var J,K=!H.JS_MD5_NO_COMMON_JS&&F.exports,L=!H.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,M="0123456789abcdef".split(""),N=[128,32768,8388608,-2147483648],O=[0,8,16,24],P=["hex","array","digest","buffer","arrayBuffer"],Q=[];if(L){var R=new ArrayBuffer(68);J=new Uint8Array(R),Q=new Uint32Array(R)}var S=function(V){return function(W){return new G(!0).update(W)[V]()}},T=function(V){var W=x,X=z.Buffer;return function(Y){if("string"==typeof Y)return W.createHash("md5").update(Y,"utf8").digest("hex");if(Y.constructor===ArrayBuffer)Y=new Uint8Array(Y);else if(void 0===Y.length)return V(Y);return W.createHash("md5").update(new X(Y)).digest("hex")}};G.prototype.update=function(V){if(!this.finalized){var W="string"!=typeof V;W&&V.constructor==H.ArrayBuffer&&(V=new Uint8Array(V));for(var X,Y,Z=0,$=V.length||0,_=this.blocks,aa=this.buffer8;$>Z;){if(this.hashed&&(this.hashed=!1,_[0]=_[16],_[16]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=0),W){if(L)for(Y=this.start;$>Z&&64>Y;++Z)aa[Y++]=V[Z];else for(Y=this.start;$>Z&&64>Y;++Z)_[Y>>2]|=V[Z]<<O[3&Y++];}else if(L)for(Y=this.start;$>Z&&64>Y;++Z)128>(X=V.charCodeAt(Z))?aa[Y++]=X:2048>X?(aa[Y++]=192|X>>6,aa[Y++]=128|63&X):55296>X||57344<=X?(aa[Y++]=224|X>>12,aa[Y++]=128|63&X>>6,aa[Y++]=128|63&X):(X=65536+((1023&X)<<10|1023&V.charCodeAt(++Z)),aa[Y++]=240|X>>18,aa[Y++]=128|63&X>>12,aa[Y++]=128|63&X>>6,aa[Y++]=128|63&X);else for(Y=this.start;$>Z&&64>Y;++Z)128>(X=V.charCodeAt(Z))?_[Y>>2]|=X<<O[3&Y++]:2048>X?(_[Y>>2]|=(192|X>>6)<<O[3&Y++],_[Y>>2]|=(128|63&X)<<O[3&Y++]):55296>X||57344<=X?(_[Y>>2]|=(224|X>>12)<<O[3&Y++],_[Y>>2]|=(128|63&X>>6)<<O[3&Y++],_[Y>>2]|=(128|63&X)<<O[3&Y++]):(X=65536+((1023&X)<<10|1023&V.charCodeAt(++Z)),_[Y>>2]|=(240|X>>18)<<O[3&Y++],_[Y>>2]|=(128|63&X>>12)<<O[3&Y++],_[Y>>2]|=(128|63&X>>6)<<O[3&Y++],_[Y>>2]|=(128|63&X)<<O[3&Y++]);this.lastByteIndex=Y,this.bytes+=Y-this.start,64<=Y?(this.start=Y-64,this.hash(),this.hashed=!0):this.start=Y}return this}},G.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var V=this.blocks,W=this.lastByteIndex;V[W>>2]|=N[3&W],56<=W&&(this.hashed||this.hash(),V[0]=V[16],V[16]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=0),V[14]=this.bytes<<3,this.hash()}},G.prototype.hash=function(){var V,W,X,Y,Z,$,_=this.blocks;this.first?W=((W=((V=((V=_[0]-680876937)<<7|V>>>25)-271733879<<0)^(X=((X=(-271733879^(Y=((Y=(-1732584194^2004318071&V)+_[1]-117830708)<<12|Y>>>20)+V<<0)&(-271733879^V))+_[2]-1126478375)<<17|X>>>15)+Y<<0)&(Y^V))+_[3]-1316259209)<<22|W>>>10)+X<<0:(V=this.h0,W=this.h1,X=this.h2,W=((W+=((V=((V+=((Y=this.h3)^W&(X^Y))+_[0]-680876936)<<7|V>>>25)+W<<0)^(X=((X+=(W^(Y=((Y+=(X^V&(W^X))+_[1]-389564586)<<12|Y>>>20)+V<<0)&(V^W))+_[2]+606105819)<<17|X>>>15)+Y<<0)&(Y^V))+_[3]-1044525330)<<22|W>>>10)+X<<0),W=((W+=((V=((V+=(Y^W&(X^Y))+_[4]-176418897)<<7|V>>>25)+W<<0)^(X=((X+=(W^(Y=((Y+=(X^V&(W^X))+_[5]+1200080426)<<12|Y>>>20)+V<<0)&(V^W))+_[6]-1473231341)<<17|X>>>15)+Y<<0)&(Y^V))+_[7]-45705983)<<22|W>>>10)+X<<0,W=((W+=((V=((V+=(Y^W&(X^Y))+_[8]+1770035416)<<7|V>>>25)+W<<0)^(X=((X+=(W^(Y=((Y+=(X^V&(W^X))+_[9]-1958414417)<<12|Y>>>20)+V<<0)&(V^W))+_[10]-42063)<<17|X>>>15)+Y<<0)&(Y^V))+_[11]-1990404162)<<22|W>>>10)+X<<0,W=((W+=((V=((V+=(Y^W&(X^Y))+_[12]+1804603682)<<7|V>>>25)+W<<0)^(X=((X+=(W^(Y=((Y+=(X^V&(W^X))+_[13]-40341101)<<12|Y>>>20)+V<<0)&(V^W))+_[14]-1502002290)<<17|X>>>15)+Y<<0)&(Y^V))+_[15]+1236535329)<<22|W>>>10)+X<<0,W=((W+=((Y=((Y+=(W^X&((V=((V+=(X^Y&(W^X))+_[1]-165796510)<<5|V>>>27)+W<<0)^W))+_[6]-1069501632)<<9|Y>>>23)+V<<0)^V&((X=((X+=(V^W&(Y^V))+_[11]+643717713)<<14|X>>>18)+Y<<0)^Y))+_[0]-373897302)<<20|W>>>12)+X<<0,W=((W+=((Y=((Y+=(W^X&((V=((V+=(X^Y&(W^X))+_[5]-701558691)<<5|V>>>27)+W<<0)^W))+_[10]+38016083)<<9|Y>>>23)+V<<0)^V&((X=((X+=(V^W&(Y^V))+_[15]-660478335)<<14|X>>>18)+Y<<0)^Y))+_[4]-405537848)<<20|W>>>12)+X<<0,W=((W+=((Y=((Y+=(W^X&((V=((V+=(X^Y&(W^X))+_[9]+568446438)<<5|V>>>27)+W<<0)^W))+_[14]-1019803690)<<9|Y>>>23)+V<<0)^V&((X=((X+=(V^W&(Y^V))+_[3]-187363961)<<14|X>>>18)+Y<<0)^Y))+_[8]+1163531501)<<20|W>>>12)+X<<0,W=((W+=((Y=((Y+=(W^X&((V=((V+=(X^Y&(W^X))+_[13]-1444681467)<<5|V>>>27)+W<<0)^W))+_[2]-51403784)<<9|Y>>>23)+V<<0)^V&((X=((X+=(V^W&(Y^V))+_[7]+1735328473)<<14|X>>>18)+Y<<0)^Y))+_[12]-1926607734)<<20|W>>>12)+X<<0,W=((W+=(($=(Y=((Y+=((Z=W^X)^(V=((V+=(Z^Y)+_[5]-378558)<<4|V>>>28)+W<<0))+_[8]-2022574463)<<11|Y>>>21)+V<<0)^V)^(X=((X+=($^W)+_[11]+1839030562)<<16|X>>>16)+Y<<0))+_[14]-35309556)<<23|W>>>9)+X<<0,W=((W+=(($=(Y=((Y+=((Z=W^X)^(V=((V+=(Z^Y)+_[1]-1530992060)<<4|V>>>28)+W<<0))+_[4]+1272893353)<<11|Y>>>21)+V<<0)^V)^(X=((X+=($^W)+_[7]-155497632)<<16|X>>>16)+Y<<0))+_[10]-1094730640)<<23|W>>>9)+X<<0,W=((W+=(($=(Y=((Y+=((Z=W^X)^(V=((V+=(Z^Y)+_[13]+681279174)<<4|V>>>28)+W<<0))+_[0]-358537222)<<11|Y>>>21)+V<<0)^V)^(X=((X+=($^W)+_[3]-722521979)<<16|X>>>16)+Y<<0))+_[6]+76029189)<<23|W>>>9)+X<<0,W=((W+=(($=(Y=((Y+=((Z=W^X)^(V=((V+=(Z^Y)+_[9]-640364487)<<4|V>>>28)+W<<0))+_[12]-421815835)<<11|Y>>>21)+V<<0)^V)^(X=((X+=($^W)+_[15]+530742520)<<16|X>>>16)+Y<<0))+_[2]-995338651)<<23|W>>>9)+X<<0,W=((W+=((Y=((Y+=(W^((V=((V+=(X^(W|~Y))+_[0]-198630844)<<6|V>>>26)+W<<0)|~X))+_[7]+1126891415)<<10|Y>>>22)+V<<0)^((X=((X+=(V^(Y|~W))+_[14]-1416354905)<<15|X>>>17)+Y<<0)|~V))+_[5]-57434055)<<21|W>>>11)+X<<0,W=((W+=((Y=((Y+=(W^((V=((V+=(X^(W|~Y))+_[12]+1700485571)<<6|V>>>26)+W<<0)|~X))+_[3]-1894986606)<<10|Y>>>22)+V<<0)^((X=((X+=(V^(Y|~W))+_[10]-1051523)<<15|X>>>17)+Y<<0)|~V))+_[1]-2054922799)<<21|W>>>11)+X<<0,W=((W+=((Y=((Y+=(W^((V=((V+=(X^(W|~Y))+_[8]+1873313359)<<6|V>>>26)+W<<0)|~X))+_[15]-30611744)<<10|Y>>>22)+V<<0)^((X=((X+=(V^(Y|~W))+_[6]-1560198380)<<15|X>>>17)+Y<<0)|~V))+_[13]+1309151649)<<21|W>>>11)+X<<0,W=((W+=((Y=((Y+=(W^((V=((V+=(X^(W|~Y))+_[4]-145523070)<<6|V>>>26)+W<<0)|~X))+_[11]-1120210379)<<10|Y>>>22)+V<<0)^((X=((X+=(V^(Y|~W))+_[2]+718787259)<<15|X>>>17)+Y<<0)|~V))+_[9]-343485551)<<21|W>>>11)+X<<0,this.first?(this.h0=V+1732584193<<0,this.h1=W-271733879<<0,this.h2=X-1732584194<<0,this.h3=Y+271733878<<0,this.first=!1):(this.h0=this.h0+V<<0,this.h1=this.h1+W<<0,this.h2=this.h2+X<<0,this.h3=this.h3+Y<<0)},G.prototype.hex=function(){this.finalize();var V=this.h0,W=this.h1,X=this.h2,Y=this.h3;return M[15&V>>4]+M[15&V]+M[15&V>>12]+M[15&V>>8]+M[15&V>>20]+M[15&V>>16]+M[15&V>>28]+M[15&V>>24]+M[15&W>>4]+M[15&W]+M[15&W>>12]+M[15&W>>8]+M[15&W>>20]+M[15&W>>16]+M[15&W>>28]+M[15&W>>24]+M[15&X>>4]+M[15&X]+M[15&X>>12]+M[15&X>>8]+M[15&X>>20]+M[15&X>>16]+M[15&X>>28]+M[15&X>>24]+M[15&Y>>4]+M[15&Y]+M[15&Y>>12]+M[15&Y>>8]+M[15&Y>>20]+M[15&Y>>16]+M[15&Y>>28]+M[15&Y>>24]},G.prototype.toString=G.prototype.hex,G.prototype.digest=function(){this.finalize();var V=this.h0,W=this.h1,X=this.h2,Y=this.h3;return[255&V,255&V>>8,255&V>>16,255&V>>24,255&W,255&W>>8,255&W>>16,255&W>>24,255&X,255&X>>8,255&X>>16,255&X>>24,255&Y,255&Y>>8,255&Y>>16,255&Y>>24]},G.prototype.array=G.prototype.digest,G.prototype.arrayBuffer=function(){this.finalize();var V=new ArrayBuffer(16),W=new Uint32Array(V);return W[0]=this.h0,W[1]=this.h1,W[2]=this.h2,W[3]=this.h3,V},G.prototype.buffer=G.prototype.arrayBuffer;var U=function(){var V=S("hex");I&&(V=T(V)),V.create=function(){return new G},V.update=function(Y){return V.create().update(Y)};for(var X,W=0;W<P.length;++W)X=P[W],V[X]=S(X);return V}();K?F.exports=U:H.md5=U}()})(D={exports:{}},D.exports);var E=k.Polymer({is:"paper-avatar",_template:k.html(B()),properties:{src:{type:String,value:!1},label:{type:String,observer:"_observerLabel"},jdenticonExists:{type:Boolean,value:!1},twoChars:{type:Boolean,value:!1},colors:{type:Array},jdenticon:{type:Boolean,value:!1}},_observerLabel:function(F){F&&(this.jdenticonExists&&this.jdenticon&&(this.$.label.hidden=!0,window.jdenticon.config={lightness:{color:[1,1],grayscale:[1,1]},saturation:1},window.jdenticon.update(this.$.jdenticon,window.md5(F))),this.updateStyles({"--paper-avatar-bgcolor":this._parseColor(F)}))},ready:function(){var F=m.pathFromUrl("undefined"==typeof document?new("undefined"==typeof URL?require("url").URL:URL)("file:"+__filename).href:document.currentScript&&document.currentScript.src||document.baseURI),G="".concat(F,"lib/jdenticon-1.4.0.min.js");window.addEventListener("es-bridge-".concat("jdenticon","-loaded"),this._jdenticonLoaded.bind(this)),window.ESGlobalBridge.requestAvailability(),window.ESGlobalBridge.instance.load("jdenticon",G)},_jdenticonLoaded:function(){this.jdenticonExists=!0,this._observerLabel(this.label)},_label:function(F){if(!F)return"";if(this.twoChars){if(-1<this.label.indexOf(" ")){var G=this.label.match(/\b(\w)/g);return G[0]+G[1]}return F.substring(0,2)}return F.charAt(0)},_onImgLoad:function(F){F.currentTarget.hidden=!1},_onImgError:function(F){F.currentTarget.hidden=!0},_parseColor:function(F){for(var G=this.colors?this.colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#795548","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#9E9E9E","#607D8B"],H=0,I=0;I<F.length;I++)H+=F.charCodeAt(I)<<5;return H>=G.length?G[H%G.length]:G[H]}});j.PaperAvatar=E,Object.defineProperty(j,"__esModule",{value:!0})});