!function(q,z){"object"==typeof exports&&"undefined"!=typeof module?z(require("@polymer/iron-icons/image-icons.js"),require("@polymer/iron-pages/iron-pages.js"),require("@polymer/app-layout/app-toolbar/app-toolbar.js"),require("@polymer/paper-menu-button/paper-menu-button.js"),require("@polymer/paper-ripple/paper-ripple.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/iron-icons/editor-icons.js"),require("@polymer/paper-icon-button/paper-icon-button.js"),require("paper-collapse-item/paper-collapse-item.js"),require("paper-collapse-item/paper-collapse-group.js"),require("@polymer/paper-checkbox/paper-checkbox.js"),require("@polymer/paper-dropdown-menu/paper-dropdown-menu.js"),require("@polymer/paper-item/paper-item.js"),require("@polymer/paper-listbox/paper-listbox.js"),require("@polymer/iron-validatable-behavior/iron-validatable-behavior.js"),require("@polymer/paper-styles/typography.js"),require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/iron-flex-layout/iron-flex-layout-classes.js"),require("@polymer/app-localize-behavior/app-localize-behavior.js"),require("@polymer/paper-button/paper-button.js"),require("@polymer/paper-input/paper-input.js"),require("@polymer/iron-icon/iron-icon.js"),require("@polymer/iron-icons/iron-icons.js")):"function"==typeof define&&define.amd?define(["@polymer/iron-icons/image-icons.js","@polymer/iron-pages/iron-pages.js","@polymer/app-layout/app-toolbar/app-toolbar.js","@polymer/paper-menu-button/paper-menu-button.js","@polymer/paper-ripple/paper-ripple.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/iron-icons/editor-icons.js","@polymer/paper-icon-button/paper-icon-button.js","paper-collapse-item/paper-collapse-item.js","paper-collapse-item/paper-collapse-group.js","@polymer/paper-checkbox/paper-checkbox.js","@polymer/paper-dropdown-menu/paper-dropdown-menu.js","@polymer/paper-item/paper-item.js","@polymer/paper-listbox/paper-listbox.js","@polymer/iron-validatable-behavior/iron-validatable-behavior.js","@polymer/paper-styles/typography.js","@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/utils/async.js","@polymer/iron-flex-layout/iron-flex-layout-classes.js","@polymer/app-localize-behavior/app-localize-behavior.js","@polymer/paper-button/paper-button.js","@polymer/paper-input/paper-input.js","@polymer/iron-icon/iron-icon.js","@polymer/iron-icons/iron-icons.js"],z):z(null,null,null,null,null,q.polymer_dom_js,null,null,null,null,null,null,null,null,q.ironValidatableBehavior_js,null,q.polymerLegacy_js,q.async,null,q.appLocalizeBehavior_js)}(this,function(q,z,B,D,E,F,G,H,I,J,K,L,M,N,P,Q,R,T,U,V){"use strict";function W(ea){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fa){return typeof fa}:function(fa){return fa&&"function"==typeof Symbol&&fa.constructor===Symbol&&fa!==Symbol.prototype?"symbol":typeof fa})(ea)}function X(ea,fa){return fa||(fa=ea.slice(0)),Object.freeze(Object.defineProperties(ea,{raw:{value:Object.freeze(fa)}}))}function Y(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-checkbox {\n        color: #737373;\n        padding: 2px;\n        display: block;\n        font-size: 16px;\n        white-space: normal;\n      }\n    </style>\n\n    <paper-checkbox\n      id=\"checkbox\"\n      class=\"flex\"\n      checked=\"{{value}}\"\n      invalid=\"[[error]]\"\n      >[[_label]]</paper-checkbox\n    >\n  "]);return Y=function(){return ea},ea}function Z(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-input {\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n      }\n\n      paper-dropdown-menu {\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n        --paper-dropdown-menu-button: {\n          padding: 2px;\n        }\n      }\n    </style>\n\n    <paper-dropdown-menu\n      id=\"dropdown\"\n      class=\"layout horizontal vertical\"\n      value=\"{{value}}\"\n      required=\"\"\n    >\n      <paper-dropdown-menu class=\"dropdown-content\">\n        <paper-listbox slot=\"dropdown-content\" selected=\"0\">\n          <template is=\"dom-repeat\" items=\"[[_items]]\">\n            <paper-item class=\"flex\" label=\"[[item]]\">[[item]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </paper-dropdown-menu>\n  "]);return Z=function(){return ea},ea}function $(){var ea=X(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        paper-input {\n          padding: 2px;\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 16px;\n            color: #212121;\n          }\n          --paper-input-container: {\n            width: 100%;\n          }\n          --paper-input-container-input: {\n            width: 100% !important;\n            background-color: transparent !important;\n            border: none !important;\n          }\n          --paper-input-container-shared-input-style: {\n            width: 100% !important;\n            background-color: transparent !important;\n            border: none !important;\n          }\n        }\n      </style>\n    </custom-style>\n    <paper-input\n      id=\"input\"\n      class=\"flex\"\n      value=\"{{value}}\"\n      auto-validate\n    ></paper-input>\n  "]);return $=function(){return ea},ea}function aa(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n      }\n\n      :host {\n        display: inline-block;\n      }\n\n      .enabled {\n        border: 1px dashed #555;\n        @apply --file-upload-upload-border-enabled;\n      }\n\n      .hover {\n        opacity: 0.7;\n        border: 1px dashed #111;\n        @apply --file-upload-upload-border-hover;\n      }\n\n      #UploadBorder {\n        vertical-align: middle;\n        color: #555;\n        padding: 20px;\n        max-height: 300px;\n        overflow-y: auto;\n        display: inline-block;\n        @apply --file-upload-upload-border;\n      }\n\n      #dropArea {\n        text-align: center;\n        @apply --file-upload-drop-area;\n      }\n\n      paper-button#button {\n        margin-bottom: 20px;\n        @apply --file-upload-button;\n      }\n\n      .file {\n        padding: 10px 0px;\n        @apply --file-upload-file;\n      }\n\n      .commands {\n        float: right;\n        @apply --file-upload-commands;\n      }\n\n      .commands iron-icon:not([icon=\"check-circle\"]) {\n        cursor: pointer;\n        opacity: 0.9;\n        @apply --file-upload-commands-faded;\n      }\n\n      .commands iron-icon:hover {\n        opacity: 1;\n        @apply --file-upload-commands-hovered;\n      }\n\n      [hidden] {\n        display: none;\n      }\n\n      .error {\n        color: #f40303;\n        font-size: 11px;\n        margin-top: 2px;\n        @apply --file-upload-error;\n      }\n\n      .progress-bar {\n        margin-top: 2px;\n      }\n\n      paper-progress {\n        --paper-progress-active-color: #03a9f4;\n      }\n\n      paper-progress[error] {\n        --paper-progress-active-color: #f40303;\n      }\n    </style>\n\n    <div class=\"layout horizontal nowrap\">\n      <div>\n        <paper-button\n          id=\"button\"\n          on-click=\"_fileClick\"\n          alt=\"{{paperButtonAlt}}\"\n          raised=\"\"\n        >\n          <iron-icon icon=\"editor:attach-file\"></iron-icon\n          >{{paperButtonTitle}}</paper-button\n        >\n        <div id=\"UploadBorder\">\n          <div id=\"dropArea\" hidden$=\"{{!_shownDropText}}\">{{dropText}}</div>\n          <template is=\"dom-repeat\" items=\"{{files}}\">\n            <div class=\"file\">\n              <div class=\"name\">\n                <span>{{item.name}}</span>\n                <div class=\"commands\">\n                  <iron-icon\n                    icon=\"autorenew\"\n                    title=\"{{retryText}}\"\n                    on-click=\"_retryUpload\"\n                    hidden$=\"{{!item.error}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"cancel\"\n                    title=\"{{removeText}}\"\n                    on-click=\"_cancelUpload\"\n                    hidden$=\"{{item.complete}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"check-circle\"\n                    title=\"{{successText}}\"\n                    hidden$=\"{{!item.complete}}\"\n                  ></iron-icon>\n                </div>\n              </div>\n              <div class=\"error\" hidden$=\"{{!item.error}}\">{{errorText}}</div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <input\n        type=\"file\"\n        id=\"fileInput\"\n        on-change=\"_fileChange\"\n        hidden=\"\"\n        multiple=\"{{multi}}\"\n        accept=\"{{accept}}\"\n      />\n    </div>\n  "],["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n      }\n\n      :host {\n        display: inline-block;\n      }\n\n      .enabled {\n        border: 1px dashed #555;\n        @apply --file-upload-upload-border-enabled;\n      }\n\n      .hover {\n        opacity: 0.7;\n        border: 1px dashed #111;\n        @apply --file-upload-upload-border-hover;\n      }\n\n      #UploadBorder {\n        vertical-align: middle;\n        color: #555;\n        padding: 20px;\n        max-height: 300px;\n        overflow-y: auto;\n        display: inline-block;\n        @apply --file-upload-upload-border;\n      }\n\n      #dropArea {\n        text-align: center;\n        @apply --file-upload-drop-area;\n      }\n\n      paper-button#button {\n        margin-bottom: 20px;\n        @apply --file-upload-button;\n      }\n\n      .file {\n        padding: 10px 0px;\n        @apply --file-upload-file;\n      }\n\n      .commands {\n        float: right;\n        @apply --file-upload-commands;\n      }\n\n      .commands iron-icon:not([icon=\"check-circle\"]) {\n        cursor: pointer;\n        opacity: 0.9;\n        @apply --file-upload-commands-faded;\n      }\n\n      .commands iron-icon:hover {\n        opacity: 1;\n        @apply --file-upload-commands-hovered;\n      }\n\n      [hidden] {\n        display: none;\n      }\n\n      .error {\n        color: #f40303;\n        font-size: 11px;\n        margin-top: 2px;\n        @apply --file-upload-error;\n      }\n\n      .progress-bar {\n        margin-top: 2px;\n      }\n\n      paper-progress {\n        --paper-progress-active-color: #03a9f4;\n      }\n\n      paper-progress[error] {\n        --paper-progress-active-color: #f40303;\n      }\n    </style>\n\n    <div class=\"layout horizontal nowrap\">\n      <div>\n        <paper-button\n          id=\"button\"\n          on-click=\"_fileClick\"\n          alt=\"{{paperButtonAlt}}\"\n          raised=\"\"\n        >\n          <iron-icon icon=\"editor:attach-file\"></iron-icon\n          >{{paperButtonTitle}}</paper-button\n        >\n        <div id=\"UploadBorder\">\n          <div id=\"dropArea\" hidden\\$=\"{{!_shownDropText}}\">{{dropText}}</div>\n          <template is=\"dom-repeat\" items=\"{{files}}\">\n            <div class=\"file\">\n              <div class=\"name\">\n                <span>{{item.name}}</span>\n                <div class=\"commands\">\n                  <iron-icon\n                    icon=\"autorenew\"\n                    title=\"{{retryText}}\"\n                    on-click=\"_retryUpload\"\n                    hidden\\$=\"{{!item.error}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"cancel\"\n                    title=\"{{removeText}}\"\n                    on-click=\"_cancelUpload\"\n                    hidden\\$=\"{{item.complete}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"check-circle\"\n                    title=\"{{successText}}\"\n                    hidden\\$=\"{{!item.complete}}\"\n                  ></iron-icon>\n                </div>\n              </div>\n              <div class=\"error\" hidden\\$=\"{{!item.error}}\">{{errorText}}</div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <input\n        type=\"file\"\n        id=\"fileInput\"\n        on-change=\"_fileChange\"\n        hidden=\"\"\n        multiple=\"{{multi}}\"\n        accept=\"{{accept}}\"\n      />\n    </div>\n  "]);return aa=function(){return ea},ea}function ba(){var ea=X(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        paper-input {\n          padding: 2px;\n\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        paper-collapse-item {\n          --paper-collapse-item-header: {\n            font-weight: bold;\n            padding: 8px 0 0 8px;\n          }\n        }\n\n        #form {\n          border: 1px solid #aaaaaa;\n        }\n\n        #form div:nth-child(odd) {\n          background-color: #f2f2f2;\n          padding: 4px;\n        }\n\n        #form div:nth-child(even) {\n          background-color: #e2e2e2;\n          border-top: 1px solid #aaaaaa;\n          border-bottom: 1px solid #aaaaaa;\n          padding: 4px;\n        }\n\n        #form div:focus,\n        #form div:hover,\n        #form div:active {\n          background-color: #ffffff !important;\n        }\n\n        paper-icon-button {\n          float: right;\n          border-radius: 50%;\n        }\n\n        .array-add {\n          color: #34e79a;\n          background-color: #f8f8f8;\n        }\n\n        .array-remove-element {\n          color: #f44336;\n          background-color: #f8f8f8;\n        }\n\n        .label {\n          @apply --paper-input-container-label;\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n\n        :host {\n          display: block;\n        }\n        .label {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n          @apply --paper-input-container-label;\n        }\n      </style>\n    </custom-style>\n    <div class=\"horizontal layout\">\n      <div class=\"flex\" hidden$=\"[[!label]]\">[[label]]</div>\n      <paper-icon-button\n        id=\"addarray\"\n        title=\"Add another item\"\n        class=\"array-add\"\n        icon=\"add\"\n        on-click=\"_onAddItem\"\n        role=\"button\"\n        aria-label=\"Add another item\"\n      ></paper-icon-button>\n    </div>\n\n    <paper-collapse-group\n      id=\"form\"\n      class=\"vertical flex layout\"\n    ></paper-collapse-group>\n  "],["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        paper-input {\n          padding: 2px;\n\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        paper-collapse-item {\n          --paper-collapse-item-header: {\n            font-weight: bold;\n            padding: 8px 0 0 8px;\n          }\n        }\n\n        #form {\n          border: 1px solid #aaaaaa;\n        }\n\n        #form div:nth-child(odd) {\n          background-color: #f2f2f2;\n          padding: 4px;\n        }\n\n        #form div:nth-child(even) {\n          background-color: #e2e2e2;\n          border-top: 1px solid #aaaaaa;\n          border-bottom: 1px solid #aaaaaa;\n          padding: 4px;\n        }\n\n        #form div:focus,\n        #form div:hover,\n        #form div:active {\n          background-color: #ffffff !important;\n        }\n\n        paper-icon-button {\n          float: right;\n          border-radius: 50%;\n        }\n\n        .array-add {\n          color: #34e79a;\n          background-color: #f8f8f8;\n        }\n\n        .array-remove-element {\n          color: #f44336;\n          background-color: #f8f8f8;\n        }\n\n        .label {\n          @apply --paper-input-container-label;\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n\n        :host {\n          display: block;\n        }\n        .label {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n          @apply --paper-input-container-label;\n        }\n      </style>\n    </custom-style>\n    <div class=\"horizontal layout\">\n      <div class=\"flex\" hidden\\$=\"[[!label]]\">[[label]]</div>\n      <paper-icon-button\n        id=\"addarray\"\n        title=\"Add another item\"\n        class=\"array-add\"\n        icon=\"add\"\n        on-click=\"_onAddItem\"\n        role=\"button\"\n        aria-label=\"Add another item\"\n      ></paper-icon-button>\n    </div>\n\n    <paper-collapse-group\n      id=\"form\"\n      class=\"vertical flex layout\"\n    ></paper-collapse-group>\n  "]);return ba=function(){return ea},ea}function ca(){var ea=X(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        div.layout {\n          height: auto;\n        }\n        #form {\n          display: block;\n          @apply --eco-json-schema-object-form;\n          @apply --layout-vertical;\n          @apply --layout-wrap;\n        }\n        #form ::slotted(paper-input) {\n          --paper-input-container-shared-input-style: {\n            border: none !important;\n            width: 100% !important;\n            background-color: transparent !important;\n          }\n        }\n      </style>\n    </custom-style>\n\n    <template is=\"dom-if\" if=\"{{!wizard}}\">\n      <div class=\"header\" hidden$=\"[[!label]]\">[[label]]</div>\n    </template>\n    <div class=\"layout vertical flex start-justified\">\n      <div id=\"form\" class=\"layout horizontal flex start-justified\">\n        <slot></slot>\n      </div>\n    </div>\n  "],["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        div.layout {\n          height: auto;\n        }\n        #form {\n          display: block;\n          @apply --eco-json-schema-object-form;\n          @apply --layout-vertical;\n          @apply --layout-wrap;\n        }\n        #form ::slotted(paper-input) {\n          --paper-input-container-shared-input-style: {\n            border: none !important;\n            width: 100% !important;\n            background-color: transparent !important;\n          }\n        }\n      </style>\n    </custom-style>\n\n    <template is=\"dom-if\" if=\"{{!wizard}}\">\n      <div class=\"header\" hidden\\$=\"[[!label]]\">[[label]]</div>\n    </template>\n    <div class=\"layout vertical flex start-justified\">\n      <div id=\"form\" class=\"layout horizontal flex start-justified\">\n        <slot></slot>\n      </div>\n    </div>\n  "]);return ca=function(){return ea},ea}function da(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      :host {\n        display: block;\n        @apply --layout-vertical;\n      }\n\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #fff;\n        }\n      }\n\n      .box,\n      #form {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-flex-align: center;\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .fullbleed {\n        z-index: 1;\n      }\n\n      app-toolbar.bottom {\n        --app-toolbar-color: var(--app-primary-color);\n        --app-toolbar-background: var(--dark-theme-text-color);\n      }\n\n      app-toolbar.bottom paper-icon-button {\n        --app-toolbar-color: var(--dark-theme-text-color);\n        --app-toolbar-background: var(--app-primary-color);\n      }\n    </style>\n    <div class=\"vertical flex layout fullbleed\">\n      <!--\n        paper-icon-button id=\"camButton\" icon=\"editor:insert-photo\" raised>add photo</paper-icon-button\n      -->\n      <app-toolbar>\n        <paper-icon-button\n          id=\"prevButton\"\n          icon=\"arrow-back\"\n          hidden$=\"{{!hasPrev}}\"\n          on-tap=\"prev\"\n          raised=\"\"\n          >{{localize('prev')}}</paper-icon-button\n        ><span class=\"title layout horizontal flex\" style=\"white-space: normal\"\n          >[[title]]</span\n        >\n        <paper-icon-button\n          id=\"nextButton\"\n          icon=\"arrow-forward\"\n          hidden$=\"{{!hasNext}}\"\n          on-tap=\"next\"\n          raised=\"\"\n          >{{localize('next')}}</paper-icon-button\n        >\n        <paper-icon-button\n          id=\"submitButton\"\n          icon=\"cloud-upload\"\n          on-tap=\"submit\"\n          raised=\"\"\n          >{{localize('submit')}}</paper-icon-button\n        >\n      </app-toolbar>\n      <iron-pages\n        id=\"form\"\n        class=\"layout horizontal flex start-justified\"\n        role=\"main\"\n        selected=\"[[page]]\"\n        attr-for-selected=\"name\"\n      ></iron-pages>\n      <app-toolbar class=\"bottom\">\n        <div hidden$=\"{{!hasPrev}}\" on-tap=\"prev\">\n          <paper-icon-button id=\"prevButton\" icon=\"arrow-back\" raised=\"\"\n            >{{localize('prev')}}</paper-icon-button\n          >\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('prev')}}</span\n          >\n        </div>\n        <span\n          class=\"title layout horizontal flex\"\n          style=\"white-space: normal\"\n        ></span>\n        <div hidden$=\"{{!hasNext}}\" on-tap=\"next\">\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('next')}}</span\n          >\n          <paper-icon-button id=\"nextButton\" icon=\"arrow-forward\" raised=\"\"\n            >{{localize('next')}}</paper-icon-button\n          >\n        </div>\n      </app-toolbar>\n    </div>\n  "],["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      :host {\n        display: block;\n        @apply --layout-vertical;\n      }\n\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #fff;\n        }\n      }\n\n      .box,\n      #form {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-flex-align: center;\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .fullbleed {\n        z-index: 1;\n      }\n\n      app-toolbar.bottom {\n        --app-toolbar-color: var(--app-primary-color);\n        --app-toolbar-background: var(--dark-theme-text-color);\n      }\n\n      app-toolbar.bottom paper-icon-button {\n        --app-toolbar-color: var(--dark-theme-text-color);\n        --app-toolbar-background: var(--app-primary-color);\n      }\n    </style>\n    <div class=\"vertical flex layout fullbleed\">\n      <!--\n        paper-icon-button id=\"camButton\" icon=\"editor:insert-photo\" raised>add photo</paper-icon-button\n      -->\n      <app-toolbar>\n        <paper-icon-button\n          id=\"prevButton\"\n          icon=\"arrow-back\"\n          hidden\\$=\"{{!hasPrev}}\"\n          on-tap=\"prev\"\n          raised=\"\"\n          >{{localize('prev')}}</paper-icon-button\n        ><span class=\"title layout horizontal flex\" style=\"white-space: normal\"\n          >[[title]]</span\n        >\n        <paper-icon-button\n          id=\"nextButton\"\n          icon=\"arrow-forward\"\n          hidden\\$=\"{{!hasNext}}\"\n          on-tap=\"next\"\n          raised=\"\"\n          >{{localize('next')}}</paper-icon-button\n        >\n        <paper-icon-button\n          id=\"submitButton\"\n          icon=\"cloud-upload\"\n          on-tap=\"submit\"\n          raised=\"\"\n          >{{localize('submit')}}</paper-icon-button\n        >\n      </app-toolbar>\n      <iron-pages\n        id=\"form\"\n        class=\"layout horizontal flex start-justified\"\n        role=\"main\"\n        selected=\"[[page]]\"\n        attr-for-selected=\"name\"\n      ></iron-pages>\n      <app-toolbar class=\"bottom\">\n        <div hidden\\$=\"{{!hasPrev}}\" on-tap=\"prev\">\n          <paper-icon-button id=\"prevButton\" icon=\"arrow-back\" raised=\"\"\n            >{{localize('prev')}}</paper-icon-button\n          >\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('prev')}}</span\n          >\n        </div>\n        <span\n          class=\"title layout horizontal flex\"\n          style=\"white-space: normal\"\n        ></span>\n        <div hidden\\$=\"{{!hasNext}}\" on-tap=\"next\">\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('next')}}</span\n          >\n          <paper-icon-button id=\"nextButton\" icon=\"arrow-forward\" raised=\"\"\n            >{{localize('next')}}</paper-icon-button\n          >\n        </div>\n      </app-toolbar>\n    </div>\n  "]);return da=function(){return ea},ea}R.Polymer({is:"eco-json-schema-boolean",_template:R.html(Y()),properties:{schema:{type:Object,observer:"_schemaChanged"},value:{type:Boolean,notify:!0,value:!1},error:{type:Boolean,value:!1},_label:{type:String,notify:!0,value:""}},ready:function(){},detached:function(){},_schemaChanged:function(){var ea=this.schema,fa=this.$.checkbox;ea.component&&ea.component.properties&&Object.keys(ea.component.properties).forEach(function(ga){fa[ga]=ea.component.properties[ga]}),ea.title&&(this._label=ea.title)},_isSchemaValue:function(ea){return this._isSchemaBoolean(ea)||this._isSchemaNumber(ea)||this._isSchemaString(ea)},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea}}),R.Polymer({_template:R.html(Z()),is:"eco-json-schema-enum",behaviors:[P.IronValidatableBehavior],properties:{schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:null},error:{type:String,observer:"_errorChanged",value:null},_items:{type:Object,value:function(){return{}}}},ready:function(){},detached:function(){},_schemaChanged:function(){var ea=this.schema,fa=this.$.dropdown;ea.component&&ea.component.properties&&Object.keys(ea.component.properties).forEach(function(ga){fa[ga]=ea.component.properties[ga]}),this._items=ea.enum.filter(function(ga){return null!==ga}),ea.title&&(fa.label=ea.title)},_errorChanged:function(){this.$.dropdown.invalid=!!this.error},_isSchemaValue:function(ea){return this._isSchemaBoolean(ea)||this._isSchemaNumber(ea)||this._isSchemaString(ea)},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea}}),R.Polymer({is:"eco-json-schema-input",_template:R.html($()),behaviors:[V.AppLocalizeBehavior],properties:{language:{value:"en"},resources:{value:function(){return{}}},schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:function(){return""}},error:{type:String,observer:"_errorChanged",value:null}},ready:function(){},detached:function(){},_schemaChanged:function(){var ea=this.schema,fa=this.$.input;ea.required&&(fa.required=!0),this._isSchemaNumber(ea.type)&&(fa.type="number",ea.multipleOf&&(fa.step=ea.multipleOf),isNaN(ea.maximum)||(ea.exclusiveMaximum?fa.max=ea.maximum-(ea.multipleOf||1):fa.max=ea.maximum),isNaN(ea.minimum)||(ea.exclusiveMinimum?fa.min=ea.minimum+(ea.multipleOf||1):fa.min=ea.minimum)),this._isSchemaString(ea.type)&&("date-time"===ea.format?(fa.type="datetime-local",fa.alwaysFloatLabel=!0):"date"===ea.format?fa.type="date":"email"===ea.format?fa.type="email":"hostname"===ea.format?fa.type="text":"ipv4"===ea.format?fa.type="text":"ipv6"===ea.format?fa.type="text":"uri"===ea.format?fa.type="url":fa.type="text",ea.maxLength&&(fa.maxlength=ea.maxLength),ea.minLength&&(fa.minlength=ea.minLength),ea.pattern&&(fa.pattern=ea.pattern)),ea.component&&ea.component.properties&&Object.keys(ea.component.properties).forEach(function(ga){fa[ga]=ea.component.properties[ga]}),fa.alwaysFloatLabel=!0,ea.title&&(fa.label=ea.title)},_errorChanged:function(){this.error?(this.$.input.errorMessage=this.error,this.$.input.invalid=!0):(this.$.input.invalid=!1,this.$.input.errorMessage=null)},_isSchemaValue:function(ea){return this._isSchemaBoolean(ea)||this._isSchemaNumber(ea)||this._isSchemaString(ea)},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea}}),R.Polymer({is:"eco-json-schema-file",_template:R.html(aa()),behaviors:[V.AppLocalizeBehavior],properties:{language:{value:"en",notify:!0},resources:{value:function(){return{}},notify:!0},schema:{type:Object,observer:"_schemaChanged"},value:{type:Object,notify:!0,value:function(){return{}},observer:"_valueChanged"},target:{type:String,value:""},accept:{type:String,value:""},droppable:{type:Boolean,value:!1},dropText:{type:String,value:"Drop Files Here"},multi:{type:Boolean,value:!0},files:{type:Array,notify:!0,value:function(){return[]}},raised:{type:Boolean,value:!0},noink:{type:Boolean,value:!1},headers:{type:Object,value:{}},retryText:{type:String,value:"Retry Upload"},removeText:{type:String,value:"Remove"},successText:{type:String,value:"Success"},errorText:{type:String,value:"Error uploading file..."},_shownDropText:{type:Boolean,value:!1},additional:{type:Object,value:{}},fileDataName:{type:String,value:"file"},paperButtonAlt:{type:String,value:""},paperButtonTitle:{type:String,value:""}},clear:function(){this.set("files",[]),this.$.fileInput.value="",this._showDropText()},ready:function(){this.raised&&this.toggleAttribute("raised",!0,this.$.button),this.noink&&this.toggleAttribute("noink",!0,this.$.button),this.droppable&&(this._showDropText(),this.setupDrop())},setupDrop:function(){var ea=this.$.UploadBorder;this.toggleClass("enabled",!0,ea),this.ondragover=function(fa){fa.stopPropagation(),this.toggleClass("hover",!0,ea);var ga=fa.dataTransfer&&fa.dataTransfer.dropEffect,ha=fa.dataTransfer&&fa.dataTransfer.effectAllowed;return"none"===ga&&"none"!==ha&&(fa.dataTransfer.dropEffect="move"===ha?"move":"copy"),!1},this.ondragleave=function(){return this.toggleClass("hover",!1,ea),!1},this.ondrop=function(fa){if(this.toggleClass("hover",!1,ea),fa.preventDefault(),this.multi||0===this.files.length)for(var ga=fa.dataTransfer.files.length,ha=0;ha<ga;ha++){var ia=fa.dataTransfer.files[ha],ja=""===ia.type?null:ia.type.match(/^[^\/]*\//)[0],ka=ia.name.match(/\.[^\.]*$/)[0];(""===this.accept||-1<this.accept.indexOf(ja)||-1<this.accept.indexOf(ka))&&(ia.progress=0,ia.error=!1,ia.complete=!1,this.push("files",ia),this.uploadFile(ia))}}},_fileClick:function(){var ea=this.$.fileInput;if(ea&&document.createEvent){var fa=document.createEvent("MouseEvents");fa.initEvent("click",!0,!1),ea.dispatchEvent(fa)}},_fileChange:function(ea){for(var ha,fa=ea.target.files.length,ga=0;ga<fa;ga++)ha=ea.target.files[ga],ha.progress=0,ha.error=!1,ha.complete=!1,this.push("files",ha),this.multi||0===this.files.length||(this.set("files",[]),this.set("value",{})),this.uploadFile(ha)},cancel:function(ea){ea&&(ea.xhr&&ea.xhr.abort(),this.splice("files",this.files.indexOf(ea),1),this._showDropText())},_cancelUpload:function(ea){this.cancel(ea.model.__data__.item)},_retryUpload:function(ea){ea.model.set("item.error",!1),ea.model.set("item.progress",0);var fa=this;T.microTask.run(function(){fa.uploadFile(ea.model.__data__.item)})},_showDropText:function(){this.set("_shownDropText",!this.files.length&&this.droppable)},uploadFile:function(ea){if(ea){this.fire("before-upload"),this._showDropText(),this.files.indexOf(ea);var fa=this,ga=new FileReader;ga.addEventListener("load",function(){var ha=ga.result;fa.set("value."+fa.attributes.name.value+"."+fa.files.indexOf(ea),ha)},!1),fa.value.hasOwnProperty(fa.attributes.name.value)||this.set("value."+fa.attributes.name.value,{}),ga.readAsDataURL(ea)}},_valueChanged:function(){console.log("this.value: "+JSON.stringify(this.value))},_schemaChanged:function(){this.schema},_isSchemaValue:function(ea){return this._isSchemaFile(ea)},_isSchemaFile:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("file"):"file"===ea},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea},stringify:function(ea){return JSON.stringify(ea)}}),R.Polymer({is:"eco-json-schema-array",_template:R.html(ba()),properties:{schema:{type:Object,observer:"_schemaChanged"},label:{type:String},value:{type:Array,notify:!0,value:function(){return[]},observer:"_valueChanged"},error:{type:Object,observer:"_errorChanged"},_schemaArrayItems:{type:Array,notify:!0,value:function(){return[]}}},observers:["_schemaArraySplicesChanged(_schemaArrayItems.splices)"],_valueChanged:function(ea,fa){var ga=this;ea!==fa&&"undefined"!==W(ea)&&"undefined"!==W(this.schema)&&setTimeout(function(){for(var ha in ga._buildSchemaArrayItems(),ea)ga._onAddItemWithValue(ea[ha],parseInt(ha))},100)},ready:function(){},detached:function(){this._clearForm()},_buildSchemaArrayItems:function(){this._schemaArrayItems=[]},_setValue:function(){this.value=[],this.value=this._schemaArrayItems.map(function(ea){return ea.value})},_schemaArraySplicesChanged:function(ea){if(!ea)return console.warn("detail is undefined");var fa=this;ea.keySplices&&console.warn("Got keySplices, don't know what to do with them!"),ea.indexSplices.forEach(function(ga){var ha=["value",ga.index,ga.removed.length];if(ga.removed&&ga.removed.length)for(var ia=ga.index,ja=ga.index+ga.removed.length;ia<ja;ia++)fa._removeArrayEl(fa.$.form.children[ia]);if(ga.addedCount)for(ia=ga.index,ja=ga.index+ga.addedCount;ia<ja;ia++){var ka=ga.object[ia],la=fa.create(ka.component.name,{label:ka.label,schema:ka.schema,schemaArrayItem:ka}),ma=fa.create("paper-collapse-item",{header:"Item "+(ia+1)}),na=fa.create("paper-icon-button",{icon:"remove",title:"Remove item"});fa.listen(na,"tap","_onRemoveItem"),na.classList.add("array-remove-element"),la.classList.add("flex","horizontal","layout"),F.dom(ma).appendChild(la),F.dom(ma).appendChild(na);var oa=fa.$.form.children[ia];oa?F.dom(fa.$.form).insertBefore(ma,oa):F.dom(fa.$.form).appendChild(ma),fa.listen(la,ka.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaArrayItemChanged"),ha.push(fa._deepClone(la[ka.component.valueProperty]))}fa.splice.apply(fa,ha)})},_schemaArrayItemChanged:function(ea,fa){if(!fa.path||!/\.length$/.test(fa.path)){var ga=this,ha=ea.target.schemaArrayItem,ia=this._schemaArrayItems.indexOf(ha),ja=["value",ia];fa.path&&/\.splices$/.test(fa.path)?(ja=ja.concat(fa.path.split(".").slice(1,-1)),fa.value.keySplices&&console.warn("Got keySplices, don't know what to do with them!"),fa.value.indexSplices.forEach(function(ka){var la=[ja.join("."),ka.index,ka.removed.length];if(ka.addedCount)for(var ma=ka.index,na=ka.index+ka.addedCount;ma<na;ma++)la.push(ga._deepClone(ka.object[ma]));ga.splice.apply(ga,la)})):fa.path?(ja=ja.concat(fa.path.split(".").slice(1)),this.set(ja,this._deepClone(fa.value)),this.notifyPath("path")):(this.splice("value",ia,1,this._deepClone(fa.value)),this.notifyPath("value.1"))}},_removeArrayEl:function(ea){var fa=F.dom(ea);"undefined"!==W(fa.childNodes[0])&&(this.unlisten(fa.childNodes[0],fa.firstChild.schemaArrayItem.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaArrayItemChanged"),"undefined"!==W(fa.childNodes[1])&&this.unlisten(fa.childNodes[1],"tap","_onRemoveItem")),ea.schemaArrayItem=null,F.dom(this.$.form).removeChild(ea)},_clearForm:function(){for(var ea=F.dom(this.$.form);ea.firstChild;)this._removeArrayEl(ea.firstChild)},_schemaChanged:function(){this._clearForm(),this._buildSchemaArrayItems(),this._setValue()},_errorChanged:function(){var ea=this;F.dom(this.$.form).childNodes.forEach(function(fa,ga){F.dom(fa).childNodes[0].error=ea.error&&ea.error[ga]?ea.error[ga]:null})},_onAddItemWithValue:function(ea){var ga=this.schema.items;if("undefined"!==W(ea))for(var ha in ea)"undefined"!==W(ga.properties[ha])&&(ga.properties[ha].value=ea[ha]);var ia={label:ga.title,schema:ga,component:ga.component||{}};if(ia.component.valueProperty||(ia.component.valueProperty="value"),!ia.component.name)if(this._isSchemaEnum(ga))ia.component.name="eco-json-schema-enum";else if(this._isSchemaBoolean(ga.type))ia.component.name="eco-json-schema-boolean";else if(this._isSchemaFile(ga.type))ia.component.name="eco-json-schema-file";else if(this._isSchemaValue(ga.type))ia.component.name="eco-json-schema-input";else if(this._isSchemaObject(ga.type))ia.component.name="eco-json-schema-object";else{if(!this._isSchemaArray(ga.type))return console.error("Unknown item type %s",ga.type);ia.component.name="eco-json-schema-array"}var ja=this.create(ia.component.name,{label:ia.label,schema:ia.schema,schemaArrayItem:ia}),ka=this.create("paper-collapse-item",{header:"Item "+(ha+1)}),la=this.create("paper-icon-button",{icon:"remove",title:"Remove item"});this.listen(la,"tap","_onRemoveItem"),la.classList.add("array-remove-element"),ja.classList.add("flex","horizontal","layout"),F.dom(ka).appendChild(ja),F.dom(ka).appendChild(la);var ma=this.$.form.children[ha];ma?F.dom(this.$.form).insertBefore(ka,ma):F.dom(this.$.form).appendChild(ka),this.listen(ja,ia.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaArrayItemChanged"),this._schemaArrayItems.push(ia)},_onAddItem:function(){var ea=this.schema.items,fa={label:ea.title,schema:ea,component:ea.component||{}};if(fa.component.valueProperty||(fa.component.valueProperty="value"),!fa.component.name)if(this._isSchemaEnum(ea))fa.component.name="eco-json-schema-enum";else if(this._isSchemaBoolean(ea.type))fa.component.name="eco-json-schema-boolean";else if(this._isSchemaFile(ea.type))fa.component.name="eco-json-schema-file";else if(this._isSchemaValue(ea.type))fa.component.name="eco-json-schema-input";else if(this._isSchemaObject(ea.type))fa.component.name="eco-json-schema-object";else{if(!this._isSchemaArray(ea.type))return console.error("Unknown item type %s",ea.type);fa.component.name="eco-json-schema-array"}this.push("_schemaArrayItems",fa)},_onRemoveItem:function(ea){var fa=F.dom(ea).localTarget.previousSibling.schemaArrayItem,ga=this._schemaArrayItems.indexOf(fa);this.splice("_schemaArrayItems",ga,1)},_deepClone:function(ea){return JSON.parse(JSON.stringify(ea))},_isSchemaValue:function(ea){return this._isSchemaBoolean(ea)||this._isSchemaNumber(ea)||this._isSchemaString(ea)||this._isSchemaFile(ea)},_isSchemaFile:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("file"):"file"===ea},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaEnum:function(ea){return!!ea.enum},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea}}),R.Polymer({is:"eco-json-schema-object",_template:R.html(ca()),behaviors:[V.AppLocalizeBehavior],properties:{language:{value:"en"},resources:{value:function(){return{}}},schema:{type:Object,observer:"_schemaChanged"},label:{type:String},value:{type:Object,notify:!0,value:function(){return{}}},error:{type:Object,observer:"_errorChanged"},wizard:{type:Boolean,notify:!0}},detached:function(){this._clearForm()},_buildSchemaProperties:function(){var ea=this;this._schemaProperties=Object.keys(this.schema.properties||[]).map(function(fa){var ga=ea.schema.properties[fa],ha={property:fa,label:ga.title||fa,schema:ga,component:ga.component||{}};if(ha.component.valueProperty||(ha.component.valueProperty="value"),ha.component.slot||(ha.component.slot=""),ea._isSchemaEnum(ga))ha.component.name=ha.component.name||"eco-json-schema-enum","undefined"===W(ga.value)&&(ga.value=""),ha.value=ga.value;else if(ea._isSchemaBoolean(ga.type))ha.component.name=ha.component.name||"eco-json-schema-boolean","undefined"===W(ga.value)&&(ga.value=!1),ha.value=ga.value;else if(ea._isSchemaFile(ga.type))ha.component.name=ha.component.name||"eco-json-schema-file","undefined"===W(ga.value)&&(ga.value={}),ha.value=ga.value;else if(ea._isSchemaValue(ga.type))ha.component.name=ha.component.name||"eco-json-schema-input","undefined"===W(ga.value)&&(ga.value=""),ha.value=ga.value;else if(ea._isSchemaObject(ga.type))ha.component.name=ha.component.name||"eco-json-schema-object","undefined"===W(ga.value)&&(ga.value={}),ha.value=ga.value;else{if(!ea._isSchemaArray(ga.type))return console.error("Unknown property type %s",ga.type);ha.component.name=ha.component.name||"eco-json-schema-array","undefined"===W(ga.value)&&(ga.value=[]),ha.value=ga.value}return ha})},_schemaPropertyChanged:function(ea,fa){if(!fa.path||!/\.length$/.test(fa.path)){var ga=this,ha=ea.target.schemaProperty,ia=["value",ha.property];if(fa.path&&/\.splices$/.test(fa.path)){for(var ja=fa.path.split(".").slice(1,-1);ja.length;)ia.push(ja.shift()),ha.keyMap&&ha.keyMap[ia.join(".")]&&(ia=ha.keyMap[ia.join(".")].split("."));fa.value.keySplices&&ha.keyMap&&fa.value.keySplices.forEach(function(la){la.removed.forEach(function(ma){delete ha.keyMap[ia.concat([ma]).join(".")]})}),fa.value&&fa.value.indexSplices.forEach(function(la){var ma=[ia.join("."),la.index,la.removed.length];if(la.addedCount)for(var na=0,oa=la.addedCount;na<oa;na++)la.addedKeys&&la.addedKeys[na]&&(ha.keyMap=ha.keyMap||{},ha.keyMap[ia.concat([la.addedKeys[na]]).join(".")]=ia.concat([na+la.index]).join(".")),ma.push(ga._deepClone(la.object[na+la.index]));ga.splice.apply(ga,ma)})}else if(fa.path){for(ja=fa.path.split(".").slice(1),this.value.hasOwnProperty(ha.property)||(this.set("value."+ha.property,{}),this.notifyPath("value."+ha.property));ja.length;){var ka=ja.shift();ia.push(ka),ha.keyMap&&ha.keyMap[ia.join(".")]&&(ia=ha.keyMap[ia.join(".")].split("."))}this.set(ia.join("."),this._deepClone(fa.value)),this.notifyPath(ia.join("."))}else ha.value=fa.value,this.set(ia,this._deepClone(fa.value)),this.notifyPath(ia)}},_setValue:function(){var ea=this,fa={};this._schemaProperties.forEach(function(ga){"undefined"!==W(ga.value)&&(fa[ga.property]=ea._deepClone(ga.value))}),this.value=fa},_buildForm:function(){var ea=this,fa=this;this._schemaProperties.forEach(function(ga){var ha=fa.create(ga.component.name,{label:ga.label,schema:ga.schema,schemaProperty:ga,language:ea.language,resources:ea.resources});for(var ia in"paper-input"===ga.component.name&&(ha.style["background-color"]="transparent",ha.style.width="100%"),ha.setAttribute("name",ga.property),ha.className="flex start-justified",ha[ga.component.valueProperty]=ga.value,ga.component.attributes)ha.setAttribute(ia,ga.component.attributes[ia]);for(var ja in ga.component.properties)ha[ja]=ga.component.properties[ja];if(fa.listen(ha,ga.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),"undefined"!==W(fa.$)&&F.dom(ea).appendChild(ha),""!=ga.component.slot){var ka=document.createElement("template");ka.innerHTML=ga.component.slot,F.dom(ha).appendChild(ka)}})},_removePropertyEl:function(ea){"undefined"!==W(ea.schemaProperty)&&this.unlisten(ea,ea.schemaProperty.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),ea.schemaProperty=null,F.dom(this).removeChild(ea)},_clearForm:function(){if("undefined"!==W(this.$))for(var ea=F.dom(this);ea.firstChild;)this._removePropertyEl(ea.firstChild)},_schemaChanged:function(ea,fa){ea&&"undefined"!==W(fa)&&(this._clearForm(),this._buildSchemaProperties(),this._buildForm(),this._setValue())},_errorChanged:function(){var ea=this;F.dom(this).childNodes.forEach(function(fa){var ga=fa.getAttribute("name");fa.error=ea.error&&ea.error[ga]?ea.error[ga]:null})},_deepClone:function(ea){return JSON.parse(JSON.stringify(ea))},_isSchemaValue:function(ea){return this._isSchemaBoolean(ea)||this._isSchemaNumber(ea)||this._isSchemaString(ea)||this._isSchemaFile(ea)},_isSchemaFile:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("file"):"file"===ea},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaEnum:function(ea){return!!ea.enum},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea}}),R.Polymer({is:"eco-json-schema-wizard",behaviors:[V.AppLocalizeBehavior],_template:R.html(da()),properties:{language:{type:String,notify:!0},resources:{type:Object,notify:!0},schema:{type:Object,notify:!0,observer:"_schemaChanged"},label:{type:String},value:{type:Object,notify:!0,value:function(){return{}}},page:{type:String,notify:!0,observer:"_pageChanged"},pages:{type:Array,notify:!0,value:[]},error:{type:Object,observer:"_errorChanged"},isReview:{type:Boolean,value:!1,notify:!0},canSubmit:{type:Boolean,notify:!0},hasNext:{type:Boolean,notify:!0},hasPrev:{type:Boolean,notify:!0},titles:{type:Array,notify:!0,value:[]},title:{type:String,value:"",notify:!0}},detached:function(){this._clearForm()},_buildSchemaProperties:function(){var ea=this;this._schemaProperties=Object.keys(this.schema.properties||[]).map(function(fa){var ga=ea.schema.properties[fa],ha={property:fa,label:ga.title||fa,schema:ga,component:ga.component||{}};if(ha.component.valueProperty||(ha.component.valueProperty="value"),ea._isSchemaEnum(ga))ha.component.name=ha.component.name||"eco-json-schema-enum",ha.value="";else if(ea._isSchemaBoolean(ga.type))ha.component.name=ha.component.name||"eco-json-schema-boolean",ha.value=!1;else if(ea._isSchemaFile(ga.type))ha.component.name=ha.component.name||"eco-json-schema-file",ha.value="";else if(ea._isSchemaValue(ga.type))ha.component.name=ha.component.name||"eco-json-schema-input",ha.value="";else if(ea._isSchemaObject(ga.type))ha.component.name=ha.component.name||"eco-json-schema-object",ha.component.wizard=!0,ha.value={};else{if(!ea._isSchemaArray(ga.type))return console.error("Unknown property type %s",ga.type);ha.component.name=ha.component.name||"eco-json-schema-array",ha.value=[]}return ea.push("pages",fa),ea.push("titles",ga.title),ha})},_schemaPropertyChanged:function(ea,fa){if(!fa.path||!/\.length$/.test(fa.path)){var ga=this,ha=ea.target.schemaProperty,ia=["value",ha.property];if(fa.path&&/\.splices$/.test(fa.path)){for(var ja=fa.path.split(".").slice(1,-1);ja.length;)ia.push(ja.shift()),ha.keyMap&&ha.keyMap[ia.join(".")]&&(ia=ha.keyMap[ia.join(".")].split("."));fa.value.keySplices&&ha.keyMap&&fa.value.keySplices.forEach(function(la){la.removed.forEach(function(ma){delete ha.keyMap[ia.concat([ma]).join(".")]})}),fa.value.indexSplices.forEach(function(la){var ma=[ia.join("."),la.index,la.removed.length];if(la.addedCount)for(var na=0,oa=la.addedCount;na<oa;na++)la.addedKeys&&la.addedKeys[na]&&(ha.keyMap=ha.keyMap||{},ha.keyMap[ia.concat([la.addedKeys[na]]).join(".")]=ia.concat([na+la.index]).join(".")),ma.push(ga._deepClone(la.object[na+la.index]));ga.splice.apply(ga,ma)})}else if(fa.path){for(ja=fa.path.split(".").slice(1),this.value.hasOwnProperty(ha.property)||this.set("value."+ha.property,{});ja.length;){var ka=ja.shift();ia.push(ka),ha.keyMap&&ha.keyMap[ia.join(".")]&&(ia=ha.keyMap[ia.join(".")].split("."))}this.set(ia.join("."),this._deepClone(fa.value)),console.log("value: "+JSON.stringify(this.value))}}},_setValue:function(){var ea=this,fa={};this._schemaProperties.forEach(function(ga){fa[ga.property]=ea._deepClone(ga.value)}),this.value=fa},_buildForm:function(){var ea=this,fa=this;this._schemaProperties.forEach(function(ga){var ha=fa.create(ga.component.name,{label:ga.label,schema:ga.schema,schemaProperty:ga,language:ea.language,resources:ea.resources});ha.setAttribute("name",ga.property),ha.className="flex start-justified",ga.value=ha[ga.component.valueProperty],fa.listen(ha,ga.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),F.dom(fa.$.form).appendChild(ha)})},_removePropertyEl:function(ea){"undefined"!==W(ea.schemaProperty)&&this.unlisten(ea,ea.schemaProperty.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),ea.schemaProperty=null,F.dom(this.$.form).removeChild(ea)},_clearForm:function(){for(var ea=F.dom(this.$.form);ea.firstChild;)this._removePropertyEl(ea.firstChild)},_schemaChanged:function(){this._clearForm(),this._buildSchemaProperties(),this._buildForm(),this._setValue(),0<this.pages.length&&this.set("page",this.pages[0]),this.set("title",this.titles[0])},next:function(){var ea=this.pages.indexOf(this.page),fa=ea;-1===ea?console.log("Invalid current page in wizard"):(ea<this.pages.length-1&&(fa=ea+1),this.set("page",this.pages[fa]),this.set("title",this.titles[fa]))},prev:function(){var ea=this.pages.indexOf(this.page),fa=ea;-1===ea?console.log("Invalid current page in wizard"):(0<ea&&(fa=ea-1),this.set("page",this.pages[fa]),this.set("title",this.titles[fa]))},submit:function(){this.fire("submit")},_pageChanged:function(){var ea=this.pages.indexOf(this.page);0===ea?this.set("hasPrev",!1):this.set("hasPrev",!0),ea===this.pages.length-1?this.set("hasNext",!1):this.set("hasNext",!0)},_errorChanged:function(){var ea=this;F.dom(this.$.form).childNodes.forEach(function(fa){var ga=fa.getAttribute("name");fa.error=ea.error&&ea.error[ga]?ea.error[ga]:null})},_deepClone:function(ea){return JSON.parse(JSON.stringify(ea))},_isSchemaValue:function(ea){return this._isSchemaBoolean(ea)||this._isSchemaNumber(ea)||this._isSchemaString(ea)||this._isSchemaFile(ea)},_isSchemaFile:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("file"):"file"===ea},_isSchemaBoolean:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("boolean"):"boolean"===ea},_isSchemaEnum:function(ea){return!!ea.enum},_isSchemaNumber:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("number")||-1!==ea.indexOf("integer"):"number"===ea||"integer"===ea},_isSchemaString:function(ea){return Array.isArray(ea)?-1!==ea.indexOf("string"):"string"===ea},_isSchemaObject:function(ea){return"object"===ea},_isSchemaArray:function(ea){return"array"===ea}})});