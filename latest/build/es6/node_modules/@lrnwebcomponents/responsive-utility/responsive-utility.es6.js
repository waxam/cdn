import{html,Polymer}from"./node_modules/@polymer/polymer/polymer-legacy.js";import*as async from"./node_modules/@polymer/polymer/lib/utils/async.js";import{IronResizableBehavior}from"./node_modules/@polymer/iron-resizable-behavior/iron-resizable-behavior.js";window.ResponsiveUtility={},window.ResponsiveUtility.instance=null;let ResponsiveUtility=Polymer({_template:html`
    <style>
      :host {
        display: inline;
      }
    </style>
    <slot></slot>
  `,is:"responsive-utility",behaviors:[IronResizableBehavior],listeners:{"iron-resize":"_onIronResize"},properties:{targets:{type:Array,value:[]}},created:function(){let a=this;null==window.ResponsiveUtility.instance&&(window.ResponsiveUtility.instance=a),document.body.addEventListener("responsive-element",function(b){let c=void 0!==b.detail.relativeToParent&&null!==b.detail.relativeToParent?b.detail.relativeToParent:!0;if("ResizeObserver"in window&&!0===c.relativeToParent){let d=b.detail.element.parentNode,f=new ResizeObserver(function(){window.ResponsiveUtility.setSize(b.detail)});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(d=d.host),f.observe(d)}a.push("targets",b.detail),window.ResponsiveUtility.setSize(b.detail)}),document.body.addEventListener("delete-responsive-element",function(b){for(let c=0;c<this.targets.length;c++)b.detail===target[c]&&a.splice("targets",c,1)})},_onIronResize:function(){for(let a=0;a<this.targets.length;a++)window.ResponsiveUtility.setSize(this.targets[a])}});window.ResponsiveUtility.requestAvailability=function(){null==window.ResponsiveUtility.instance&&(window.ResponsiveUtility.instance=document.createElement("responsive-utility")),document.body.appendChild(window.ResponsiveUtility.instance)},window.ResponsiveUtility.setSize=function(a){let b=a.element,c=void 0!==a.attribute&&null!==a.attribute?a.attribute:"responsive-size",d=window.ResponsiveUtility.getSize(a);(void 0===b.getAttribute(c)||d!==b.getAttribute(c))&&b.setAttribute(c,d)},window.ResponsiveUtility.getSize=function(a){let f,b=void 0!==a.relativeToParent&&null!==a.relativeToParent?a.relativeToParent:!0,d=function(h,j,k){let l=void 0!==j&&null!==j?j:k;return h<l},g=function(){return null!==a.element.parentNode&&!0===b?a.element.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?a.element.parentNode.host.offsetWidth:a.element.parentNode.offsetWidth:window.outerWidth}();return f=d(g,a.sm,600)?"xs":d(g,a.md,900)?"sm":d(g,a.lg,1200)?"md":d(g,a.xl,1200)?"lg":"xl",f};export{ResponsiveUtility};