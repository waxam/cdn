export class ESGlobalBridge{constructor(){this.load=(a,b)=>{if(!window.ESGlobalBridge.imports[a])return new Promise((c,d)=>{const e=document.createElement("script");e.src=b,e.setAttribute("data-name",a),window.ESGlobalBridge.imports[a]=b,e.onload=()=>{c(window.ESGlobalBridge.imports[a]),window.ESGlobalBridge.imports[a]=!0,setTimeout(()=>{const f=new CustomEvent(`es-bridge-${a}-loaded`,{bubbles:!0,cancelable:!0,detail:{name:a,location:b}});document.dispatchEvent(f)},100)},e.onerror=()=>{d(new Error(`Failed to load ${a} script with location ${b}.`)),delete window.ESGlobalBridge.imports[a],window.ESGlobalBridge.imports[a]=!1},document.documentElement.appendChild(e)})}}}window.ESGlobalBridge=window.ESGlobalBridge||{},window.ESGlobalBridge.imports=window.ESGlobalBridge.imports||{},window.ESGlobalBridge.requestAvailability=()=>{window.ESGlobalBridge.instance||(window.ESGlobalBridge.instance=new ESGlobalBridge)};