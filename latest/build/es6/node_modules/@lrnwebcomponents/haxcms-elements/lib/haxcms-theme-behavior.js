import"@lrnwebcomponents/simple-colors/simple-colors.js";window.HAXCMSBehaviors=window.HAXCMSBehaviors||{},window.HAXCMSBehaviors.Theme={properties:{editMode:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0},activeItem:{type:Object,notify:!0,observer:"_activeItemChanged"},manifest:{type:Object,notify:!0,observer:"_manifestChanged"}},_globalEditChanged:function(a){this.editMode=a.detail},_activeItemChanged:function(a){a&&typeof a.id!==typeof void 0?(this.fire("json-outline-schema-active-item-changed",a),document.title=typeof a.title==="undefined"?this.manifest.title+" - "+this.manifest.description:this.manifest.title+" - "+a.title):document.title=this.manifest.title+" - "+this.manifest.description},_activeItemUpdate:function(a){this.set("activeItem",a.detail)},setupHAXTheme:function(a=!0,b=this.$.contentcontainer){a?(document.body.addEventListener("haxcms-edit-mode-changed",this._globalEditChanged.bind(this)),document.body.addEventListener("json-outline-schema-changed",this._manifestUpdate.bind(this)),document.body.addEventListener("haxcms-active-item-changed",this._activeItemUpdate.bind(this)),document.body.addEventListener("haxcms-trigger-update",this._triggerUpdate.bind(this)),typeof window.cmsSiteEditor!==typeof void 0&&window.cmsSiteEditor.requestAvailability(this,b)):(document.body.removeEventListener("haxcms-active-item-changed",this._activeItemUpdate.bind(this)),document.body.removeEventListener("json-outline-schema-changed",this._manifestUpdate.bind(this)),document.body.removeEventListener("haxcms-edit-mode-changed",this._globalEditChanged.bind(this)),document.body.removeEventListener("haxcms-trigger-update",this._triggerUpdate.bind(this)))},_triggerUpdate:function(){this.fire("json-outline-schema-active-item-changed",{})},_manifestUpdate:function(a){this.set("manifest",a.detail)},_manifestChanged:function(a){if(typeof a.title!=="undefined"&&(document.title=this.manifest.title+" - "+this.manifest.description),typeof a.metadata!=="undefined"&&typeof a.metadata.cssVariable!=="undefined"){let c=this.manifest.metadata.cssVariable.replace("--simple-colors-",""),d=c.split("-");2==d.length?(c=d[0],this.accentColor=c):3==d.length&&(c=d[0]+" "+d[1],this.accentColor=c);let f="";f=window.ShadyCSS?ShadyCSS.getComputedStyleValue(this,this.manifest.metadata.cssVariable):getComputedStyle(this).getPropertyValue(this.manifest.metadata.cssVariable),document.body.style.setProperty("--haxcms-color",f),this.updateStyles({"--haxcms-color":f})}}};