define(["exports","./node_modules/@polymer/polymer/polymer-element.js"],function(a,b){"use strict";function c(){var e=babelHelpers.taggedTemplateLiteral(["\n<style>:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n</style>\n<slot></slot>"]);return c=function(){return e},e}Object.defineProperty(a,"__esModule",{value:!0}),a.BeakerBroker=void 0;var d=function(e){function f(){return babelHelpers.classCallCheck(this,f),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(f).apply(this,arguments))}return babelHelpers.inherits(f,e),babelHelpers.createClass(f,[{key:"connectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(f.prototype),"connectedCallback",this).call(this),("undefined"===typeof DatArchive?"undefined":babelHelpers.typeof(DatArchive))==="undefined"&&console.log("Beaker is not available from this site loading methodology")}},{key:"_datUrlChanged",value:function(){var g=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function h(i){return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:("undefined"===typeof DatArchive?"undefined":babelHelpers.typeof(DatArchive))!=="undefined"&&i&&this.set("archive",new DatArchive(i));case 1:case"end":return l.stop();}},h,this)}));return function(){return g.apply(this,arguments)}}()},{key:"write",value:function(){var g=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function h(i,j){return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.archive.writeFile(i,j);case 2:case"end":return l.stop();}},h,this)}));return function(){return g.apply(this,arguments)}}()},{key:"read",value:function(){var g=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function h(i,j){var k,l,m,n,o;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:k="utf8",q.t0=j,q.next="jpeg"===q.t0?4:"jpg"===q.t0?4:"png"===q.t0?11:"base64"===q.t0?18:23;break;case 4:return k="binary",q.next=7,this.archive.readFile(i,k);case 7:return m=q.sent,n=new Blob([m],{type:"image/jpeg"}),l=URL.createObjectURL(n),q.abrupt("break",28);case 11:return k="binary",q.next=14,this.archive.readFile(i,k);case 14:return m=q.sent,n=new Blob([m],{type:"image/png"}),l=URL.createObjectURL(n),q.abrupt("break",28);case 18:return q.next=20,this.archive.readFile(i,j);case 20:return o=q.sent,l="data:image/png;base64,"+o,q.abrupt("break",28);case 23:return q.next=25,this.archive.readFile(i,j);case 25:return o=q.sent,l=o,q.abrupt("break",28);case 28:return q.next=30,l;case 30:return q.abrupt("return",q.sent);case 31:case"end":return q.stop();}},h,this)}));return function(){return g.apply(this,arguments)}}()}],[{key:"template",get:function(){return(0,b.html)(c())}},{key:"haxProperties",get:function(){return{}}},{key:"properties",get:function(){return{archive:{type:Object,notify:!0},datUrl:{type:String,value:"window.location.host",observer:"_datUrlChanged",notify:!0}}}},{key:"tag",get:function(){return"beaker-broker"}}]),f}(b.PolymerElement);a.BeakerBroker=d,window.customElements.define(d.tag,d)});