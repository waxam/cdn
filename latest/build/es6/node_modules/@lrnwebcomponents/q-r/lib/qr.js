(function(d,f,g){"function"===typeof define&&define.amd?define([],g):"object"===typeof module&&module.exports?module.exports=g():d[f]=g()})(this,"QRCode",function(){for(var d=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],f=0,g=1,l=2,o=4,s=8,t=/^\d*$/,u=/^[A-Za-z0-9 $%*+\-./:]*$/,z=/^[A-Z0-9 $%*+\-./:]*$/,A=1,B=0,C=3,D=2,E=[],F=[-1],G=0,H=1;255>G;++G)E.push(H),F[H]=G,H=2*H^(128<=H?285:0);for(var I=[[]],G=0;30>G;++G){for(var J=I[G],K=[],L=0;L<=G;++L){var M=L<G?E[J[L]]:0,N=E[(G+(J[L-1]||0))%255];K.push(F[M^N])}I.push(K)}for(var O={},G=0;45>G;++G)O["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(G)]=G;var P=[function(ga,ha){return 0==(ga+ha)%2},function(ga){return 0==ga%2},function(ga,ha){return 0==ha%3},function(ga,ha){return 0==(ga+ha)%3},function(ga,ha){return 0==((0|ga/2)+(0|ha/3))%2},function(ga,ha){return 0==ga*ha%2+ga*ha%3},function(ga,ha){return 0==(ga*ha%2+ga*ha%3)%2},function(ga,ha){return 0==((ga+ha)%2+ga*ha%3)%2}],Q=function(ga){return 6<ga},R=function(ga){return 4*ga+17},S=function(ga){var ha=d[ga],ia=16*ga*ga+128*ga+64;return Q(ga)&&(ia-=36),ha[2].length&&(ia-=25*ha[2].length*ha[2].length-10*ha[2].length-55),ia},T=function(ga,ha){var ia=-8&S(ga),ja=d[ga];return ia-=8*ja[0][ha]*ja[1][ha],ia},U=function(ga,ha){return ha===g?10>ga?10:27>ga?12:14:ha===l?10>ga?9:27>ga?11:13:ha===o?10>ga?8:16:ha===s?10>ga?8:27>ga?10:12:void 0},V=function(ga,ha,ia){var ja=T(ga,ia)-4-U(ga,ha);return ha===g?3*(0|ja/10)+(4>ja%10?0:7>ja%10?1:2):ha===l?2*(0|ja/11)+(6>ja%11?0:1):ha===o?0|ja/8:ha===s?0|ja/13:void 0},W=function(ga,ha){switch(ga){case g:return ha.match(t)?ha:null;case l:return ha.match(u)?ha.toUpperCase():null;case o:if("string"===typeof ha){for(var ka,ia=[],ja=0;ja<ha.length;++ja)ka=ha.charCodeAt(ja),128>ka?ia.push(ka):2048>ka?ia.push(192|ka>>6,128|63&ka):65536>ka?ia.push(224|ka>>12,128|63&ka>>6,128|63&ka):ia.push(240|ka>>18,128|63&ka>>12,128|63&ka>>6,128|63&ka);return ia}return ha;}},X=function(ga,ha,ia,ja){var ka=[],la=0,ma=8,na=ia.length,oa=function(ra,sa){if(sa>=ma){for(ka.push(la|ra>>(sa-=ma));8<=sa;)ka.push(255&ra>>(sa-=8));la=0,ma=8}0<sa&&(la|=(ra&(1<<sa)-1)<<(ma-=sa))},pa=U(ga,ha);switch(oa(ha,4),oa(na,pa),ha){case g:for(var qa=2;qa<na;qa+=3)oa(parseInt(ia.substring(qa-2,qa+1),10),10);oa(parseInt(ia.substring(qa-2),10),[0,4,7][na%3]);break;case l:for(var qa=1;qa<na;qa+=2)oa(45*O[ia.charAt(qa-1)]+O[ia.charAt(qa)],11);1==na%2&&oa(O[ia.charAt(qa-1)],6);break;case o:for(var qa=0;qa<na;++qa)oa(ia[qa],8);}for(oa(f,4),8>ma&&ka.push(la);ka.length+1<ja;)ka.push(236,17);return ka.length<ja&&ka.push(236),ka},Y=function(ga,ha){for(var ia=ga.slice(0),ja=ga.length,ka=ha.length,la=0;la<ka;++la)ia.push(0);for(var ma,la=0;la<ja;)if(ma=F[ia[la++]],0<=ma)for(var na=0;na<ka;++na)ia[la+na]^=E[(ma+ha[na])%255];return ia.slice(ja)},Z=function(ga,ha,ia){for(var ja=[],ka=0|ga.length/ha,la=0,ma=ha-ga.length%ha,na=0;na<ma;++na)ja.push(la),la+=ka;for(var na=ma;na<ha;++na)ja.push(la),la+=ka+1;ja.push(la);for(var oa=[],na=0;na<ha;++na)oa.push(Y(ga.slice(ja[na],ja[na+1]),ia));for(var pa=[],qa=0|ga.length/ha,na=0;na<qa;++na)for(var ra=0;ra<ha;++ra)pa.push(ga[ja[ra]+na]);for(var ra=ma;ra<ha;++ra)pa.push(ga[ja[ra+1]-1]);for(var na=0;na<ia.length;++na)for(var ra=0;ra<ha;++ra)pa.push(oa[ra][na]);return pa},$=function(ga,ha,ia,ja){for(var ka=ga<<ja,la=ha-1;0<=la;--la)1&ka>>ja+la&&(ka^=ia<<la);return ga<<ja|ka},_=function(ga){for(var ha=d[ga],ia=R(ga),ja=[],ka=[],la=0;la<ia;++la)ja.push([]),ka.push([]);var ma=function(ua,va,wa,xa,ya){for(var za=0;za<wa;++za)for(var Aa=0;Aa<xa;++Aa)ja[ua+za][va+Aa]=1&ya[za]>>Aa,ka[ua+za][va+Aa]=1};ma(0,0,9,9,[127,65,93,93,93,65,383,0,64]),ma(ia-8,0,8,9,[256,127,65,93,93,93,65,127]),ma(0,ia-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var la=9;la<ia-8;++la)ja[6][la]=ja[la][6]=1&~la,ka[6][la]=ka[la][6]=1;for(var na=ha[2],oa=na.length,la=0;la<oa;++la)for(var pa=0==la||la==oa-1?1:0,qa=0==la?oa-1:oa,ra=pa;ra<qa;++ra)ma(na[la],na[ra],5,5,[31,17,21,17,31]);if(Q(ga))for(var sa=$(ga,6,7973,12),ta=0,la=0;6>la;++la)for(var ra=0;3>ra;++ra)ja[la][ia-11+ra]=ja[ia-11+ra][la]=1&sa>>ta++,ka[la][ia-11+ra]=ka[ia-11+ra][la]=1;return{matrix:ja,reserved:ka}},aa=function(ga,ha,ia){for(var ja=ga.length,ka=0,la=-1,ma=ja-1;0<=ma;ma-=2){6==ma&&--ma;for(var na=0>la?ja-1:0,oa=0;oa<ja;++oa){for(var pa=ma;pa>ma-2;--pa)ha[na][pa]||(ga[na][pa]=1&ia[ka>>3]>>(7&~ka),++ka);na+=la}la=-la}return ga},ba=function(ga,ha,ia){for(var ja=P[ia],ka=ga.length,la=0;la<ka;++la)for(var ma=0;ma<ka;++ma)ha[la][ma]||(ga[la][ma]^=ja(la,ma));return ga},ca=function(ga,ha,ia,ja){for(var ka=ga.length,la=21522^$(ia<<3|ja,5,1335,10),ma=0;15>ma;++ma){var na=[0,1,2,3,4,5,7,8,ka-7,ka-6,ka-5,ka-4,ka-3,ka-2,ka-1][ma],oa=[ka-1,ka-2,ka-3,ka-4,ka-5,ka-6,ka-7,ka-8,7,5,4,3,2,1,0][ma];ga[na][8]=ga[8][oa]=1&la>>ma}return ga},da=function(ga){for(var ka=10,la=function(wa){for(var xa=0,ya=0;ya<wa.length;++ya)5<=wa[ya]&&(xa+=3+(wa[ya]-5));for(var za,ya=5;ya<wa.length;ya+=2)za=wa[ya],wa[ya-1]==za&&wa[ya-2]==3*za&&wa[ya-3]==za&&wa[ya-4]==za&&(wa[ya-5]>=4*za||wa[ya+1]>=4*za)&&(xa+=40);return xa},ma=ga.length,na=0,oa=0,pa=0;pa<ma;++pa){var ra,qa=ga[pa];ra=[0];for(var sa=0;sa<ma;){var ta;for(ta=0;sa<ma&&qa[sa];++ta)++sa;for(ra.push(ta),ta=0;sa<ma&&!qa[sa];++ta)++sa;ra.push(ta)}na+=la(ra),ra=[0];for(var sa=0;sa<ma;){var ta;for(ta=0;sa<ma&&ga[sa][pa];++ta)++sa;for(ra.push(ta),ta=0;sa<ma&&!ga[sa][pa];++ta)++sa;ra.push(ta)}na+=la(ra);var ua=ga[pa+1]||[];oa+=qa[0];for(var va,sa=1;sa<ma;++sa)va=qa[sa],oa+=va,qa[sa-1]==va&&ua[sa]===va&&ua[sa-1]===va&&(na+=3)}return na+=ka*(0|Math.abs(oa/ma/ma-0.5)/0.05),na},ea=function(ga,ha,ia,ja,ka){var la=d[ha],ma=X(ha,ia,ga,T(ha,ja)>>3);ma=Z(ma,la[1][ja],I[la[0][ja]]);var na=_(ha),oa=na.matrix,pa=na.reserved;if(aa(oa,pa,ma),0>ka){ba(oa,pa,0),ca(oa,pa,ja,0);var qa=0,ra=da(oa);for(ba(oa,pa,0),ka=1;8>ka;++ka){ba(oa,pa,ka),ca(oa,pa,ja,ka);var sa=da(oa);ra>sa&&(ra=sa,qa=ka),ba(oa,pa,ka)}ka=qa}return ba(oa,pa,ka),ca(oa,pa,ja,ka),oa},fa={generate:function(ga,ha){ha=ha||{};var ka=ha.version||-1,la={L:A,M:B,Q:C,H:D}[(ha.ecclevel||"L").toUpperCase()],ma=ha.mode?{numeric:g,alphanumeric:l,octet:o}[ha.mode.toLowerCase()]:-1,na="mask"in ha?ha.mask:-1;if(0>ma)ma="string"===typeof ga?ga.match(t)?g:ga.match(z)?l:o:o;else if(ma!=g&&ma!=l&&ma!=o)throw"invalid or unsupported mode";if(ga=W(ma,ga),null===ga)throw"invalid data format";if(0>la||3<la)throw"invalid ECC level";if(0>ka){for(ka=1;40>=ka&&!(ga.length<=V(ka,ma,la));++ka);if(40<ka)throw"too large data"}else if(1>ka||40<ka)throw"invalid version";if(-1!=na&&(0>na||8<na))throw"invalid mask";return ea(ga,ka,ma,la,na)},generateHTML:function(ga,ha){ha=ha||{};for(var ia=fa.generate(ga,ha),ja=Math.max(ha.modulesize||5,0.5),ka=Math.max(null===ha.margin?4:ha.margin,0),la=document.createElement("div"),ma=ia.length,na=["<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"border:"+ja*ka+"px solid #fff;background:#fff\">"],oa=0;oa<ma;++oa){na.push("<tr>");for(var pa=0;pa<ma;++pa)na.push("<td style=\"width:"+ja+"px;height:"+ja+"px"+(ia[oa][pa]?";background:#000":"")+"\"></td>");na.push("</tr>")}return la.className="qrcode",la.innerHTML=na.join("")+"</table>",la},generateSVG:function(ga,ha){ha=ha||{};var ia=fa.generate(ga,ha),ja=ia.length,ka=Math.max(ha.modulesize||5,0.5),la=Math.max(null===ha.margin?4:ha.margin,0),ma=ka*(ja+2*la),oa=document.createElementNS("http://www.w3.org/2000/svg","svg");oa.setAttribute("viewBox","0 0 "+ma+" "+ma),oa.setAttribute("style","shape-rendering:crispEdges"),ha.modulesize&&(oa.setAttribute("width",ma),oa.setAttribute("height",ma));for(var sa,pa=["<style scoped>.bg{fill:#FFF}.fg{fill:#000}</style>","<rect class=\"bg\" x=\"0\" y=\"0\"","width=\""+ma+"\" height=\""+ma+"\"/>"],qa=la*ka,ra=0;ra<ja;++ra){sa=la*ka;for(var ta=0;ta<ja;++ta)ia[ra][ta]&&pa.push("<rect x=\""+sa+"\" y=\""+qa+"\""," class= \"fg\" width=\""+ka+"\" height=\""+ka+"\"/>"),sa+=ka;qa+=ka}return oa.innerHTML=pa.join(""),oa},generatePNG:function(ga,ha){ha=ha||{};var oa,ia=fa.generate(ga,ha),ja=Math.max(ha.modulesize||5,0.5),ka=Math.max(null===ha.margin?4:ha.margin,0),la=ia.length,ma=ja*(la+2*ka),na=document.createElement("canvas");if(na.width=na.height=ma,oa=na.getContext("2d"),!oa)throw"canvas support is needed for PNG output";oa.fillStyle="#fff",oa.fillRect(0,0,ma,ma),oa.fillStyle="#000";for(var pa=0;pa<la;++pa)for(var qa=0;qa<la;++qa)ia[pa][qa]&&oa.fillRect(ja*(ka+qa),ja*(ka+pa),ja,ja);return na.toDataURL()}};return fa});