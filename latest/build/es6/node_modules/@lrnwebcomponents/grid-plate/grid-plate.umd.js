!function(b,f){"object"==typeof exports&&"undefined"!=typeof module?f(exports,require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/iron-a11y-keys/iron-a11y-keys.js"),require("@polymer/paper-icon-button/paper-icon-button.js"),require("@polymer/iron-icons/iron-icons.js"),require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("@lrnwebcomponents/responsive-grid/lib/responsive-grid-row.js"),require("@lrnwebcomponents/responsive-grid/lib/responsive-grid-col.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/polymer/lib/utils/async.js","@polymer/iron-a11y-keys/iron-a11y-keys.js","@polymer/paper-icon-button/paper-icon-button.js","@polymer/iron-icons/iron-icons.js","@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js","@lrnwebcomponents/simple-colors/simple-colors.js","@lrnwebcomponents/responsive-grid/lib/responsive-grid-row.js","@lrnwebcomponents/responsive-grid/lib/responsive-grid-col.js"],f):f(b.GridPlate={},b.polymerLegacy_js,b.polymer_dom_js,b.async,null,null,null,null,b.simpleColors_js)}(this,function(b,f,g,h,j,k,m,q,u){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(y)}function w(){var y,z,A=(y=["\n    <custom-style>\n      <style is=\"custom-style\" include=\"simple-colors\">\n        :host {\n          display: block;\n        }\n\n        responsive-grid-col {\n          --responsive-grid-col-inner: {\n            padding-left: 0;\n            padding-right: 0;\n          }\n        }\n\n        responsive-grid-row {\n          --responsive-grid-row-inner: {\n            margin-left: 0;\n            margin-right: 0;\n          }\n        }\n\n        :host([edit-mode]) responsive-grid-col.mover {\n          min-height: 150px;\n          background-color: #d1d1d1;\n        }\n\n        :host responsive-grid-row ::slotted(*) .mover,\n        :host responsive-grid-col[data-draggable].mover {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n        }\n\n        :host responsive-grid-row ::slotted(*) .active-item {\n          outline: 2px dashed #aaaaaa !important;\n          outline-offset: 2px;\n          background-color: rgba(220, 220, 220, 0.6) !important;\n        }\n\n        :host responsive-grid-row ::slotted(*) [data-draggable]:focus,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:hover,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:active {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n          cursor: move !important;\n        }\n\n        paper-icon-button {\n          display: none;\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          outline: none;\n          width: 20px;\n          height: 20px;\n          color: black;\n          background-color: #eeeeee;\n          border-radius: 50%;\n          box-sizing: content-box !important;\n          z-index: 1;\n          min-width: unset;\n        }\n\n        paper-icon-button.active {\n          display: block;\n        }\n\n        .button-holding-pen {\n          position: relative;\n        }\n      </style>\n    </custom-style>\n    <div class=\"button-holding-pen\">\n      <paper-icon-button\n        icon=\"icons:arrow-upward\"\n        title=\"move item up\"\n        id=\"up\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-forward\"\n        title=\"move item right\"\n        id=\"right\"\n        on-tap=\"moveActiveElement\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-downward\"\n        title=\"move item down\"\n        id=\"down\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-back\"\n        title=\"move item left\"\n        id=\"left\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n    </div>\n    <responsive-grid-row gutter=\"0\">\n      <template is=\"dom-if\" if=\"[[!hideCol1]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col1\"\n          style$=\"background-color:[[__col1Color]];\"\n          xl$=\"[[col1_xl]]\"\n          lg$=\"[[col1_lg]]\"\n          md$=\"[[col1_md]]\"\n          sm$=\"[[col1_sm]]\"\n          xs$=\"[[col1_xs]]\"\n        >\n          <slot name=\"col-1\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol2]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col2\"\n          style$=\"background-color:[[__col2Color]];\"\n          xl$=\"[[col2_xl]]\"\n          lg$=\"[[col2_lg]]\"\n          md$=\"[[col2_md]]\"\n          sm$=\"[[col2_sm]]\"\n          xs$=\"[[col2_xs]]\"\n        >\n          <slot name=\"col-2\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol3]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col3\"\n          style$=\"background-color:[[__col3Color]];\"\n          xl$=\"[[col3_xl]]\"\n          lg$=\"[[col3_lg]]\"\n          md$=\"[[col3_md]]\"\n          sm$=\"[[col3_sm]]\"\n          xs$=\"[[col3_xs]]\"\n        >\n          <slot name=\"col-3\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol4]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col4\"\n          style$=\"background-color:[[__col4Color]];\"\n          xl$=\"[[col4_xl]]\"\n          lg$=\"[[col4_lg]]\"\n          md$=\"[[col4_md]]\"\n          sm$=\"[[col4_sm]]\"\n          xs$=\"[[col4_xs]]\"\n        >\n          <slot name=\"col-4\"></slot>\n        </responsive-grid-col>\n      </template>\n      <responsive-grid-col xl=\"12\" lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\n        <slot></slot>\n      </responsive-grid-col>\n    </responsive-grid-row>\n    <iron-a11y-keys\n      stop-keyboard-event-propagation\n      target=\"[[__activeItem]]\"\n      keys=\"enter\"\n      on-keys-pressed=\"setActiveElement\"\n    ></iron-a11y-keys>\n    <iron-a11y-keys\n      target=\"[[__activeItem]]\"\n      keys=\"esc\"\n      on-keys-pressed=\"cancelActive\"\n    ></iron-a11y-keys>\n  "],(z=["\n    <custom-style>\n      <style is=\"custom-style\" include=\"simple-colors\">\n        :host {\n          display: block;\n        }\n\n        responsive-grid-col {\n          --responsive-grid-col-inner: {\n            padding-left: 0;\n            padding-right: 0;\n          }\n        }\n\n        responsive-grid-row {\n          --responsive-grid-row-inner: {\n            margin-left: 0;\n            margin-right: 0;\n          }\n        }\n\n        :host([edit-mode]) responsive-grid-col.mover {\n          min-height: 150px;\n          background-color: #d1d1d1;\n        }\n\n        :host responsive-grid-row ::slotted(*) .mover,\n        :host responsive-grid-col[data-draggable].mover {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n        }\n\n        :host responsive-grid-row ::slotted(*) .active-item {\n          outline: 2px dashed #aaaaaa !important;\n          outline-offset: 2px;\n          background-color: rgba(220, 220, 220, 0.6) !important;\n        }\n\n        :host responsive-grid-row ::slotted(*) [data-draggable]:focus,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:hover,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:active {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n          cursor: move !important;\n        }\n\n        paper-icon-button {\n          display: none;\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          outline: none;\n          width: 20px;\n          height: 20px;\n          color: black;\n          background-color: #eeeeee;\n          border-radius: 50%;\n          box-sizing: content-box !important;\n          z-index: 1;\n          min-width: unset;\n        }\n\n        paper-icon-button.active {\n          display: block;\n        }\n\n        .button-holding-pen {\n          position: relative;\n        }\n      </style>\n    </custom-style>\n    <div class=\"button-holding-pen\">\n      <paper-icon-button\n        icon=\"icons:arrow-upward\"\n        title=\"move item up\"\n        id=\"up\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-forward\"\n        title=\"move item right\"\n        id=\"right\"\n        on-tap=\"moveActiveElement\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-downward\"\n        title=\"move item down\"\n        id=\"down\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-back\"\n        title=\"move item left\"\n        id=\"left\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n    </div>\n    <responsive-grid-row gutter=\"0\">\n      <template is=\"dom-if\" if=\"[[!hideCol1]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col1\"\n          style\\$=\"background-color:[[__col1Color]];\"\n          xl\\$=\"[[col1_xl]]\"\n          lg\\$=\"[[col1_lg]]\"\n          md\\$=\"[[col1_md]]\"\n          sm\\$=\"[[col1_sm]]\"\n          xs\\$=\"[[col1_xs]]\"\n        >\n          <slot name=\"col-1\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol2]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col2\"\n          style\\$=\"background-color:[[__col2Color]];\"\n          xl\\$=\"[[col2_xl]]\"\n          lg\\$=\"[[col2_lg]]\"\n          md\\$=\"[[col2_md]]\"\n          sm\\$=\"[[col2_sm]]\"\n          xs\\$=\"[[col2_xs]]\"\n        >\n          <slot name=\"col-2\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol3]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col3\"\n          style\\$=\"background-color:[[__col3Color]];\"\n          xl\\$=\"[[col3_xl]]\"\n          lg\\$=\"[[col3_lg]]\"\n          md\\$=\"[[col3_md]]\"\n          sm\\$=\"[[col3_sm]]\"\n          xs\\$=\"[[col3_xs]]\"\n        >\n          <slot name=\"col-3\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol4]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col4\"\n          style\\$=\"background-color:[[__col4Color]];\"\n          xl\\$=\"[[col4_xl]]\"\n          lg\\$=\"[[col4_lg]]\"\n          md\\$=\"[[col4_md]]\"\n          sm\\$=\"[[col4_sm]]\"\n          xs\\$=\"[[col4_xs]]\"\n        >\n          <slot name=\"col-4\"></slot>\n        </responsive-grid-col>\n      </template>\n      <responsive-grid-col xl=\"12\" lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\n        <slot></slot>\n      </responsive-grid-col>\n    </responsive-grid-row>\n    <iron-a11y-keys\n      stop-keyboard-event-propagation\n      target=\"[[__activeItem]]\"\n      keys=\"enter\"\n      on-keys-pressed=\"setActiveElement\"\n    ></iron-a11y-keys>\n    <iron-a11y-keys\n      target=\"[[__activeItem]]\"\n      keys=\"esc\"\n      on-keys-pressed=\"cancelActive\"\n    ></iron-a11y-keys>\n  "])||(z=y.slice(0)),Object.freeze(Object.defineProperties(y,{raw:{value:Object.freeze(z)}})));return w=function(){return A},A}var x=f.Polymer({_template:f.html(w()),is:"grid-plate",listeners:{focusin:"_focusIn",focusout:"_focusOut"},behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{layout:{type:String,value:"12",observer:"_layoutChanged"},editMode:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_editModeChanged"},colors:{type:String,value:""},col1Color:{type:String,value:""},col2Color:{type:String,value:""},col3Color:{type:String,value:""},col4Color:{type:String,value:""},_colors:{type:String,computed:"_colorCreation(colors, col1Color, col2Color, col3Color, col4Color)",observer:"_colColors"},__activeItem:{type:Object,observer:"_activeItemChanged"}},cancelActive:function(){this.__activeItem=null},moveActiveElement:function(y){var z=this,A=g.dom(y).localTarget,B=this.__activeItem.getAttribute("slot").split("-"),C=1,D=[1,2,3,4];for(var E in D)this["hideCol"+D[E]]||(C=D[E]);switch(A.id){case"up":null!==this.__activeItem.previousElementSibling&&g.dom(this).insertBefore(this.__activeItem,this.__activeItem.previousElementSibling);break;case"down":null!==this.__activeItem.nextElementSibling&&g.dom(this).insertBefore(this.__activeItem.nextElementSibling,this.__activeItem);break;case"left":1<parseInt(B[1])&&(this.__activeItem.setAttribute("slot","col-"+(parseInt(B[1])-1)),g.dom(this).appendChild(this.__activeItem));break;case"right":parseInt(B[1])<C&&(this.__activeItem.setAttribute("slot","col-"+(parseInt(B[1])+1)),g.dom(this).appendChild(this.__activeItem));}setTimeout(function(){z.positionArrows(z.__activeItem),z.__activeItem.focus()},100)},_activeItemChanged:function(y,z){"undefined"!==v(y)&&null!=y?(y.classList.add("active-item"),this.positionArrows(y)):null==y&&this.positionArrows(y),"undefined"!==v(z)&&null!=z&&(z.classList.remove("active-item"),z.blur())},setActiveElement:function(y){g.dom(y).localTarget,this.$.up.focus(),y.preventDefault(),y.stopPropagation()},_focusIn:function(y){if(this.editMode){var z=g.dom(y).localTarget;g.dom(z).parentNode===this&&(this.__activeItem=z)}},_focusOut:function(y){this.editMode&&(g.dom(y).localTarget.parentNode===this||document.activeElement.parentNode===this||document.activeElement)},positionArrows:function(y){if(null==y)this.$.up.classList.remove("active"),this.$.down.classList.remove("active"),this.$.left.classList.remove("active"),this.$.right.classList.remove("active");else{this.$.up.classList.add("active"),this.$.down.classList.add("active"),this.$.left.classList.add("active"),this.$.right.classList.add("active"),this.$.up.disabled=!1,this.$.down.disabled=!1,this.$.left.disabled=!1,this.$.right.disabled=!1;var z=this.getBoundingClientRect(),A=y.getBoundingClientRect(),B=A.top-z.top,C=A.left-z.left;this.$.up.style.top=B-20+"px",this.$.down.style.top=B+A.height+"px",this.$.left.style.top=B+A.height/2+"px",this.$.right.style.top=B+A.height/2+"px",this.$.up.style.left=C+A.width/2-10+"px",this.$.down.style.left=C+A.width/2-10+"px",this.$.left.style.left=C-20+"px",this.$.right.style.left=C+A.width+"px";var D=y.getAttribute("slot").split("-"),E=1,F=[1,2,3,4];for(var G in F)this["hideCol"+F[G]]||(E=F[G]);null===y.previousElementSibling&&(this.$.up.disabled=!0),null===y.nextElementSibling&&(this.$.down.disabled=!0),1===parseInt(D[1])&&(this.$.left.disabled=!0),parseInt(D[1])===E&&(this.$.right.disabled=!0)}},_editModeChanged:function(y,z){var A=this,B=g.dom(this).getEffectiveChildNodes();if("object"===v(B))if(y&&!z){for(var C in B)"undefined"!==v(B[C].tagName)&&(B[C].addEventListener("drop",this.dropEvent.bind(this)),B[C].addEventListener("dragstart",this.dragStart.bind(this)),B[C].addEventListener("dragend",this.dragEnd.bind(this)),B[C].addEventListener("dragover",function(D){D.preventDefault()}),B[C].setAttribute("draggable",!0),B[C].setAttribute("data-draggable",!0),B[C].setAttribute("tabindex",0));h.microTask.run(function(){var D=[1,2,3,4];for(var E in D)A["hideCol"+D[E]]||(A.shadowRoot.querySelector("#col"+D[E]).addEventListener("drop",A.dropEvent.bind(A)),A.shadowRoot.querySelector("#col"+D[E]).addEventListener("dragstart",A.dragStart.bind(A)),A.shadowRoot.querySelector("#col"+D[E]).addEventListener("dragend",A.dragEnd.bind(A)),A.shadowRoot.querySelector("#col"+D[E]).addEventListener("dragover",function(F){F.preventDefault()}),A.shadowRoot.querySelector("#col"+D[E]).setAttribute("data-draggable",!0))})}else if(!y&&z){for(var C in B)"undefined"!==v(B[C].tagName)&&(B[C].removeEventListener("drop",this.dropEvent.bind(this)),B[C].removeEventListener("dragstart",this.dragStart.bind(this)),B[C].removeEventListener("dragend",this.dragEnd.bind(this)),B[C].removeEventListener("dragover",function(D){D.preventDefault()}),B[C].removeAttribute("draggable"),B[C].removeAttribute("data-draggable"),B[C].removeAttribute("tabindex"));h.microTask.run(function(){var D=[1,2,3,4];for(var E in D)A["hideCol"+D[E]]||(A.shadowRoot.querySelector("#col"+D[E]).removeEventListener("drop",A.dropEvent.bind(A)),A.shadowRoot.querySelector("#col"+D[E]).removeEventListener("dragstart",A.dragStart.bind(A)),A.shadowRoot.querySelector("#col"+D[E]).removeEventListener("dragend",A.dragEnd.bind(A)),A.shadowRoot.querySelector("#col"+D[E]).removeEventListener("dragover",function(F){F.preventDefault()}),A.shadowRoot.querySelector("#col"+D[E]).removeAttribute("data-draggable"))})}},dropEvent:function(y){var z=this,A=g.dom(y).localTarget;if("undefined"!==v(this.__activeItem)&&"undefined"!==v(A)&&null!=A.getAttribute("slot")&&this.__activeItem!==A)this.__activeItem.setAttribute("slot",A.getAttribute("slot")),g.dom(this).insertBefore(this.__activeItem,A),y.preventDefault(),y.stopPropagation();else if("RESPONSIVE-GRID-COL"===A.tagName){var B=A.id.replace("col","");this.__activeItem.setAttribute("slot","col-"+B),g.dom(this).appendChild(this.__activeItem),y.preventDefault(),y.stopPropagation()}var C=g.dom(this).children;for(var D in C)"undefined"!==v(C[D].classList)&&C[D].classList.remove("mover");var E=[1,2,3,4];for(var F in E)this["hideCol"+E[F]]||this.shadowRoot.querySelector("#col"+E[F]).classList.remove("mover");setTimeout(function(){z.positionArrows(z.__activeItem),z.__activeItem.focus()},100)},_colorCreation:function(y,z,A,B,C){var D=y.split("/"),E=[z,A,B,C];for(var F in E)""!=E[F]&&(D[F]=E[F]);return D},dragStart:function(){var z=g.dom(this).children;for(var A in z)"undefined"!==v(z[A].classList)&&z[A].classList.add("mover");var B=[1,2,3,4];for(var C in B)this["hideCol"+B[C]]||this.shadowRoot.querySelector("#col"+B[C]).classList.add("mover")},dragEnd:function(){var z=g.dom(this).children;for(var A in z)"undefined"!==v(z[A].classList)&&z[A].classList.remove("mover");var B=[1,2,3,4];for(var C in B)this["hideCol"+B[C]]||this.shadowRoot.querySelector("#col"+B[C]).classList.remove("mover")},splitColor:function(y){return""!=y&&"undefined"!==v(u.SimpleColors.colors[y])?u.SimpleColors.colors[y][0]:y},_colColors:function(y){if(""!=y)for(var A in y)this["__col"+(parseInt(A)+1)+"Color"]=this.splitColor(y[A])},_layoutChanged:function(y){var z=y.split("/");switch(this.__colCount=z.length,z.length){case 1:this.hideCol1=!1,this.hideCol2=!0,this.hideCol3=!0,this.hideCol4=!0;break;case 2:this.hideCol1=!1,this.hideCol2=!1,this.hideCol3=!0,this.hideCol4=!0;break;case 3:this.hideCol1=!1,this.hideCol2=!1,this.hideCol3=!1,this.hideCol4=!0;break;case 4:this.hideCol1=!1,this.hideCol2=!1,this.hideCol3=!1,this.hideCol4=!1;}for(var A in z){var B=+A+1;this["col"+B+"_xl"]=z[A],this["col"+B+"_lg"]=z[A],this["col"+B+"_md"]=z[A],this["col"+B+"_sm"]=z[A],this["col"+B+"_xs"]=z[A]}},attached:function(){document.body.addEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),document.body.addEventListener("hax-insert-content",this.haxInsertContent.bind(this));var y=[];for(var z in u.SimpleColors.colors)y[z]=z;this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,settings:{quick:[],configure:[{property:"layout",title:"Layout",description:"Style to present these items",inputMethod:"select",options:{12:"1 col, full width","8/4":"2 cols, 66% / 33% split","6/6":"2 cols, 50% split","4/8":"2 cols, 33% / 66% split","4/4/4":"3 cols, 33% each","3/3/3/3":"4 cols, 25% each"}},{property:"col1Color",title:"Col 1 color",description:"Color for the 1st column",inputMethod:"select",options:y},{property:"col2Color",title:"Col 2 color",description:"Color for the 1st column",inputMethod:"select",options:y},{property:"col3Color",title:"Col 3 color",description:"Color for the 1st column",inputMethod:"select",options:y},{property:"col4Color",title:"Col 4 color",description:"Color for the 1st column",inputMethod:"select",options:y}],advanced:[]},saveOptions:{unsetAttributes:["__active-item","_colors","edit-mode"]}})},haxInsertContent:function(){var z=this;this===window.HaxStore.instance.activeContainerNode&&(this.editMode=!1,setTimeout(function(){z.editMode=!0,z.positionArrows(z.__activeItem),z.__activeItem.focus()},250))},_haxStorePropertyUpdated:function(y){y.detail&&"undefined"!==v(y.detail.value)&&y.detail.property&&("object"===v(y.detail.value)&&this.set(y.detail.property,null),this.set(y.detail.property,y.detail.value))}});b.GridPlate=x,Object.defineProperty(b,"__esModule",{value:!0})});