define(["exports","./node_modules/@polymer/polymer/polymer-legacy.js","./node_modules/@polymer/polymer/lib/legacy/polymer.dom.js","./node_modules/@polymer/polymer/lib/utils/async.js","./node_modules/@polymer/iron-a11y-keys/iron-a11y-keys.js","./node_modules/@polymer/paper-icon-button/paper-icon-button.js","./node_modules/@polymer/iron-icons/iron-icons.js","./node_modules/@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js","./node_modules/@lrnwebcomponents/simple-colors/simple-colors.js","./node_modules/@lrnwebcomponents/responsive-grid/lib/responsive-grid-row.js","./node_modules/@lrnwebcomponents/responsive-grid/lib/responsive-grid-col.js"],function(a,b,c,d,f,g,h,k,l){"use strict";function o(){var q=babelHelpers.taggedTemplateLiteral(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"simple-colors\">\n        :host {\n          display: block;\n        }\n\n        responsive-grid-col {\n          --responsive-grid-col-inner: {\n            padding-left: 0;\n            padding-right: 0;\n          }\n        }\n\n        responsive-grid-row {\n          --responsive-grid-row-inner: {\n            margin-left: 0;\n            margin-right: 0;\n          }\n        }\n\n        :host([edit-mode]) responsive-grid-col.mover {\n          min-height: 150px;\n          background-color: #d1d1d1;\n        }\n\n        :host responsive-grid-row ::slotted(*) .mover,\n        :host responsive-grid-col[data-draggable].mover {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n        }\n\n        :host responsive-grid-row ::slotted(*) .active-item {\n          outline: 2px dashed #aaaaaa !important;\n          outline-offset: 2px;\n          background-color: rgba(220, 220, 220, 0.6) !important;\n        }\n\n        :host responsive-grid-row ::slotted(*) [data-draggable]:focus,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:hover,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:active {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n          cursor: move !important;\n        }\n\n        paper-icon-button {\n          display: none;\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          outline: none;\n          width: 20px;\n          height: 20px;\n          color: black;\n          background-color: #eeeeee;\n          border-radius: 50%;\n          box-sizing: content-box !important;\n          z-index: 1;\n          min-width: unset;\n        }\n\n        paper-icon-button.active {\n          display: block;\n        }\n\n        .button-holding-pen {\n          position: relative;\n        }\n      </style>\n    </custom-style>\n    <div class=\"button-holding-pen\">\n      <paper-icon-button\n        icon=\"icons:arrow-upward\"\n        title=\"move item up\"\n        id=\"up\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-forward\"\n        title=\"move item right\"\n        id=\"right\"\n        on-tap=\"moveActiveElement\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-downward\"\n        title=\"move item down\"\n        id=\"down\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-back\"\n        title=\"move item left\"\n        id=\"left\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n    </div>\n    <responsive-grid-row gutter=\"0\">\n      <template is=\"dom-if\" if=\"[[!hideCol1]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col1\"\n          style$=\"background-color:[[__col1Color]];\"\n          xl$=\"[[col1_xl]]\"\n          lg$=\"[[col1_lg]]\"\n          md$=\"[[col1_md]]\"\n          sm$=\"[[col1_sm]]\"\n          xs$=\"[[col1_xs]]\"\n        >\n          <slot name=\"col-1\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol2]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col2\"\n          style$=\"background-color:[[__col2Color]];\"\n          xl$=\"[[col2_xl]]\"\n          lg$=\"[[col2_lg]]\"\n          md$=\"[[col2_md]]\"\n          sm$=\"[[col2_sm]]\"\n          xs$=\"[[col2_xs]]\"\n        >\n          <slot name=\"col-2\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol3]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col3\"\n          style$=\"background-color:[[__col3Color]];\"\n          xl$=\"[[col3_xl]]\"\n          lg$=\"[[col3_lg]]\"\n          md$=\"[[col3_md]]\"\n          sm$=\"[[col3_sm]]\"\n          xs$=\"[[col3_xs]]\"\n        >\n          <slot name=\"col-3\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol4]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col4\"\n          style$=\"background-color:[[__col4Color]];\"\n          xl$=\"[[col4_xl]]\"\n          lg$=\"[[col4_lg]]\"\n          md$=\"[[col4_md]]\"\n          sm$=\"[[col4_sm]]\"\n          xs$=\"[[col4_xs]]\"\n        >\n          <slot name=\"col-4\"></slot>\n        </responsive-grid-col>\n      </template>\n      <responsive-grid-col xl=\"12\" lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\n        <slot></slot>\n      </responsive-grid-col>\n    </responsive-grid-row>\n    <iron-a11y-keys\n      stop-keyboard-event-propagation\n      target=\"[[__activeItem]]\"\n      keys=\"enter\"\n      on-keys-pressed=\"setActiveElement\"\n    ></iron-a11y-keys>\n    <iron-a11y-keys\n      target=\"[[__activeItem]]\"\n      keys=\"esc\"\n      on-keys-pressed=\"cancelActive\"\n    ></iron-a11y-keys>\n  "],["\n    <custom-style>\n      <style is=\"custom-style\" include=\"simple-colors\">\n        :host {\n          display: block;\n        }\n\n        responsive-grid-col {\n          --responsive-grid-col-inner: {\n            padding-left: 0;\n            padding-right: 0;\n          }\n        }\n\n        responsive-grid-row {\n          --responsive-grid-row-inner: {\n            margin-left: 0;\n            margin-right: 0;\n          }\n        }\n\n        :host([edit-mode]) responsive-grid-col.mover {\n          min-height: 150px;\n          background-color: #d1d1d1;\n        }\n\n        :host responsive-grid-row ::slotted(*) .mover,\n        :host responsive-grid-col[data-draggable].mover {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n        }\n\n        :host responsive-grid-row ::slotted(*) .active-item {\n          outline: 2px dashed #aaaaaa !important;\n          outline-offset: 2px;\n          background-color: rgba(220, 220, 220, 0.6) !important;\n        }\n\n        :host responsive-grid-row ::slotted(*) [data-draggable]:focus,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:hover,\n        :host responsive-grid-row ::slotted(*) [data-draggable]:active {\n          outline: 2px dotted #d1d1d1;\n          outline-offset: 2px;\n          background-color: rgba(240, 240, 240, 0.2);\n          cursor: move !important;\n        }\n\n        paper-icon-button {\n          display: none;\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          outline: none;\n          width: 20px;\n          height: 20px;\n          color: black;\n          background-color: #eeeeee;\n          border-radius: 50%;\n          box-sizing: content-box !important;\n          z-index: 1;\n          min-width: unset;\n        }\n\n        paper-icon-button.active {\n          display: block;\n        }\n\n        .button-holding-pen {\n          position: relative;\n        }\n      </style>\n    </custom-style>\n    <div class=\"button-holding-pen\">\n      <paper-icon-button\n        icon=\"icons:arrow-upward\"\n        title=\"move item up\"\n        id=\"up\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-forward\"\n        title=\"move item right\"\n        id=\"right\"\n        on-tap=\"moveActiveElement\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-downward\"\n        title=\"move item down\"\n        id=\"down\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n      <paper-icon-button\n        icon=\"icons:arrow-back\"\n        title=\"move item left\"\n        id=\"left\"\n        on-tap=\"moveActiveElement\"\n      >\n      </paper-icon-button>\n    </div>\n    <responsive-grid-row gutter=\"0\">\n      <template is=\"dom-if\" if=\"[[!hideCol1]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col1\"\n          style\\$=\"background-color:[[__col1Color]];\"\n          xl\\$=\"[[col1_xl]]\"\n          lg\\$=\"[[col1_lg]]\"\n          md\\$=\"[[col1_md]]\"\n          sm\\$=\"[[col1_sm]]\"\n          xs\\$=\"[[col1_xs]]\"\n        >\n          <slot name=\"col-1\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol2]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col2\"\n          style\\$=\"background-color:[[__col2Color]];\"\n          xl\\$=\"[[col2_xl]]\"\n          lg\\$=\"[[col2_lg]]\"\n          md\\$=\"[[col2_md]]\"\n          sm\\$=\"[[col2_sm]]\"\n          xs\\$=\"[[col2_xs]]\"\n        >\n          <slot name=\"col-2\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol3]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col3\"\n          style\\$=\"background-color:[[__col3Color]];\"\n          xl\\$=\"[[col3_xl]]\"\n          lg\\$=\"[[col3_lg]]\"\n          md\\$=\"[[col3_md]]\"\n          sm\\$=\"[[col3_sm]]\"\n          xs\\$=\"[[col3_xs]]\"\n        >\n          <slot name=\"col-3\"></slot>\n        </responsive-grid-col>\n      </template>\n      <template is=\"dom-if\" if=\"[[!hideCol4]]\" strip-whitespace>\n        <responsive-grid-col\n          id=\"col4\"\n          style\\$=\"background-color:[[__col4Color]];\"\n          xl\\$=\"[[col4_xl]]\"\n          lg\\$=\"[[col4_lg]]\"\n          md\\$=\"[[col4_md]]\"\n          sm\\$=\"[[col4_sm]]\"\n          xs\\$=\"[[col4_xs]]\"\n        >\n          <slot name=\"col-4\"></slot>\n        </responsive-grid-col>\n      </template>\n      <responsive-grid-col xl=\"12\" lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\n        <slot></slot>\n      </responsive-grid-col>\n    </responsive-grid-row>\n    <iron-a11y-keys\n      stop-keyboard-event-propagation\n      target=\"[[__activeItem]]\"\n      keys=\"enter\"\n      on-keys-pressed=\"setActiveElement\"\n    ></iron-a11y-keys>\n    <iron-a11y-keys\n      target=\"[[__activeItem]]\"\n      keys=\"esc\"\n      on-keys-pressed=\"cancelActive\"\n    ></iron-a11y-keys>\n  "]);return o=function(){return q},q}Object.defineProperty(a,"__esModule",{value:!0}),a.GridPlate=void 0,d=babelHelpers.interopRequireWildcard(d);var p=(0,b.Polymer)({_template:(0,b.html)(o()),is:"grid-plate",listeners:{focusin:"_focusIn",focusout:"_focusOut"},behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{layout:{type:String,value:"12",observer:"_layoutChanged"},editMode:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_editModeChanged"},colors:{type:String,value:""},col1Color:{type:String,value:""},col2Color:{type:String,value:""},col3Color:{type:String,value:""},col4Color:{type:String,value:""},_colors:{type:String,computed:"_colorCreation(colors, col1Color, col2Color, col3Color, col4Color)",observer:"_colColors"},__activeItem:{type:Object,observer:"_activeItemChanged"}},cancelActive:function(){this.__activeItem=null},moveActiveElement:function(r){var s=this,t=(0,c.dom)(r),u=t.localTarget,v=this.__activeItem.getAttribute("slot").split("-"),w=1,x=[1,2,3,4];for(var y in x)this["hideCol"+x[y]]||(w=x[y]);switch(u.id){case"up":null!==this.__activeItem.previousElementSibling&&(0,c.dom)(this).insertBefore(this.__activeItem,this.__activeItem.previousElementSibling);break;case"down":null!==this.__activeItem.nextElementSibling&&(0,c.dom)(this).insertBefore(this.__activeItem.nextElementSibling,this.__activeItem);break;case"left":1<parseInt(v[1])&&(this.__activeItem.setAttribute("slot","col-"+(parseInt(v[1])-1)),(0,c.dom)(this).appendChild(this.__activeItem));break;case"right":parseInt(v[1])<w&&(this.__activeItem.setAttribute("slot","col-"+(parseInt(v[1])+1)),(0,c.dom)(this).appendChild(this.__activeItem));}setTimeout(function(){s.positionArrows(s.__activeItem),s.__activeItem.focus()},100)},_activeItemChanged:function(r,s){babelHelpers.typeof(r)!=="undefined"&&null!=r?(r.classList.add("active-item"),this.positionArrows(r)):null==r&&this.positionArrows(r),babelHelpers.typeof(s)!=="undefined"&&null!=s&&(s.classList.remove("active-item"),s.blur())},setActiveElement:function(r){var s=(0,c.dom)(r),t=s.localTarget;this.$.up.focus(),r.preventDefault(),r.stopPropagation()},_focusIn:function(r){if(this.editMode){var s=(0,c.dom)(r),t=s.localTarget;(0,c.dom)(t).parentNode===this&&(this.__activeItem=t)}},_focusOut:function(r){if(this.editMode){var s=(0,c.dom)(r),t=s.localTarget;t.parentNode!==this&&document.activeElement.parentNode!==this&&document.activeElement!==this}},positionArrows:function(r){if(null==r)this.$.up.classList.remove("active"),this.$.down.classList.remove("active"),this.$.left.classList.remove("active"),this.$.right.classList.remove("active");else{this.$.up.classList.add("active"),this.$.down.classList.add("active"),this.$.left.classList.add("active"),this.$.right.classList.add("active"),this.$.up.disabled=!1,this.$.down.disabled=!1,this.$.left.disabled=!1,this.$.right.disabled=!1;var s=this.getBoundingClientRect(),t=r.getBoundingClientRect(),u=t.top-s.top,v=t.left-s.left;this.$.up.style.top=u-20+"px",this.$.down.style.top=u+t.height+"px",this.$.left.style.top=u+t.height/2+"px",this.$.right.style.top=u+t.height/2+"px",this.$.up.style.left=v+t.width/2-10+"px",this.$.down.style.left=v+t.width/2-10+"px",this.$.left.style.left=v-20+"px",this.$.right.style.left=v+t.width+"px";var w=r.getAttribute("slot").split("-"),x=1,y=[1,2,3,4];for(var z in y)this["hideCol"+y[z]]||(x=y[z]);null===r.previousElementSibling&&(this.$.up.disabled=!0),null===r.nextElementSibling&&(this.$.down.disabled=!0),1===parseInt(w[1])&&(this.$.left.disabled=!0),parseInt(w[1])===x&&(this.$.right.disabled=!0)}},_editModeChanged:function(r,s){var t=this,u=(0,c.dom)(this).getEffectiveChildNodes();if("object"===babelHelpers.typeof(u))if(r&&!s){for(var v in u)babelHelpers.typeof(u[v].tagName)!=="undefined"&&(u[v].addEventListener("drop",this.dropEvent.bind(this)),u[v].addEventListener("dragstart",this.dragStart.bind(this)),u[v].addEventListener("dragend",this.dragEnd.bind(this)),u[v].addEventListener("dragover",function(w){w.preventDefault()}),u[v].setAttribute("draggable",!0),u[v].setAttribute("data-draggable",!0),u[v].setAttribute("tabindex",0));d.microTask.run(function(){var w=[1,2,3,4];for(var x in w)t["hideCol"+w[x]]||(t.shadowRoot.querySelector("#col"+w[x]).addEventListener("drop",t.dropEvent.bind(t)),t.shadowRoot.querySelector("#col"+w[x]).addEventListener("dragstart",t.dragStart.bind(t)),t.shadowRoot.querySelector("#col"+w[x]).addEventListener("dragend",t.dragEnd.bind(t)),t.shadowRoot.querySelector("#col"+w[x]).addEventListener("dragover",function(y){y.preventDefault()}),t.shadowRoot.querySelector("#col"+w[x]).setAttribute("data-draggable",!0))})}else if(!r&&s){for(var v in u)babelHelpers.typeof(u[v].tagName)!=="undefined"&&(u[v].removeEventListener("drop",this.dropEvent.bind(this)),u[v].removeEventListener("dragstart",this.dragStart.bind(this)),u[v].removeEventListener("dragend",this.dragEnd.bind(this)),u[v].removeEventListener("dragover",function(w){w.preventDefault()}),u[v].removeAttribute("draggable"),u[v].removeAttribute("data-draggable"),u[v].removeAttribute("tabindex"));d.microTask.run(function(){var w=[1,2,3,4];for(var x in w)t["hideCol"+w[x]]||(t.shadowRoot.querySelector("#col"+w[x]).removeEventListener("drop",t.dropEvent.bind(t)),t.shadowRoot.querySelector("#col"+w[x]).removeEventListener("dragstart",t.dragStart.bind(t)),t.shadowRoot.querySelector("#col"+w[x]).removeEventListener("dragend",t.dragEnd.bind(t)),t.shadowRoot.querySelector("#col"+w[x]).removeEventListener("dragover",function(y){y.preventDefault()}),t.shadowRoot.querySelector("#col"+w[x]).removeAttribute("data-draggable"))})}},dropEvent:function(r){var s=this,t=(0,c.dom)(r),u=t.localTarget;if(babelHelpers.typeof(this.__activeItem)!=="undefined"&&babelHelpers.typeof(u)!=="undefined"&&null!=u.getAttribute("slot")&&this.__activeItem!==u)this.__activeItem.setAttribute("slot",u.getAttribute("slot")),(0,c.dom)(this).insertBefore(this.__activeItem,u),r.preventDefault(),r.stopPropagation();else if("RESPONSIVE-GRID-COL"===u.tagName){var v=u.id.replace("col","");this.__activeItem.setAttribute("slot","col-"+v),(0,c.dom)(this).appendChild(this.__activeItem),r.preventDefault(),r.stopPropagation()}var w=(0,c.dom)(this).children;for(var x in w)babelHelpers.typeof(w[x].classList)!=="undefined"&&w[x].classList.remove("mover");var y=[1,2,3,4];for(var z in y)this["hideCol"+y[z]]||this.shadowRoot.querySelector("#col"+y[z]).classList.remove("mover");setTimeout(function(){s.positionArrows(s.__activeItem),s.__activeItem.focus()},100)},_colorCreation:function(r,s,t,u,v){var w=r.split("/"),x=[s,t,u,v];for(var y in x)""!=x[y]&&(w[y]=x[y]);return w},dragStart:function(){var s=(0,c.dom)(this).children;for(var t in s)babelHelpers.typeof(s[t].classList)!=="undefined"&&s[t].classList.add("mover");var u=[1,2,3,4];for(var v in u)this["hideCol"+u[v]]||this.shadowRoot.querySelector("#col"+u[v]).classList.add("mover")},dragEnd:function(){var s=(0,c.dom)(this).children;for(var t in s)babelHelpers.typeof(s[t].classList)!=="undefined"&&s[t].classList.remove("mover");var u=[1,2,3,4];for(var v in u)this["hideCol"+u[v]]||this.shadowRoot.querySelector("#col"+u[v]).classList.remove("mover")},splitColor:function(r){return""!=r&&babelHelpers.typeof(l.SimpleColors.colors[r])!=="undefined"?l.SimpleColors.colors[r][0]:r},_colColors:function(r){if(""!=r)for(var t in r)this["__col"+(parseInt(t)+1)+"Color"]=this.splitColor(r[t])},_layoutChanged:function(r){var s=r.split("/");switch(this.__colCount=s.length,s.length){case 1:this.hideCol1=!1,this.hideCol2=!0,this.hideCol3=!0,this.hideCol4=!0;break;case 2:this.hideCol1=!1,this.hideCol2=!1,this.hideCol3=!0,this.hideCol4=!0;break;case 3:this.hideCol1=!1,this.hideCol2=!1,this.hideCol3=!1,this.hideCol4=!0;break;case 4:this.hideCol1=!1,this.hideCol2=!1,this.hideCol3=!1,this.hideCol4=!1;}for(var t in s){var u=+t+1;this["col"+u+"_xl"]=s[t],this["col"+u+"_lg"]=s[t],this["col"+u+"_md"]=s[t],this["col"+u+"_sm"]=s[t],this["col"+u+"_xs"]=s[t]}},attached:function(){document.body.addEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),document.body.addEventListener("hax-insert-content",this.haxInsertContent.bind(this));var r=[];for(var s in l.SimpleColors.colors)r[s]=s;this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,settings:{quick:[],configure:[{property:"layout",title:"Layout",description:"Style to present these items",inputMethod:"select",options:{12:"1 col, full width","8/4":"2 cols, 66% / 33% split","6/6":"2 cols, 50% split","4/8":"2 cols, 33% / 66% split","4/4/4":"3 cols, 33% each","3/3/3/3":"4 cols, 25% each"}},{property:"col1Color",title:"Col 1 color",description:"Color for the 1st column",inputMethod:"select",options:r},{property:"col2Color",title:"Col 2 color",description:"Color for the 1st column",inputMethod:"select",options:r},{property:"col3Color",title:"Col 3 color",description:"Color for the 1st column",inputMethod:"select",options:r},{property:"col4Color",title:"Col 4 color",description:"Color for the 1st column",inputMethod:"select",options:r}],advanced:[]},saveOptions:{unsetAttributes:["__active-item","_colors","edit-mode"]}})},haxInsertContent:function(){var s=this;this===window.HaxStore.instance.activeContainerNode&&(this.editMode=!1,setTimeout(function(){s.editMode=!0,s.positionArrows(s.__activeItem),s.__activeItem.focus()},250))},_haxStorePropertyUpdated:function(r){r.detail&&babelHelpers.typeof(r.detail.value)!=="undefined"&&r.detail.property&&("object"===babelHelpers.typeof(r.detail.value)&&this.set(r.detail.property,null),this.set(r.detail.property,r.detail.value))}});a.GridPlate=p});