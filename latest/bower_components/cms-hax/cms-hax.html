<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../hax-body/hax-store.html"><link rel="import" href="../hax-body/hax-body.html"><link rel="import" href="../hax-body/hax-autoloader.html"><link rel="import" href="../hax-body/hax-manager.html"><link rel="import" href="../hax-body/hax-panel.html"><link rel="import" href="../hax-body/hax-app-picker.html"><link rel="import" href="../hax-body/hax-export-dialog.html"><link rel="import" href="../iron-ajax/iron-ajax.html"><link rel="import" href="../paper-toast/paper-toast.html"><link rel="import" href="cms-token.html"><link rel="import" href="cms-block.html"><link rel="import" href="cms-views.html"><link rel="import" href="cms-entity.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-scroll-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../media-behaviors/media-behaviors.html"><link rel="prefetch" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="prefetch" href="../iron-ajax/iron-request.html"><link rel="prefetch" href="../hax-body/hax-app.html"><link rel="prefetch" href="../hax-body/hax-stax.html"><link rel="prefetch" href="../hax-body/hax-stax-browser.html"><link rel="prefetch" href="../iron-list/iron-list.html"><link rel="prefetch" href="../iron-scroll-target-behavior/iron-scroll-target-behavior.html"><link rel="prefetch" href="../hax-body/hax-stax-browser-item.html"><link rel="prefetch" href="../paper-button/paper-button.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="../paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../paper-card/paper-card.html"><link rel="prefetch" href="../iron-image/iron-image.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../materializecss-styles/colors.html"><link rel="prefetch" href="../hax-body/hax-blox.html"><link rel="prefetch" href="../hax-body/hax-blox-browser.html"><link rel="prefetch" href="../hax-body/hax-blox-browser-item.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../hax-body/hax-icons.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../paper-menu/paper-menu.html"><link rel="prefetch" href="../iron-menu-behavior/iron-menu-behavior.html"><link rel="prefetch" href="../iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selection.html"><link rel="prefetch" href="../paper-menu/paper-menu-shared-styles.html"><link rel="prefetch" href="../paper-item/paper-item.html"><link rel="prefetch" href="../paper-item/paper-item-behavior.html"><link rel="prefetch" href="../paper-item/paper-item-shared-styles.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../grid-plate/grid-plate.html"><link rel="prefetch" href="../simple-colors/simple-colors.html"><link rel="prefetch" href="../simple-colors/simple-colors-behaviors.html"><link rel="prefetch" href="../iron-a11y-keys/iron-a11y-keys.html"><link rel="prefetch" href="../paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../responsive-grid/responsive-grid-row.html"><link rel="prefetch" href="../responsive-utility/responsive-utility.html"><link rel="prefetch" href="../responsive-grid/responsive-grid-col.html"><link rel="prefetch" href="../responsive-grid/responsive-grid-clear.html"><link rel="prefetch" href="../hax-body/hax-text-context.html"><link rel="prefetch" href="../md-extra-icons/md-extra-icons.html"><link rel="prefetch" href="../app-layout/app-toolbar/app-toolbar.html"><link rel="prefetch" href="../iron-icons/iron-icons.html"><link rel="prefetch" href="../hax-body/hax-context-item-menu.html"><link rel="prefetch" href="../paper-tooltip/paper-tooltip.html"><link rel="prefetch" href="../neon-animation/web-animations.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.js"><link rel="prefetch" href="../hax-body/hax-toolbar-menu.html"><link rel="prefetch" href="../iron-icons/editor-icons.html"><link rel="prefetch" href="../iron-icons/device-icons.html"><link rel="prefetch" href="../iron-icons/hardware-icons.html"><link rel="prefetch" href="../iron-icons/social-icons.html"><link rel="prefetch" href="../iron-icons/av-icons.html"><link rel="prefetch" href="../iron-icons/maps-icons.html"><link rel="prefetch" href="../paper-listbox/paper-listbox.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown.html"><link rel="prefetch" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown-scroll-manager.html"><link rel="prefetch" href="../neon-animation/animations/fade-in-animation.html"><link rel="prefetch" href="../neon-animation/neon-animation-behavior.html"><link rel="prefetch" href="../neon-animation/animations/fade-out-animation.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button-animations.html"><link rel="prefetch" href="../hax-body/hax-context-item.html"><link rel="prefetch" href="../iron-icons/image-icons.html"><link rel="prefetch" href="../hax-body/hax-toolbar-item.html"><link rel="prefetch" href="../hax-body/hax-context-item-textop.html"><link rel="prefetch" href="../hax-body/hax-toolbar.html"><link rel="prefetch" href="../paper-slider/paper-slider.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-range-behavior/iron-range-behavior.html"><link rel="prefetch" href="../paper-input/paper-input.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"><link rel="prefetch" href="../paper-progress/paper-progress.html"><link rel="prefetch" href="../hax-body/hax-inline-context.html"><link rel="prefetch" href="../hax-body/hax-ce-context.html"><link rel="prefetch" href="../paper-input/paper-textarea.html"><link rel="prefetch" href="../iron-autogrow-textarea/iron-autogrow-textarea.html"><link rel="prefetch" href="../paper-checkbox/paper-checkbox.html"><link rel="prefetch" href="../paper-behaviors/paper-checked-element-behavior.html"><link rel="prefetch" href="../iron-checked-element-behavior/iron-checked-element-behavior.html"><link rel="prefetch" href="../paper-swatch-picker/paper-swatch-picker.html"><link rel="prefetch" href="../paper-swatch-picker/paper-swatch-picker-icon.html"><link rel="prefetch" href="../hax-body/hax-plate-context.html"><link rel="prefetch" href="../hax-body/hax-input-mixer.html"><link rel="prefetch" href="../app-layout/app-drawer/app-drawer.html"><link rel="prefetch" href="../iron-pages/iron-pages.html"><link rel="prefetch" href="../vaadin-upload/vaadin-upload.html"><link rel="prefetch" href="../vaadin-upload/vaadin-upload-icons.html"><link rel="prefetch" href="../vaadin-upload/vaadin-upload-file.html"><link rel="prefetch" href="../materializecss-styles/materializecss-styles.html"><link rel="prefetch" href="../materializecss-styles/shapes.html"><link rel="prefetch" href="../hax-body/hax-preview.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-wizard.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout-classes.html"><link rel="prefetch" href="../paper-toolbar/paper-toolbar.html"><link rel="prefetch" href="../app-localize-behavior/app-localize-behavior.html"><link rel="prefetch" href="../intl-messageformat/dist/intl-messageformat.min.js"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-object.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-array.html"><link rel="prefetch" href="../paper-collapse-item/paper-collapse-item.html"><link rel="prefetch" href="../iron-collapse/iron-collapse.html"><link rel="prefetch" href="../paper-item/paper-item-body.html"><link rel="prefetch" href="../paper-styles/paper-styles.html"><link rel="prefetch" href="../paper-collapse-item/simple-paper-item.html"><link rel="prefetch" href="../paper-collapse-item/paper-collapse-group.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-boolean.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-enum.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu-icons.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu-shared-styles.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-input.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-file.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-geolocation.html"><link rel="prefetch" href="../iron-icons/communication-icons.html"><link rel="prefetch" href="../geo-location/geo-location.html"><link rel="prefetch" href="../google-map/google-map.html"><link rel="prefetch" href="../google-apis/google-maps-api.html"><link rel="prefetch" href="../iron-jsonp-library/iron-jsonp-library.html"><link rel="prefetch" href="../iron-selector/iron-selector.html"><link rel="prefetch" href="../google-map/google-map-marker.html"><link rel="prefetch" href="../paper-toggle-button/paper-toggle-button.html"><link rel="prefetch" href="../code-editor/code-editor.html"><link rel="prefetch" href="../schema-behaviors/schema-behaviors.html"><link rel="prefetch" href="../juicy-ace-editor/juicy-ace-editor.html"><link rel="prefetch" href="../ace-builds/src-min-noconflict/ace.js"><link rel="prefetch" href="../ace-builds/src-min-noconflict/ext-searchbox.js"><link rel="prefetch" href="../code-editor/code-pen-button.html"><link rel="prefetch" href="../app-datepicker/app-datepicker.html"><link rel="prefetch" href="../app-datepicker/app-datepicker-icons.html"><link rel="prefetch" href="../app-datepicker/app-datepicker-animations.html"><link rel="prefetch" href="../neon-animation/neon-animated-pages.html"><link rel="prefetch" href="../neon-animation/animations/slide-from-left-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-from-right-animation.html"><link rel="prefetch" href="../paper-icon-picker/paper-icon-picker.html"><link rel="prefetch" href="../paper-icon-picker/paper-icon-picker-icon.html"><link rel="prefetch" href="../paper-input-flagged/paper-input-flagged.html"><link rel="prefetch" href="../vaadin-split-layout/vaadin-split-layout.html"><link rel="prefetch" href="../hax-body/hax-app-browser.html"><link rel="prefetch" href="../grafitto-filter/grafitto-filter.html"><link rel="prefetch" href="../dropdown-select/dropdown-select.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.html"><link rel="prefetch" href="../hax-body/hax-app-browser-item.html"><link rel="prefetch" href="../iron-icons/places-icons.html"><link rel="prefetch" href="../hax-body/hax-app-search.html"><link rel="prefetch" href="../elmsln-loading/elmsln-loading.html"><link rel="prefetch" href="../lrn-icons/lrn-icons.html"><link rel="prefetch" href="../hax-body/hax-app-search-inputs.html"><link rel="prefetch" href="../hax-body/hax-app-search-result.html"><link rel="prefetch" href="../hax-body/hax-gizmo-browser.html"><link rel="prefetch" href="../hax-body/hax-gizmo-browser-item.html"><link rel="prefetch" href="../hax-body/hax-panel-item.html"><link rel="prefetch" href="../hax-body/hax-preferences-dialog.html"><link rel="prefetch" href="../hax-body/hax-stax-picker.html"><link rel="prefetch" href="../hax-body/hax-blox-picker.html"><link rel="prefetch" href="../paper-dialog/paper-dialog.html"><link rel="prefetch" href="../paper-dialog-behavior/paper-dialog-behavior.html"><link rel="prefetch" href="../paper-dialog-behavior/paper-dialog-shared-styles.html"><link rel="prefetch" href="../neon-animation/neon-animation.html"><link rel="prefetch" href="../neon-animation/neon-animatable.html"><link rel="prefetch" href="../neon-animation/neon-animations.html"><link rel="prefetch" href="../neon-animation/animations/cascaded-animation.html"><link rel="prefetch" href="../neon-animation/animations/hero-animation.html"><link rel="prefetch" href="../neon-animation/neon-shared-element-animation-behavior.html"><link rel="prefetch" href="../neon-animation/animations/opaque-animation.html"><link rel="prefetch" href="../neon-animation/animations/ripple-animation.html"><link rel="prefetch" href="../neon-animation/animations/reverse-ripple-animation.html"><link rel="prefetch" href="../neon-animation/animations/scale-down-animation.html"><link rel="prefetch" href="../neon-animation/animations/scale-up-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-from-top-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-from-bottom-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-left-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-right-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-up-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-down-animation.html"><link rel="prefetch" href="../neon-animation/animations/transform-animation.html"><link rel="prefetch" href="../neon-animation/neon-shared-element-animatable-behavior.html"><link rel="prefetch" href="../mtz-file-download-behavior/mtz-file-download-behavior.html"><link rel="prefetch" href="../paper-spinner/paper-spinner.html"><link rel="prefetch" href="../paper-spinner/paper-spinner-behavior.html"><link rel="prefetch" href="../paper-spinner/paper-spinner-styles.html"></head><body><dom-module id="cms-hax"><template><style>:host{display:block;font-size:1em;box-sizing:content-box;}</style><iron-ajax id="pageupdateajax" url="[[endPoint]]" method="[[method]]" body="[[updatePageData]]" content-type="application/json" handle-as="json" on-response="_handleUpdateResponse"></iron-ajax><paper-toast id="toast" horizontal-align="left"></paper-toast><hax-store hidden="" app-store="[[appStoreConnection]]" valid-tag-list="[[allowedTags]]"></hax-store><hax-autoloader id="loader" hidden=""></hax-autoloader><hax-panel id="panel" hide-export-button="{{hideExportButton}}" hide-panel-ops="[[hidePanelOps]]" hide-preferences-button="[[hidePreferencesButton]]" align="[[align]]"></hax-panel><hax-body id="body" context-offset-left="[[bodyOffsetLeft]]"></hax-body><hax-manager></hax-manager><hax-app-picker></hax-app-picker><hax-export-dialog></hax-export-dialog><cms-token></cms-token><cms-views></cms-views><cms-block></cms-block><cms-entity></cms-entity></template><script>Polymer({is:'cms-hax',properties:{openDefault:{type:Boolean,value:!1},hideExportButton:{type:Boolean,value:!0},hidePanelOps:{type:Boolean,value:!1},hidePreferencesButton:{type:Boolean,value:!1},align:{type:String,value:'right'},allowedTags:{type:Array},endPoint:{type:String},method:{type:String,value:'PUT'},updatePageData:{type:String},appStoreConnection:{type:Object},bodyOffsetLeft:{type:Number,value:-164},editMode:{type:Boolean,reflectToAttribute:!0},syncBody:{type:Boolean,value:!1},bodyValue:{type:String,value:''},hideMessage:{type:Boolean,value:!1},redirectLocation:{type:String},redirectOnSave:{type:Boolean,computed:'_computeRedirectOnSave(redirectLocation)'},activeHaxBody:{type:Object,observer:'_activeHaxBodyUpdated'},__imported:{type:Boolean,value:!1}},_activeHaxBodyUpdated:function(a){if(null!=a&&!this.__imported){this.__imported=!0;var b=this.queryEffectiveChildren('template');('undefined'===typeof b?'undefined':babelHelpers.typeof(b))!=='undefined'&&a.importContent(b.innerHTML)}},_computeRedirectOnSave:function(a){return('undefined'===typeof a?'undefined':babelHelpers.typeof(a))!=='undefined'},created:function(){document.body.addEventListener('hax-store-property-updated',this._haxStorePropertyUpdated.bind(this))},attached:function(){this.__lock=!1,document.body.addEventListener('hax-save',this._saveFired.bind(this)),this.openDefault&&Polymer.HaxStore.write('editMode',!0,this),this.syncBody&&Polymer.dom(this.$.body).observeNodes(function(){var a=this;this.__lock||(this.__lock=!0,this.fire('hax-body-content-changed',Polymer.HaxStore.instance.activeHaxBody.haxToContent()),setTimeout(function(){a.__lock=!1},100))})},_haxStorePropertyUpdated:function(a){a.detail&&babelHelpers.typeof(a.detail.value)!=='undefined'&&a.detail.property&&('object'===babelHelpers.typeof(a.detail.value)&&this.set(a.detail.property,null),this.set(a.detail.property,a.detail.value))},_saveFired:function(){this.updatePageData=Polymer.HaxStore.instance.activeHaxBody.haxToContent(),this.$.pageupdateajax.generateRequest()},_handleUpdateResponse:function(){var a=this;this.hideMessage||(this.$.toast.show('Saved!'),this.redirectOnSave&&setTimeout(function(){a.$.panel.toggle(),window.location=a.redirectLocation},1e3))}});</script></dom-module></body></html>