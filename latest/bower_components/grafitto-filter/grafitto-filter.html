<html><head><link rel="import" href="../polymer/polymer.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body><dom-module id="grafitto-filter"><template><div id="dom"><content id="template" select="template"></content></div></template></dom-module><script>Polymer({is:'grafitto-filter',properties:{items:{type:Array,value:[]},like:{type:String,value:''},where:{type:String,value:'name'},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:'items'},filtered:{type:Array,computed:'_computeFiltered(items, where, like, caseSensitive)',observer:'_onFilter'},f:{type:Function,notify:!0}},observers:['_populateUserTemplate(filtered)'],behaviors:[Polymer.Templatizer],filter:function(){this.where=''},_computeFiltered:function(a,b,c,d){var e=null;e=d?new RegExp(c):new RegExp(c,'i');var f=[];if(this.f){var g=this.f.bind(this);f=a.filter(g)}else{var h=this._decomposeWhere.bind(this);f=a.filter(function(a){if('object'==('undefined'===typeof a?'undefined':babelHelpers.typeof(a))){var c=h(b,a);return'undefined'==typeof c&&console.warn('grafitto-filter was unable to find a property in \''+b+'\''),e.test(c)}return'string'==typeof a?e.test(a):'number'==typeof a?e.test(a.toString()):void 0})}return f},_populateUserTemplate:function(a){if(this._userTemplate=Polymer.dom(this.$.template).getDistributedNodes()[0],this._userTemplate){this.templatize(this._userTemplate);var b=this.stamp();b[this.as]=a,Polymer.dom(this.$.dom).innerHTML='',Polymer.dom(this.$.dom).appendChild(b.root)}else console.warn('grafitto-filter requires a template to be provided in light-dom')},_decomposeWhere:function(a,b){return a.split('.').reduce(function(c,a){return c&&c[a]},b)},_onFilter:function(){this.fire('filter')}});</script></body></html>