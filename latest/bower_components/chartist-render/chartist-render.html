<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="chartist-lib.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../chartist/dist/chartist.min.js"></head><body><dom-module id="chartist-render"><template><style>:host{display:block;}</style><div id="chart" chart$="[[__chartId]]" class$="ct-chart [[scale]]"></div></template><script>Polymer({is:'chartist-render',listeners:{"chart.tap":'makeChart'},properties:{id:{type:String,value:'chart'},type:{type:String,value:'bar'},scale:{type:String,value:'ct-octave'},chartTitle:{type:String,value:null},chartDesc:{type:String,value:''},data:{type:Object,value:null},options:{type:Object,value:null},responsiveOptions:{type:Array,value:[]},showTable:{type:Boolean,value:!1}},ready:function(){this.__chartId=this._getUniqueId('test-'),null!==this.data&&this.makeChart()},makeChart:function(){var a,b=this;return'bar'==this.type?a=Chartist.Bar('[chart="'+this.__chartId+'"]',this.data,this.options,this.responsiveOptions):'line'==this.type?a=Chartist.Line('[chart="'+this.__chartId+'"]',this.data,this.options,this.responsiveOptions):'pie'==this.type&&(a=Chartist.Pie('[chart="'+this.__chartId+'"]',this.data,this.options,this.responsiveOptions)),a.on('created',function(){b.addA11yFeatures(a.container.childNodes[0])}),a},addA11yFeatures:function(a){for(var b=null===this.chartTitle?'A '+this.type+' chart.':this.chartTitle,c=['<table summary="Each column is a series of data, and the first column is the data label.">','<caption>'+b+'</caption>','<tbody>'],d=0;d<this.data.labels.length;d++){if(c.push('<tr><th scope="row">'+this.data.labels[d]+'</th>'),'pie'==this.type)c.push('<td>'+this.data.series[d]+'</td>');else for(var e=0;e<this.data.series.length;e++)c.push('<td>'+this.data.series[e][d]+'</td>');c.push('</tr>')}c.push('</tbody></table>'),this._addA11yFeature(a,'desc',this.chartDesc+c.join('')),this._addA11yFeature(a,'title',b),a.setAttribute('aria-labelledby',this.__chartId+'-chart-title '+this.__chartId+'-chart-desc')},_addA11yFeature:function(a,b,c){var d=document.createElement(b),e=a.childNodes[0];d.innerHTML=c,d.setAttribute('id',this.__chartId+'-chart-'+b),a.insertBefore(d,e)},_getUniqueId:function(a){for(var b=a+Date.now();null!==document.querySelector('[chart="'+b+'"]');)b=a+Date.now();return b}});</script></dom-module></body></html>