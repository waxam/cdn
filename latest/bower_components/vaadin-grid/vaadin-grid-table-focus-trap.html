<html><head><link rel="import" href="../polymer/polymer.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body><dom-module id="vaadin-grid-table-focus-trap"><template><style>:host{position:absolute;z-index:-3;height:0;overflow:hidden;}:host(:focus),
     .primary:focus,
     ::slotted(.primary:focus),
     .secondary:focus,
     ::slotted(.secondary:focus){outline:none;}</style><div class="primary" tabindex="0" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><div class="secondary" tabindex="-1" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><slot></slot></template><script>Polymer({is:'vaadin-grid-table-focus-trap',hostAttributes:{role:'gridcell'},properties:{activeTarget:{type:String,observer:'_activeTargetChanged'}},ready:function(){this._primary=Polymer.dom(this.root).querySelector('.primary'),this._secondary=Polymer.dom(this.root).querySelector('.secondary'),(Polymer.Settings.useNativeShadow||Polymer.Settings.useShadow)&&(Polymer.dom(this).appendChild(this._secondary),Polymer.dom(this).appendChild(this._primary))},focus:function(){this._focused===this._primary?this._secondary.focus():this._primary.focus()},_onBaitFocus:function(a){this._focused=a.target,this._movingFocusInternally||(this.fire('focus-gained'),this._primary.tabIndex=-1)},_onBaitBlur:function(){this._movingFocusInternally||(this.fire('focus-lost'),this._primary.tabIndex=0)},_activeTargetChanged:function(a){this._movingFocusInternally=!0,this._focused===this._primary?(this._secondary.setAttribute('aria-labelledby',a),this._secondary.focus()):(this._primary.setAttribute('aria-labelledby',a),this._primary.focus()),this._movingFocusInternally=!1},_reannounce:function(){this._movingFocusInternally=!0,this._focused===this._primary?(this._secondary.setAttribute('aria-labelledby',this.activeTarget),this._secondary.focus()):(this._primary.setAttribute('aria-labelledby',this.activeTarget),this._primary.focus()),this._movingFocusInternally=!1}});</script></dom-module></body></html>