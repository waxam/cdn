<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="import" href="vaadin-grid-active-item-behavior.html"><link rel="import" href="vaadin-grid-table-scroll-behavior.html"><link rel="import" href="vaadin-grid-sizer.html"><link rel="import" href="vaadin-grid-table-outer-scroller.html"><link rel="import" href="vaadin-grid-table-header-footer.html"><link rel="import" href="vaadin-grid-table-cell.html"><link rel="import" href="vaadin-grid-table-focus-trap.html"><link rel="import" href="vaadin-grid-table-row.html"><link rel="import" href="vaadin-grid-row-details-behavior.html"><link rel="import" href="vaadin-grid-data-provider-behavior.html"><link rel="import" href="vaadin-grid-selection-behavior.html"><link rel="import" href="vaadin-grid-keyboard-navigation-behavior.html"><link rel="import" href="vaadin-grid-column-reordering-behavior.html"><link rel="import" href="iron-list-behavior.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-scroll-target-behavior/iron-scroll-target-behavior.html"><link rel="prefetch" href="vaadin-grid-cell-click-behavior.html"><link rel="prefetch" href="vaadin-grid-focusable-cell-container-behavior.html"><link rel="prefetch" href="vaadin-grid-templatizer.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"></head><body><dom-module id="vaadin-grid-table-styles"><template><style>@keyframes appear{to{opacity:1;}}vaadin-grid-table{display:block;position:relative;animation:1ms appear;}@media only screen and (-webkit-max-device-pixel-ratio: 1){:host{will-change:transform;}}#items{position:relative;}#items{border-top:0 solid transparent;border-bottom:0 solid transparent;}#items > .vaadin-grid-row{box-sizing:border-box;margin:0;position:absolute;}vaadin-grid-table-body{display:block;}vaadin-grid-table-header .vaadin-grid-cell,
      vaadin-grid-table-footer .vaadin-grid-cell{top:0;}.vaadin-grid-cell{padding:0;flex-shrink:0;flex-grow:1;box-sizing:border-box;display:flex;}.vaadin-grid-cell:not([detailscell]){position:relative;}.vaadin-grid-cell ::slotted(vaadin-grid-cell-content){width:100%;display:inline-flex;justify-content:center;flex-direction:column;white-space:nowrap;overflow:hidden;}.vaadin-grid-column-resize-handle{position:absolute;right:0;height:100%;cursor:col-resize;z-index:1;}.vaadin-grid-column-resize-handle::before{position:absolute;content:"";height:100%;width:35px;transform:translateX(-50%);}[lastcolumn] .vaadin-grid-column-resize-handle::before,
      [last-frozen] .vaadin-grid-column-resize-handle::before{width:18px;transform:translateX(-100%);}vaadin-grid-table[column-reordering-allowed] #header,
      vaadin-grid-table[column-resizing]{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none;}vaadin-grid-table[column-resizing]{cursor:col-resize;}.vaadin-grid-row:not([hidden]){display:flex;width:100%;}[frozen]{z-index:2;}[hidden]{display:none;}vaadin-grid-table[no-content-pointer-events] .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){pointer-events:none;}</style></template></dom-module><dom-module id="vaadin-grid-table-table-styles"><template><style>:host([ios][column-resizing]) #outerscroller{overflow:hidden;}#fixedsizer,
      #outersizer{border-top:0 solid transparent;border-bottom:0 solid transparent;}#table{height:100%;width:100%;display:block;overflow:auto;box-sizing:border-box;}#table[overflow-hidden],
      #outerscroller[overflow-hidden]{overflow:hidden;}vaadin-grid-sizer{position:relative;width:100%;}#sizerwrapper{position:absolute;width:100%;z-index:-100;}#reorderghost{visibility:hidden;position:fixed;opacity:0.5;pointer-events:none;}::slotted(vaadin-grid-column),
      ::slotted(vaadin-grid-selection-column),
      ::slotted(vaadin-grid-column-group){display:none;}</style></template></dom-module><dom-module id="vaadin-grid-table-themability-styles"><template><style>vaadin-grid-table-header .vaadin-grid-row:last-child .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){border-bottom:1px solid var(--divider-color, rgba(0, 0, 0, 0.08));}vaadin-grid-table-footer .vaadin-grid-row:first-child .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){border-top:1px solid var(--divider-color, rgba(0, 0, 0, 0.08));}vaadin-grid-table-body .vaadin-grid-row:not([lastrow]) .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){border-bottom:1px solid var(--divider-color, rgba(0, 0, 0, 0.08));}[last-frozen] ::slotted(vaadin-grid-cell-content){border-right:1px solid var(--divider-color, rgba(0, 0, 0, 0.08));}.vaadin-grid-column-resize-handle{border-right:1px solid var(--divider-color, rgba(0, 0, 0, 0.08));@apply (--vaadin-grid-column-resize-handle);}vaadin-grid-table .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){background:#fff;text-align:left;padding:8px;box-sizing:border-box;@apply (--vaadin-grid-cell);}vaadin-grid-table-header .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){font-weight:500;@apply (--vaadin-grid-header-cell);}vaadin-grid-table-footer .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){font-weight:500;@apply (--vaadin-grid-footer-cell);}vaadin-grid-table-body .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){@apply (--vaadin-grid-body-cell);}vaadin-grid-table-body [odd] .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){@apply (--vaadin-grid-body-row-odd-cell);}vaadin-grid-table .vaadin-grid-row .vaadin-grid-cell:not([detailscell])[last-frozen] ::slotted(vaadin-grid-cell-content){@apply (--vaadin-grid-cell-last-frozen);}vaadin-grid-table:not([scrolling]) vaadin-grid-table-body .vaadin-grid-row:hover .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){@apply (--vaadin-grid-body-row-hover-cell);}vaadin-grid-table .vaadin-grid-row .vaadin-grid-cell.vaadin-grid-cell[lastcolumn] ::slotted(vaadin-grid-cell-content){border-right:none;}</style></template></dom-module><dom-module id="vaadin-grid-table"><template><style include="vaadin-grid-table-table-scroll-styles"></style><style include="vaadin-grid-table-table-styles"></style><style include="vaadin-grid-data-provider-themability-styles"></style><div id="spinner"></div><div id="table" tabindex="-1" overflow-hidden$="[[_hideTableOverflow(scrollbarWidth, safari)]]"><div id="sizerwrapper"><vaadin-grid-sizer id="fixedsizer" top="[[_estScrollHeight]]" column-tree="[[columnTree]]"></vaadin-grid-sizer></div><slot name="header"></slot><slot name="items"></slot><slot name="footer"></slot></div><div id="reorderghost"></div><vaadin-grid-table-outer-scroller id="outerscroller" scroll-target="[[scrollTarget]]" overflow-hidden$="[[_hideOuterScroller(scrollbarWidth, safari)]]" ios$="[[ios]]" scrolling$="[[scrolling]]"><vaadin-grid-sizer id="outersizer" top="[[_estScrollHeight]]" column-tree="[[columnTree]]"></vaadin-grid-sizer></vaadin-grid-table-outer-scroller><slot></slot><slot name="footerFocusTrap"></slot></template></dom-module><script>Polymer({is:'vaadin-grid-table',behaviors:[vaadin.elements.grid.IronListBehavior,vaadin.elements.grid.TableScrollBehavior,vaadin.elements.grid.TableColumnReorderingBehavior,Polymer.Templatizer],properties:{size:Number,columnTree:Array,bindData:Function,rowDetailsTemplate:Object,columnReorderingAllowed:{type:Boolean,reflectToAttribute:!0},safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},scrollbarWidth:{type:Number,value:function(){var a=document.createElement('div');a.style.width='100px',a.style.height='100px',a.style.overflow='scroll',a.style.position='absolute',a.style.top='-9999px',document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b}},target:Object,hasData:Boolean},observers:['_columnTreeChanged(columnTree, _physicalItems, _physicalCountVal)','_sizeChanged(size, bindData, hasData)','_rowDetailsTemplateChanged(rowDetailsTemplate, _physicalItems, _physicalCountVal)'],listeners:{"property-changed":'_columnPropChanged',animationend:'_onAnimationEnd',"column-resizing":'_onColumnResize'},ready:function(){this.$=this.$||{},this.$.header=this.domHost.$.header,this.$.items=this.domHost.$.items,this.$.footer=this.domHost.$.footer},_onColumnResize:function(){this.toggleAttribute('column-resizing',this.$.header.querySelector('[column-resizing]')),this._gridResizeHandler()},_onAnimationEnd:function(a){/appear/.test(a.animationName)&&(this._render(),this._updateHeaderFooterMetrics(),a.stopPropagation())},_columnPropChanged:function(a){'headerTemplate'===a.detail.path&&this.toggleAttribute('has-templates',!0,this.$.header),'footerTemplate'===a.detail.path&&this.toggleAttribute('has-templates',!0,this.$.footer),/frozen|hidden/.test(a.detail.path)&&this._frozenCellsChanged(),'hidden'===a.detail.path&&this._gridResizeHandler()},_hideOuterScroller:function(a,b){return 0===a&&!b},_hideTableOverflow:function(a,b){return 0===a&&b},_rowDetailsTemplateChanged:function(a,b,c){void 0!==a&&b&&void 0!==c&&Array.prototype.forEach.call(b,function(b){b.rowDetailsTemplate=a})},_columnTreeChanged:function(a,b,c){void 0!==a&&b&&void 0!==c&&(Polymer.RenderStatus.afterNextRender(this,this._update),this._frozenCellsChanged(),this._hasTemplatesChanged(a),Array.prototype.forEach.call(b,function(b){b.columns=a[a.length-1]}),this._gridResizeHandler(),Polymer.dom.flush(this),this._updateLastColumn())},_updateLastColumn:function(){Array.prototype.forEach.call(Polymer.dom(this.domHost.root).querySelectorAll('.vaadin-grid-row'),function(a){a.updateLastColumn()})},_updateHeaderFooterMetrics:function(){this._physicalSizes&&Polymer.dom.flush(),this._updateHeaderFooterMetricsSync(),Polymer.RenderStatus.afterNextRender(this.$.header,function(){this._updateHeaderFooterMetricsSync(),this._pendingScrollToScaledIndex&&this.scrollToScaledIndex(this._pendingScrollToScaledIndex)}.bind(this))},_updateHeaderFooterMetricsSync:function(){var a=this.$.header.clientHeight+'px',b=this.$.footer.clientHeight+'px';[this.$.outersizer,this.$.fixedsizer,this.$.items].forEach(function(c){c.style.borderTopWidth=a,c.style.borderBottomWidth=b})},_hasTemplatesChanged:function(a){var b=!1,c=!1;a.forEach(function(a){return a.forEach(function(a){b=b||a.headerTemplate,c=c||a.footerTemplate})}),this.toggleAttribute('has-templates',b,this.$.header),this.toggleAttribute('has-templates',c,this.$.footer)},_createPool:function(a){for(var b,c=Array(a),d=0;d<a;d++)b=document.createElement('vaadin-grid-table-row'),b.target=this.domHost,c[d]=b,b.setAttribute('hidden',''),Polymer.dom(this.$.items).appendChild(b);return c},_sizeChanged:function(a,b,c){var d=Math.min;if(void 0!==a&&void 0!==b&&void 0!==c){var e=this._scrollTop,f=this.firstVisibleIndex+this._vidxOffset;if(this._virtualCount=d(a,1e5),this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._vidxOffset=0,!this._physicalItems){this._physicalCount=Math.max(1,d(25,this._virtualCount)),this._physicalItems=this._createPool(this._physicalCount),this._physicalSizes=Array(this._physicalCount)}this._itemsRendered=!1,this._debounceTemplate(function(){this._render(),this._viewportHeight&&(this.scrollToScaledIndex(d(f,this.size)),this._scrollTop=e,this._scrollHandler(),this.flushDebouncer('vaadin-grid-scrolling'))})}},_assignModels:function(a){this._virtualIndexToItem=this._virtualIndexToItem||{},this._iterateItems(function(a,b){var c=this._physicalItems[a];c.index&&delete this._virtualIndexToItem[c.index],c.index=b+this._vidxOffset,this._virtualIndexToItem[c.index]=c,c.toggleAttribute('odd',c.index%2),c.toggleAttribute('lastrow',c.index===this.size-1),c.toggleAttribute('hidden',c.index>=this.size),this.bindData(c.index,c)},a)},_gridResizeHandler:function(){this._updateHeaderFooterMetrics(),this._physicalSizes&&(this._physicalItems.forEach(function(a){a.updateRowDetailsCellMetrics()}),this.debounce('vaadin-grid-resizing',function(){this._update()}.bind(this),1))}});</script></body></html>