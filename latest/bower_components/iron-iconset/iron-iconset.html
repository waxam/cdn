<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-meta/iron-meta.html"><script>Polymer({is:'iron-iconset',properties:{src:{type:String,observer:'_srcChanged'},name:{type:String,observer:'_nameChanged'},width:{type:Number,value:0},icons:{type:String},size:{type:Number,value:24},_offsetX:{type:Number,value:0},_offsetY:{type:Number,value:0},iconNames:{type:Array,notify:!0}},hostAttributes:{style:'display: none;'},created:function(){this._meta=new Polymer.IronMeta({type:'iconset',key:null,value:null})},ready:function(){this._themes=this._mapThemes()},applyIcon:function(a,b,c,d){this._validateIconMap();var e=this._getThemedOffset(b,c);a&&e&&this._addIconStyles(a,this._srcUrl,e,d||1,this.size,this.width)},removeIcon:function(a){this._removeIconStyles(a.style)},_mapThemes:function(){var a=Object.create(null);return Polymer.dom(this).querySelectorAll('property[theme]').forEach(function(b){var c=window.parseInt(b.getAttribute('offset-x'),10)||0,d=window.parseInt(b.getAttribute('offset-y'),10)||0;a[b.getAttribute('theme')]={offsetX:c,offsetY:d}}),a},_srcChanged:function(a){this._srcUrl=this.ownerDocument===document?a:this.resolveUrl(a),this._prepareIconset()},_nameChanged:function(){this._prepareIconset()},_prepareIconset:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async(function(){this.fire('iron-iconset-added',this,{node:window})})},_invalidateIconMap:function(){this._iconMapValid=!1},_validateIconMap:function(){this._iconMapValid||(this._recomputeIconMap(),this._iconMapValid=!0)},_recomputeIconMap:function(){this.iconNames=this._computeIconNames(this.icons),this.iconMap=this._computeIconMap(this._offsetX,this._offsetY,this.size,this.width,this.iconNames)},_computeIconNames:function(a){return a.split(/\s+/g)},_computeIconMap:function(a,b,c,d,e){var f={};if(a!==void 0&&b!==void 0){var g=a;e.forEach(function(e){f[e]={offsetX:a,offsetY:b},a+c<d?a+=c:(a=g,b+=c)},this)}return f},_getThemedOffset:function(a,b){var c=this._getIconOffset(a),d=this._themes[b];return c&&d?{offsetX:c.offsetX+d.offsetX,offsetY:c.offsetY+d.offsetY}:c},_getIconOffset:function(a){return this.iconMap[a]||this.iconMap[this.iconNames[+a]]},_addIconStyles:function(a,b,c,d,e,f){var g=a.style;g.backgroundImage='url('+b+')',g.backgroundPosition=-c.offsetX*d+'px '+(-c.offsetY*d+'px'),g.backgroundSize=1===d?'auto':f*d+'px',g.width=e+'px',g.height=e+'px',a.setAttribute('role','img')},_removeIconStyles:function(a){a.background=''}});</script><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body></body></html>