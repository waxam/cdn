<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html"><link rel="import" href="../app-localize-behavior/app-localize-behavior.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-ajax/iron-ajax.html"><link rel="prefetch" href="../iron-ajax/iron-request.html"><link rel="prefetch" href="../intl-messageformat/dist/intl-messageformat.min.js"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"></head><body><dom-module id="eco-json-schema-input"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="../paper-styles/typography.html"><template><style is="custom-style" include="iron-flex iron-flex-alignment">paper-input{padding:2px;--paper-input-container-label:{white-space:normal;position:static;font-size:16px;color:#212121;};}</style><paper-input id="input" class="flex" value="{{value}}" auto-validate=""></paper-input></template><script>Polymer({is:'eco-json-schema-input',behaviors:[Polymer.AppLocalizeBehavior],properties:{language:{value:'en'},resources:{value:function(){return{}}},schema:{type:Object,observer:'_schemaChanged'},value:{type:String,notify:!0,value:function(){return''}},error:{type:String,observer:'_errorChanged',value:null}},ready:function(){},detached:function(){},_schemaChanged:function(){var a=this.schema,b=this.$.input;a.required&&(b.required=!0),this._isSchemaNumber(a.type)&&(b.type='number',a.multipleOf&&(b.step=a.multipleOf),!isNaN(a.maximum)&&(a.exclusiveMaximum?b.max=a.maximum-(a.multipleOf||1):b.max=a.maximum),!isNaN(a.minimum)&&(a.exclusiveMinimum?b.min=a.minimum+(a.multipleOf||1):b.min=a.minimum)),this._isSchemaString(a.type)&&('date-time'===a.format?(b.type='datetime-local',b.alwaysFloatLabel=!0):'date'===a.format?b.type='date':'email'===a.format?b.type='email':'hostname'===a.format?b.type='text':'ipv4'===a.format?b.type='text':'ipv6'===a.format?b.type='text':'uri'===a.format?b.type='url':b.type='text',a.maxLength&&(b.maxlength=a.maxLength),a.minLength&&(b.minlength=a.minLength),a.pattern&&(b.pattern=a.pattern)),a.component&&a.component.properties&&Object.keys(a.component.properties).forEach(function(c){b[c]=a.component.properties[c]}),b.alwaysFloatLabel=!0,a.title&&(b.label=a.title)},_errorChanged:function(){this.error?(this.$.input.errorMessage=this.error,this.$.input.invalid=!0):(this.$.input.invalid=!1,this.$.input.errorMessage=null)},_isSchemaValue:function(a){return this._isSchemaBoolean(a)||this._isSchemaNumber(a)||this._isSchemaString(a)},_isSchemaBoolean:function(a){return Array.isArray(a)?-1!==a.indexOf('boolean'):'boolean'===a},_isSchemaNumber:function(a){return Array.isArray(a)?-1!==a.indexOf('number')||-1!==a.indexOf('integer'):'number'===a||'integer'===a},_isSchemaString:function(a){return Array.isArray(a)?-1!==a.indexOf('string'):'string'===a},_isSchemaObject:function(a){return'object'===a},_isSchemaArray:function(a){return'array'===a}});</script></dom-module></body></html>