(function(a,b,c){var d=c(a,a.jQuery);"undefined"!==typeof module&&"exports"in module?module.exports=d:"function"===typeof define&&define.amd?define([],function(){return d}):a[b]=d})(this,"jdenticon",function(d,a){function h(c,b){this.x=c,this.y=b}function i(e,b,a,c){this.o=e,this.s=b,this.f=a,this.l=c}function j(a){this.C=a,this.m=i.O}function e(a){return a|=0,0>a?"00":16>a?"0"+a.toString(16):256>a?a.toString(16):"ff"}function f(d,b,a){return a=0>a?a+6:6<a?a-6:a,e(255*(1>a?d+(b-d)*a:3>a?b:4>a?d+(b-d)*(4-a):d))}function m(c,b){return[g.w(0,0,b.H(0)),g.v(c,b.A,b.u(.5)),g.w(0,0,b.H(1)),g.v(c,b.A,b.u(1)),g.v(c,b.A,b.u(0))]}function k(o,b,a,c,d){function f(a,c,d,f,g){for(f=f?parseInt(b.charAt(f),16):0,c=c[parseInt(b.charAt(d),16)%c.length],o.F(k[p[a]]),a=0;a<g.length;a++)t.m=new i(r+g[a][0]*l,e+g[a][1]*l,l,f++%4),c(t,l,a);o.G()}function q(c){if(0<=c.indexOf(g))for(var a=0;a<c.length;a++)if(0<=p.indexOf(c[a]))return!0}var r=0,e=0;if(c=0|a*(void 0===c?.08:c),a-=2*c,!/^[0-9a-f]{11,}$/i.test(b))throw Error("Invalid hash passed to Jdenticon.");var g,t=new j(o),l=0|a/4,r=r+(0|c+a/2-2*l),e=e+(0|c+a/2-2*l),k=m(parseInt(b.substr(-7),16)/268435455,d),p=[];for(a=0;3>a;a++)g=parseInt(b.charAt(8+a),16)%k.length,(q([0,4])||q([2,3]))&&(g=1),p.push(g);f(0,s.J,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),f(1,s.J,4,5,[[0,0],[3,0],[3,3],[0,3]]),f(2,s.N,1,null,[[1,1],[2,1],[2,2],[1,2]])}function c(){this.i=""}function l(c,d){this.j={},this.f={M:c,I:d}}function n(d,b,a){this.h=d,d.clearRect(0,0,b,a)}function o(){function e(c,a,g){var e=f[c]instanceof Array?f[c]:[a,g];return function(b){return b=e[0]+b*(e[1]-e[0]),0>b?0:1<b?1:b}}var b=q.config||d.jdenticon_config||{},f=b.lightness||{},b=b.saturation;return{A:"number"==typeof b?b:.5,u:e("color",.4,.8),H:e("grayscale",.3,.9)}}function r(h,i,a){if("string"===typeof h){if(p){h=document.querySelectorAll(h);for(var c=0;c<h.length;c++)r(h[c],i,a)}}else if(h&&h.tagName&&(i=i||h.getAttribute("data-jdenticon-hash"))){var d="svg"==h.tagName.toLowerCase(),c="canvas"==h.tagName.toLowerCase();if(d||c&&"getContext"in h){var c=+h.getAttribute("width")||h.clientWidth||0,f=+h.getAttribute("height")||h.clientHeight||0,e=d?new l(c,f):new n(h.getContext("2d"),c,f);if(k(e,i,Math.min(c,f),a,o()),d){for(i=document.createElement("span"),i.innerHTML=e.K(!1);h.firstChild;)h.removeChild(h.firstChild);for(i=i.firstChild.childNodes;i.length;)h.appendChild(i[0]);h.setAttribute("viewBox","0 0 "+c+" "+f)}}}}function q(){p&&r("svg[data-jdenticon-hash],canvas[data-jdenticon-hash]")}i.prototype={L:function(g,b,a,c){var d=this.o+this.f,f=this.s+this.f;return 1===this.l?new h(d-b-(c||0),this.s+g):2===this.l?new h(d-g-(a||0),f-b-(c||0)):3===this.l?new h(this.o+b,f-g-(a||0)):new h(this.o+g,this.s+b)}},i.O=new i(0,0,0,0),j.prototype={a:function(a,b){var g,e=b?-2:2,c=this.m,d=[];for(g=b?a.length-2:0;g<a.length&&0<=g;g+=e)d.push(c.L(a[g],a[g+1]));this.C.a(d)},b:function(b,e,a,c){this.C.b(this.m.L(b,e,a,a),a,c)},c:function(c,b,a,e,d){this.a([c,b,c+a,b,c+a,b+e,c,b+e],d)},g:function(g,b,a,c,d,f){g=[g+a,b,g+a,b+c,g,b+c,g,b],g.splice(2*((d||0)%4),2),this.a(g,f)},D:function(e,b,a,c,d){this.a([e+a/2,b,e+a,b+c/2,e+a/2,b+c,e,b+c/2],d)}};var s={N:[function(d,b){var a=.42*b;d.a([0,0,b,0,b,b-2*a,b-a,b,0,b])},function(d,b){var a=0|.5*b;d.g(b-a,0,a,0|.8*b,2)},function(d,b){var a=0|b/3;d.c(a,a,b-a,b-a)},function(e,b){var a=.1*b,a=1<a?0|a:.5<a?1:a,c=6>b?1:8>b?2:0|.25*b;e.c(c,c,b-a-c,b-a-c)},function(e,b){var a=0|.15*b,c=0|.5*b;e.b(b-c-a,b-c-a,c)},function(e,b){var a=.1*b,c=4*a;e.c(0,0,b,b),e.a([c,c,b-a,c,c+(b-c-a)/2,b-a],!0)},function(c,b){c.a([0,0,b,0,b,.7*b,.4*b,.4*b,.7*b,b,0,b])},function(c,b){c.g(b/2,b/2,b/2,b/2,3)},function(c,b){c.c(0,0,b,b/2),c.c(0,b/2,b/2,b/2),c.g(b/2,b/2,b/2,b/2,1)},function(e,b){var a=.14*b,a=8>b?a:0|a,c=4>b?1:6>b?2:0|.35*b;e.c(0,0,b,b),e.c(c,c,b-c-a,b-c-a,!0)},function(e,b){var a=.12*b,c=3*a;e.c(0,0,b,b),e.b(c,c,b-a-c,!0)},function(c,b){c.g(b/2,b/2,b/2,b/2,3)},function(d,b){var a=.25*b;d.c(0,0,b,b),d.D(a,a,b-a,b-a,!0)},function(e,b,a){var c=.4*b;a||e.b(c,c,1.2*b)}],J:[function(c,b){c.g(0,0,b,b,0)},function(c,b){c.g(0,b/2,b,b/2,0)},function(c,b){c.D(0,0,b,b)},function(d,b){var a=b/6;d.b(a,a,b-2*a)}]},g={P:function(d,b,a){return"#"+e(d)+e(b)+e(a)},w:function(d,b,a){return 0==b?(d=e(255*a),"#"+d+d+d):(b=.5>=a?a*(b+1):a+b-a*b,a=2*a-b,"#"+f(a,b,6*d+2)+f(a,b,6*d)+f(a,b,6*d-2))},v:function(e,b,a){var c=[0.55,0.5,0.5,0.46,0.6,0.55,0.55][0|6*e+.5];return g.w(e,b,.5>a?2*(a*c):c+2*((a-.5)*(1-c)))}};c.prototype={a:function(d){for(var b="M"+d[0].x+" "+d[0].y,a=1;a<d.length;a++)b+="L"+d[a].x+" "+d[a].y;this.i+=b+"Z"},b:function(b,e,f){f=f?0:1;var c=e/2;this.i+="M"+b.x+" "+(b.y+c)+"a"+c+","+c+" 0 1,"+f+" "+e+",0a"+c+","+c+" 0 1,"+f+" "+-e+",0"}},l.prototype={F:function(a){this.B=this.j[a]||(this.j[a]=new c)},G:function(){},a:function(a){this.B.a(a)},b:function(b,d,a){this.B.b(b,d,a)},K:function(d){var b,c=d?"":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\""+this.f.M+"\" height=\""+this.f.I+"\" viewBox=\"0 0 "+this.f.M+" "+this.f.I+"\" preserveAspectRatio=\"xMidYMid meet\">";for(b in this.j)c+="<path fill=\""+b+"\" d=\""+this.j[b].i+"\"/>";return d?c:c+"</svg>"}},n.prototype={F:function(a){this.h.fillStyle=a,this.h.beginPath()},G:function(){this.h.fill()},a:function(d){var b,c=this.h;for(c.moveTo(d[0].x,d[0].y),b=1;b<d.length;b++)c.lineTo(d[b].x,d[b].y);c.closePath()},b:function(b,e,a){var c=this.h;e/=2,c.arc(b.x+e,b.y+e,e,0,2*Math.PI,a),c.closePath()}};var p="document"in d&&"querySelectorAll"in document;return q.drawIcon=function(d,e,a){if(!d)throw Error("No canvas specified.");d=new n(d,a,a),k(d,e,a,0,o())},q.toSvg=function(e,b,a){var c=new l(b,b);return k(c,e,b,a,o()),c.K()},q.update=r,q.version="1.4.0",a&&(a.fn.jdenticon=function(e,b){return this.each(function(a,c){r(c,e,b)}),this}),"function"===typeof setTimeout&&setTimeout(q,0),q});