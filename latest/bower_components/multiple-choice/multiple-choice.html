<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../paper-checkbox/paper-checkbox.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../paper-button/paper-button.html"><link rel="import" href="../paper-toast/paper-toast.html"><link rel="import" href="../materializecss-styles/materializecss-styles.html"><link rel="import" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="import" href="../schema-behaviors/schema-behaviors.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-behaviors/paper-checked-element-behavior.html"><link rel="prefetch" href="../iron-checked-element-behavior/iron-checked-element-behavior.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-scroll-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../materializecss-styles/colors.html"><link rel="prefetch" href="../materializecss-styles/shapes.html"></head><body><dom-module id="multiple-choice"><template><style include="materializecss-styles">:host{display:block;padding:16px 16px 54px 16px;}h3{margin:8px;}ul{list-style:none;padding:0;margin:0;}ul li{padding:8px;}paper-radio-button{padding:8px;}</style><meta property="oer:assessing" content$="[[relatedResource]]"><h3 hidden$="[[hideTitle]]"><span property="oer:name">[[title]]</span></h3><div>[[question]]</div><ul><template is="dom-repeat" items="[[displayedAnswers]]" as="answer"><li><paper-checkbox disabled$="[[disabled]]" property="oer:answer" checked="{{answer.userGuess}}">[[answer.label]]</paper-checkbox></li></template></ul><div hidden$="[[hideButtons]]"><paper-button disabled$="[[disabled]]" raised="" on-tap="_verifyAnswers">[[checkLabel]]</paper-button><paper-button disabled$="[[disabled]]" raised="" on-tap="_resetAnswers">[[resetLabel]]</paper-button></div><paper-toast id="toast" duration="6000" class$="fit-bottom [[__toastColor]]">[[__toastText]]<iron-icon icon="[[__toastIcon]]" style="margin-left:16px;"></iron-icon></paper-toast></template><script>Polymer({is:'multiple-choice',hostAttributes:{typeof:'oer:Assessment'},behaviors:[HAXBehaviors.PropertiesBehaviors,MaterializeCSSBehaviors.ColorBehaviors,SchemaBehaviors.Schema],observers:['_valueChanged(displayedAnswers.*)'],properties:{title:{type:String,value:''},disabled:{type:Boolean,value:!1},checkLabel:{type:String,value:'Check answer'},resetLabel:{type:String,value:'Reset'},relatedResource:{type:String},hideTitle:{type:Boolean,value:!1},question:{type:String,value:''},answers:{type:Array,value:[],notify:!0},displayedAnswers:{type:Array,computed:'_computeDisplayedAnswers(answers, randomize)',notify:!0},correctText:{type:String,value:'Great job!'},incorrectText:{type:String,value:'Better luck next time!'},randomize:{type:Boolean,value:!1,reflectToAttribute:!0},hideButtons:{type:Boolean,value:!1}},_valueChanged:function(a){for(var b in a.base)for(var c in a.base[b])this.notifyPath('displayedAnswers.'+b+'.'+c)},_resetAnswers:function(){var a=this;for(var b in this.$.toast.hide(),this.displayedAnswers)this.displayedAnswers[b].userGuess&&(this.displayedAnswers[b].userGuess=!1);setTimeout(function(){var b=a.answers;a.set('answers',[]),a.set('answers',b)},100)},checkAnswers:function(){var a=!0;for(var b in this.displayedAnswers)!1!=a&&this.displayedAnswers[b].correct&&this.displayedAnswers[b].userGuess?a=!0:this.displayedAnswers[b].correct&&!this.displayedAnswers[b].userGuess?a=!1:!this.displayedAnswers[b].correct&&this.displayedAnswers[b].userGuess&&(a=!1);return a},_verifyAnswers:function(){var a=this.checkAnswers();a?(this.$.toast.hide(),this.__toastColor='green darken-4',this.__toastIcon='thumb-up',this.__toastText=this.correctText,this.$.toast.show()):(this.$.toast.hide(),this.__toastColor='red darken-4',this.__toastIcon='thumb-down',this.__toastText=this.incorrectText,this.$.toast.show())},_computeDisplayedAnswers:function(a,b){if(('undefined'===typeof a?'undefined':babelHelpers.typeof(a))!=='undefined'&&null!=a&&0<a.length&&b){for(var c,d,e=a,f=e.length;0!==f;)d=Math.floor(Math.random()*f),f-=1,c=e[f],e[f]=e[d],e[d]=c;return e}return a},attached:function(){this.$.toast.fitInto=this;this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:'Multiple choice',description:'Multiple choice self check',icon:'icons:list',color:'purple',groups:['Instructional'],handles:[],meta:{author:'LRNWebComponents'}},settings:{quick:[{property:'title',title:'Title',description:'The title of the element',inputMethod:'textfield',icon:'editor:title'},{property:'question',title:'Question',description:'Question for users to respond to.',inputMethod:'textfield',icon:'icons:help'}],configure:[{property:'title',title:'Title',description:'The title of the element',inputMethod:'textfield'},{property:'hideTitle',title:'Hide title',description:'Whether or not to display the title',inputMethod:'boolean'},{property:'question',title:'Question',description:'Question for users to respond to.',inputMethod:'textfield'},{property:'randomize',title:'Randomize',description:'Randomize the answers dynamically',inputMethod:'boolean'},{property:'answers',title:'Answer set',description:'Answers in a multiple choice',inputMethod:'array',properties:[{property:'correct',title:'Correct',description:'If this is correct or not',inputMethod:'boolean'},{property:'label',title:'Answer',description:'Possible answer to the question',inputMethod:'textfield',required:!0}]},{property:'correctText',title:'Correct feedback',description:'Feedback when they get it right',inputMethod:'textfield'},{property:'incorrectText',title:'Incorrect feedback',description:'Feedback when they get it wrong',inputMethod:'textfield'}],advanced:[{property:'checkLabel',title:'Check answers label',description:'Label for getting solution feedback',inputMethod:'textfield'},{property:'resetLabel',title:'Reset label',description:'label for the reset button',inputMethod:'textfield'}]},saveOptions:{unsetAttributes:['displayed-answers']}})}});</script></dom-module></body></html>