<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../paper-card/paper-card.html"><link rel="import" href="../paper-toolbar/paper-toolbar.html"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="../iron-input/iron-input.html"><link rel="import" href="../paper-spinner/paper-spinner.html"><link rel="import" href="../paper-icon-button/paper-icon-button.html"><link rel="import" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="import" href="../schema-behaviors/schema-behaviors.html"><script src="../pdfjs-dist/web/compatibility.js"></script><script src="../pdfjs-dist/build/pdf.js"></script><script src="../pdfjs-dist/build/pdf.worker.js"></script><link rel="stylesheet" href="pdf_viewer.css"><link rel="stylesheet" href="fonts.css"><script src="main.js"></script><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-image/iron-image.html"><link rel="prefetch" href="../paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"><link rel="prefetch" href="../paper-spinner/paper-spinner-behavior.html"><link rel="prefetch" href="../paper-spinner/paper-spinner-styles.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="pdf-element.html"></head><body><dom-module id="pdf-element"><template><style>:host{display:block;width:100%;height:100%;}paper-toolbar.pdf-toolbar{--paper-toolbar-background:#323639;}.pdf-viewer{text-align:center;border:1px solid #4d4d4d;}.pdf-viewport-out{overflow:auto;background-color:#525659;position:relative;width:100%;height:100%;}.pdf-viewport{display:block;position:relative;border:1px solid #eeeeee;transition:all 200ms ease-in-out;width:100%;height:100%;}.sidebar{background-color:gray;float:left;height:0px;overflow:scroll;margin-left:-25%;visibility:hidden;}.main{margin-left:0%;}.pageselector{width:3ch;background-color :black;font-size:17px;background-color:transparent;border:0px solid;}.pageselector:focus{outline:none;}#input{-webkit-margin-start:-3px;color:#fff;line-height:18px;padding:3px;text-align:end;}#input:focus,
      #input:hover{background-color:rgba(0, 0, 0, 0.5);border-radius:2px;}#slash{padding:0 3px;}paper-spinner{position:absolute;left:50%;}.textLayer{transition:all 200ms ease-in-out;}.positionRelative{position:relative;}</style><paper-material elevation="{{elevation}}"><div class="card-content" style="width: {{width}}px"><paper-card class="paperCard" style="width: {{width}}px"><div class="pdf-viewer"><paper-toolbar class="pdf-toolbar"><paper-icon-button icon="menu" on-click="sideBar"></paper-icon-button><paper-icon-button icon="arrow-back" on-click="showPrev"></paper-icon-button><input class="pageselector" id="input" is="iron-input" value="{{currentPage}}" prevent-invalid-input="" allowed-pattern="\d" on-change="pageNumSearch"> <span id="slash">/</span><span id="totalPages"></span><paper-icon-button icon="arrow-forward" on-click="showNext"></paper-icon-button><span class="title" hidden="{{!showFileName}}">Testing</span> <span class="title" hidden="{{showFileName}}"></span> <span class="pageRendering"></span><paper-icon-button icon="zoom-in" on-click="zoomIn"></paper-icon-button><paper-icon-button icon="zoom-out" on-click="zoomOut"></paper-icon-button><paper-icon-button id="zoomIcon" icon="fullscreen" on-click="zoomFit"></paper-icon-button><paper-icon-button icon="file-download" hidden$="{{!downloadable}}" on-click="download"></paper-icon-button></paper-toolbar><div id="container" class="sidebar" style="width:25%"></div><div id="main"><div id="test" class="pdf-viewport-out"><canvas class="pdf-viewport"></canvas><div id="text-layer" class="textLayer" hidden$="{{!enableTextSelection}}"></div></div><paper-spinner class="spinner" hidden$="{{!showSpinner}}"></paper-spinner></div></div></paper-card></div></paper-material></template><script>Polymer({is:'pdf-element',behaviors:[HAXBehaviors.PropertiesBehaviors,SchemaBehaviors.Schema],properties:{src:{type:String,reflectToAttribute:!0},elevation:{type:Number,value:1},downloadable:{type:Boolean,value:!1},showFileName:{type:Boolean,value:!1},showSpinner:{type:Boolean,value:!1},enableTextSelection:{type:Boolean,value:!1},fitWidth:{type:Boolean,value:!1},width:{type:Number,value:500}},attached:function(){this.src=this.getAttribute('src'),this._initializeReader(),this.src&&this.instance.loadPDF(),this._setFitWidth();this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:'PDF viewer',descrption:'This can nicely present a PDF in a standard inplace, cross browser way.',icon:'image:picture-as-pdf',color:'red',groups:['Presentation','PDF','Data'],handles:[{type:'pdf',url:'src',source:'src'},{type:'document',url:'src',source:'src'}],meta:{author:'LRNWebComponents'}},settings:{quick:[{property:'src',title:'File',description:'The URL for the pdf',inputMethod:'textfield',icon:'link',required:!0}],configure:[{property:'src',title:'Source',description:'The URL for this csv file',inputMethod:'textfield',icon:'link',required:!0},{property:'downloadable',title:'Downloadable',description:'User can download this',inputMethod:'boolean',icon:'file-download'},{property:'enableTextSelection',title:'Text Selection',description:'User can select text in this element.',inputMethod:'boolean',icon:'file-download'},{property:'elevation',title:'Elevation',description:'Visual elevation of the element',inputMethod:'number',icon:'flip-to-front'}],advanced:[]}})},loadPDF:function(){this.getAttribute('src')&&(this.instance.changePDFSource(this.getAttribute('src')),this.currentPage=1,this.totalPages=this.instance.totalPages,this.fileName=this.src.split('/').pop(),this._setFitWidth(),this.$.zoomIcon.icon='fullscreen')},attributeChanged:function(a){'src'===a?'undefined'==typeof this.instance?this._initializeReader():(this.loadPDF(),this.changedSideBar=!0,this.fromChange=!0,this.sideBar()):'fitWidth'===a&&this._setFitWidth()},_initializeReader:function(){this.instance=new Polymer.Reader(this),null!=this.src&&(this.fileName=this.src.split('/').pop()),this.currentPage=1},_setFitWidth:function(){this.instance.setFitWidth(this.fitWidth)},zoomInOut:function(a){2<=this.instance.currentZoomVal?this.instance.currentZoomVal=2:0.1>=this.instance.currentZoomVal?this.instance.currentZoomVal=0.1:(this.$.zoomIcon.icon='fullscreen',this.instance.zoomInOut(a))},zoomIn:function(){this.instance.pdfExists&&this.zoomInOut(0.1)},zoomOut:function(){this.instance.pdfExists&&this.instance.zoomInOut(-0.1)},zoomFit:function(){this.instance.pdfExists&&(this.instance.currentZoomVal==this.instance.widthZoomVal?(this.instance.zoomPageFit(),this.$.zoomIcon.icon='fullscreen'):(this.instance.zoomWidthFit(),this.$.zoomIcon.icon='fullscreen-exit'))},pageNumSearch:function(){var a=parseInt(this.$.input.value);1<=a&&a<=this.instance.totalPagesNum?(this.instance.currentPage=a,this.instance.queueRenderPage(this.instance.currentPage),this.currentPage=a,this.$.input.blur()):(this.$.input.value=this.currentPage,this.$.input.blur())},sideBarClick:function(a,b,c){var d=c.src.split('/').pop(),e=b;c.sidebarOpen=!0,1<=a&&a<=b.totalPagesNum?(e.currentPage=a,e.queueRenderPage(e.currentPage),b.currentPage=a,c.currentPage=a,this.$.input.blur()):(this.$.input.value=e.currentPage,this.$.input.blur())},showPrev:function(){1<this.instance.currentPage&&(this.instance.currentPage--,this.instance.queueRenderPage(this.instance.currentPage),this.currentPage--)},showNext:function(){this.instance.totalPagesNum>this.instance.currentPage&&(this.instance.currentPage++,this.instance.queueRenderPage(this.instance.currentPage),this.currentPage++)},sideBar:function(){this.instance.pdfExists&&(!this.fromChange&&(this.$.container.style.height=this.$.test.style.height,this.$.container.style.width=this.$.test.style.width,'25%'==this.$.main.style.marginLeft?(this.sidebarOpen=!1,this.instance.setViewportPos(!1),this.$.main.style.marginLeft='0%',this.$.container.style.marginLeft='-25%',this.$.container.style.visibility='hidden'):(this.sidebarOpen=!0,this.$.main.style.marginLeft='25%',this.$.container.style.marginLeft='0%',this.$.container.style.visibility='visible',this.instance.setViewportPos(!0))),this.fromChange=!1,this.instance.sidebarSetup(this),this.changedSideBar=!1)},download:function(){this.instance.pdfExists&&this.instance.download()}});</script></dom-module></body></html>