<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../responsive-utility/responsive-utility.html"><link rel="import" href="a11y-media-behaviors.html"><link rel="import" href="a11y-media-transcript-cue.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-a11y-keys/iron-a11y-keys.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../simple-search/simple-search-content.html"></head><body><dom-module id="a11y-media-transcript"><template><style is="custom-style">:host{display:block;padding:15px;background-color:var(--a11y-media-transcript-bg-color, #ffffff);}:host[hidden]{display:none;}:host #inner{width:100%;display:none;}:host #inner[active]{display:block;}:host[hideTimestamps] #inner[active]{display:table;}:host .sr-only:not(:focus){position:absolute;left:-99999;top:0;height:0;width:0;overflow:hidden;}@media print{:host{color:#000;background-color:#ffffff;}}</style><a id="transcript-desc" href="#bottom" class="sr-only">[[skipTranscriptLink]]</a><template id="tracks" is="dom-repeat" items="[[tracks]]" as="track"><div id="inner" class="transcript-from-track" lang="[[track.language]]" active$="[[_getActiveTranscript(track,selectedTranscript)]]"><template is="dom-repeat" items="[[track.cues]]" as="cue"><a11y-media-transcript-cue accent-color$="[[accentColor]]" active-cues$="[[activeCues]]" controls$="[[mediaId]]" cue$="[[cue]]" disabled$="[[disableInteractive]]" disable-search$="[[disableSearch]]" hide-timestamps$="[[hideTimestamps]]" order$="[[cue.order]]" role="button" search="[[search]]" tabindex="0"></a11y-media-transcript-cue></template></div></template><div id="bottom" class="sr-only"></div></template><script>Polymer({is:'a11y-media-transcript',listeners:{"cue-seek":'_onCueSeek'},behaviors:[a11yMediaBehaviors.GeneralFunctions,a11yMediaBehaviors.TranscriptBehaviors],properties:{activeCues:{type:Array,value:null,reflectToAttribute:!0,notify:!0},lang:{type:String,value:'en',reflectToAttribute:!0},mediaId:{type:String,value:null},tabIndex:{type:Number,computed:'_getTabIndex(disableInteractive)'},role:{type:Number,computed:'_getRole(disableInteractive)'},tracks:{type:Array,value:null}},attached:function(){this.fire('transcript-ready',this)},setMedia:function(a){this.media=a,this.fire('transcript-ready',this)},toggleHidden:function(a){var b=this,c=document.getElementById('inner'),d=null!==c&&c!==void 0?c.querySelector('a11y-media-transcript-cue[active]'):null,e=null!==c&&c!==void 0?c.querySelector('a11y-media-transcript-cue'):null;a=a===void 0?this.hidden:a,this.hidden=a},print:function(a){var b=this,c=b.$$('#inner[active]');if(a=void 0===a?'Transcript':a,null!==c&void 0!==c){var d=window.open('','','left=0,top=0,width=552,height=477,toolbar=0,scrollbars=0,status =0'),e=Polymer.dom(b).node;d.document.write('<style>'+'a11y-media-transcript-cue{display:table-row;background-color:#fff;color:#000}a11y-media-transcript-cue[hide-timestamps],a11y-media-transcript-cue[hide-timestamps] #text{display:inline}a11y-media-transcript-cue #text{display:table-cell;line-height:200%}a11y-media-transcript-cue #time{display:table-cell;font-size:80%;padding:0 1em;white-space:nowrap;font-family:monospace}a11y-media-transcript-cue[hide-timestamps] #time{display:none}a11y-media-transcript-cue [matched]{background-color:#fff;color:#eee;padding:.1em .25em;border-radius:.1em}'+'</style><h1>'+a+'</h1>'+c.innerHTML),d.document.close(),d.focus(),d.print(),d.close()}},setTracks:function(a){this.set('tracks',a.slice(0)),this.tracks!==void 0&&0<this.tracks.length&&this.$.tracks.render()},setActiveCues:function(a){var b=this,c=null!==b.$$('#inner')&&void 0!==b.$$('#inner')?b.$$('#inner').offsetTop:0,d=b.$$('#inner a11y-media-transcript-cue[active]');if(b.set('activeCues',a.slice(0)),!b.disableScroll&&null!==d&void 0!==d){var e=function a(b,c,d){if(!(0>=d)){var e=c-b.scrollTop;setTimeout(function(){b.scrollTop+=10*(e/d),b.scrollTop===c||a(b,c,d-10)},10)}};e(b,d.offsetTop-c,250)}},_getTabIndex:function(a){return a?-1:0},_getRole:function(a){return a?null:'button'},_onCueSeek:function(a){this.fire('transcript-seek',a.detail)},_getActiveTranscript:function(a,b){return a.value===b}});</script></dom-module></body></html>