<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../md-extra-icons/md-extra-icons.html"><link rel="import" href="../app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../paper-item/paper-item.html"><link rel="import" href="../materializecss-styles/colors.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="hax-context-item-menu.html"><link rel="import" href="hax-context-item.html"><link rel="import" href="hax-context-item-textop.html"><link rel="import" href="hax-toolbar.html"><link rel="import" href="hax-toolbar-item.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../paper-item/paper-item-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-item/paper-item-shared-styles.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-tooltip/paper-tooltip.html"><link rel="prefetch" href="../neon-animation/web-animations.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.js"><link rel="prefetch" href="hax-toolbar-menu.html"><link rel="prefetch" href="../iron-icons/editor-icons.html"><link rel="prefetch" href="../iron-icons/device-icons.html"><link rel="prefetch" href="../iron-icons/hardware-icons.html"><link rel="prefetch" href="../iron-icons/social-icons.html"><link rel="prefetch" href="../iron-icons/av-icons.html"><link rel="prefetch" href="../iron-icons/maps-icons.html"><link rel="prefetch" href="../paper-listbox/paper-listbox.html"><link rel="prefetch" href="../iron-menu-behavior/iron-menu-behavior.html"><link rel="prefetch" href="../iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selection.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-scroll-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../neon-animation/animations/opaque-animation.html"><link rel="prefetch" href="../neon-animation/neon-animation-behavior.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown-scroll-manager.html"><link rel="prefetch" href="../neon-animation/animations/fade-in-animation.html"><link rel="prefetch" href="../neon-animation/animations/fade-out-animation.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button-animations.html"><link rel="prefetch" href="../paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="../paper-button/paper-button.html"><link rel="prefetch" href="../paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../iron-icons/image-icons.html"><link rel="prefetch" href="../iron-a11y-keys/iron-a11y-keys.html"><link rel="prefetch" href="../paper-slider/paper-slider.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-range-behavior/iron-range-behavior.html"><link rel="prefetch" href="../paper-input/paper-input.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"><link rel="prefetch" href="../paper-progress/paper-progress.html"></head><body><dom-module id="hax-inline-context"><template><style include="materializecss-styles-colors">:host{height:40px;position:absolute !important;transition:.6s all ease;visibility:hidden !important;opacity:0 !important;display:none !important;}:host[opened]{visibility:visible !important;z-index:1000 !important;opacity:1 !important;display:block !important;}paper-item:hover{background-color:#d3d3d3;cursor:pointer;}</style><hax-toolbar id="toolbar" inline="" hide-more="[[isSafari()]]"><template is="dom-if" if="[[!isSafari()]]"><hax-context-item slot="primary" icon="device:graphic-eq" label="Inline gizmo" event-name="insert-inline-gizmo"></hax-context-item><hax-context-item slot="primary" icon="editor:format-bold" label="Bold" event-name="text-bold"></hax-context-item><hax-context-item slot="primary" icon="editor:format-italic" label="Italic" event-name="text-italic"></hax-context-item><hax-context-item menu="" slot="more" icon="mdextra:unlink" label="" event-name="text-unlink">Unlink</hax-context-item><hax-context-item menu="" slot="more" icon="editor:format-clear" label="" event-name="text-remove-format">Remove format</hax-context-item><hax-context-item menu="" slot="more" label="" icon="mdextra:subscript" event-name="text-subscript">Subscript</hax-context-item><hax-context-item menu="" slot="more" label="" icon="mdextra:superscript" event-name="text-superscript">Superscript</hax-context-item><hax-context-item menu="" slot="more" icon="editor:format-strikethrough" label="" event-name="text-strikethrough">Cross out</hax-context-item></template><template is="dom-if" if="[[isSafari()]]"><hax-context-item-textop slot="primary" icon="device:graphic-eq" label="Inline gizmo" event-name="insert-inline-gizmo"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-bold" label="Bold" event-name="text-bold"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-italic" label="Italic" event-name="text-italic"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:insert-link" label="Link" event-name="text-link"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="mdextra:unlink" label="Unlink" event-name="text-unlink"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-clear" label="Remove format" event-name="text-remove-format"></hax-context-item-textop><hax-context-item-textop slot="primary" label="Subscript" icon="mdextra:subscript" event-name="text-subscript"></hax-context-item-textop><hax-context-item-textop slot="primary" label="Superscript" icon="mdextra:superscript" event-name="text-superscript"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-strikethrough" label="Cross out" event-name="text-strikethrough"></hax-context-item-textop></template></hax-toolbar></template><script>Polymer({is:'hax-inline-context',listeners:{"hax-context-item-selected":'_haxContextOperation'},properties:{opened:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'_openedChanged'}},attached:function(){window.__selectionLock=!1,document.addEventListener('selectstart',function(){window.__selectionLock=!0}),document.addEventListener('mouseup',function(){if(window.__selectionLock&&Polymer.HaxStore.instance.editMode&&babelHelpers.typeof(Polymer.HaxStore.instance.activeNode)!=='undefined'&&null!==Polymer.HaxStore.instance.activeNode&&babelHelpers.typeof(Polymer.HaxStore.instance.activeNode.tagName)!=='undefined'&&Polymer.HaxStore.instance.isTextElement(Polymer.HaxStore.instance.activeNode)&&!Polymer.HaxStore.instance.haxManager.opened){window.__selectionLock=!1;try{Polymer.HaxStore.instance.activeHaxBody.$.inlinecontextmenu.opened=!1;var a=window.getSelection(),b=a.getRangeAt(0).cloneRange();if(0===b.startOffset-b.endOffset);else try{b.setStart(a.focusNode,b.startOffset),b.insertNode(Polymer.HaxStore.instance.activeHaxBody.$.inlinetracker),setTimeout(function(){Polymer.HaxStore.instance.activeHaxBody.$.inlinecontextmenu.opened=!0},100)}catch(a){}}catch(a){}}else window.__selectionLock=!1})},_openedChanged:function(a,b){b&&!a?(Polymer.HaxStore.instance.activeHaxBody._hideContextMenu(Polymer.HaxStore.instance.activeHaxBody.$.inlinetracker),Polymer.HaxStore.instance.activePlaceHolder=null):a&&!b&&(Polymer.HaxStore.instance.activeHaxBody.$.inlinecontextmenu.style.left=Polymer.HaxStore.instance.activeHaxBody.$.inlinetracker.offsetLeft-Polymer.HaxStore.instance.activeHaxBody.$.inlinecontextmenu.offsetWidth/4+'px',Polymer.HaxStore.instance.activeHaxBody.$.inlinecontextmenu.style.top=Polymer.HaxStore.instance.activeHaxBody.$.inlinetracker.offsetTop+'px')},_haxContextOperation:function(a){var b=a.detail,c=window.getSelection();switch(b.eventName){case'close-inline-context':this.opened=!1;break;case'insert-inline-gizmo':var d=c.getRangeAt(0),e=d.cloneRange();e.setStartAfter(Polymer.HaxStore.instance.activeHaxBody.$.inlinetracker),Polymer.HaxStore.write('activePlaceHolder',e,Polymer.HaxStore.instance.activeHaxBody.$.inlinecontextmenu);var f={text:e.toString()},g='inline',h=Polymer.HaxStore.guessGizmo(g,f);0<h.length&&Polymer.HaxStore.instance.haxAppPicker.presentOptions(h,g,'Pick how to present this inline gizmo','gizmo');break;case'text-bold':document.execCommand('bold');break;case'text-italic':document.execCommand('italic');break;case'text-underline':document.execCommand('underline'),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case'text-subscript':document.execCommand('subscript'),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case'text-superscript':document.execCommand('superscript'),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case'text-remove-format':document.execCommand('removeFormat');break;case'text-strikethrough':document.execCommand('strikeThrough'),this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case'text-link':var i='';babelHelpers.typeof(c.focusNode.parentNode.href)!=='undefined'&&(i=c.focusNode.parentNode.href);var j=prompt('Enter a URL:',i);j&&document.execCommand('createLink',!1,j);break;case'text-unlink':document.execCommand('unlink');}},isSafari:function(){var a=navigator.userAgent.toLowerCase();if(-1!=a.indexOf('safari'))if(-1<a.indexOf('chrome'));else return!0;return!1}});</script></dom-module></body></html>