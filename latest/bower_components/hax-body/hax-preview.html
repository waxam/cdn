<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../eco-json-schema-form/eco-json-schema-wizard.html"><link rel="import" href="../paper-toggle-button/paper-toggle-button.html"><link rel="import" href="../paper-card/paper-card.html"><link rel="import" href="../paper-input/paper-textarea.html"><link rel="import" href="../code-editor/code-editor.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../app-datepicker/app-datepicker.html"><link rel="import" href="../paper-icon-picker/paper-icon-picker.html"><link rel="import" href="../paper-input-flagged/paper-input-flagged.html"><link rel="import" href="../vaadin-split-layout/vaadin-split-layout.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout-classes.html"><link rel="prefetch" href="../iron-icons/image-icons.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../iron-icons/editor-icons.html"><link rel="prefetch" href="../iron-pages/iron-pages.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-selector/iron-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selection.html"><link rel="prefetch" href="../paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-toolbar/paper-toolbar.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-scroll-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../neon-animation/animations/opaque-animation.html"><link rel="prefetch" href="../neon-animation/neon-animation-behavior.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown-scroll-manager.html"><link rel="prefetch" href="../neon-animation/animations/fade-in-animation.html"><link rel="prefetch" href="../neon-animation/animations/fade-out-animation.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button-animations.html"><link rel="prefetch" href="../app-localize-behavior/app-localize-behavior.html"><link rel="prefetch" href="../iron-ajax/iron-ajax.html"><link rel="prefetch" href="../iron-ajax/iron-request.html"><link rel="prefetch" href="../intl-messageformat/dist/intl-messageformat.min.js"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-object.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-array.html"><link rel="prefetch" href="../paper-tooltip/paper-tooltip.html"><link rel="prefetch" href="../paper-collapse-item/paper-collapse-item.html"><link rel="prefetch" href="../iron-collapse/iron-collapse.html"><link rel="prefetch" href="../paper-item/paper-item-body.html"><link rel="prefetch" href="../paper-styles/paper-styles.html"><link rel="prefetch" href="../paper-collapse-item/simple-paper-item.html"><link rel="prefetch" href="../paper-item/paper-item-behavior.html"><link rel="prefetch" href="../paper-item/paper-item-shared-styles.html"><link rel="prefetch" href="../paper-collapse-item/paper-collapse-group.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-boolean.html"><link rel="prefetch" href="../paper-checkbox/paper-checkbox.html"><link rel="prefetch" href="../paper-behaviors/paper-checked-element-behavior.html"><link rel="prefetch" href="../iron-checked-element-behavior/iron-checked-element-behavior.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-enum.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu.html"><link rel="prefetch" href="../paper-input/paper-input.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu-icons.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu-shared-styles.html"><link rel="prefetch" href="../paper-menu/paper-menu.html"><link rel="prefetch" href="../iron-menu-behavior/iron-menu-behavior.html"><link rel="prefetch" href="../iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../paper-menu/paper-menu-shared-styles.html"><link rel="prefetch" href="../paper-item/paper-item.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-input.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-file.html"><link rel="prefetch" href="../paper-button/paper-button.html"><link rel="prefetch" href="../paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../eco-json-schema-form/eco-json-schema-geolocation.html"><link rel="prefetch" href="../iron-icons/communication-icons.html"><link rel="prefetch" href="../geo-location/geo-location.html"><link rel="prefetch" href="../google-map/google-map.html"><link rel="prefetch" href="../google-apis/google-maps-api.html"><link rel="prefetch" href="../iron-jsonp-library/iron-jsonp-library.html"><link rel="prefetch" href="../iron-selector/iron-selector.html"><link rel="prefetch" href="../google-map/google-map-marker.html"><link rel="prefetch" href="../iron-image/iron-image.html"><link rel="prefetch" href="../iron-autogrow-textarea/iron-autogrow-textarea.html"><link rel="prefetch" href="../materializecss-styles/materializecss-styles.html"><link rel="prefetch" href="../materializecss-styles/colors.html"><link rel="prefetch" href="../materializecss-styles/shapes.html"><link rel="prefetch" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="prefetch" href="../schema-behaviors/schema-behaviors.html"><link rel="prefetch" href="../juicy-ace-editor/juicy-ace-editor.html"><link rel="prefetch" href="../ace-builds/src-min-noconflict/ace.js"><link rel="prefetch" href="../ace-builds/src-min-noconflict/ext-searchbox.js"><link rel="prefetch" href="../code-editor/code-pen-button.html"><link rel="prefetch" href="../app-datepicker/app-datepicker-icons.html"><link rel="prefetch" href="../app-datepicker/app-datepicker-animations.html"><link rel="prefetch" href="../neon-animation/web-animations.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.js"><link rel="prefetch" href="../iron-list/iron-list.html"><link rel="prefetch" href="../iron-scroll-target-behavior/iron-scroll-target-behavior.html"><link rel="prefetch" href="../neon-animation/neon-animated-pages.html"><link rel="prefetch" href="../neon-animation/animations/slide-from-left-animation.html"><link rel="prefetch" href="../neon-animation/animations/slide-from-right-animation.html"><link rel="prefetch" href="../paper-listbox/paper-listbox.html"><link rel="prefetch" href="../iron-a11y-keys/iron-a11y-keys.html"><link rel="prefetch" href="../paper-icon-picker/paper-icon-picker-icon.html"></head><body><dom-module id="hax-preview"><template><style>:host{display:block;}paper-card.form-wrapper{margin:0;padding:8px;width:100%;min-height:160px;}vaadin-split-layout{display:flex;justify-content:space-around;height:100%;--vaadin-split-layout-splitter:{background-color:#f8f8f8;};}eco-json-schema-object{width:50%;}.vaadin-split-layout-panel{flex:1 1 auto;width:100%;flex-wrap:nowrap;margin:0;height:100%;}#form{--eco-json-schema-object-form:{display:block !important;};}#preview{padding:8px;background-color:#f8f8f8;}#preview ::slotted(*){float:unset !important;float:unset !important;margin:unset !important;width:unset !important;}.preview-text{font-size:11px;font-family:sans-serif;color:#CCCCCC;font-style:italic;width:100%;height:24px;line-height:16px;border-bottom:1px solid #CCCCCC;text-align:center;}.preview-text iron-icon{margin:0 8px;}.preview-text-bottom{border-bottom:unset;border-top:1px solid #CCCCCC;}@media screen and (max-width: 550px){.hide-on-mobile{opacity:0;visibility:hidden;position:absolute;left:-9999px;}}#modetabs{height:80px;border-bottom:1px #e5e5e5 solid;--paper-tabs-selection-bar-color:#34e79a;--paper-tabs:{background:#f8f8f8;};}#modetabs paper-tab{--paper-tab-ink:#34e79a;--paper-tab:{font-size:16px;};}#modetabs paper-tab paper-button{min-width:unset;width:100%;}.human-name{width:100%;text-align:center;font-size:16px;}.preview-buttons{height:80px;padding:16px;color:#222222;border-bottom:1px var(--hax-manager-steps-color) solid;background-color:#f8f8f8;margin:0 auto;text-align:center;box-sizing:content-box;}.preview-buttons paper-button{min-width:unset;width:40%;}</style><vaadin-split-layout class="panel-wrapper"><div class="vaadin-split-layout-panel"><div class="preview-buttons"><paper-button id="insert" raised="">[[editTitle]]</paper-button><paper-button id="cancel" raised="">Cancel</paper-button></div><div class="preview-text"><iron-icon icon="icons:arrow-drop-down"></iron-icon><iron-icon icon="icons:arrow-drop-down"></iron-icon><iron-icon icon="icons:arrow-drop-down"></iron-icon>[[humanName]] preview<iron-icon icon="icons:arrow-drop-down"></iron-icon><iron-icon icon="icons:arrow-drop-down"></iron-icon><iron-icon icon="icons:arrow-drop-down"></iron-icon></div><div id="preview"></div><div class="preview-text preview-text-bottom"><iron-icon icon="icons:arrow-drop-up"></iron-icon><iron-icon icon="icons:arrow-drop-up"></iron-icon><iron-icon icon="icons:arrow-drop-up"></iron-icon>end preview<iron-icon icon="icons:arrow-drop-up"></iron-icon><iron-icon icon="icons:arrow-drop-up"></iron-icon><iron-icon icon="icons:arrow-drop-up"></iron-icon></div></div><div class="vaadin-split-layout-panel"><paper-tabs hidden$="[[!haspreviewNode]]" id="modetabs" selected="{{modeTab}}" attr-for-selected="data-mode"><paper-tab id="configurebutton" data-mode="configure"><paper-button raised="" noink="">Configure</paper-button></paper-tab><paper-tab id="advancedbutton" data-mode="advanced"><paper-button raised="" noink="">Advanced</paper-button></paper-tab></paper-tabs><paper-card class="form-wrapper"><eco-json-schema-object id="form" schema="[[schema]]" value="{{value}}"></eco-json-schema-object></paper-card></div></vaadin-split-layout></template><script>Polymer({is:'hax-preview',observers:['_valueChanged(value.*, formKey)'],listeners:{"cancel.tap":'cancel',"insert.tap":'insert'},properties:{previewNode:{type:Object,value:{},observer:'_previewNodeChanged'},value:{type:Object,notify:!0,value:{}},modeTab:{type:String,value:'configure',observer:'_editorModeChanged'},editTitle:{type:String,value:'Update'},element:{type:Object,observer:'_elementChanged'},haspreviewNode:{type:Boolean,computed:'_computedHasPreviewNode(previewNode)'},schema:{type:Object,value:{schema:{}}},advancedForm:{type:Boolean,value:!1},canEditSource:{type:Boolean,computed:'_computedEditSource(formKey)'},formKey:{type:String,computed:'_computedFormKey(advancedForm)',observer:'_formKeyChanged'},humanName:{type:String}},cancel:function(a){Polymer.HaxStore.instance.haxManager.cancel(a)},insert:function(a){Polymer.HaxStore.instance.haxManager.insertHaxElement(a)},_computedHasPreviewNode:function(a){return babelHelpers.typeof(a.tagName)!=='undefined'},_computedEditSource:function(a){return('undefined'===typeof a?'undefined':babelHelpers.typeof(a))!=='undefined'&&babelHelpers.typeof(this.previewNode.tagName)!=='undefined'&&Polymer.HaxStore.instance.elementList[this.previewNode.tagName.toLowerCase()]?Polymer.HaxStore.instance.elementList[this.previewNode.tagName.toLowerCase()].canEditSource:!0},_computedFormKey:function(a){return a?'advanced':'configure'},_formKeyChanged:function(a,b){if(('undefined'===typeof b?'undefined':babelHelpers.typeof(b))!=='undefined'){var c={};if(babelHelpers.typeof(this.previewNode)!=='undefined'&&babelHelpers.typeof(this.previewNode.tagName)!=='undefined'&&babelHelpers.typeof(Polymer.HaxStore.instance.elementList[this.previewNode.tagName.toLowerCase()])!=='undefined'){var d=this.element,e=Polymer.HaxStore.instance.elementList[this.previewNode.tagName.toLowerCase()];for(var f in c='function'===typeof this.previewNode.getHaxJSONSchemaType?Polymer.HaxStore.instance.getHaxJSONSchema(a,e,this.previewNode):Polymer.HaxStore.instance.getHaxJSONSchema(a,e),d.properties)if(d.properties.hasOwnProperty(f)){if(babelHelpers.typeof(c.properties[f])!=='undefined'&&(c.properties[f].value=d.properties[f],babelHelpers.typeof(c.properties[f].component)!=='undefined'&&(c.properties[f].component.properties.value=d.properties[f]),null!=d.properties[f]&&!d.properties[f].readOnly))try{this.previewNode.set(f,d.properties[f])}catch(a){console.log(a)}this.set('value.'+f,d.properties[f])}for(var g in e.settings[a]){var h=this.previewNode;if(babelHelpers.typeof(e.settings[this.formKey][g].slot)!=='undefined')for(var j in Polymer.dom(h).getEffectiveChildNodes())babelHelpers.typeof(Polymer.dom(h).getEffectiveChildNodes()[j])!=='undefined'&&1===Polymer.dom(h).getEffectiveChildNodes()[j].nodeType&&Polymer.dom(h).getEffectiveChildNodes()[j].slot===e.settings[this.formKey][g].slot&&babelHelpers.typeof(Polymer.dom(h).getEffectiveChildNodes()[j].innerHTML)!=='undefined'&&(c.properties[e.settings[this.formKey][g].slot].value=Polymer.dom(h).getEffectiveChildNodes()[j].innerHTML,this.set('value.'+e.settings[this.formKey][g].slot,Polymer.dom(h).getEffectiveChildNodes()[j].innerHTML))}}this.set('schema',{}),this.set('schema',c)}},_previewNodeChanged:function(a,b){if(('undefined'===typeof b?'undefined':babelHelpers.typeof(b))!=='undefined'&&a!=b&&babelHelpers.typeof(a.tagName)!=='undefined'&&babelHelpers.typeof(Polymer.HaxStore.instance.elementList[a.tagName.toLowerCase()])!=='undefined'){var c=this.element,d=Polymer.HaxStore.instance.elementList[a.tagName.toLowerCase()],e={};for(var f in e='function'===typeof a.getHaxJSONSchemaType?Polymer.HaxStore.instance.getHaxJSONSchema(this.formKey,d,a):Polymer.HaxStore.instance.getHaxJSONSchema(this.formKey,d),this.humanName=babelHelpers.typeof(d.gizmo.title)==='undefined'?a.tagName.replace('-',' ').toLowerCase():d.gizmo.title,c.properties)if(c.properties.hasOwnProperty(f)){if(babelHelpers.typeof(e.properties[f])!=='undefined'&&(e.properties[f].value=c.properties[f],babelHelpers.typeof(e.properties[f].component)!=='undefined'&&(e.properties[f].component.properties.value=c.properties[f])),null!=c.properties[f]&&!c.properties[f].readOnly)try{a.set(f,c.properties[f])}catch(a){}this.set('value.'+f,c.properties[f])}for(var f in a)a.hasOwnProperty(f)&&babelHelpers.typeof(e.properties[f])!=='undefined'&&babelHelpers.typeof(a[f].value)!=='undefined'&&null!==a[f].value&&(e.properties[f].value=a.properties[f].value,babelHelpers.typeof(e.properties[f].component)!=='undefined'&&(e.properties[f].component.properties.value=a.properties[f].value),this.set('value.'+f,a.properties[f].value));for(var g in d.settings[this.formKey])if(babelHelpers.typeof(d.settings[this.formKey][g].slot)!=='undefined')for(var h in Polymer.dom(a).getEffectiveChildNodes())babelHelpers.typeof(Polymer.dom(a).getEffectiveChildNodes()[h])!=='undefined'&&1===Polymer.dom(a).getEffectiveChildNodes()[h].nodeType&&Polymer.dom(a).getEffectiveChildNodes()[h].slot===d.settings[this.formKey][g].slot&&babelHelpers.typeof(Polymer.dom(a).getEffectiveChildNodes()[h].innerHTML)!=='undefined'&&(e.properties[d.settings[this.formKey][g].slot].value=Polymer.dom(a).getEffectiveChildNodes()[h].innerHTML,this.set('value.'+d.settings[this.formKey][g].slot,Polymer.dom(a).getEffectiveChildNodes()[h].innerHTML));this.set('schema',{}),this.set('schema',e)}},_elementChanged:function(a){var b=this;if(('undefined'===typeof a?'undefined':babelHelpers.typeof(a))!=='undefined'&&0<Object.keys(a).length){var c=this.$.preview;if(Polymer.HaxStore.wipeSlot(c,'*'),this.set('previewNode',{}),this.modeTab='configure',null!=a&&0!=a.length){var d=document.createElement(a.tag);d.innerHTML=a.content;var e=d.cloneNode(!0);c.appendChild(e),setTimeout(function(){b.set('previewNode',e)},100)}}else this.modeTab='advanced',this.set('previewNode',{})},_valueChanged:function(){var a=this.previewNode;if(babelHelpers.typeof(a.tagName)!=='undefined'&&babelHelpers.typeof(Polymer.HaxStore.instance.elementList[a.tagName.toLowerCase()])!=='undefined'){var b=Polymer.HaxStore.instance.elementList[a.tagName.toLowerCase()];for(var c in b.settings[this.formKey])if(b.settings[this.formKey].hasOwnProperty(c)&&babelHelpers.typeof(b.settings[this.formKey][c].property)!=='undefined'&&babelHelpers.typeof(this.value[b.settings[this.formKey][c].property])!=='undefined')!0===this.value[b.settings[this.formKey][c].property]?a[b.settings[this.formKey][c].property]=!0:!1===this.value[b.settings[this.formKey][c].property]?a[b.settings[this.formKey][c].property]=!1:null!=this.value[b.settings[this.formKey][c].property]&&this.value[b.settings[this.formKey][c].property].constructor===Array?a.set(b.settings[this.formKey][c].property,Polymer.HaxStore.toArray(this.value[b.settings[this.formKey][c].property])):null!=this.value[b.settings[this.formKey][c].property]&&this.value[b.settings[this.formKey][c].property].constructor===Object?a.set(b.settings[this.formKey][c].property,this.value[b.settings[this.formKey][c].property]):a.set(b.settings[this.formKey][c].property,this.value[b.settings[this.formKey][c].property]),this.set('element.properties.'+b.settings[this.formKey][c].property,this.value[b.settings[this.formKey][c].property]);else if(b.settings[this.formKey].hasOwnProperty(c)&&babelHelpers.typeof(b.settings[this.formKey][c].attribute)!=='undefined'&&babelHelpers.typeof(this.value[b.settings[this.formKey][c].attribute])!=='undefined'){var d=Polymer.HaxStore.camelToDash(b.settings[this.formKey][c].attribute);!0===this.value[b.settings[this.formKey][c].attribute]?a.setAttribute(d,d):!1===this.value[b.settings[this.formKey][c].attribute]?a.removeAttribute(d):'inner-text'===d?(a.innerText=this.value[b.settings[this.formKey][c].attribute],a.removeAttribute('innertext')):null!==this.value[b.settings[this.formKey][c].attribute]&&'null'!==this.value[b.settings[this.formKey][c].attribute]&&a.setAttribute(d,this.value[b.settings[this.formKey][c].attribute]),'inner-text'!==d&&null!==this.value[b.settings[this.formKey][c].attribute]&&'null'!==this.value[b.settings[this.formKey][c].attribute]&&this.set('element.properties.'+b.settings[this.formKey][c].attribute,this.value[b.settings[this.formKey][c].attribute])}else if(babelHelpers.typeof(b.settings[this.formKey][c].slot)!=='undefined'&&babelHelpers.typeof(this.value[b.settings[this.formKey][c].slot])!=='undefined'){var e='span';'code-editor'===a.tagName.toLowerCase()&&(e='template');var f=document.createElement(e);''!==b.settings[this.formKey][c].slot&&(f.slot=b.settings[this.formKey][c].slot),f.innerHTML=this.value[b.settings[this.formKey][c].slot],Polymer.HaxStore.wipeSlot(a,b.settings[this.formKey][c].slot),Polymer.dom(a).appendChild(f),this.set('element.content','<template>'+f.innerHTML+'</template>')}else;}},_editorModeChanged:function(a){a&&('advanced'===a?this.advancedForm=!0:this.advancedForm=!1)}});</script></dom-module></body></html>