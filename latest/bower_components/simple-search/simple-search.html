<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="../paper-tooltip/paper-tooltip.html"><link rel="import" href="simple-search-content.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"></head><body><dom-module id="simple-search"><template><style>:host{display:flex;align-items:flex-end;justify-content:space-between;width:100%;}:host #input{flex-grow:2;margin-right:0.25em;}:host #xofy{margin:8px;}:host button{margin:8px 0 8px;}:host button:not([controls]){display:none;}:host [shrink-hide]{display:none;}</style><paper-input id="input" label="[[searchInputLabel]]"><iron-icon icon="[[searchInputIcon]]" slot="prefix"></iron-icon></paper-input><div id="xofy" shrink-hide$="[[noSearch]]"></div><div shrink-hide$="[[noResults]]"><button id="prev" aria-label="[[prevButtonLabel]]" aria-role="button" controls$="[[controls]]" disabled$="[[prevButtonDisabled]]" tabindex="0"><iron-icon icon="[[prevButtonIcon]]"></iron-icon></button><paper-tooltip for="prev">[[prevButtonLabel]]</paper-tooltip><button id="next" aria-label="[[nextButtonLabel]]" aria-role="button" controls$="[[controls]]" disabled$="[[nextButtonDisabled]]" tabindex="0"><iron-icon icon$="[[nextButtonIcon]]"></iron-icon></button><paper-tooltip for="next">[[nextButtonLabel]]</paper-tooltip></div></template><script>Polymer({is:'simple-search',properties:{caseSensitive:{type:Boolean,value:null},controls:{type:String,value:null},nextButtonDisabled:{type:Boolean,computed:'_isNavButtonDisabled(resultPointer,resultCount,resultsSpan,1)'},nextButtonIcon:{type:String,value:'arrow-forward'},nextButtonLabel:{type:String,value:'next result'},noResults:{type:Boolean,computed:'_hasNoResults(resultCount)'},noSearch:{type:Boolean,computed:'_hasNoSearch(searchTerms)'},prevButtonDisabled:{type:Boolean,computed:'_isNavButtonDisabled(resultPointer,resultCount,resultsSpan,-1)'},prevButtonIcon:{type:String,value:'arrow-back'},prevButtonLabel:{type:String,value:'previous result'},resultCount:{type:Number,value:0},resultPointer:{type:Number,value:0},resultsSpan:{type:String,computed:'_getResultsSpan(noSearch,resultPointer,resultCount)'},searchInputIcon:{type:String,value:'search'},searchInputLabel:{type:String,value:'search'},searchTerms:{type:Array,value:[]},target:{type:Object,value:null}},ready:function(){var a=this,b=a.$.input;a._getSearchText(b.value),a.addEventListener('change',function(){a._getSearchText(b.value),a.resultCount=0,a.resultPointer=0,a.fire('search',a)}),a.$.prev.addEventListener('tap',function(){a._navigateResults(-1)}),a.$.next.addEventListener('tap',function(){a._navigateResults(1)})},_hasNoResults:function(a){return 1>a},_hasNoSearch:function(a){return 1>a.length},_getResultsSpan:function(a,b,c){var d='';return d=0<c&&0<b?b+'/'+c:' '+c,this.$.xofy.innerHTML=d,this.$.xofy.innerHTML},_navigateResults:function(a){this._isNavButtonDisabled(this.resultPointer,this.resultCount,this.resultsSpan,a)||(this.resultPointer+=a,this.fire('goto-result',this.resultPointer))},_isNavButtonDisabled:function(a,b,c,d){return!(''!==c&&0<a+d&&a+d<=b)},_getSearchText:function(a){var b=[];if(a!==void 0&&null!==a){b=a.split(/[\"\']/gm);for(var c=0;c<b.length;c++)b[c]=b[c].trim(),''===b[c]&&b.splice(c,1)}this.set('searchTerms',b.slice(0))},findMatches:function(a){for(var b=this,c=b.searchTerms,d=this.caseSensitive?'gm':'gim',e=a.slice(0),f=function(a){for(var c=0;c<e.length;c++)if(!1===e[c].matched){var f=new RegExp('\\b'+a+'\\b',d),g=e[c].text,h=g.search(f),i=h+a.length;if(-1<h){b.resultCount+=1;var j=g.slice(0,h),k=g.slice(h,i),l=g.slice(i,g.length),m=e.splice(c,1,{matched:!1,text:j,searchObject:b},{matched:!0,matchNumber:b.resultCount,text:k,searchObject:b},{matched:!1,text:l,searchObject:b})}}},g=0;g<c.length;g++)f(c[g]);return e}});</script></dom-module></body></html>