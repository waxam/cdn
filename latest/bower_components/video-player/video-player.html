<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../materializecss-styles/materializecss-styles.html"><link rel="import" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="import" href="../schema-behaviors/schema-behaviors.html"><link rel="import" href="../a11y-behaviors/a11y-behaviors.html"><link rel="import" href="../media-behaviors/media-behaviors.html"><link rel="import" href="../a11y-media-player/a11y-media-group.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../materializecss-styles/colors.html"><link rel="prefetch" href="../materializecss-styles/shapes.html"><link rel="prefetch" href="../responsive-utility/responsive-utility.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../paper-toggle-button/paper-toggle-button.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-behaviors/paper-checked-element-behavior.html"><link rel="prefetch" href="../iron-checked-element-behavior/iron-checked-element-behavior.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-behaviors.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-player.html"><link rel="prefetch" href="../paper-slider/paper-slider.html"><link rel="prefetch" href="../iron-range-behavior/iron-range-behavior.html"><link rel="prefetch" href="../paper-input/paper-input.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"><link rel="prefetch" href="../paper-progress/paper-progress.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.js"><link rel="prefetch" href="../a11y-media-player/screenfull-lib.html"><link rel="prefetch" href="../screenfull/dist/screenfull.js"><link rel="prefetch" href="../a11y-media-player/a11y-media-play-button.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-controls.html"><link rel="prefetch" href="../paper-listbox/paper-listbox.html"><link rel="prefetch" href="../iron-menu-behavior/iron-menu-behavior.html"><link rel="prefetch" href="../iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selection.html"><link rel="prefetch" href="../paper-item/paper-item.html"><link rel="prefetch" href="../paper-item/paper-item-behavior.html"><link rel="prefetch" href="../paper-item/paper-item-shared-styles.html"><link rel="prefetch" href="../paper-tooltip/paper-tooltip.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-scroll-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown-scroll-manager.html"><link rel="prefetch" href="../neon-animation/animations/fade-in-animation.html"><link rel="prefetch" href="../neon-animation/neon-animation-behavior.html"><link rel="prefetch" href="../neon-animation/animations/fade-out-animation.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button-animations.html"><link rel="prefetch" href="../dropdown-select/dropdown-select.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu-icons.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../paper-dropdown-menu/paper-dropdown-menu-shared-styles.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-button.html"><link rel="prefetch" href="../iron-icons/iron-icons.html"><link rel="prefetch" href="../iron-icons/av-icons.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-transcript.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-transcript-cue.html"><link rel="prefetch" href="../iron-a11y-keys/iron-a11y-keys.html"><link rel="prefetch" href="../simple-search/simple-search-content.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-utility.html"><link rel="prefetch" href="../a11y-media-player/a11y-media-transcript-controls.html"><link rel="prefetch" href="../simple-search/simple-search.html"></head><body><dom-module id="video-player"><template><style include="materializecss-styles">:host{display:block;}:host[responsive] .responsive-video-container{position:relative;padding-bottom:56.25%;margin-top:16px;height:0;}:host[responsive] .responsive-video-container *{position:absolute;top:0;left:0;width:100%;height:100%;}.video-caption{font-style:italic;margin:0;padding:8px;@apply --video-player-caption-theme;}</style><template is="dom-if" if="[[sandboxed]]"><div class="responsive-video-container"><webview resource$="[[schemaResourceID]]-video" src$="[[src]]" width$="[[width]]" height$="[[height]]" frameborder="0"></webview></div></template><template is="dom-if" if="[[!sandboxed]]"><template is="dom-if" if="[[iframed]]"><div class="responsive-video-container"><iframe resource$="[[schemaResourceID]]-video" src$="[[src]]" width$="[[width]]" height$="[[height]]" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></div></template></template><div id="a11yplayer"></div><div id="videocaption" class$="video-caption [[secondaryColorClass]] [[textColorClass]]">[[caption]]<slot name="caption"></slot></div></template><script>Polymer({is:'video-player',behaviors:[HAXBehaviors.PropertiesBehaviors,MaterializeCSSBehaviors.ColorBehaviors,SchemaBehaviors.Schema,A11yBehaviors.A11y,MediaBehaviors.Video],properties:{source:{type:String},src:{type:String,computed:'_computeSRC(source)'},iframed:{type:Boolean,computed:'_computeIframed(source, sandboxed)'},sandboxed:{type:Boolean,computed:'_computeSandboxed(source)'},width:{type:String,value:560},height:{type:String,value:315},responsive:{type:Boolean,reflectToAttribute:!0,value:!0},title:{type:String},thumbnail:{type:String},caption:{type:String},tracks:{type:Array},sources:{type:Array,value:[]},primaryColor:{type:String,value:null,observer:'_primaryColorChanged'},secondaryColor:{type:String,value:null,observer:'_secondaryColorChanged'},textColor:{type:String,value:'#000000'},primaryColorClass:{type:String,computed:'_computeColorClass(primaryColor)'},secondaryColorClass:{type:String,computed:'_computeColorClass(secondaryColor)'},textColorClass:{type:String,computed:'_computeColorClass(textColor)'},ytNocookie:{type:Boolean,value:!0},ytSuggested:{type:Boolean,value:!1},ytControls:{type:Boolean,value:!0},ytTitle:{type:Boolean,value:!1},vimeoTitle:{type:Boolean,value:!1},vimeoByline:{type:Boolean,value:!1},vimeoPortrait:{type:Boolean,value:!1},videoColor:{type:String,value:'FF031D'}},_computeIframed:function(a,b){return this._sourceIsIframe(a)&&!b},_tracksChanged:function(){},_computeSandboxed:function(a){if(this._sourceIsIframe(a)){var b=document.createElement('webview');if('function'===typeof b.reload)return!0}return!1},attached:function(){babelHelpers.typeof(this.source)!=='undefined'&&0===typeof this.sources.length&&(this.sources=[{src:this.source}]);this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:'Video player',description:'This can present video in a highly accessible manner regardless of source.',icon:'av:play-circle-filled',color:'red',groups:['Video','Media'],handles:[{type:'video',source:'source',title:'caption',caption:'caption',description:'caption',color:'primaryColor'}],meta:{author:'LRNWebComponents'}},settings:{quick:[{property:'responsive',title:'Responsive',description:'The video automatically fills the available area.',inputMethod:'boolean',icon:'image:photo-size-select-small'},{property:'primaryColor',title:'Primary color',description:'Select the primary color used in the video',inputMethod:'colorpicker',icon:'editor:format-color-fill'},{property:'secondaryColor',title:'Secondary color',description:'Select the secondary color used for the video',inputMethod:'colorpicker',icon:'editor:format-color-fill'}],configure:[{property:'source',title:'Source',description:'The URL for this video.',inputMethod:'textfield',icon:'link',required:!0,validationType:'url'},{property:'caption',title:'caption',description:'Simple caption for under video',inputMethod:'textfield',icon:'av:video-label',required:!1,validationType:'text'},{property:'responsive',title:'Responsive',description:'The video automatically fills the available area.',inputMethod:'boolean',icon:'image:photo-size-select-small'},{property:'primaryColor',title:'Primary color',description:'Select the primary color used in the video',inputMethod:'colorpicker',icon:'editor:format-color-fill'},{property:'secondaryColor',title:'Secondary color',description:'Select the secondary color used for the video',inputMethod:'colorpicker',icon:'editor:format-color-fill'}],advanced:[{property:'sources',title:'Source list',description:'List of sources',inputMethod:'array',properties:[{property:'src',title:'Source',description:'The URL for this video.',inputMethod:'textfield'},{property:'type',title:'Type',description:'Video type data',inputMethod:'select',options:{"video/mp4":'mp4',"video/webm":'webm',"video/ogg":'ogg'}}]},{property:'tracks',title:'Track list',description:'Tracks of different languages of closed captions',inputMethod:'array',properties:[{property:'kind',title:'Kind',description:'Kind of track',inputMethod:'textfield'},{property:'label',title:'Label',description:'Label',inputMethod:'textfield'},{property:'src',title:'Source',description:'Source of the track',inputMethod:'textfield'},{property:'srclang',title:'Language code',description:'Label',inputMethod:'textfield'}]}]}})},_computeSRC:function(a){if(('undefined'===typeof a?'undefined':babelHelpers.typeof(a))!=='undefined'){var b=this.getVideoType(a);a=this.cleanVideoSource(a,b),'vimeo'==b?(a+=this.vimeoTitle?'?title=1':'?title=0',a+=this.vimeoByline?'&byline=1':'&byline=0',a+=this.vimeoPortrait?'&portrait=1':'&portrait=0',babelHelpers.typeof(this.videoColor)!=='undefined'&&(a+='&color='+this.videoColor)):'youtube'==b?(this.ytNocookie&&(a=a.replace('youtube.com/embed','youtube-nocookie.com/embed')),a+=this.ytTitle?'?showinfo=1':'?showinfo=0',a+=this.ytControls?'&controls=1':'&controls=0',a+=this.ytSuggested?'&rel=1':'&rel=0'):'dailymotion'==b&&(a+='&ui-start-screen-info=false',a+='&ui-logo=false',a+='&sharing-enable=false',a+='&endscreen-enable=false',babelHelpers.typeof(this.videoColor)!=='undefined'&&(a+='&ui-highlight='+this.videoColor))}return a},_secondaryColorChanged:function(a){('undefined'===typeof a?'undefined':babelHelpers.typeof(a))!=='undefined'&&null!=a&&this.computeTextPropContrast('textColor','secondaryColor')},_primaryColorChanged:function(a){if(null!=a&&babelHelpers.typeof(this.source)!=='undefined'){this.videoColor=a.substring(1);var b=this.source;this.set('source',''),this.set('source',b)}},_computeColorClass:function(a){if(null!=a&&'#ffffff'==a.toLowerCase())return'white-text';return null!=a&&'#000000'==a?'black-text':null!=a&&'#'==a.substring(0,1)?this._colorTransform(a.toLowerCase(),'',''):void 0}});</script></dom-module></body></html>