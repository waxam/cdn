{"version":3,"file":"a11y-media-player.umd.js","sources":["lib/a11y-media-behaviors.js","lib/a11y-media-loader.js","lib/a11y-media-play-button.js","lib/a11y-media-button.js","lib/a11y-media-controls.js","lib/a11y-media-transcript-cue.js","lib/a11y-media-transcript.js","lib/a11y-media-transcript-controls.js","lib/a11y-media-utility.js","lib/a11y-media-youtube-utility.js","a11y-media-player.umd.js"],"sourcesContent":["import \"@lrnwebcomponents/responsive-utility/responsive-utility.js\";\n/**\n`a11y-media-behaviors`\nA set of behaviors for a11y-media components.\n@microcopy - the mental model for this element\n - \n - \n*/\nwindow.a11yMediaBehaviors = window.a11yMediaBehaviors || {};\nwindow.a11yMediaBehaviors.MediaProps = {\n  properties: {\n    /**\n     * autoplay is an option,\n     * but generally not recommended for a11y\n     */\n\n    autoplay: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * show closed captions\n     */\n    cc: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * The height of the media player.\n     */\n    height: {\n      type: Number,\n      value: null\n    },\n    /**\n     * is YouTube?\n     */\n    isYoutube: {\n      type: Boolean,\n      computed: \"_hasAttribute(youtubeId)\"\n    },\n    /**\n     * Language\n     */\n    lang: {\n      type: String,\n      value: \"en\"\n    },\n    /**\n     * Loop the video?\n     */\n    loop: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Dash.js manifest source?\n     */\n    manifest: {\n      type: String,\n      value: null\n    },\n    /**\n     * Is audio muted?\n     */\n    muted: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Preload the sources: auto, metadata (default), or none.\n     */\n    preload: {\n      type: String,\n      value: \"metadata\"\n    },\n    /**\n     * Playback rate where 1 is normal speed, 0.5 is half-speed, and 2 is double speed\n     */\n    playbackRate: {\n      type: Number,\n      value: 1\n    },\n    /**\n     * status\n     */\n    status: {\n      type: String,\n      value: \"loading...\"\n    },\n    /**\n     * the selected track\n     */\n    selectedTrack: {\n      type: Object,\n      value: null\n    },\n    /**\n     * id of the selected track\n     */\n    selectedTrackID: {\n      type: Number,\n      value: null\n    },\n    /**\n     * array of tracks and cues\n     */\n    tracks: {\n      type: Array,\n      value: null\n    },\n    /**\n     * Range is 0 to 100. Default should not be loud enough to overpower screen readers.\n     */\n    volume: {\n      type: Number,\n      value: 70\n    },\n    /**\n     * the id for the video\n     */\n    youtubeId: {\n      type: String,\n      value: null\n    },\n    /**\n     * the YouTube player object\n     */\n    youTube: {\n      type: Object,\n      value: {}\n    }\n  },\n  /**\n   * returns true if an attribute is not null\n   */\n\n  _hasAttribute: function(attr) {\n    return attr !== undefined && attr !== null;\n  },\n  /**\n   * returns true if an attribute is set to a value\n   */\n\n  _testAttribute: function(attr, val) {\n    return attr === val;\n  }\n};\nwindow.a11yMediaBehaviors.GeneralFunctions = {\n  /**\n   * calls responsive-utility to get parent's responsive size\n   */\n\n  _addResponsiveUtility: function(data) {\n    let root = this,\n      data2 =\n        data !== undefined\n          ? data\n          : {\n              element: root,\n              attribute: \"responsive-size\",\n              relativeToParent: true\n            };\n    window.ResponsiveUtility.requestAvailability();\n    root.fire(\"responsive-element\", data2);\n  },\n  /**\n   * converts time in millesconds to HH:MM:SS\n   */\n  _getHHMMSS: function(val, max) {\n    max = max === undefined ? val : max;\n    let a = val => {\n        return val < 10 ? \"0\" + val : val;\n      },\n      b = (val, i, none) => {\n        return max >= i ? a(Math.floor(val / i)) + \":\" : none;\n      },\n      c = val => {\n        return val < 100 ? val + \"0\" : val;\n      };\n    return (\n      b(val, 3600, \"\") + b(val % 3600, 60, \"00:\") + a(Math.round(val % 60))\n    );\n  }\n  /** TODO - I may not need this\n    * converts time in millesconds to HH:MM:SS\n  _getSeconds: function(val){\n    let total = 0, units = val.split(':').reverse();\n    total = units[0] !== undefined && units[0] !== null ? units[0]/1000 : 0; //ms\n    total += units[1] !== undefined && units[1] !== null ? units[1] : 0; //ss\n    total += units[2] !== undefined && units[2] !== null ? units[2]*60 : 0; //mm\n    total += units[3] !== undefined && units[3] !== null ? units[3]*3600 : 0; //hh\n    console.log(units,total);\n    return total;\n  }\n    */\n};\nwindow.a11yMediaBehaviors.PlayerBehaviors = {\n  properties: {\n    /**\n     * Optional accent color for controls,\n     * using the following materialize colors:\n     * red, pink, purple, deep-purple, indigo, blue,\n     * light blue, cyan, teal, green, light green, lime,\n     * yellow, amber, orange, deep-orange, and brown.\n     * Default is null.\n     */\n    accentColor: {\n      type: String,\n      value: null,\n      reflectToAttribute: true\n    },\n    /**\n     * Allow this media to play concurrently with other a11y-media-players?\n     * Default is to pause this a11y-media-player when other a11y-media-player starts playing.\n     */\n\n    allowConcurrent: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * Is this an audio file?\n     */\n\n    audioOnly: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * Use compact controls?\n     */\n    compactControls: {\n      type: Boolean,\n      computed: \"_getCompactControls(responsiveSize)\",\n      reflectToAttribute: true\n    },\n    /**\n     * crossorigin attribute for <video> and <audio> tags\n     */\n    crossorigin: {\n      type: String,\n      value: null,\n      reflectToAttribute: true\n    },\n    /**\n     * Enables darker player.\n     */\n    dark: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * disable fullscreen option\n     */\n    disableFullscreen: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Determines if video and transcript are in a flex layout\n     */\n    flexLayout: {\n      type: Boolean,\n      computed:\n        \"_isFlexLayout(standAlone,hideTranscript,noHeight,stackedLayout)\",\n      reflectToAttribute: true\n    },\n    /**\n     * Is fullscreen mode?\n     */\n    fullscreen: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * show the FullscreenButton?\n     */\n    fullscreenButton: {\n      type: Boolean,\n      computed: \"_getFullscreenButton(disableFullscreen)\",\n      notify: true\n    },\n    /**\n     * Does the player have tracks?\n     */\n    hasCaptions: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Does the player have an interactive transcript?\n     */\n    hasTranscript: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Hide elapsed time?\n     */\n    hideElapsedTime: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Hide the transcript?\n     */\n    hideTranscript: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * optional title of media (shows when printed)\n     */\n    mediaTitle: {\n      type: String,\n      value: \"\",\n      reflectToAttribute: true\n    },\n    /**\n     * Is it an audio player with no thumbnail?\n     */\n    noHeight: {\n      type: Boolean,\n      computed: \"_getNoHeight(audioOnly,thumbnailSrc)\",\n      reflectToAttribute: true\n    },\n    /**\n     * Hide the giant play button?\n     */\n    noPlayButton: {\n      type: Boolean,\n      computed: \"_noPlayButton(noHeight,isYoutube)\"\n    },\n    /**\n     * Is media playing?\n     */\n    playing: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Size of the a11y media element for responsive styling\n     */\n    responsiveSize: {\n      type: String,\n      notify: true,\n      reflectToAttribute: true\n    },\n    /**\n     * is YouTube?\n     */\n    showCustomCaptions: {\n      type: Boolean,\n      computed: \"_showCustomCaptions(isYoutube,audioOnly,cc)\"\n    },\n    /**\n     * Is stand-alone player (without transcript)?\n     */\n    standAlone: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * Is the video currently sticky, i.e. it is fixed to the corner when playing but scrolled off screen?\n     */\n    sticky: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * When playing but scrolled off screen, to which corner does it stick:\n     * top-left, top-right, bottom-left, bottom-right, or none?\n     * Default is \"top-right\". \"None\" disables stickiness.\n     */\n    stickyCorner: {\n      type: String,\n      value: \"top-right\",\n      reflectToAttribute: true\n    },\n    /**\n     * Source of optional thumbnail image\n     */\n    thumbnailSrc: {\n      type: String,\n      value: null,\n      reflectToAttribute: true\n    },\n    /**\n     * The width of the media player.\n     */\n    width: {\n      type: String,\n      value: null\n    },\n    /**\n     * label/microcopy for audio\n     */\n    audioLabel: {\n      type: String,\n      value: \"audio\"\n    },\n    /**\n     * icon for closed captions button on player controls\n     */\n    captionsIcon: {\n      type: String,\n      value: \"av:closed-caption\"\n    },\n    /**\n     * label for closed captions button on player controls\n     */\n    captionsLabel: {\n      type: String,\n      value: \"closed captions\"\n    },\n    /**\n     * label for captions drop-down menu on settings menu of player controls\n     */\n    captionsMenuLabel: {\n      type: String,\n      value: \"Captions\"\n    },\n    /**\n     * label for captions off drop-down menu item on settings menu of player controls\n     */\n    captionsMenuOff: {\n      type: String,\n      value: \"Off\"\n    },\n    /**\n     * the interface UI language\n     */\n    uiLanguage: {\n      type: String,\n      value: \"en\"\n    },\n    /**\n     * icon for forward button on player controls\n     */\n    forwardIcon: {\n      type: String,\n      value: \"av:fast-forward\"\n    },\n    /**\n     * label for rewind button on player controls\n     */\n    forwardLabel: {\n      type: String,\n      value: \"forward\"\n    },\n    /**\n     * icon for fullscreen button on transcript\n     */\n    fullscreenIcon: {\n      type: String,\n      value: \"fullscreen\"\n    },\n    /**\n     * label for fullscreen button on transcript\n     */\n    fullscreenLabel: {\n      type: String,\n      value: \"fullscreen\"\n    },\n    /**\n     * label for loading status\n     */\n    loadingLabel: {\n      type: String,\n      value: \"Loading...\"\n    },\n    /**\n     * label for loop menu item on settings menu of player controls\n     */\n    loopLabel: {\n      type: String,\n      value: \"Loop Playback\"\n    },\n    /**\n     * icon for mute button on player controls\n     */\n    muteIcon: {\n      type: String,\n      value: \"av:volume-up\"\n    },\n    /**\n     * label for fullscreen button on player controls\n     */\n    muteLabel: {\n      type: String,\n      value: \"mute\"\n    },\n    /**\n     * icon for pause button on player controls\n     */\n    pauseIcon: {\n      type: String,\n      value: \"av:pause\"\n    },\n    /**\n     * label for pause button on player controls\n     */\n    pauseLabel: {\n      type: String,\n      value: \"pause\"\n    },\n    /**\n     * icon for play button on player controls\n     */\n    playIcon: {\n      type: String,\n      value: \"av:play-arrow\"\n    },\n    /**\n     * label for play button on player controls\n     */\n    playLabel: {\n      type: String,\n      value: \"play\"\n    },\n    /**\n     * icon for restart button on player controls\n     */\n    restartIcon: {\n      type: String,\n      value: \"av:replay\"\n    },\n    /**\n     * label for restart button on player controls\n     */\n    restartLabel: {\n      type: String,\n      value: \"restart\"\n    },\n    /**\n     * icon for rewind button on player controls\n     */\n    rewindIcon: {\n      type: String,\n      value: \"av:fast-rewind\"\n    },\n    /**\n     * label for rewind button on player controls\n     */\n    rewindLabel: {\n      type: String,\n      value: \"backward\"\n    },\n    /**\n     * icon for settings menu on player controls\n     */\n    settingsIcon: {\n      type: String,\n      value: \"settings\"\n    },\n    /**\n     * label for settings menu on player controls\n     */\n    settingsLabel: {\n      type: String,\n      value: \"settings\"\n    },\n    /**\n     * label for speed menu item on settings menu of player controls\n     */\n    speedLabel: {\n      type: String,\n      value: \"Speed %\"\n    },\n    /**\n     * icon for transcript button on player controls\n     */\n    transcriptIcon: {\n      type: String,\n      value: \"description\"\n    },\n    /**\n     * label for transcript button on player controls\n     */\n    transcriptLabel: {\n      type: String,\n      value: \"transcript\"\n    },\n    /**\n     * label for transcript menu item on settings menu of player controls\n     */\n    transcriptMenuLabel: {\n      type: String,\n      value: \"Transcript\"\n    },\n    /**\n     * icon for unmute button on player controls\n     */\n    unmuteIcon: {\n      type: String,\n      value: \"av:volume-off\"\n    },\n    /**\n     * label for unmute button on player controls\n     */\n    unmuteLabel: {\n      type: String,\n      value: \"unmute\"\n    },\n    /**\n     * label/microcopy for audio\n     */\n    videoLabel: {\n      type: String,\n      value: \"video\"\n    },\n    /**\n     * label for volume slider on player controls\n     */\n    volumeLabel: {\n      type: String,\n      value: \"volume\"\n    }\n  },\n  /**\n   * returns true if an attribute is set to a value\n   */\n\n  _getNoHeight: function(audioOnly, thumbnailSrc) {\n    return audioOnly && (thumbnailSrc === null || thumbnailSrc === undefined);\n  },\n  /**\n   * returns true if the player has no giant play button\n   */\n\n  _noPlayButton: function(noHeight, isYoutube) {\n    return noHeight || isYoutube;\n  },\n  /**\n   * returns true if an attribute is set to a value\n   */\n\n  _getFullscreenButton: function(disableFullscreen) {\n    if (\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      ) ||\n      disableFullscreen\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  },\n  /**\n   * returns true if player is xs or sm and needs to use compact controls\n   */\n\n  _getCompactControls: function(responsiveSize) {\n    return (\n      this._testAttribute(responsiveSize, \"xs\") ||\n      this._testAttribute(responsiveSize, \"sm\")\n    );\n  },\n  /**\n   * returns true if an attribute is set to a value\n   */\n\n  _testAttribute: function(attr, val) {\n    return attr === val;\n  },\n  /**\n   * show youtube closed captions layer?\n   */\n\n  _showCustomCaptions: function(isYoutube, audioOnly, cc) {\n    return (isYoutube || audioOnly) && cc;\n  },\n  /**\n   * Determines if video and transcript are in a flex layout\n   */\n  _isFlexLayout: function(standAlone, hideTranscript, noHeight, stackedLayout) {\n    return !standAlone && !hideTranscript && !noHeight && !stackedLayout;\n  }\n};\nwindow.a11yMediaBehaviors.TranscriptBehaviors = {\n  properties: {\n    /**\n     * Accent color on controls. Default is blue.\n     */\n\n    accentColor: {\n      type: String,\n      value: null,\n      reflectToAttribute: true\n    },\n    /**\n     * Use dark theme on transcript? Default is false, even when player is dark.\n     */\n    darkTranscript: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * disable interactive mode that makes the transcript clickable\n     */\n    disableInteractive: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * disable transcript search feature\n     */\n    disableSearch: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * disable autoscrolling as transcript plays\n     */\n    disableScroll: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * disable transcript print button\n     */\n    disablePrintButton: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * show cue's start and end time\n     */\n    hideTimestamps: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * show cue's start and end time\n     */\n    media: {\n      type: Object,\n      value: {}\n    },\n    /**\n     * the search tool for the transcript\n     */\n    search: {\n      type: Object,\n      value: null\n    },\n    /**\n     * label for search input  on transcript\n     */\n    searchLabel: {\n      type: String,\n      value: \"search transcript\"\n    },\n    /**\n     * icon for search input on transcript\n     */\n    searchIcon: {\n      type: String,\n      value: \"search\"\n    },\n    /**\n     * label for the next button on transcript search\n     */\n    searchNextButtonLabel: {\n      type: String,\n      value: \"next result\"\n    },\n    /**\n     * icon for the next button on transcript search\n     */\n    searchNextButtonIcon: {\n      type: String,\n      value: \"arrow-forward\"\n    },\n    /**\n     * label for the previous button on transcript search\n     */\n    searchPrevButtonLabel: {\n      type: String,\n      value: \"previous result\"\n    },\n    /**\n     * icon for the previous button on transcript search\n     */\n    searchPrevButtonIcon: {\n      type: String,\n      value: \"arrow-back\"\n    },\n    /**\n     * stacked layout instead of side-by-side?\n     */\n    stackedLayout: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * target of the controls\n     */\n    target: {\n      type: Object,\n      value: null\n    },\n    /**\n     * label for autoscroll button on transcript controls\n     */\n    autoScrollLabel: {\n      type: String,\n      value: \"auto-scrolling\"\n    },\n    /**\n     * icon for autoscroll button on transcript controls\n     */\n    autoScrollIcon: {\n      type: String,\n      value: \"swap-vert\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    printLabel: {\n      type: String,\n      value: \"print transcript\"\n    },\n    /**\n     * icon for print button on player controls\n     */\n    printIcon: {\n      type: String,\n      value: \"print\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    searchLabel: {\n      type: String,\n      value: \"search transcript\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    searchIcon: {\n      type: String,\n      value: \"search\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    searchNextLabel: {\n      type: String,\n      value: \"next result\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    searchNextIcon: {\n      type: String,\n      value: \"arrow-forward\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    searchPrevLabel: {\n      type: String,\n      value: \"previous result\"\n    },\n    /**\n     * label for print button on player controls\n     */\n    searchPrevIcon: {\n      type: String,\n      value: \"arrow-back\"\n    },\n    /**\n     * label for skip the transcript link before the transcript\n     */\n    skipTranscriptLink: {\n      type: String,\n      value: \"Skip the transcript.\"\n    }\n  }\n};\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"./a11y-media-behaviors.js\";\n/*link rel=\"import\" href=\"dashjs-lib.html\"*/\n/**\n`a11y-media-loader`\nA LRN element\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n\n  ```<a11y-media-loader \n    autoplay$=\"[[autoplay]]\"                    // Is player set to autoplay (not recommended for a11y)?\n    cc$=\"[[cc]]\"                                // Are closed captions toggled? \n    height$=\"[[height]]\"                        // The height of player\n    lang$=\"[[lang]]\"                            // The language of the media\n    loop$=\"[[loop]]\"                            // Is video on a loop?\n    muted$=\"[[muted]]\"                          // Is video muted?\n    playback-rate$=\"[[playbackRate]]\"           // The playback rate of the video\n    volume$=\"[[volume]]\"                        // The initial volume of the video\n    width$=\"[[width]]\">                         // The width of player\n                                                // video source and tracks \n    <source src=\"/path/to/video.mp4\" type=\"video/mp4\">\n    <source src=\"/path/to/video.webm\" type=\"video/webm\">\n    <track label=\"English\" kind=\"subtitles\" srclang=\"en\" src=\"path/to/subtitles/en.vtt\" default>\n    <track label=\"Deutsch\" kind=\"subtitles\" srclang=\"de\" src=\"path/to/subtitles/de.vtt\">\n    <track label=\"Español\" kind=\"subtitles\" srclang=\"es\" src=\"path/to/subtitles/es.vtt\">\n  </a11y-media-loader>```\n*/\nPolymer({\n  _template: html`\n    <style>\n      #video {\n        width: 100%;\n        max-width: 100%;\n        max-height: 80vh;\n      }\n    </style>\n    <video\n      id=\"video\"\n      autoplay\\$=\"[[autoplay]]\"\n      crossorigin\\$=\"[[crossorigin]]\"\n      hidden\\$=\"[[audioOnly]]\"\n      lang\\$=\"[[lang]]\"\n      src\\$=\"[[manifest]]\"\n      preload=\"metadata\"\n    >\n      HTML5 video not supported\n    </video>\n    <audio\n      id=\"audio\"\n      autoplay\\$=\"[[autoplay]]\"\n      crossorigin\\$=\"[[crossorigin]]\"\n      hidden\\$=\"[[!audioOnly]]\"\n      lang\\$=\"[[lang]]\"\n      src\\$=\"[[manifest]]\"\n      preload=\"metadata\"\n    >\n      HTML5 audio not supported\n    </audio>\n  `,\n\n  is: \"a11y-media-loader\",\n\n  behaviors: [\n    a11yMediaBehaviors.MediaProps,\n    a11yMediaBehaviors.GeneralFunctions\n  ],\n\n  ready: function() {\n    let root = this;\n    root.media = root.$.video !== undefined ? root.$.video : root.$.audio;\n    /*\n    //handles multibitrate manifests\n    console.log('manifest null?',this.manifest);\n    if(this.manifest !== null){\n      var dash = dashjs.MediaPlayer().create();\n      \n      console.log('manifest',this.manifest);\n      dash.initialize(root.$.video, this.manifest, true);\n    }*/\n\n    // handles loaded metadata\n    root.media.addEventListener(\"loadedmetadata\", function() {\n      root.duration = root.media.duration > 0 ? root.media.duration : 0;\n      root.tracks = [];\n      root.volume = root.muted ? 0 : Math.max(this.volume, 10);\n      root.seekable = root.media.seekable;\n      root.setVolume(root.volume);\n      root.setMute(root.muted, root.volume);\n      root.setCC(root.cc);\n      root.setLoop(root.loop);\n      root.setPlaybackRate(root.playbackRate);\n\n      // adjusts aspect ratio\n      root.aspectRatio = root.media.videoWidth / root.media.videoHeight;\n      root.fire(\"media-loaded\", this);\n    });\n  },\n\n  /**\n   * gets the buffered time\n   */\n  getBufferedTime: function() {\n    return this.media.buffered.length > 0\n      ? this.media.buffered.end(0)\n      : this.getCurrentTime();\n  },\n\n  /**\n   * gets the current time\n   */\n  getCurrentTime: function() {\n    return this.media.currentTime;\n  },\n\n  /**\n   * selects a specific track by index\n   */\n  selectTrack: function(index) {\n    this.selectedTrack = this.media.textTracks[index];\n    for (let i = 0; i < this.media.textTracks.length; i++) {\n      if (parseInt(index) === i) {\n        this.media.textTracks[i].mode = \"showing\";\n      } else if (this.media.textTracks[i] !== null) {\n        this.media.textTracks[i].mode = \"hidden\";\n      }\n    }\n  },\n\n  /**\n   * plays the media\n   */\n  play: function() {\n    this.media.play();\n  },\n\n  /**\n   * pauses the media\n   */\n  pause: function() {\n    this.media.pause();\n  },\n\n  /**\n   * stops the media\n   */\n  stop: function() {\n    this.pause();\n    this.seek(0);\n  },\n\n  /**\n   * restarts the media\n   */\n  restart: function() {\n    this.seek(0);\n    this.play();\n  },\n\n  /**\n   * seeks to a specific time\n   */\n  seek: function(time) {\n    this.media.currentTime = time;\n  },\n\n  /**\n   * sets captions\n   */\n  setCC: function(mode) {\n    this.media.cc = mode;\n    if (this.selectedTrack !== undefined && mode == true) {\n      this.selectedTrack.mode = \"showing\";\n      this.$.video.textTracks.value = this.selectedTrackId;\n    } else if (\n      this.selectedTrack !== undefined &&\n      this.selectedTrack !== null\n    ) {\n      this.selectedTrack.mode = \"hidden\";\n      this.$.video.textTracks.value = \"\";\n    }\n  },\n\n  /**\n   * sets volume of media\n   */\n  setVolume: function(value) {\n    this.media.volume = value / 100;\n  },\n\n  /**\n   * sets speed/playback rate of media\n   */\n  setPlaybackRate: function(value) {\n    this.media.playbackRate = value !== null ? value : 1;\n  },\n\n  /**\n   * sets autoplay\n   */\n  setAutoplay: function(mode) {\n    this.media.autoplay = mode;\n  },\n\n  /**\n   * sets looping\n   */\n  setLoop: function(mode) {\n    this.media.loop = mode;\n  },\n\n  /**\n   * sets mute\n   */\n  setMute: function(mode, value) {\n    this.media.muted = mode;\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"./a11y-media-behaviors.js\";\nimport \"@polymer/paper-tooltip/paper-tooltip.js\";\n/**\n`a11y-media-play-button`\nA giant play button that overlays the media in a11y-media-player\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n  <a11y-media-play-button\n    playing$=\"[[__playing]]\"            // Is the media currently playing?\n    thumbnail-css$=\"[[thumbnailCSS]]\"   // Optional source for a thumbnail image\n  </a11y-media-play-button>\n\nCustom styles:\n--a11y-play-button-bg-color: overlay background color, default is #000000\n--a11y-play-button-focus-bg-color: overlay background color, default is --a11y-play-button-bg-color\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        z-index: 2;\n        opacity: 1;\n        transition: opacity 0.5s;\n        position: absolute;\n        height: 100%;\n      }\n      :host([disabled]:not([audio-only])),\n      :host([playing]:not([audio-only])) {\n        opacity: 0;\n      }\n      :host,\n      :host #thumbnail,\n      :host #background,\n      :host #button {\n        width: 100%;\n        max-height: 80vh;\n        top: 0;\n        left: 0;\n        opacity: 1;\n        transition: opacity 0.5s;\n      }\n      :host #thumbnail,\n      :host #background,\n      :host #button {\n        position: absolute;\n        height: 100%;\n        padding: 0;\n        margin: 0;\n        border: none;\n      }\n      :host([audio-only][thumbnail-src][playing]) #button > *:not(#thumbnail),\n      :host([audio-only][thumbnail-src][disabled]) #button > *:not(#thumbnail) {\n        opacity: 0;\n      }\n      :host #thumbnail {\n        height: auto;\n        overflow: hidden;\n      }\n      :host #button {\n        overflow: hidden;\n        background: transparent;\n      }\n      :host #button:hover {\n        cursor: pointer;\n      }\n      :host #background {\n        opacity: 0.3;\n        background: var(--a11y-play-button-bg-color);\n      }\n      :host #button:focus #background,\n      :host #button:hover #background {\n        background: var(--a11y-play-button-focus-bg-color);\n        opacity: 0.1;\n      }\n      :host #arrow {\n        stroke: #ffffff;\n        fill: #000000;\n      }\n      :host #text {\n        fill: #ffffff;\n      }\n      :host .sr-only {\n        font-size: 0;\n      }\n      @media print {\n        :host(:not([thumbnail-src])),\n        :host #background,\n        :host #svg {\n          display: none;\n        }\n      }\n    </style>\n    <button\n      id=\"button\"\n      aria-pressed\\$=\"[[playing]]\"\n      aria-hidden\\$=\"[[disabled]]\"\n      tabindex=\"0\"\n      disabled\\$=\"[[disabled]]\"\n      controls=\"video\"\n      title\\$=\"[[label]]\"\n    >\n      <div id=\"background\"></div>\n      <svg\n        id=\"svg\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 200 200\"\n        width=\"30%\"\n        height=\"30%\"\n        opacity=\"0.7\"\n      >\n        <g>\n          <polygon\n            id=\"arrow\"\n            points=\"30,20 30,180 170,100\"\n            fill=\"#000000\"\n            stroke=\"#ffffff\"\n            stroke-width=\"15px\"\n          ></polygon>\n          <text\n            id=\"text\"\n            class=\"sr-only\"\n            x=\"50\"\n            y=\"115\"\n            fill=\"#ffffff\"\n            font-size=\"30px\"\n          >\n            [[label]]\n          </text>\n        </g>\n      </svg>\n    </button>\n  `,\n\n  is: \"a11y-media-play-button\",\n\n  behaviors: [a11yMediaBehaviors.PlayerBehaviors],\n\n  listeners: {\n    tap: \"_buttonTap\"\n  },\n\n  properties: {\n    /**\n     * label for play button on player controls\n     */\n    label: {\n      type: String,\n      computed: \"_getPlaying(playing,pauseLabel,playLabel)\"\n    },\n    /**\n     * label when playing\n     */\n    pauseLabel: {\n      type: String,\n      value: \"play\"\n    },\n    /**\n     * label when paused\n     */\n    playLabel: {\n      type: String,\n      value: \"play\"\n    },\n    /**\n     * is button disabled\n     */\n    disabled: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * is media playing\n     */\n    playing: {\n      type: Boolean,\n      value: false\n    }\n  },\n\n  /**\n   * get label based on whether or not the video is playing\n   */\n  attached: function() {\n    this.$.text.innerText = this.playLabel;\n    if (this.audioOnly) {\n      let root = this,\n        img = this.$.thumbnail,\n        check = setInterval(function() {\n          if (img.naturalWidth) {\n            clearInterval(check);\n            let aspect = (img.naturalHeight / img.naturalWidth) * 100;\n            root.style.height = aspect + \"%\";\n            root.fire(\"thumbnail-aspect\", aspect);\n          }\n        }, 10);\n    }\n  },\n\n  /**\n   * get label based on whether or not the video is playing\n   */\n  _getPlaying: function(playing, pauseLabel, playLabel) {\n    return playing ? pauseLabel : playLabel;\n  },\n\n  /**\n   * handle button tap\n   */\n  _buttonTap: function() {\n    this.fire(\"controls-change\", this);\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/iron-icons/iron-icons.js\";\nimport \"@polymer/iron-icons/av-icons.js\";\nimport \"@polymer/paper-tooltip/paper-tooltip.js\";\nimport \"./a11y-media-behaviors.js\";\n/**\n`a11y-media-button`\nA button used in a11y-media-controls\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n -\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        margin: 0;\n        padding: 0;\n      }\n      :host #button {\n        margin: 0;\n        padding: 8px;\n        line-height: 1;\n        border: none;\n        transition: color 0.25s;\n        color: var(--a11y-media-button-color);\n        background-color: var(--a11y-media-button-bg-color);\n      }\n      :host([toggle]) #button {\n        color: var(--a11y-media-button-toggle-color);\n        background-color: var(--a11y-media-button-toggle-bg-color);\n      }\n      :host([toggle]:active) #button,\n      :host([toggle]:focus) #button,\n      :host([toggle]:hover) #button,\n      :host(:active) #button,\n      :host(:focus) #button,\n      :host(:hover) #button {\n        cursor: pointer;\n        color: var(--a11y-media-button-hover-color);\n        background-color: var(--a11y-media-button-hover-bg-color);\n      }\n      :host .sr-only {\n        position: absolute;\n        left: -99999;\n        top: 0;\n        height: 0;\n        width: 0;\n        overflow: hidden;\n      }\n      :host paper-tooltip {\n        z-index: 100;\n      }\n      iron-icon {\n        display: inline-block;\n      }\n    </style>\n    <button\n      id=\"button\"\n      aria-role=\"button\"\n      aria-pressed$=\"[[toggle]]\"\n      tabindex=\"0\"\n      aria-label$=\"[[label]]\"\n      controls=\"[[controls]]\"\n      disabled$=\"[[disabled]]\"\n      toggle$=\"[[toggle]]\"\n    >\n      <iron-icon icon=\"[[icon]]\"></iron-icon>\n    </button>\n    <paper-tooltip for=\"button\">[[label]]</paper-tooltip>\n  `,\n\n  is: \"a11y-media-button\",\n\n  behaviors: [a11yMediaBehaviors.PlayerBehaviors],\n\n  listeners: {\n    tap: \"_buttonTap\"\n  },\n\n  properties: {\n    /*\n     * id of element button controls\n     */\n    controls: {\n      type: String,\n      value: \"video\"\n    },\n    /*\n     * iron-icon type\n     */\n    icon: {\n      type: String,\n      value: null\n    },\n    /*\n     * button label\n     */\n    label: {\n      type: String,\n      value: null\n    },\n    /*\n     * Is it toggled on?\n     */\n    toggle: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /*\n     * Is it disabled?\n     */\n    disabled: {\n      type: Boolean,\n      value: null\n    }\n  },\n\n  // sets target for a11y keys\n  ready: function() {\n    this.__target = this.$.button;\n  },\n\n  // lets player know this button was clicked\n  _buttonTap: function() {\n    this.fire(\"button-clicked\", this);\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/paper-slider/paper-slider.js\";\nimport \"@polymer/paper-listbox/paper-listbox.js\";\nimport \"@polymer/paper-item/paper-item.js\";\nimport \"@polymer/paper-tooltip/paper-tooltip.js\";\nimport \"@polymer/paper-menu-button/paper-menu-button.js\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button.js\";\nimport \"@lrnwebcomponents/dropdown-select/dropdown-select.js\";\nimport \"./a11y-media-behaviors.js\";\nimport \"./a11y-media-button.js\";\n/**\n`a11y-media-controls`\nThe controls bar for the a11y-media-player.\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n - the control bar for the media player\n\n  <a11y-media-controls \n    accent-color$=\"[[accentColor]]\"             // Optional accent color for controls, \n                                                // using the following materialize colors: \n                                                // red, pink, purple, deep-purple, indigo, blue, \n                                                // light blue, cyan, teal, green, light green, lime, \n                                                // yellow, amber, orange, deep-orange, and brown. \n                                                // Default is null. \n    allow-fullscreen$=\"[[allowFullscreen]]\"         // Allow fullscreen mode?\n    audio-only$=\"[[audioOnly]]\"                 // Is media audio only?\n    autoplay$=\"[[autoplay]]\"                    // Is player set to autoplay (not recommended for a11y)?\n    cc$=\"[[cc]]\"                                // Are closed captions toggled?\n    dark$=\"[[dark]]\"                            // Is the color scheme dark? Default is light.    \n    disableFullscreen$=\"[[disableFullscreen]]\"  // Is full screen mode disabled?\n    fullscreen$=\"[[fullscreen]]\"                // Is full screen mode toggled on?\n    hide-elapsed-time$=\"[[hideElapsedTime]]\"    // Is elapsed time hidden?\n    loop$=\"[[loop]]\"                            // Is video on a loop?\n    microcopy$=\"[[microcopy]]\"                      // Optional customization or text and icons\n    muted$=\"[[muted]]\"                          // Is video muted?\n    responsive-size$=\"[[responsiveSize]]\"       // The size of the player determines how controls are displayed\n    volume$=\"[[volume]]\">                       // The initial volume of the video\n  </a11y-media-controls>\n -\n -\n\n*/\nPolymer({\n  _template: html`\n    <style is=\"custom-style\">\n      :host {\n        display: block;\n        width: 100%;\n        max-width: 100%;\n        position: relative;\n        height: 44px;\n        color: var(--a11y-media-color);\n        background-color: var(--a11y-media-bg-color);\n        --paper-listbox-background-color: var(--a11y-media-button-bg-color);\n        --paper-listbox-color: var(--a11y-media-button-color);\n        --paper-listbox: {\n          padding: 0;\n        };\n        --paper-menu-button-dropdown-background: var(--a11y-media-button-bg-color);\n        --paper-menu-button: {\n          background-color: var(--a11y-media-button-bg-color);\n          color: var(--a11y-media-button-color);\n        };\n        --paper-menu-button-dropdown: {\n          background-color: var(--a11y-media-button-bg-color);\n          color: var(--a11y-media-button-color);\n          margin-top: 0 !important;\n          margin-bottom: 0 !important;\n        };\n        --paper-item-selected: {\n          color: var(--a11y-media-button-hover-color);\n        };\n        --paper-item-focused: {\n          color: var(--a11y-media-button-hover-color);\n        };\n        --primary-text-color: var(--a11y-media-button-color);\n      }\n      :host > #controls-left {\n        position: absolute;\n        left: 0;\n        min-width: 200px;\n      }\n      :host > #controls-right {\n        position: absolute;\n        right: 0;\n        top: -2px;\n      }\n      :host paper-menu-button,\n      :host dropdown-select {\n        padding: 0;\n      }\n      :host paper-icon-button {\n        background-color: var(--a11y-media-button-bg-color);\n        color: var(--a11y-media-button-color);\n      }\n      :host paper-icon-button:active,\n      :host paper-icon-button:focus,\n      :host paper-icon-button:hover {\n        background-color: var(--a11y-media-button-bg-color);\n        color: var(--a11y-media-button-color);\n      }\n      :host paper-item {\n        min-height: 40;\n      }\n      :host paper-slider {\n        @apply --a11y-media-slider;\n      }\n      :host .play-status,\n      :host paper-icon-button {\n        border: none;\n        position: relative;\n      }\n      :host .play-status {\n        font-size: 85%;\n      }\n      :host .play-status.control-bar {\n        padding: 8px 13px 8px;\n      }\n      :host([hide-play-status]) .play-status {\n        display: none;\n      }\n      :host(:not([has-captions])) .captions {\n        display: none;\n      }\n      :host(:not([has-transcript])) .transcript,\n      :host(.stand-alone) .transcript {\n        display: none;\n      }\n      :host .setting {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n      }\n      :host .setting-text {\n        min-width: 100px;\n      }\n      :host .setting-control {\n        max-width: 100px;\n      }\n      :host .setting-slider {\n        width: 130px;\n        margin-left: -15px;\n        margin-right: -15px;\n        @apply --a11y-media-slider;\n      }\n      :host #speed {\n        --paper-slider-knob-start-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-border-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-end-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-end-border-color: var(--a11y-media-accent-color);\n      }\n      :host #showvolume {\n        display: inline;\n        position: relative;\n      }\n      :host #volume {\n        z-index: 1;\n        position: absolute;\n        left: 0px;\n        top: -8px;\n        width: 0;\n        overflow: hidden;\n        transition: width 0.5s;\n        z-index: 3;\n        background-color: var(--a11y-media-button-bg-color);\n        --paper-slider-knob-end-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-end-border-color: var(--a11y-media-accent-color);\n      }\n      :host #volume:active,\n      :host #volume:focus,\n      :host #volume:hover,\n      :host #volume.focus,\n      :host #showvolume:active #volume,\n      :host #showvolume:focus #volume,\n      :host #showvolume:hover #volume {\n        overflow: visible;\n        width: 100px;\n      }\n      :host([responsive-size=\"xs\"]) #volume:active,\n      :host([responsive-size=\"xs\"]) #volume:focus,\n      :host([responsive-size=\"xs\"]) #volume:hover,\n      :host([responsive-size=\"xs\"]) #volume.focus,\n      :host([responsive-size=\"xs\"]) #showvolume:active #volume,\n      :host([responsive-size=\"xs\"]) #showvolume:focus #volume,\n      :host([responsive-size=\"xs\"]) #showvolume:hover #volume {\n        top: -35px\n        border-radius: 4px;\n      }\n      :host .sr-only {\n        position: absolute;\n        left: -99999;\n        top: 0;\n        height: 0;\n        width: 0;\n        overflow: hidden;\n      }\n    </style>\n    <div id=\"controls-left\">\n      <a11y-media-button\n        icon=\"[[playPause.icon]]\"\n        label=\"[[playPause.label]]\"\n      ></a11y-media-button>\n      <a11y-media-button\n        disabled\\$=\"[[compactControls]]\"\n        hidden\\$=\"[[compactControls]]\"\n        icon=\"[[rewindIcon]]\"\n        label=\"[[rewindLabel]]\"\n      ></a11y-media-button>\n      <a11y-media-button\n        disabled\\$=\"[[compactControls]]\"\n        hidden\\$=\"[[compactControls]]\"\n        icon=\"[[forwardIcon]]\"\n        label=\"[[forwardLabel]]\"\n      ></a11y-media-button>\n      <a11y-media-button\n        disabled\\$=\"[[compactControls]]\"\n        hidden\\$=\"[[compactControls]]\"\n        icon=\"[[restartIcon]]\"\n        label=\"[[restartLabel]]\"\n      ></a11y-media-button>\n      <div id=\"showvolume\">\n        <a11y-media-button\n          id=\"mute\"\n          icon=\"[[muteUnmute.icon]]\"\n          label=\"[[muteUnmute.label]]\"\n        ></a11y-media-button>\n        <span id=\"volume-slider-label\" class=\"sr-only\">[[volumeLabel]]</span>\n        <paper-slider\n          aria-labelledby=\"volume-slider-label\"\n          id=\"volume\"\n          min=\"0\"\n          max=\"100\"\n          pin=\"\"\n          step=\"10\"\n          value\\$=\"[[volume]]\"\n        ></paper-slider>\n      </div>\n      <span class=\"play-status control-bar\" hidden\\$=\"[[compactControls]]\">\n        <span id=\"statbar\"></span>\n      </span>\n    </div>\n    <div id=\"controls-right\">\n      <a11y-media-button\n        class=\"captions\"\n        hidden=\"[[audioOnly]]\"\n        icon=\"[[captionsIcon]]\"\n        label=\"[[captionsLabel]]\"\n        toggle=\"[[cc]]\"\n      >\n      </a11y-media-button>\n      <a11y-media-button\n        class=\"transcript\"\n        controls=\"transcript\"\n        hidden\\$=\"[[compactControls]]\"\n        disabled\\$=\"[[compactControls]]\"\n        icon=\"[[transcriptIcon]]\"\n        label=\"[[transcriptLabel]]\"\n        toggle=\"[[!hideTranscript]]\"\n      >\n      </a11y-media-button>\n      <paper-menu-button\n        id=\"settings\"\n        allow-outside-scroll=\"\"\n        vertical-align=\"bottom\"\n        horizontal-align=\"right\"\n        ignore-select=\"\"\n      >\n        <paper-icon-button\n          icon\\$=\"[[settingsIcon]]\"\n          slot=\"dropdown-trigger\"\n          alt=\"[[settingsLabel]]\"\n        ></paper-icon-button>\n        <paper-listbox id=\"settingslist\" slot=\"dropdown-content\">\n          <paper-item class=\"captions\">\n            <div class=\"setting\">\n              <div class=\"setting-text\">[[captionsMenuLabel]]</div>\n              <div class=\"setting-control\">\n                <dropdown-select id=\"tracks\" no-label-float=\"\" value=\"\">\n                  <paper-item value=\"\">[[captionsMenuOff]]</paper-item>\n                  <template is=\"dom-repeat\" items=\"{{tracks}}\" as=\"option\">\n                    <paper-item value\\$=\"{{option.value}}\"\n                      >{{option.text}}</paper-item\n                    >\n                  </template>\n                </dropdown-select>\n              </div>\n            </div>\n          </paper-item>\n          <paper-item hidden\\$=\"[[!compactControls]]\" class=\"transcript\">\n            <div class=\"setting\">\n              <div id=\"transcript-label\" class=\"setting-text\">\n                [[transcriptMenuLabel]]\n              </div>\n              <div class=\"setting-control\">\n                <paper-toggle-button\n                  id=\"transcript-toggle\"\n                  aria-labelledby=\"transcript-label\"\n                  checked\\$=\"[[!hideTranscript]]\"\n                  controls=\"transcript\"\n                  disabled\\$=\"[[!compactControls]]\"\n                >\n                </paper-toggle-button>\n              </div>\n            </div>\n          </paper-item>\n          <paper-item>\n            <div class=\"setting\">\n              <div id=\"speed-label\" class=\"setting-text\">[[speedLabel]]</div>\n              <div class=\"setting-control\">\n                <paper-slider\n                  id=\"speed\"\n                  aria-labelledby=\"speed-label\"\n                  class=\"setting-slider\"\n                  label=\"tracks\"\n                  min=\"0.5\"\n                  max=\"4\"\n                  pin=\"\"\n                  step=\"0.5\"\n                  tab-index=\"-1\"\n                  value\\$=\"[[playbackRate]]\"\n                ></paper-slider>\n              </div>\n            </div>\n          </paper-item>\n          <paper-item>\n            <div class=\"setting\">\n              <div id=\"loop-label\" class=\"setting-text\">[[loopLabel]]</div>\n              <div class=\"setting-control\">\n                <paper-toggle-button\n                  id=\"loop\"\n                  aria-labelledby=\"loop-label\"\n                  checked\\$=\"[[loop]]\"\n                ></paper-toggle-button>\n              </div>\n            </div>\n          </paper-item>\n          <paper-item hidden\\$=\"[[!compactControls]]\">\n            <span class=\"play-status settings-menu\">\n              <span id=\"statmenu\"></span>\n            </span>\n          </paper-item>\n        </paper-listbox>\n      </paper-menu-button>\n      <paper-tooltip for=\"settings\">[[settingsLabel]]</paper-tooltip>\n      <template is=\"dom-if\" if=\"[[fullscreenButton]]\">\n        <template is=\"dom-if\" if=\"[[!noHeight]]\">\n          <a11y-media-button\n            icon=\"[[fullscreenIcon]]\"\n            label=\"[[fullscreenLabel]]\"\n            toggle=\"[[fullscreen]]\"\n            step=\"1\"\n          >\n          </a11y-media-button>\n        </template>\n      </template>\n    </div>\n  `,\n\n  is: \"a11y-media-controls\",\n\n  behaviors: [\n    a11yMediaBehaviors.MediaProps,\n    a11yMediaBehaviors.GeneralFunctions,\n    a11yMediaBehaviors.PlayerBehaviors\n  ],\n\n  listeners: {\n    \"button-clicked\": \"_onButtonClick\",\n    change: \"_onSettingsChanged\"\n  },\n\n  properties: {\n    /**\n     * play/pause button\n     */\n    playPause: {\n      type: Object,\n      computed: \"_getPlayPause(playing,pauseLabel,pauseIcon,playLabel,playIcon)\"\n    },\n    /**\n     * mute/unmute button\n     */\n    muteUnmute: {\n      type: Object,\n      computed:\n        \"_getMuteUnmute(muted,muteLabel,muteIcon,unmuteLabel,unmuteIcon)\"\n    }\n  },\n\n  /**\n   * calls responsive-utility to get parent's responsive size\n   */\n  attached: function() {\n    let root = this;\n    root._addResponsiveUtility({\n      element: root,\n      attribute: \"responsive-size\",\n      relativeToParent: true,\n      sm: 300,\n      md: 600,\n      lg: 900,\n      xl: 1200\n    });\n  },\n\n  ready: function() {\n    let root = this;\n    // when the tracks dropdown-select changes, update track and CC button\n    root.$.tracks.addEventListener(\"change\", function(e) {\n      if (root.__selectedTrack !== null) {\n        if (e.detail.value !== \"\") {\n          root.fire(\"select-track\", { control: this, value: e.detail.value });\n          root.fire(\"toggle-cc\", { control: this, value: true });\n        } else {\n          root.fire(\"toggle-cc\", { control: this, value: false });\n        }\n      }\n    });\n    // prevent menu from being closed before action is taken\n    root.$.settings.addEventListener(\"iron-activate\", e => {\n      if (e.target == root.$.settingslist) e.preventDefault();\n    });\n    // prevent menu from being closed before action is taken\n    root.$.settings.addEventListener(\"iron-select\", e => {\n      e.preventDefault();\n    });\n    // when the mute button is in focus,\n    // add focus class to make the volume slider appear\n    root.$.mute.$.button.onfocus = function() {\n      root.$.volume.classList.add(\"focus\");\n    };\n    // when the mute button is blurred,\n    // remove focus class to make the volume slider disappear\n    root.$.mute.$.button.onblur = function() {\n      root.$.volume.classList.remove(\"focus\");\n    };\n  },\n\n  /**\n   * updates the time/length\n   */\n  setStatus: function(time) {\n    this.$.statbar.innerText = time;\n    this.$.statmenu.innerText = time;\n  },\n\n  /**\n   * loads tracks from array\n   */\n  setTracks: function(tracks) {\n    this.set(\"tracks\", []);\n    this.set(\"tracks\", tracks.slice(0));\n  },\n\n  /**\n   * set play/pause button\n   */\n  _getPlayPause: function(playing, pauseLabel, pauseIcon, playLabel, playIcon) {\n    return playing\n      ? { label: pauseLabel, icon: pauseIcon }\n      : { label: playLabel, icon: playIcon };\n  },\n\n  /**\n   * set play/pause button\n   */\n  _getMuteUnmute: function(\n    muted,\n    muteLabel,\n    muteIcon,\n    unmuteLabel,\n    unmuteIcon\n  ) {\n    return muted\n      ? { label: unmuteLabel, icon: unmuteIcon }\n      : { label: muteLabel, icon: muteIcon };\n  },\n\n  /**\n   * determine which button was clicked and act accordingly\n   */\n  _onButtonClick: function(e) {\n    this.fire(\"controls-change\", e.detail);\n  },\n\n  /**\n   * determine which button was clicked and act accordingly\n   */\n  _onSettingsChanged: function(e) {\n    this.fire(\"controls-change\", e.target);\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/iron-a11y-keys/iron-a11y-keys.js\";\nimport \"@lrnwebcomponents/simple-search/lib/simple-search-content.js\";\n/**\n`a11y-media-transcript-cue`\nA single cue in a11y-media-transcriptas static text or as an button that controls media\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n  <a11y-media-transcript-cue \n    active-cues$=\"[[activeCues]]\"                   // An array of the currently active cues\n    cue$=\"[[cue]]\"                                  // An array of cue data\n    order$=\"[[cue.order]]\"                          // The index of the current cue\n    disable-interactive$=\"[[disableInteractive]]\"   // Is cue interactive? \n    controls$=\"[[mediaId]]\"                         // The id of the a11y-media-player element\n    hide-timestamps$=\"[[hideTimestamps]]\" >         // Hide cue timestamp?\n  </a11y-media-transcript-cue>\n\n  Custom styles:\n  --a11y-media-transcript-bg-color: background color of the transcript, default is #ffffff\n  --a11y-media-transcript-text-color: color of the transcript text, default is #000000\n  \n  Custom styles for focused cue:\n  --a11y-media-transcript-focused-cue-text: color of the focused cue text, default is --a11y-media-transcript-text-color\n  --a11y-media-transcript-focused-cue-bg: background color of the focused cue, default is --a11y-media-transcript-bg-color\n  --a11y-media-transcript-focused-cue-weight: font-weight of the focused cue, default is bold\n  \n  Custom styles for active cue:\n  --a11y-media-transcript-active-cue-text: color of the active cue text, default is --a11y-media-transcript-text-color\n  --a11y-media-transcript-active-cue-bg: background color of the active cue, default is #ccfffd\n  --a11y-media-transcript-active-cue-weight: font-weight of the active cue, default is normal\n\n*/\nPolymer({\n  _template: html`\n    <style is=\"custom-style\">\n      :host {\n        cursor: default;\n        display: table-row;\n        width: 100%;\n        color: var(--a11y-media-transcript-color);\n        background-color: var(--a11y-media-transcript-bg-color);\n        transition: color 0.25s, background-color 0.25s;\n      }\n      :host([hide-timestamps]) {\n        display: inline;\n      }\n      :host(:not([active]):not([disabled]):active),\n      :host(:not([active]):not([disabled]):focus),\n      :host(:not([active]):not([disabled]):hover) {\n        cursor: pointer;\n        color: var(--a11y-media-transcript-focused-cue-color);\n        background-color: var(--a11y-media-transcript-focused-cue-bg-color);\n        outline: 1px dotted var(--a11y-media-transcript-focused-cue-color);\n        @apply --a11y-media-transcript-focused-cue;\n      }\n      :host([active]) {\n        color: var(--a11y-media-transcript-active-cue-color);\n        background-color: var(--a11y-media-transcript-active-cue-bg-color);\n        @apply --a11y-media-transcript-active-cue;\n      }\n      :host #text {\n        display: table-cell;\n        width: 100%;\n        line-height: 200%;\n      }\n      :host([hide-timestamps]) #text {\n        display: inline;\n      }\n      :host #time {\n        display: table-cell;\n        font-size: 80%;\n        padding: 0 16px 0 0;\n        white-space: nowrap;\n        font-family: monospace;\n      }\n      :host([hide-timestamps]) #time {\n        display: none;\n      }\n      :host simple-search-content {\n        --simple-search-match-text-color: var(\n          --a11y-media-transcript-match-color\n        );\n        --simple-search-match-bg-color: var(\n          --a11y-media-transcript-match-bg-color\n        );\n        --simple-search-match-border-color: var(\n          --a11y-media-transcript-match-border-color\n        );\n        --simple-search-match: {\n          border: none;\n          border-radius: 4px;\n          font-weight: normal;\n        }\n      }\n      @media print {\n        :host,\n        :host([active]),\n        :host(:not([active]):not([disabled]):active),\n        :host(:not([active]):not([disabled]):focus),\n        :host(:not([active]):not([disabled]):hover) {\n          color: #000000;\n          background-color: #ffffff;\n        }\n      }\n    </style>\n    <span id=\"time\">[[cue.start]] - [[cue.end]]</span>\n    <span id=\"text\">\n      <simple-search-content\n        id=\"content\"\n        content=\"[[cue.text]]\"\n      ></simple-search-content>\n    </span>\n    <iron-a11y-keys\n      id=\"a11y\"\n      keys=\"enter\"\n      target\\$=\"[[__target]]\"\n      on-keys-pressed=\"_onClick\"\n    >\n    </iron-a11y-keys>\n  `,\n\n  is: \"a11y-media-transcript-cue\",\n\n  listeners: {\n    tap: \"_onClick\"\n  },\n\n  behaviors: [a11yMediaBehaviors.TranscriptBehaviors],\n\n  properties: {\n    /**\n     * is cue active\n     */\n    active: {\n      type: Boolean,\n      reflectToAttribute: true,\n      computed: \"_getActiveCue(cue,activeCues)\",\n      notify: true,\n      reflectToAttribute: true\n    },\n    /**\n     * array of currently active cues\n     */\n    activeCues: {\n      type: Array,\n      value: null,\n      notify: true\n    },\n    /**\n     * array of cue data\n     */\n    cue: {\n      type: Array,\n      value: null\n    },\n    /**\n     * disable interactive mode that makes the transcript clickable\n     */\n    disabled: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * parsed cue text\n     */\n    text: {\n      type: String,\n      value: \"\"\n    }\n  },\n\n  ready: function() {\n    let root = this,\n      search = root.search;\n    if (!root.disabled) {\n      root.__target = this;\n      root.setAttribute(\"aria-role\", \"button\");\n      root.setAttribute(\"controls\", this.mediaId);\n    }\n    if (\n      !root.disableSearch &&\n      root.search !== undefined &&\n      root.search !== null\n    ) {\n      root.$.content.enableSearch(search);\n    }\n  },\n\n  /**\n   * prints the active cue\n   */\n  print: function() {\n    //console.log(this,this.getComputedStyle());\n  },\n\n  /**\n   * gets the active cue for styling\n   */\n  _getActiveCue: function(cue, activeCues) {\n    return activeCues !== null && activeCues.includes(cue.order.toString())\n      ? true\n      : false;\n  },\n\n  /**\n   * fires click event\n   */\n  _onClick: function(e) {\n    if (!this.disabled) {\n      this.fire(\"cue-seek\", this);\n    }\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { SimpleColors } from \"@lrnwebcomponents/simple-colors/simple-colors.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"@lrnwebcomponents/responsive-utility/responsive-utility.js\";\nimport \"./a11y-media-behaviors.js\";\nimport \"./a11y-media-transcript-cue.js\";\n/**\n`a11y-media-transcript`\nA transcript element to pair with a11y-media-player\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n  <a11y-media-transcript \n    accent-color$=\"[[accentColor]]\"                 // Optional accent color highlighted cues, \n                                                    // using the following materialize colors: \n                                                    // red, pink, purple, deep-purple, indigo, blue, \n                                                    // light blue, cyan, teal, green, light green, lime, \n                                                    // yellow, amber, orange, deep-orange, and brown. \n                                                    // Default is null. \n    custom-microcopy$=\"[[customMicrocopy]]\"         // Optional customization or text and icons\n    disable-interactive$=\"[[disableInteractive]]\"   // Disable interactive transcript cues?\n    disable-scroll$=\"[[disableScroll]]\"             // Disable autoscrolling transcript as video plays? \n    disable-search$=\"[[disableSearch]]\"             // Disable transcript search? \n    hide-timestamps$=\"[[hideTimestamps]]\"           // Hide cue timestamps?\n    media-id=\"\"                                     // The id of the player\n    selected-transcript$=\"[[selectedTranscript]]\">  // The index of the current track\n  </a11y-media-transcript>\n\n*/\nPolymer({\n  _template: html`\n    <style is=\"custom-style\" include=\"simple-colors\">\n      :host {\n        display: block;\n        padding: 15px;\n        color: var(--a11y-media-transcript-color);\n        background-color: var(--a11y-media-transcript-bg-color);\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n      :host #inner {\n        width: 100%;\n        display: none;\n      }\n      :host #inner[active] {\n        display: table;\n        width: 100%;\n      }\n      :host #inner[active][hideTimestamps] {\n        display: block;\n      }\n      :host .sr-only:not(:focus) {\n        position: absolute;\n        left: -99999;\n        top: 0;\n        height: 0;\n        width: 0;\n        overflow: hidden;\n      }\n      @media print {\n        :host {\n          padding: 0 15px 5px;\n          color: #000;\n          background-color: #ffffff;\n          border-top: 1px solid #aaa;\n        }\n      }\n    </style>\n    <a id=\"transcript-desc\" href=\"#bottom\" class=\"sr-only\"\n      >[[skipTranscriptLink]]</a\n    >\n    <template id=\"tracks\" is=\"dom-repeat\" items=\"{{tracks}}\" as=\"track\">\n      <div\n        id=\"inner\"\n        class=\"transcript-from-track\"\n        lang=\"{{track.language}}\"\n        active\\$=\"[[track.active]]\"\n      >\n        <template is=\"dom-repeat\" items=\"{{track.cues}}\" as=\"cue\">\n          <a11y-media-transcript-cue\n            accent-color\\$=\"[[accentColor]]\"\n            active-cues\\$=\"[[activeCues]]\"\n            controls\\$=\"[[mediaId]]\"\n            cue\\$=\"{{cue}}\"\n            disabled\\$=\"[[disableInteractive]]\"\n            disable-search\\$=\"[[disableSearch]]\"\n            hide-timestamps\\$=\"[[hideTimestamps]]\"\n            order\\$=\"{{cue.order}}\"\n            role=\"button\"\n            search=\"[[search]]\"\n            tabindex=\"0\"\n          >\n          </a11y-media-transcript-cue>\n        </template>\n      </div>\n    </template>\n    <div id=\"bottom\" class=\"sr-only\"></div>\n  `,\n\n  is: \"a11y-media-transcript\",\n\n  listeners: {\n    \"cue-seek\": \"_onCueSeek\"\n  },\n\n  behaviors: [\n    SimpleColors,\n    a11yMediaBehaviors.GeneralFunctions,\n    a11yMediaBehaviors.TranscriptBehaviors\n  ],\n\n  properties: {\n    /**\n     * array of cues\n     */\n    activeCues: {\n      type: Array,\n      value: null,\n      reflectToAttribute: true,\n      notify: true\n    },\n    /**\n     * Language\n     */\n    lang: {\n      type: String,\n      value: \"en\",\n      reflectToAttribute: true\n    },\n    /**\n     * the id of media\n     */\n    mediaId: {\n      type: String,\n      value: null\n    },\n    /**\n     * tabindex of cues\n     */\n    tabIndex: {\n      type: Number,\n      computed: \"_getTabIndex(disableInteractive)\"\n    },\n    /**\n     * tabindex of cues\n     */\n    role: {\n      type: Number,\n      computed: \"_getRole(disableInteractive)\"\n    },\n    /**\n     * selected transcript track id\n     */\n    selectedTranscript: {\n      type: String,\n      value: \"0\"\n    },\n    /**\n     * array of cues\n     */\n    tracks: {\n      type: Array,\n      value: null\n    }\n  },\n\n  /**\n   * fires an event to let the page know there is a transcript container\n   */\n  attached: function() {\n    this.fire(\"transcript-ready\", this);\n  },\n\n  /**\n   * fires an event when media is associated with the player\n   */\n  setMedia: function(player) {\n    this.media = player;\n    this.fire(\"transcript-ready\", this);\n  },\n\n  /**\n   * fires an event when media is associated with the player\n   */\n  toggleHidden: function(mode) {\n    let root = this,\n      inner = document.getElementById(\"inner\"),\n      active =\n        inner !== null && inner !== undefined\n          ? inner.querySelector(\"a11y-media-transcript-cue[active]\")\n          : null,\n      first =\n        inner !== null && inner !== undefined\n          ? inner.querySelector(\"a11y-media-transcript-cue\")\n          : null;\n    mode = mode !== undefined ? mode : this.hidden;\n    this.hidden = mode;\n  },\n\n  /**\n   * prints the active transcript\n   */\n  print: function(mediaTitle) {\n    let root = this,\n      track = root.shadowRoot.querySelector(\"#inner[active]\"),\n      css =\n        \"a11y-media-transcript-cue{display:table-row;background-color:#fff;color:#000}a11y-media-transcript-cue[hide-timestamps],a11y-media-transcript-cue[hide-timestamps] #text{display:inline}a11y-media-transcript-cue #text{display:table-cell;line-height:200%}a11y-media-transcript-cue #time{display:table-cell;font-size:80%;padding:0 16px;white-space:nowrap;font-family:monospace}a11y-media-transcript-cue[hide-timestamps] #time{display:none}a11y-media-transcript-cue [matched]{background-color:#fff;color:#eee;padding:.16px 4px;border-radius:.16px}\";\n    mediaTitle = mediaTitle !== undefined ? mediaTitle : \"Transcript\";\n    if ((track !== null) & (track !== undefined)) {\n      //From https://stackoverflow.com/questions/1071962/how-do-i-print-part-of-a-rendered-html-page-in-javascript#answer-1072151\n      let print = window.open(\n          \"\",\n          \"\",\n          \"left=0,top=0,width=552,height=477,toolbar=0,scrollbars=0,status =0\"\n        ),\n        node = dom(root).node;\n      print.document.write(\n        \"<style>\" +\n          css +\n          \"</style><h1>\" +\n          mediaTitle +\n          \"</h1>\" +\n          track.innerHTML\n      );\n      print.document.close();\n      print.focus();\n      print.print();\n      print.close();\n    }\n  },\n\n  /**\n   * loads tracks from array\n   */\n  setTracks: function(tracks) {\n    this.set(\"tracks\", tracks.slice(0));\n    this.notifyPath(\"tracks\");\n    if (this.tracks !== undefined && this.tracks.length > 0)\n      this.$.tracks.render();\n  },\n\n  /**\n   * updates activeCues array and scrolls to position\n   */\n  setActiveCues: function(cues) {\n    //console.log('setActiveCues',cues);\n    let root = this,\n      offset =\n        root.shadowRoot.querySelector(\"#inner\") !== null &&\n        root.shadowRoot.querySelector(\"#inner\") !== undefined\n          ? root.shadowRoot.querySelector(\"#inner\").offsetTop\n          : 0,\n      cue = root.shadowRoot.querySelector(\n        \"#inner a11y-media-transcript-cue[active]\"\n      );\n    root.set(\"activeCues\", cues.slice(0));\n    if (!root.disableScroll && (cue !== null) & (cue !== undefined)) {\n      //javascript scrolling from:  https://stackoverflow.com/questions/8917921/cross-browser-javascript-not-jquery-scroll-to-top-animation#answer-8918062\n      let scrollingTo = function(element, to, duration) {\n        if (duration <= 0) return;\n        var difference = to - element.scrollTop;\n        var perTick = (difference / duration) * 10;\n\n        setTimeout(function() {\n          element.scrollTop = element.scrollTop + perTick;\n          if (element.scrollTop === to) return;\n          scrollingTo(element, to, duration - 10);\n        }, 10);\n      };\n      scrollingTo(root, cue.offsetTop - offset, 250);\n    }\n  },\n\n  /**\n   * gets the tab-index of cues based on whether or not interactive cues are disabled\n   */\n  _getTabIndex: function(disableInteractive) {\n    return disableInteractive ? -1 : 0;\n  },\n\n  /**\n   * gets the tab-index of cues based on whether or not interactive cues are disabled\n   */\n  _getRole: function(disableInteractive) {\n    return disableInteractive ? null : \"button\";\n  },\n\n  /**\n   * forwards the listener for transcript cue click to seek accordingly\n   */\n  _onCueSeek: function(e) {\n    this.fire(\"transcript-seek\", e.detail);\n  },\n\n  /**\n   * determines if this is the currently selected transcript to show or hide\n   */\n  setActiveTranscript: function(index) {\n    if (this.tracks !== undefined && this.tracks !== null) {\n      for (let i = 0; i < this.tracks.length; i++) {\n        if (parseInt(index) === i) {\n          this.selectedTranscript = parseInt(index);\n          this.set(\"tracks.\" + i + \".active\", true);\n        } else if (this.tracks[i] !== null) {\n          this.set(\"tracks.\" + i + \".active\", false);\n        }\n        this.notifyPath(\"tracks.\" + i + \".active\");\n      }\n    }\n    this.$.tracks.render();\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/simple-search/simple-search.js\";\nimport \"./a11y-media-behaviors.js\";\nimport \"./a11y-media-button.js\";\n/**\n`a11y-media-transcript-controls`\nA controls for the transcript element\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n  <a11y-media-transcript-controls \n    accent-color$=\"[[accentColor]]\"                 // Optional accent color highlighted cues, \n                                                    // using the following materialize colors: \n                                                    // red, pink, purple, deep-purple, indigo, blue, \n                                                    // light blue, cyan, teal, green, light green, lime, \n                                                    // yellow, amber, orange, deep-orange, and brown. \n                                                    // Default is null. \n    custom-microcopy$=\"[[customMicrocopy]]\"         // Optional customization or text and icons\n    disable-print-button$=\"[[disablePrintButton]]\"  // Disable the print button?\n    disable-scroll$=\"[[disableScroll]]\"             // Disable autoscrolling transcript as video plays? \n    disable-search$=\"[[disableSearch]]\"             // Disable transcript search? \n  </a11y-media-transcript-controls>\n\n*/\nPolymer({\n  _template: html`\n    <style is=\"custom-style\" include=\"simple-colors\">\n      :host {\n        background-color: var(--a11y-media-transcript-bg-color);\n        color: var(--a11y-media-transcript-text-color);\n        --a11y-media-button-color: var(--a11y-media-transcript-color);\n        --a11y-media-button-bg-color: var(--a11y-media-transcript-bg-color);\n        --a11y-media-button-toggle-color: var(\n          --a11y-media-transcript-accent-color\n        );\n        --a11y-media-button-hover-color: var(\n          --a11y-media-transcript-faded-accent-color\n        );\n        --a11y-media-button-hover-bg-color: var(\n          --a11y-media-transcript-bg-color\n        );\n        --simple-search-input-color: var(--a11y-media-transcript-color);\n        --simple-search-input-line-color: var(\n          --a11y-media-transcript-accent-color\n        );\n        --simple-search-input-placeholder-color: var(\n          --a11y-media-transcript-color\n        );\n        --simple-search-button-color: var(--a11y-media-transcript-accent-color);\n        --simple-search-button-hover-color: var(\n          --a11y-media-transcript-faded-accent-color\n        );\n        --simple-search-button-bg-color: var(--a11y-media-transcript-bg-color);\n        --simple-search-button-border-color: var(\n          --a11y-media-transcript-bg-color\n        );\n        --simple-search-button-hover-border-color: var(\n          --a11y-media-transcript-bg-color\n        );\n        --simple-search-button-disabled-color: var(\n          --simple-colors-default-theme-grey-5\n        );\n        --simple-search-button-disabled-bg-color: var(\n          --simple-colors-default-theme-grey-2\n        );\n        --simple-search-button-disabled-border-color: var(\n          --simple-colors-default-theme-grey-3\n        );\n        --simple-search-container: {\n          padding: 0 15px;\n        }\n      }\n      :host #searchbar {\n        display: flex;\n        align-items: stretch;\n        justify-content: space-between;\n        width: 100%;\n      }\n      :host #searching {\n        flex-grow: 2;\n      }\n      :host #autoscroll {\n        padding-right: 8px;\n      }\n      :host #scrolling,\n      :host #printing {\n        display: flex;\n        align-items: center;\n      }\n      @media print {\n        :host {\n          display: none;\n        }\n      }\n    </style>\n    <div id=\"searchbar\">\n      <div id=\"searching\">\n        <simple-search\n          id=\"search\"\n          disabled\\$=\"[[disableSearch]]\"\n          controls=\"transcript\"\n          hidden\\$=\"[[disableSearch]]\"\n          no-label-float=\"\"\n          next-button-icon\\$=\"[[searchNextIcon]]\"\n          next-button-label\\$=\"[[searchNextLabel]]\"\n          prev-button-icon\\$=\"[[searchPrevIcon]]\"\n          prev-button-label\\$=\"[[searchPrevLabel]]\"\n          search-input-icon\\$=\"[[searchIcon]]\"\n          search-input-label\\$=\"[[searchLabel]]\"\n          target=\"[[target]]\"\n        >\n        </simple-search>\n      </div>\n      <div id=\"scrolling\">\n        <a11y-media-button\n          id=\"scroll\"\n          controls=\"transcript\"\n          icon=\"[[autoScrollIcon]]\"\n          label=\"[[autoScrollLabel]]\"\n          toggle\\$=\"[[!disableScroll]]\"\n        >\n        </a11y-media-button>\n      </div>\n      <div\n        id=\"printing\"\n        hidden\\$=\"[[disablePrintButton]]\"\n        disabled\\$=\"[[disablePrintButton]]\"\n      >\n        <a11y-media-button\n          controls=\"transcript\"\n          id=\"print\"\n          icon=\"[[printIcon]]\"\n          label=\"[[printLabel]]\"\n        >\n        </a11y-media-button>\n      </div>\n    </div>\n  `,\n\n  is: \"a11y-media-transcript-controls\",\n\n  behaviors: [\n    a11yMediaBehaviors.GeneralFunctions,\n    a11yMediaBehaviors.TranscriptBehaviors\n  ],\n\n  properties: {\n    /**\n     * Language\n     */\n    lang: {\n      type: String,\n      value: \"en\",\n      reflectToAttribute: true\n    },\n    /**\n     * target of the controls\n     */\n    target: {\n      type: Object,\n      value: null\n    }\n  },\n\n  /**\n   * calls responsive-utility to get parent's responsive size\n   */\n  attached: function() {\n    let root = this;\n    root.search = root.$.search;\n    root.fire(\"searchbar-added\", root.$.search);\n    root.$.scroll.addEventListener(\"button-clicked\", function(e) {\n      this.fire(\"toggle-scroll\", this);\n    });\n    root.$.print.addEventListener(\"button-clicked\", function(e) {\n      this.fire(\"print-transcript\", this);\n    });\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/iron-resizable-behavior/iron-resizable-behavior.js\";\nwindow.A11yMediaUtility = {};\nPolymer({\n  is: \"a11y-media-utility\",\n\n  properties: {\n    /**\n     * Stores an array of all the players on the page.\n     */\n    players: {\n      type: Array,\n      value: []\n    },\n    /**\n     * Manages which player is sticky.\n     */\n    stickyPlayer: {\n      type: Object,\n      value: null\n    }\n  },\n\n  /**\n   * Makes sure there is a utility ready and listening for elements.\n   */\n  created: function() {\n    let root = this;\n    this.__playerLoader = function(e) {\n      root.players.push(e.detail);\n    };\n\n    // sets the instance to the current instance\n    if (!window.A11yMediaUtility.instance) {\n      window.A11yMediaUtility.instance = this;\n\n      // listen for a players added to the page\n      document.body.addEventListener(\"a11y-player\", root.__playerLoader);\n    }\n  },\n\n  /**\n   * Makes sure there is a utility ready and listening for elements.\n   */\n  attached: function() {\n    let root = this;\n    this.__stickyManager = function(e) {\n      root.setStickyPlayer(e.detail);\n    };\n    this.__scrollChecker = function(e) {\n      root._checkScroll();\n    };\n\n    // listen for a player that starts playing,\n    // make it the player that can be sticky,\n    // and check for concurrent players\n    document.body.addEventListener(\"a11y-player-playing\", root.__stickyManager);\n\n    // listen for scrolling and find out if a player is off-screen\n    window.addEventListener(\"scroll\", root.__scrollChecker);\n  },\n\n  /**\n   * Clean up.\n   */\n  detached: function() {\n    let root = this;\n    document.body.removeEventListener(\"a11y-player\", root.__playerLoader);\n    document.body.removeEventListener(\n      \"a11y-player-playing\",\n      root.__stickyManager\n    );\n    window.removeEventListener(\"scroll\", root.__scrollChecker);\n  },\n  /**\n   * if a player disallows concurrent players, pauses other players\n   */\n\n  checkConcurrentPlayers: function() {\n    let root = this,\n      player = root.stickyPlayer;\n    for (let i = 0; i < root.players.length; i++) {\n      let playeri = root.players[i];\n      if (\n        playeri !== player &&\n        (!player.allowConcurrent || !playeri.allowConcurrent)\n      ) {\n        playeri.pause();\n      }\n    }\n  },\n  /**\n   * if a player disallows concurrent players, pauses other players\n   */\n\n  checkConcurrentPlayers: function() {\n    let root = this,\n      player = root.stickyPlayer;\n    for (let i = 0; i < root.players.length; i++) {\n      let playeri = root.players[i];\n      if (\n        playeri !== player &&\n        (!player.allowConcurrent || !playeri.allowConcurrent)\n      ) {\n        playeri.pause();\n      }\n    }\n  },\n  /**\n   * stops all other players on the page\n   */\n\n  setStickyPlayer: function(player) {\n    let root = this,\n      parent = root._getParentNode(player);\n    root.__playerTop = parent.offsetTop;\n    root.__playerUpperMiddle = root.__playerTop + parent.offsetHeight * 0.9;\n    root.__playerLowerMiddle = root.__playerTop + parent.offsetHeight * 0.1;\n    if (\n      player !== root.stickyPlayer &&\n      root.stickyPlayer !== undefined &&\n      root.stickyPlayer !== null\n    ) {\n      root.stickyPlayer.toggleSticky(false);\n      root.__parent.style.height = \"unset\";\n    }\n    parent.style.height = parent.offsetHeight + \"px\";\n    root.__parent = parent;\n    root.stickyPlayer = player;\n    if (!player.allowConcurrent) root.checkConcurrentPlayers();\n    root._checkScroll();\n  },\n  /**\n   * checks the wondow's scroll position and compares it to active player to set sticky attribute\n   */\n\n  _checkScroll: function() {\n    let root = this,\n      wintop = window.pageYOffset,\n      winbottom = wintop + window.innerHeight;\n    if (root.stickyPlayer !== undefined && root.stickyPlayer !== null) {\n      if (\n        root.stickyPlayer.__playing &&\n        (root.__playerLowerMiddle > winbottom ||\n          root.__playerUpperMiddle < wintop)\n      ) {\n        root.stickyPlayer.toggleSticky(true);\n      } else {\n        root.stickyPlayer.toggleSticky(false);\n      }\n    }\n  },\n  /**\n   * gets parent node in light DOM\n   */\n\n  _getParentNode: function(node) {\n    let parent = node.parentNode;\n    if (\n      parent !== undefined &&\n      parent !== null &&\n      parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n    ) {\n      parent = parent.host;\n    }\n    return parent;\n  }\n});\n\nwindow.A11yMediaUtility.instance = null;\n\n/**\n * Checks to see if there is an instance available, and if not appends one\n */\nwindow.A11yMediaUtility.requestAvailability = function() {\n  //only create an instance if there isn't one\n  if (!window.A11yMediaUtility.instance) {\n    window.A11yMediaUtility.instance = document.createElement(\n      \"a11y-media-utility\"\n    );\n  }\n\n  document.body.appendChild(window.A11yMediaUtility.instance);\n};\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\n\nwindow.A11yMediaYoutubeUtility = {};\n\nPolymer({\n  is: \"a11y-media-youtube-utility\"\n});\n\nwindow.A11yMediaYoutubeUtility.instance = null;\n\nwindow.A11yMediaYoutubeUtility.counter = 0;\n\nwindow.A11yMediaYoutubeUtility.apiReady = window.YT !== undefined;\n\nwindow.A11yMediaYoutubeUtility.players = [];\n\n/**\n * Checks to see if there is an instance available, and if not appends one\n */\nwindow.A11yMediaYoutubeUtility.requestAvailability = function() {\n  if (!window.A11yMediaYoutubeUtility.instance) {\n    window.A11yMediaYoutubeUtility.instance = document.createElement(\n      \"a11y-media-youtube-utility\"\n    );\n    document.body.appendChild(window.A11yMediaYoutubeUtility.instance);\n    let api = document.createElement(\"script\");\n    api.setAttribute(\"src\", \"https://www.youtube.com/iframe_api\");\n    api.setAttribute(\"type\", \"text/javascript\");\n    document.body.appendChild(api);\n    window.onYouTubeIframeAPIReady = function() {\n      window.A11yMediaYoutubeUtility.apiReady = true;\n      var event = new CustomEvent(\"youtube-api-ready\");\n      document.dispatchEvent(event);\n    };\n  }\n};\n\nwindow.A11yMediaYoutubeUtility.initYoutubePlayer = function(\n  elem,\n  options,\n  attached\n) {\n  this.counter++;\n  //get unique id for each youtube iframe\n  let root = this,\n    div = document.createElement(\"div\"),\n    id = \"a11y-media-yt-\" + this.counter;\n  div.setAttribute(\"id\", id);\n  elem.innerHTML = \"\";\n  elem.appendChild(div);\n  // function to create and init iframe\n  let iframe = new YT.Player(id, {\n    width: options.width,\n    height: options.height,\n    videoId: options.videoId,\n    playerVars: {\n      color: \"white\",\n      controls: 0,\n      autoplay: options.autoplay,\n      disablekb: 1,\n      enablejsapi: 1,\n      iv_load_policy: 3,\n      modestbranding: 1,\n      showinfo: 0,\n      rel: 0\n    }\n  });\n\n  // add methods and properties to api so that it matches HTML5 video\n  iframe.tracks = [];\n  iframe.duration = 0;\n  iframe.play = function() {\n    iframe.playVideo();\n  };\n  iframe.pause = function() {\n    iframe.pauseVideo();\n  };\n  iframe.seek = function(time) {\n    iframe.seekTo(time);\n    iframe.pauseVideo();\n  };\n  iframe.setMute = function(mode) {\n    mode ? iframe.mute() : iframe.unMute();\n  };\n  iframe.seekable = {\n    length: 1,\n    start: function(index) {\n      return 0;\n    },\n    end: function(index) {\n      return iframe.duration;\n    }\n  };\n  // return the iframe so that a11y-media-player can control it\n  return iframe;\n};\n","/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { SimpleColors } from \"@lrnwebcomponents/simple-colors/simple-colors.js\";\nimport \"@polymer/paper-slider/paper-slider.js\";\nimport \"@polymer/iron-icons/iron-icons.js\";\nimport \"@polymer/iron-icons/av-icons.js\";\nimport \"./lib/screenfull-lib.js\";\nimport \"./lib/a11y-media-behaviors.js\";\nimport \"./lib/a11y-media-loader.js\";\nimport \"./lib/a11y-media-play-button.js\";\nimport \"./lib/a11y-media-controls.js\";\nimport \"./lib/a11y-media-transcript.js\";\nimport \"./lib/a11y-media-transcript-controls.js\";\nimport \"./lib/a11y-media-utility.js\";\nimport \"./lib/a11y-media-youtube-utility.js\";\n\nexport { A11yMediaPlayer };\n/**\n * `a11y-media-player`\n * `An accessible video player`\n *\n * @microcopy - the mental model for this element\n *\n *   ```<a11y-media-player\n *     accent-color$=\"[[accentColor]]\"             // Optional accent color for controls,\n *                                                 // using the following materialize colors:\n *                                                 // red, pink, purple, deep-purple, indigo, blue,\n *                                                 // light blue, cyan, teal, green, light green, lime,\n *                                                 // yellow, amber, orange, deep-orange, and brown.\n *                                                 // Default is null.\n *     audio-only$=\"[[audioOnly]]\"                 // Is media audio only?\n *     autoplay$=\"[[autoplay]]\"                    // Is player set to autoplay (not recommended for a11y)?\n *     cc$=\"[[cc]]\"                                // Are closed captions toggled?\n *     custom-microcopy$=\"[[customMicrocopy]]\"     // Optional customization or text and icons\n *     dark$=\"[[dark]]\"                            // Is the color scheme dark? Default is light.\n *     dark-transcript$=\"[[darkTranscript]]\"       // Use dark theme on transcript? Default is false, even when player is dark.\n *     disable-fullscreen$=\"[[disableFullscreen]]\" // Is full screen mode disabled?\n *     disable-interactive$=\"[[disableInteractive]]\" // Disable interactive cues?\n *     fullscreen$=\"[[fullscreen]]\"                // Is full screen mode toggled on?\n *     height$=\"[[height]]\"                        // The height of player\n *     hide-elapsed-time$=\"[[hideElapsedTime]]\"    // Is elapsed time hidden?\n *     hide-timestamps$=\"[[hideTimestamps]]\"       // Hide cue timestamps?\n *     lang$=\"[[lang]]\"                            // The language of the media\n *     loop$=\"[[loop]]\"                            // Is video on a loop?\n *     muted$=\"[[muted]]\"                          // Is video muted?\n *     media-title$=\"[[mediaTitle]]\"               // The title of the media\n *     playback-rate$=\"[[playbackRate]]\"           // The speed that video plays, default is 1 (for 100%)\n *     sticky-corner$=\"[[stickyCorner]]\"           // When user scrolls a playing video off-screen,\n *                                                    which corner will it stick to? Values are:\n *                                                    top-right (default), top-left, bottom-left, bottom-right,\n *                                                    and none (to turn sticky off)\n *     thumbnail-src$=\"[[thumbnailSrc]]\"           // Optional thumbanil/cover image url\n *     volume$=\"[[volume]]\">                       // The initial volume of the video\n *                                                 // video source and tracks\n *     <source src=\"/path/to/video.mp4\" type=\"video/mp4\">\n *     <source src=\"/path/to/video.webm\" type=\"video/webm\">\n *     <track label=\"English\" kind=\"subtitles\" srclang=\"en\" src=\"path/to/subtitles/en.vtt\" default>\n *     <track label=\"Deutsch\" kind=\"subtitles\" srclang=\"de\" src=\"path/to/subtitles/de.vtt\">\n *     <track label=\"Español\" kind=\"subtitles\" srclang=\"es\" src=\"path/to/subtitles/es.vtt\">\n *   </a11y-media-player>```\n *\n * Intermediate customization of player:\n * ```--a11y-media-text-color: text color, default is --simple-colors-default-theme-grey-11\n * --a11y-media-bg-color: background color, default is --simple-colors-default-theme-grey-2\n * --a11y-media-hover-color: text color on hover, default is --simple-colors-default-theme-grey-12\n * --a11y-media-hover-bg-color: background color, default is --simple-colors-default-theme-grey-2\n * --a11y-media-accent-color: an accent color, default is --simple-colors-default-theme-accent-9\n * --a11y-media-faded-accent-color: a subtler version of accent color, default is --simple-colors-default-theme-accent-8\n * --a11y-media-outline-color: border-color of group, default is --a11y-media-bg-color```\n *\n * Intermediate customization of transcript:\n * ```--a11y-media-transcript-color: transcript color, default is --simple-colors-default-theme-grey-12\n * --a11y-media-transcript-bg-color: transcript background color, default is --simple-colors-default-theme-grey-1\n * --a11y-media-transcript-active-cue-color: transcript active cue color, default is --simple-colors-default-theme-grey-12\n * --a11y-media-transcript-active-cue-bg-color: transcript active cue background color, default is --simple-colors-default-theme-grey-1\n * --a11y-media-transcript-focused-cue-color: transcript focused cue color, default is --simple-colors-default-theme-grey-12\n * --a11y-media-transcript-focused-cue-br-color: transcript focused cue background color, default is --simple-colors-default-theme-accent-1\n * --a11y-media-transcript-match-color: transcript match color, default is --simple-colors-default-theme-accent-1\n * --a11y-media-transcript-match-bg-color: transcript match background color, default is --simple-colors-default-theme-grey-12```\n *\n * Advanced styles for settings menu:\n * ```--a11y-media-settings-menu-color: settings menu text color, default is --a11y-media-text-color\n * --a11y-media-settings-menu-bg-color: settings menu background color, default is --a11y-media-bg-color\n * --a11y-media-settings-menu-hover-color: settings menu text color on hover, default is --a11y-media-hover-color\n * --a11y-media-settings-menu-hover-bg-color: settings menu background color on hover, default is --a11y-media-hover-bg-color```\n *\n * Advanced styles for buttons:\n * ```--a11y-media-button-color: button text color, default is --a11y-media-text-color\n * --a11y-media-button-bg-color: button background color, default is --a11y-media-bg-color\n * --a11y-media-button-hover-color: button text color when focused/hovered, default is --a11y-media-hover-color\n * --a11y-media-button-hover-bg-color: button background color when focused/hovered, default is --a11y-media-bg-color\n * --a11y-media-button-toggle-color: button text color when tggled on, default is --a11y-media-faded-accent-color```\n *\n * Advanced styles for toggles:\n * ```--paper-toggle-button-unchecked-bar-color: color of toggle button when off, default is --a11y-media-color\n * --paper-toggle-button-unchecked-button-color: color of toggle button when off, default is --a11y-media-color\n * --paper-toggle-button-checked-bar-color: color of toggle button when on, default is --a11y-media-accent-color\n * --paper-toggle-button-checked-button-color: color of toggle button when on, default is --a11y-media-accent-color```\n *\n * Advanced styles for sliders:\n * ```--a11y-media-slider-primary-color: primary slider color, default is --a11y-media-accent-color\n * --a11y-media-slider-secondary-color: slider buffer color, default is --a11y-media-faded-accent-color\n * --a11y-media-slider-pin-color: color of the pin that shows slider value, default is --a11y-media-faded-bg-color\n * --a11y-media-slider-pin-start-color: color of the pin at start default is --a11y-media-faded-bg-color\n * --a11y-media-slider-pin-end-color: color of the pin at end, default is --a11y-media-faded-bg-color\n * --a11y-media-slider-knob-color: slider knob color, default is --a11y-media-accent-color\n * --a11y-media-slider-knob-start-color: slider knob color at start, default is --a11y-media-accent-color\n * --a11y-media-slider-knob-end-color: slider knob color at end, default is --a11y-media-accent-color\n * --a11y-media-slider-knob-border-color: slider knob bordercolor, default is --a11y-media-accent-color\n * --a11y-media-slider-knob-start-border-color: slider knob border color at start, default is --a11y-media-accent-color\n * --a11y-media-slider-knob-end-border-color: slider knob border color at end, default is --a11y-media-accent-color```\n *\n * @polmyer\n * @customElement\n * @extends SimpleColors\n * @demo demo/index.html\n */\n\nlet A11yMediaPlayer = Polymer({\n  _template: html`\n    <style is=\"custom-style\" include=\"simple-colors\">\n      :host {\n        width: 100%;\n        display: block;\n        color: var(--simple-colors-default-theme-grey-12);\n        background-color: var(--simple-colors-default-theme-grey-2);\n        outline: 1px solid var(--simple-colors-default-theme-grey-3);\n      }\n      :host([dark]) {\n        outline: 1px solid var(--simple-colors-default-theme-grey-1);\n      }\n      :host #outerplayer,\n      :host #outerplayer * {\n        --a11y-media-color: var(--simple-colors-default-theme-grey-11);\n        --a11y-media-bg-color: var(--simple-colors-default-theme-grey-2);\n        --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n        --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n        --a11y-media-accent-color: var(--simple-colors-default-theme-accent-9);\n        --a11y-media-faded-accent-color: var(\n          --simple-colors-default-theme-accent-8\n        );\n\n        /* settings */\n        --a11y-media-settings-menu-color: var(--a11y-media-color);\n        --a11y-media-settings-menu-bg-color: var(--a11y-media-bg-color);\n        --a11y-media-settings-menu-hover-color: var(--a11y-media-hover-color);\n        --a11y-media-settings-menu-hover-bg-color: var(\n          --a11y-media-hover-bg-color\n        );\n\n        /* buttons */\n        --a11y-media-button-color: var(--a11y-media-color);\n        --a11y-media-button-bg-color: var(--a11y-media-bg-color);\n        --a11y-media-button-hover-color: var(--a11y-media-accent-color);\n        --a11y-media-button-hover-bg-color: var(--a11y-media-hover-bg-color);\n        --a11y-media-button-toggle-color: var(--a11y-media-faded-accent-color);\n\n        /* toggle button */\n        --paper-toggle-button-unchecked-bar-color: var(--a11y-media-color);\n        --paper-toggle-button-unchecked-button-color: var(--a11y-media-color);\n        --paper-toggle-button-checked-bar-color: var(--a11y-media-accent-color);\n        --paper-toggle-button-checked-button-color: var(\n          --a11y-media-accent-color\n        );\n\n        /* slider */\n        --paper-slider-active-color: var(--a11y-media-accent-color);\n        --paper-slider-secondary-color: var(--a11y-media-faded-accent-color);\n        --paper-slider-pin-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-pin-start-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-pin-end-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-knob-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-end-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-border-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-border-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-end-border-color: var(--a11y-media-bg-color);\n      }\n      :host #outertranscript,\n      :host #outertranscript *,\n      :host #transcript {\n        --a11y-media-transcript-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-bg-color: var(\n          --simple-colors-default-theme-grey-1\n        );\n        --a11y-media-transcript-accent-color: var(\n          --simple-colors-default-theme-accent-8\n        );\n        --a11y-media-transcript-faded-accent-color: var(\n          --simple-colors-default-theme-accent-10\n        );\n        --a11y-media-transcript-active-cue-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-active-cue-bg-color: var(\n          --simple-colors-default-theme-accent-1\n        );\n        --a11y-media-transcript-focused-cue-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-focused-cue-bg-color: var(\n          --simple-colors-default-theme-grey-2\n        );\n        --a11y-media-transcript-match-color: var(\n          --simple-colors-default-theme-grey-1\n        );\n        --a11y-media-transcript-match-bg-color: var(\n          --simple-colors-default-theme-accent-10\n        );\n        --a11y-media-transcript-match-border-color: var(\n          --simple-colors-default-theme-accent-12\n        );\n        --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n        --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n      }\n      :host #player {\n        display: block;\n        max-width: 100%;\n        transition: position 0.5s ease, max-width 1s ease;\n        background-color: var(--simple-colors-default-theme-grey-2);\n      }\n      :host #innerplayer {\n        z-index: 1;\n      }\n      :host #sources {\n        display: flex;\n        align-items: stretch;\n        position: relative;\n      }\n      :host([no-height]) #sources {\n        display: none;\n      }\n      :host #controls,\n      :host #slider,\n      :host #sources,\n      :host #sources > * {\n        width: 100%;\n      }\n      :host #loader,\n      :host #youtube,\n      :host #customcc,\n      :host #customcctxt {\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n      :host #youtube {\n        height: 100%;\n      }\n      :host #customcc {\n        font-size: 20px;\n        width: 100%;\n        height: 100%;\n        transition: font-size 0.25s;\n      }\n      :host([responsive-size*=\"lg\"]) #customcc {\n        font-size: 14px;\n      }\n      :host([responsive-size*=\"md\"]) #customcc {\n        font-size: 14px;\n      }\n      :host([responsive-size*=\"sm\"]) #customcc {\n        font-size: 12px;\n      }\n      :host([responsive-size*=\"xs\"]) #customcc {\n        font-size: 10px;\n      }\n      :host([sticky]:not([sticky-corner=\"none\"])) #customcc {\n        display: none;\n      }\n      :host #customcctxt {\n        top: unset;\n        bottom: 8px;\n        display: inline-block;\n        margin: 0 10px;\n        color: white;\n        background-color: black;\n        background-color: rgba(0, 0, 0, 0.8);\n        padding: 0.15em 4px;\n      }\n      :host #customcctxt:empty {\n        display: none;\n      }\n      :host #innerplayer,\n      :host #sources > * {\n        max-height: 80vh;\n      }\n      :host #controls,\n      :host #slider {\n        z-index: 2 !important;\n      }\n      :host #audio-only {\n        text-align: center;\n        font-style: italic;\n        width: 100%;\n        line-height: 160%;\n      }\n      :host .media-caption:not(:empty) {\n        padding: 5px 15px;\n      }\n      :host #printthumb {\n        width: 100%;\n        margin: 0;\n        display: block;\n        border-top: 1px solid #aaaaaa;\n      }\n      :host .sr-only {\n        position: absolute;\n        left: -9999px;\n        font-size: 0;\n        height: 0;\n        width: 0;\n        overflow: hidden;\n      }\n      @media screen {\n        :host #printthumb {\n          display: none;\n        }\n        :host([flex-layout]:not([responsive-size*=\"s\"])) {\n          display: inline-flex;\n          align-items: stretch;\n          outline: 1px solid;\n          color: var(--simple-colors-default-theme-grey-12);\n          background-color: var(--simple-colors-default-theme-grey-2);\n          outline-color: var(--simple-colors-default-theme-grey-3);\n          padding: 0;\n        }\n        :host([dark][flex-layout]:not([responsive-size*=\"s\"])) {\n          outline-color: var(--simple-colors-default-theme-grey-1);\n        }\n        :host > div {\n          transition: all 0.5s;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"])) #player {\n          position: fixed;\n          top: 5px;\n          right: 5px;\n          width: 200px;\n          max-width: 200px;\n          z-index: 999999;\n          border: 1px solid;\n          box-shadow: 1px 1px 20px 1px rgba(125, 125, 125);\n          border-radius: 3.2px;\n          border-color: var(--a11y-media-bg-color);\n        }\n        :host([dark][sticky]:not([sticky-corner=\"none\"])) #player {\n          border-color: var(--a11y-media-bg-color);\n        }\n        :host([sticky][sticky-corner=\"top-left\"]) #player {\n          right: unset;\n          left: 5px;\n        }\n        :host([flex-layout]:not([responsive-size*=\"s\"])) > div {\n          width: 50%;\n          flex-grow: 1;\n          flex-shrink: 1;\n        }\n        :host #innertranscript {\n          position: relative;\n          height: 100%;\n        }\n        :host([hide-transcript]) #outerplayer {\n          min-width: 50%;\n          max-width: 100%;\n        }\n        :host([hide-transcript]) #outertranscript {\n          display: none;\n        }\n        :host #transcript {\n          padding-top: 48px;\n        }\n        :host(:not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #transcript {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          overflow-y: scroll;\n        }\n        :host(:not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #player.totop {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 200px !important;\n          z-index: 9999;\n        }\n        :host #tcontrols {\n          z-index: 1000;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          display: flex;\n        }\n        :host([sticky][sticky-corner=\"bottom-left\"]) #player {\n          top: unset;\n          right: unset;\n          bottom: 5px;\n        }\n        :host([sticky][sticky-corner=\"bottom-right\"]) #player {\n          top: unset;\n          bottom: 5px;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"]):not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #controls {\n          display: none;\n        }\n        :host .print-only {\n          display: none;\n        }\n        :host .media-caption:not(:empty) {\n          color: var(--simple-colors-default-theme-grey-1);\n          background-color: var(--simple-colors-default-theme-accent-12);\n        }\n      }\n\n      @media print {\n        :host,\n        :host([dark]) {\n          outline: 1px solid #aaaaaa;\n          background-color: #ffffff;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"])) #outerplayer {\n          height: unset !important;\n        }\n        :host .screen-only,\n        :host #player,\n        :host #printthumb:not([src]) {\n          display: none;\n        }\n        :host(:not([thumbnail-src])) #sources,\n        :host #slider,\n        :host #loader,\n        :host #youtube,\n        :host #controls {\n          display: none;\n        }\n        :host .media-type {\n          font-style: italic;\n        }\n        :host #searchbar {\n          display: none;\n        }\n        :host .media-caption:not(:empty) {\n          background-color: #cccccc;\n          color: #000000;\n          font-size: 120%;\n          padding: 5px 15px;\n        }\n      }\n    </style>\n    <div class=\"sr-only\">[[mediaCaption]]</div>\n    <div id=\"outerplayer\" lang\\$=\"[[uiLanguage]]\">\n      <div id=\"player\">\n        <div id=\"innerplayer\">\n          <div id=\"sources\" hidden\\$=\"[[noHeight]]\">\n            <a11y-media-play-button\n              id=\"playbutton\"\n              audio-only\\$=\"[[audioOnly]]\"\n              disabled=\"true\"\n              hidden\\$=\"[[noPlayButton]]\"\n              disabled\\$=\"[[noPlayButton]]\"\n              pause-label\\$=\"[[pauseLabel]]\"\n              playing\\$=\"[[__playing]]\"\n              play-label\\$=\"[[playLabel]]\"\n            >\n            </a11y-media-play-button>\n            <a11y-media-loader\n              id=\"loader\"\n              autoplay\\$=\"[[autoplay]]\"\n              cc\\$=\"[[cc]]\"\n              crossorigin\\$=\"[[crossorigin]]\"\n              hidden\\$=\"[[isYoutube]]\"\n              lang\\$=\"[[lang]]\"\n              loop\\$=\"[[loop]]\"\n              muted\\$=\"[[muted]]\"\n              manifest\\$=\"[[manifest]]\"\n              playback-rate\\$=\"[[playbackRate]]\"\n              style\\$=\"[[_getThumbnailCSS(thumbnailSrc)]]\"\n              preload\\$=\"[[preload]]\"\n              volume\\$=\"[[volume]]\"\n            >\n              <slot></slot>\n            </a11y-media-loader>\n            <div\n              id=\"youtube\"\n              hidden\\$=\"[[!isYoutube]]\"\n              video-id\\$=\"[[videoId]]\"\n            ></div>\n            <div id=\"customcc\" hidden\\$=\"[[!showCustomCaptions]]\">\n              <span id=\"customcctxt\"></span>\n            </div>\n          </div>\n        </div>\n        <paper-slider\n          id=\"slider\"\n          max\\$=\"[[__duration]]\"\n          pin=\"\"\n          secondary-progress\\$=\"[[__buffered]]\"\n          value\\$=\"[[__elapsed]]\"\n        >\n        </paper-slider>\n      </div>\n      <a11y-media-controls\n        id=\"controls\"\n        audio-only\\$=\"[[audioOnly]]\"\n        audio-label\\$=\"[[audioLabel]]\"\n        captions-icon\\$=\"[[captionsIcon]]\"\n        captions-label\\$=\"[[captionsLabel]]\"\n        captions-menu-label\\$=\"[[captionsMenuLabel]]\"\n        captions-menu-off\\$=\"[[captionsMenuOff]]\"\n        cc\\$=\"[[cc]]\"\n        forward-icon\\$=\"[[forwardIcon]]\"\n        forward-label\\$=\"[[forwardLabel]]\"\n        fullscreen-icon\\$=\"[[fullscreenIcon]]\"\n        fullscreen-label\\$=\"[[fullscreenLabel]]\"\n        has-captions\\$=\"[[hasCaptions]]\"\n        has-transcript\\$=\"[[hasTranscript]]\"\n        lang\\$=\"[[uiLanguage]]\"\n        loop-icon\\$=\"[[loopIcon]]\"\n        loop-label\\$=\"[[loopLabel]]\"\n        mute-icon\\$=\"[[muteIcon]]\"\n        mute-label\\$=\"[[muteLabel]]\"\n        muted\\$=\"[[muted]]\"\n        pause-icon\\$=\"[[pauseIcon]]\"\n        pause-label\\$=\"[[pauseLabel]]\"\n        play-icon\\$=\"[[playIcon]]\"\n        play-label\\$=\"[[playLabel]]\"\n        playing\\$=\"[[__playing]]\"\n        restart-icon\\$=\"[[restartIcon]]\"\n        restart-label\\$=\"[[restartLabel]]\"\n        rewind-icon\\$=\"[[rewindIcon]]\"\n        rewind-label\\$=\"[[rewindLabel]]\"\n        search-transcript\\$=\"[[searchTranscript]]\"\n        settings-icon\\$=\"[[settingsIcon]]\"\n        settings-label\\$=\"[[settingsLabel]]\"\n        speed-label\\$=\"[[speedLabel]]\"\n        stand-alone\\$=\"[[standAlone]]\"\n        transcript-icon\\$=\"[[transcriptIcon]]\"\n        transcript-label\\$=\"[[transcriptLabel]]\"\n        transcript-menu-label\\$=\"[[transcriptMenuLabel]]\"\n        unmute-icon\\$=\"[[unmuteIcon]]\"\n        unmute-label\\$=\"[[unmuteLabel]]\"\n        video-label\\$=\"[[videoLabel]]\"\n        volume=\"[[__volume]]\"\n        volume-icon\\$=\"[[volumeIcon]]\"\n        volume-label\\$=\"[[volumeLabel]]\"\n      >\n      </a11y-media-controls>\n      <div class=\"screen-only media-caption\" aria-hidden=\"true\">\n        [[mediaCaption]]\n      </div>\n      <div class=\"print-only media-caption\">[[printCaption]]</div>\n    </div>\n    <img id=\"printthumb\" aria-hidden=\"true\" src\\$=\"[[thumbnailSrc]]\" />\n    <div id=\"outertranscript\" hidden\\$=\"[[standAlone]]\" lang\\$=\"[[uiLanguage]]\">\n      <div id=\"innertranscript\">\n        <a11y-media-transcript-controls\n          id=\"tcontrols\"\n          accent-color\\$=\"[[accentColor]]\"\n          auto-scroll-icon\\$=\"[[autoScrollIcon]]\"\n          auto-scroll-label\\$=\"[[autoScrollLabel]]\"\n          dark\\$=\"[[darkTranscript]]\"\n          disable-print-button\\$=\"[[disablePrintButton]]\"\n          disable-scroll\\$=\"[[disableScroll]]\"\n          disable-search\\$=\"[[disableSearch]]\"\n          lang\\$=\"[[uiLanguage]]\"\n          print-icon\\$=\"[[printIcon]]\"\n          print-label\\$=\"[[printLabel]]\"\n          search-label\\$=\"[[searchLabel]]\"\n          search-prev-label\\$=\"[[searchPrevLabel]]\"\n          search-prev-icon\\$=\"[[searchPrevIcon]]\"\n          search-next-label\\$=\"[[searchNextLabel]]\"\n          search-next-icon\\$=\"[[searchNextIcon]]\"\n          skip-transcript-link\\$=\"[[skipTranscriptLink]]\"\n        >\n        </a11y-media-transcript-controls>\n        <a11y-media-transcript\n          id=\"transcript\"\n          accent-color\\$=\"[[accentColor]]\"\n          dark\\$=\"[[darkTranscript]]\"\n          disable-scroll\\$=\"[[disableScroll]]\"\n          disable-search\\$=\"[[disableSearch]]\"\n          disable-interactive\\$=\"[[disableInteractive]]\"\n          hide-timestamps\\$=\"[[hideTimestamps]]\"\n          search=\"[[search]]\"\n        >\n        </a11y-media-transcript>\n      </div>\n    </div>\n  `,\n\n  is: \"a11y-media-player\",\n\n  listeners: {\n    \"controls-change\": \"_onControlsChanged\",\n    \"play-button-tapped\": \"play\"\n  },\n\n  properties: {\n    mediaCaption: {\n      type: String,\n      computed: \"_getMediaCaption(audioOnly,audioLabel,mediaTitle)\"\n    },\n    printCaption: {\n      type: String,\n      computed: \"_getPrintCaption(audioOnly,audioLabel,videoLabel,mediaTitle)\"\n    }\n  },\n\n  behaviors: [\n    SimpleColors,\n    a11yMediaBehaviors.MediaProps,\n    a11yMediaBehaviors.GeneralFunctions,\n    a11yMediaBehaviors.PlayerBehaviors,\n    a11yMediaBehaviors.TranscriptBehaviors\n  ],\n\n  /**\n   * calls responsive-utility to get parent's responsive size\n   */\n  attached: function() {\n    this.__playerAttached = true;\n    window.A11yMediaUtility.requestAvailability();\n    this._addResponsiveUtility();\n    this.fire(\"a11y-player\", this);\n    if (this.isYoutube) {\n      window.A11yMediaYoutubeUtility.requestAvailability();\n      this._youTubeRequest();\n    }\n  },\n\n  /**\n   * sets initial values and loads video or youtube iframe\n   */\n  ready: function() {\n    let root = this,\n      tracks = new Array();\n    root.__playerReady = true;\n    root.__interactive = !root.disableInteractive;\n    root.target = root.shadowRoot.querySelector(\"#transcript\");\n    root.__status = root.loadingLabel;\n    root.__slider = root.$.slider;\n    root.__volume = root.muted ? 0 : Math.max(this.volume, 10);\n    root.__resumePlaying = false;\n    root.__showFullscreen = !this.disableFullscreen && screenfull.enabled;\n    root.__duration = 0;\n    root.$.controls.setStatus(root.__status);\n    // adjusts aspect ratio\n    let aspect = 16 / 9;\n    root.width = root.width !== null ? root.width : \"100%\";\n    root.style.maxWidth = root.width !== null ? root.width : \"100%\";\n    root.$.sources.style.paddingTop = 100 / aspect + \"%\";\n    if (this.isYoutube) {\n      root.disableInteractive = true;\n      this._youTubeRequest();\n    } else {\n      root.shadowRoot\n        .querySelector(\"#slot\")\n        .assignedNodes()\n        .forEach(function(node) {\n          if (node.nodeName === \"TRACK\" || node.nodeName === \"SOURCE\") {\n            if (root.audioOnly) {\n              root.$.loader.$.audio.appendChild(node);\n            } else {\n              root.$.loader.$.video.appendChild(node);\n            }\n          }\n        });\n      root.__media = root.$.loader;\n      // handles loaded metadata\n      root.__media.addEventListener(\"media-loaded\", function() {\n        // adjusts aspect ratio\n        aspect = root.__media.aspectRatio;\n        root.$.sources.style.paddingTop = 100 / aspect + \"%\";\n        root.$.playbutton.removeAttribute(\"disabled\");\n\n        // gets and converts video duration\n        root.__duration = root.__media.duration > 0 ? root.__media.duration : 0;\n        root.__status =\n          root._getHHMMSS(0, root.__media.duration) +\n          \"/\" +\n          root._getHHMMSS(root.__media.duration);\n        root.$.controls.setStatus(root.__status);\n        root._getTrackData(root.$.loader.media);\n      });\n    }\n    root.$.tcontrols.addEventListener(\"searchbar-added\", function(e) {\n      root.search = e.detail;\n    });\n    root.$.tcontrols.addEventListener(\"toggle-scroll\", function(e) {\n      root.disableScroll = !root.disableScroll;\n    });\n    root.$.tcontrols.addEventListener(\"print-transcript\", function(e) {\n      this.fire(\"printing-transcript\", this);\n      root.$.transcript.print(root.mediaTitle);\n    });\n    root.$.transcript.setMedia(root.$.player);\n\n    // handles fullscreen\n    if (root.__showFullscreen) {\n      screenfull.on(\"change\", () => {\n        this.fullscreen = screenfull.isFullscreen;\n      });\n    }\n    // handles dragging with a mouse\n    root.$.slider.addEventListener(\"dragging-changed\", e => {\n      this._toggleSliderSeek(\n        root.$.slider.dragging,\n        root.$.slider.immediateValue\n      );\n    });\n    // handles slider focus\n    root.$.slider.addEventListener(\"focused-changed\", e => {\n      this._toggleSliderSeek(root.$.slider.focused, root.$.slider.value);\n    });\n  },\n\n  /**\n   * get label based on whether or not the video is playing\n   */\n  _getThumbnailCSS: function(thumbnailSrc) {\n    return thumbnailSrc != null\n      ? \"background-image: url(\" + thumbnailSrc + \"); background-size: cover;\"\n      : null;\n  },\n\n  /**\n   * handles slider seeking via mouse or keyboard\n   */\n  _toggleSliderSeek: function(seeking, value) {\n    if (seeking) {\n      if (this.__playing) this.__resumePlaying = true;\n      this.pause();\n    } else {\n      this.seek(value);\n      this.__resumePlaying = false;\n    }\n  },\n\n  /**\n   * gets YouTube iframe\n   */\n  _youTubeRequest: function() {\n    let root = this;\n    if (root.__playerAttached && root.__playerReady) {\n      let options = {\n          width: \"100%\",\n          height: \"100%\",\n          videoId: root.youtubeId\n        },\n        ytInit = function() {\n          root.__media = window.A11yMediaYoutubeUtility.initYoutubePlayer(\n            root.$.youtube,\n            options\n          );\n          root._getTrackData(root.$.loader.media);\n          root._updateCustomTacks();\n          // youtube API doesn't immediately give length of a video\n          let int = setInterval(() => {\n            if (root.__media.getDuration !== undefined) {\n              clearInterval(int);\n              root.__duration = root.__media.duration = root.__media.getDuration();\n              root.__status =\n                root._getHHMMSS(0, root.__media.duration) +\n                \"/\" +\n                root._getHHMMSS(root.__media.duration);\n              root.$.controls.setStatus(root.__status);\n              root.disableInteractive = !root.__interactive;\n            }\n          }, 100);\n        },\n        checkApi = function(e) {\n          if (window.A11yMediaYoutubeUtility.apiReady) {\n            document.removeEventListener(\"youtube-api-ready\", checkApi);\n            ytInit();\n          }\n        };\n      if (window.A11yMediaYoutubeUtility.apiReady) {\n        ytInit();\n      } else {\n        document.addEventListener(\"youtube-api-ready\", checkApi);\n      }\n    }\n  },\n\n  /**\n   * updates custom tracks for youTube\n   */\n  _updateCustomTacks: function() {\n    if (this.isYoutube && this.tracks !== undefined && this.tracks !== null) {\n      let root = this,\n        track = root.tracks[this.$.transcript.selectedTranscript],\n        active = [],\n        caption = \"\";\n      if (\n        track !== undefined &&\n        track !== null &&\n        track.cues !== undefined &&\n        track.cues !== null\n      ) {\n        for (let i = 0; i < track.cues.length; i++) {\n          if (\n            track.cues[i].seek < root.__elapsed &&\n            track.cues[i].seekEnd > root.__elapsed\n          ) {\n            active.push(track.cues[i].order);\n            caption = caption === \"\" ? track.cues[i].text : caption;\n          }\n        }\n        root.$.customcctxt.innerText = caption;\n        root.$.transcript.setActiveCues(active);\n      }\n    }\n  },\n\n  /**\n   * plays the media\n   */\n  play: function(e) {\n    let root = this;\n    root.__playing = true;\n    if (e === undefined || e.detail === root.$.playbutton) {\n      // while playing, update the slider and length\n      root.__playProgress = setInterval(() => {\n        root.__elapsed =\n          root.__media.getCurrentTime() > 0 ? root.__media.getCurrentTime() : 0;\n        root.__duration = root.__media.duration > 0 ? root.__media.duration : 0;\n        root._updateCustomTacks();\n        root.__status =\n          root._getHHMMSS(root.__media.getCurrentTime(), root.__duration) +\n          \"/\" +\n          root._getHHMMSS(root.__duration);\n        root.$.controls.setStatus(root.__status);\n        // if the video reaches the end and is not set to loop, stop\n        if (root.__elapsed === root.__duration && !root.loop) {\n          root.__playing = false;\n          clearInterval(root.__playProgress);\n        }\n\n        //updated buffered section of the slider\n        root.__buffered = root.__media.getBufferedTime;\n      }, 1);\n      root.fire(\"a11y-player-playing\", root);\n      root.__media.play();\n    }\n  },\n\n  /**\n   * pauses the media\n   */\n  pause: function() {\n    let root = this;\n    root.__playing = false;\n    root.__media.pause();\n\n    //stop updating the slider and length\n    clearInterval(root.__playProgress);\n  },\n\n  /**\n   * stops the media\n   */\n  stop: function() {\n    this.pause();\n    this.seek(0);\n  },\n\n  /**\n   * restarts the media\n   */\n  restart: function() {\n    this.seek(0);\n    this.play();\n  },\n\n  /**\n   * seeks media backward at a set increment\n   */\n  rewind: function(amt) {\n    amt = amt !== undefined ? amt : 1;\n    this.seek(Math.max(this.__media.getCurrentTime() - amt, 0));\n  },\n\n  /**\n   * seeks media forward at a set increment\n   */\n  forward: function(amt) {\n    amt = amt !== undefined ? amt : 1;\n    this.seek(Math.min(this.__media.getCurrentTime() + amt, this.__duration));\n  },\n\n  /**\n   * seeks to a specific time\n   */\n  seek: function(time) {\n    let seekable = this.__media.seekable;\n    if (\n      seekable.length > 0 &&\n      time >= seekable.start(0) &&\n      time <= seekable.end(0)\n    ) {\n      this.__media.seek(time);\n      this.__elapsed = time;\n      this.__status =\n        this._getHHMMSS(this.__media.getCurrentTime(), this.__duration) +\n        \"/\" +\n        this._getHHMMSS(this.__duration);\n      this.$.controls.setStatus(this.__status);\n      this._updateCustomTacks();\n      if (this.__resumePlaying) this.play();\n    }\n  },\n\n  /**\n   * toggles captions:\n   * toggleCC(true) to check the toggle, toggleCC(false) for unchecking, and toggleCC to toggle\n   */\n  toggleCC: function(mode) {\n    this.cc = mode === undefined ? !this.cc : mode;\n    this.$.loader.setCC(this.cc);\n  },\n\n  /**\n   * set volume of media\n   */\n  setVolume: function(value) {\n    this.volume = value !== null ? value : 70;\n    this.__media.setVolume(this.volume);\n    this.muted = this.volume === 0;\n  },\n\n  /**\n   * set speed/playback rate of media\n   */\n  setPlaybackRate: function(value) {\n    value = value !== null ? value : 1;\n    this.__media.setPlaybackRate(value);\n  },\n\n  /**\n   * toggles autoplay:\n   * toggleAutoplay(true) to check the toggle,\n   * toggleAutoplay(false) for unchecking, and\n   * toggleAutoplay to toggle\n   */\n  toggleAutoplay: function(mode) {\n    if (this.isYoutube) {\n    } else {\n      this.autoplay = mode === undefined ? !this.muted : mode;\n      this.__media.setAutoplay(this.autoplay);\n    }\n  },\n\n  /**\n   * toggles looping:\n   * toggleLoop(true) to check the toggle,\n   * toggleLoop(false) for unchecking,\n   * and toggleLoop to toggle\n   */\n  toggleLoop: function(mode) {\n    if (this.isYoutube) {\n    } else {\n      this.loop = mode === undefined ? !this.loop : mode;\n      this.__media.setLoop(this.loop);\n    }\n  },\n\n  /**\n   * toggles mute:\n   * toggleMute(true) to check the toggle,\n   * toggleMute(false) for unchecking, and\n   * toggleMute to toggle\n   */\n  toggleMute: function(mode) {\n    this.muted = mode === undefined ? !this.muted : mode;\n    this.__volume = this.muted ? 0 : Math.max(this.volume, 10);\n    this.__media.setMute(this.muted);\n  },\n\n  /**\n   * toggles sticky attribute:\n   * toggleSticky(true) to stick, toggleSticky(false) for unstick, and toggleSticky to toggle sticky\n   */\n  toggleSticky: function(mode) {\n    mode = mode === undefined ? !this.sticky : mode;\n    this.sticky = mode;\n    this.fire(\"player-sticky\", this);\n  },\n\n  /**\n   * toggles transcript:\n   * toggleTranscript(true) to check the toggle, toggleTranscript(false) for unchecking, and toggleTranscript to toggle\n   */\n  toggleTranscript: function(mode) {\n    mode = mode === undefined ? this.hideTranscript : mode;\n    this.hideTranscript = !mode;\n    if (this.$.transcript !== undefined && this.$.transcript !== null) {\n      this.fire(\"transcript-toggle\", this);\n      this.$.transcript.toggleHidden(this.hideTranscript);\n    }\n  },\n\n  /**\n   * selects a specific track by index\n   */\n  selectTrack: function(index) {\n    this.$.loader.selectTrack(index);\n    this.$.transcript.setActiveTranscript(index);\n  },\n\n  /**\n   * gets media caption\n   */\n  _getMediaCaption: function(audioOnly, audioLabel, mediaTitle) {\n    let hasMediaTitle =\n      mediaTitle !== undefined && mediaTitle !== null && mediaTitle !== \"\";\n    if (audioOnly && hasMediaTitle) {\n      return mediaTitle + \" (\" + audioLabel + \")\";\n    } else if (audioOnly) {\n      return audioLabel;\n    } else if (hasMediaTitle) {\n      return mediaTitle;\n    } else {\n      return null;\n    }\n  },\n\n  /**\n   * gets print caption\n   */\n  _getPrintCaption: function(audioOnly, audioLabel, videoLabel, mediaTitle) {\n    let hasMediaTitle =\n      mediaTitle !== undefined && mediaTitle !== null && mediaTitle !== \"\";\n    if (audioOnly && hasMediaTitle) {\n      return mediaTitle + \" (\" + audioLabel + \")\";\n    } else if (audioOnly) {\n      return audioLabel;\n    } else if (hasMediaTitle) {\n      return mediaTitle + \" (\" + videoLabel + \")\";\n    } else {\n      return videoLabel;\n    }\n  },\n\n  /**\n   * loads track metadata\n   */\n  _getTrackData: function() {\n    // gets cues from tracks\n    let root = this,\n      media = root.$.loader.media,\n      tdata = new Array(),\n      selected = 0;\n    root.hasTranscript = !root.standAlone;\n    // hides the video subtitles and captions and adds them to the tracks dropdown-select\n    //gets and updates track metadata\n    for (let i = 0; i < media.textTracks.length; i++) {\n      if (media.textTracks[i] !== null) {\n        let track = media.textTracks[i],\n          tidata = {},\n          loaded = track.cues !== undefined,\n          complete = 0,\n          label = track.label,\n          lang = track.language,\n          text =\n            label !== undefined\n              ? label\n              : lang !== undefined\n              ? lang\n              : \"Track \" + i,\n          cues,\n          loadCueData = setInterval(() => {\n            track.mode = \"showing\";\n            if (track.cues !== undefined && track.cues.length > 0) {\n              track.mode = \"hidden\";\n              getCueData();\n              clearInterval(loadCueData);\n            }\n          }, 1),\n          getCueData = function() {\n            track.mode = \"hidden\";\n\n            let cues = Object.keys(track.cues).map(function(key) {\n              return {\n                order: track.cues[key].id !== \"\" ? track.cues[key].id : key,\n                seek: track.cues[key].startTime,\n                seekEnd: track.cues[key].endTime,\n                start: root._getHHMMSS(\n                  track.cues[key].startTime,\n                  root.media.duration\n                ),\n                end: root._getHHMMSS(\n                  track.cues[key].endTime,\n                  root.media.duration\n                ),\n                text: track.cues[key].text\n              };\n            });\n            tidata = {\n              text: text,\n              language: lang,\n              value: i,\n              cues: cues\n            };\n            tdata.push(tidata);\n            root.set(\"tracks\", tdata);\n            root.$.controls.setTracks(tdata);\n            root.$.transcript.setTracks(tdata);\n            root.selectTrack(track.default ? i : 0);\n\n            track.oncuechange = function(e) {\n              root.$.transcript.setActiveCues(\n                Object.keys(e.currentTarget.activeCues).map(function(key) {\n                  return e.currentTarget.activeCues[key].id;\n                })\n              );\n            };\n          };\n      }\n    }\n    if (media.textTracks.length > 0) {\n      root.hasCaptions = true;\n    } else {\n      root.standAlone = true;\n    }\n    if (\n      !root.standAlone &&\n      root.$.transcript !== undefined &&\n      root.$.transcript !== null\n    ) {\n      root.$.transcript.addEventListener(\"cue-seek\", function(e) {\n        root.__resumePlaying = root.__playing;\n        root.seek(e.detail.cue.seek);\n      });\n    }\n  },\n\n  /**\n   * determine which button was clicked and act accordingly\n   */\n  _onControlsChanged: function(e) {\n    let root = this,\n      action = e.detail.label !== undefined ? e.detail.label : e.detail.id;\n    if (action === \"backward\" || action === root.rewindLabel) {\n      root.rewind(root.__duration / 20);\n    } else if (\n      action === \"closed captions\" ||\n      action === \"captions\" ||\n      action === root.captionsLabel ||\n      action === root.captionsMenuLabel\n    ) {\n      root.toggleCC();\n    } else if (\n      action === \"transcript\" ||\n      action === \"transcript-toggle\" ||\n      action === root.transcriptLabel ||\n      action === root.transcriptMenuLabel\n    ) {\n      root.toggleTranscript();\n    } else if (e.detail.id === \"tracks\") {\n      if (e.detail.value === \"\") {\n        root.toggleCC(false);\n      } else {\n        root.toggleCC(true);\n        root.selectTrack(e.detail.value);\n      }\n    } else if (action === \"forward\" || action === root.forwardLabel) {\n      root.forward(root.__duration / 20);\n    } else if (action === \"full screen\" || action === root.fullscreenLabel) {\n      this.toggleTranscript(this.fullscreen);\n      screenfull.toggle(root.$.outerplayer);\n    } else if (action === \"loop\" || action === root.loopLabel) {\n      root.toggleLoop();\n    } else if (\n      action === \"mute\" ||\n      action === \"unmute\" ||\n      action === root.muteLabel ||\n      action === root.unmuteLabel\n    ) {\n      root.toggleMute();\n    } else if (action === \"pause\" || action === root.pauseLabel) {\n      root.pause();\n    } else if (action === \"play\" || action === root.playLabel) {\n      root.play();\n    } else if (action === \"restart\" || action === root.restartLabel) {\n      root.seek(0);\n      root.play();\n    } else if (action === \"speed\" || action === root.speedLabel) {\n      root.setPlaybackRate(e.detail.value);\n    } else if (action === \"volume\" || action === root.volumeLabel) {\n      root.setVolume(e.detail.value);\n    }\n  }\n});\n"],"names":["window","a11yMediaBehaviors","MediaProps","properties","autoplay","type","Boolean","value","cc","height","Number","isYoutube","computed","lang","String","loop","manifest","muted","preload","playbackRate","status","selectedTrack","Object","selectedTrackID","tracks","Array","volume","youtubeId","youTube","_hasAttribute","attr","_testAttribute","val","GeneralFunctions","_addResponsiveUtility","data","data2","undefined","element","this","attribute","relativeToParent","ResponsiveUtility","requestAvailability","fire","_getHHMMSS","max","a","b","i","none","Math","floor","round","PlayerBehaviors","accentColor","reflectToAttribute","allowConcurrent","audioOnly","compactControls","crossorigin","dark","disableFullscreen","flexLayout","fullscreen","fullscreenButton","notify","hasCaptions","hasTranscript","hideElapsedTime","hideTranscript","mediaTitle","noHeight","noPlayButton","playing","responsiveSize","showCustomCaptions","standAlone","sticky","stickyCorner","thumbnailSrc","width","audioLabel","captionsIcon","captionsLabel","captionsMenuLabel","captionsMenuOff","uiLanguage","forwardIcon","forwardLabel","fullscreenIcon","fullscreenLabel","loadingLabel","loopLabel","muteIcon","muteLabel","pauseIcon","pauseLabel","playIcon","playLabel","restartIcon","restartLabel","rewindIcon","rewindLabel","settingsIcon","settingsLabel","speedLabel","transcriptIcon","transcriptLabel","transcriptMenuLabel","unmuteIcon","unmuteLabel","videoLabel","volumeLabel","_getNoHeight","_noPlayButton","_getFullscreenButton","test","navigator","userAgent","_getCompactControls","_showCustomCaptions","_isFlexLayout","stackedLayout","TranscriptBehaviors","darkTranscript","disableInteractive","disableSearch","disableScroll","disablePrintButton","hideTimestamps","media","search","searchLabel","searchIcon","searchNextButtonLabel","searchNextButtonIcon","searchPrevButtonLabel","searchPrevButtonIcon","target","autoScrollLabel","autoScrollIcon","printLabel","printIcon","_template","html","is","behaviors","ready","root","$","video","audio","addEventListener","duration","seekable","setVolume","setMute","setCC","setLoop","setPlaybackRate","aspectRatio","videoWidth","videoHeight","getBufferedTime","buffered","length","end","getCurrentTime","currentTime","selectTrack","index","textTracks","parseInt","mode","play","pause","stop","seek","restart","time","selectedTrackId","setAutoplay","listeners","tap","label","disabled","attached","text","innerText","img","thumbnail","check","setInterval","naturalWidth","clearInterval","aspect","naturalHeight","style","_getPlaying","_buttonTap","controls","icon","toggle","__target","button","change","playPause","muteUnmute","sm","md","lg","xl","e","__selectedTrack","detail","control","settings","settingslist","preventDefault","mute","onfocus","classList","add","onblur","remove","setStatus","statbar","statmenu","setTracks","set","slice","_getPlayPause","_getMuteUnmute","_onButtonClick","_onSettingsChanged","active","activeCues","cue","setAttribute","mediaId","content","enableSearch","print","_getActiveCue","includes","order","toString","_onClick","SimpleColors","tabIndex","role","selectedTranscript","setMedia","player","toggleHidden","inner","document","getElementById","querySelector","hidden","track","shadowRoot","open","dom","node","write","innerHTML","close","focus","notifyPath","render","setActiveCues","cues","offset","offsetTop","scrollingTo","to","perTick","scrollTop","setTimeout","_getTabIndex","_getRole","_onCueSeek","setActiveTranscript","scroll","A11yMediaUtility","players","stickyPlayer","created","__playerLoader","push","instance","body","__stickyManager","setStickyPlayer","__scrollChecker","_checkScroll","detached","removeEventListener","checkConcurrentPlayers","playeri","parent","_getParentNode","__playerTop","__playerUpperMiddle","offsetHeight","__playerLowerMiddle","toggleSticky","__parent","wintop","pageYOffset","winbottom","innerHeight","__playing","parentNode","nodeType","Node","DOCUMENT_FRAGMENT_NODE","host","createElement","appendChild","A11yMediaYoutubeUtility","counter","apiReady","YT","api","onYouTubeIframeAPIReady","event","CustomEvent","dispatchEvent","initYoutubePlayer","elem","options","div","id","iframe","Player","videoId","playerVars","color","disablekb","enablejsapi","iv_load_policy","modestbranding","showinfo","rel","playVideo","pauseVideo","seekTo","unMute","start","A11yMediaPlayer","Polymer","mediaCaption","printCaption","__playerAttached","_youTubeRequest","__playerReady","__interactive","__status","__slider","slider","__volume","__resumePlaying","__showFullscreen","screenfull","enabled","__duration","maxWidth","sources","paddingTop","assignedNodes","forEach","nodeName","loader","__media","playbutton","removeAttribute","_getTrackData","tcontrols","transcript","on","_this","isFullscreen","_toggleSliderSeek","dragging","immediateValue","focused","_getThumbnailCSS","seeking","ytInit","youtube","_updateCustomTacks","int","getDuration","checkApi","caption","__elapsed","seekEnd","customcctxt","__playProgress","__buffered","rewind","amt","forward","min","toggleCC","toggleAutoplay","toggleLoop","toggleMute","toggleTranscript","_getMediaCaption","hasMediaTitle","_getPrintCaption","tdata","tidata","complete","language","getCueData","loadCueData","keys","map","key","startTime","endTime","default","oncuechange","currentTarget","_onControlsChanged","action","outerplayer"],"mappings":"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"}