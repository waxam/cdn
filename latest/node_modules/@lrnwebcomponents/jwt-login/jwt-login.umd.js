!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-legacy.js"),require("@polymer/iron-ajax/iron-ajax.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@polymer/iron-ajax/iron-ajax.js"],t):t(e.JwtLogin={},e.polymerLegacy_js)}(this,function(e,t){"use strict";function n(){var e,t,i=(e=['\n    <style>\n      :host {\n        visibility: hidden;\n      }\n    </style>\n    <iron-ajax\n      id="loginrequest"\n      method="GET"\n      url="[[url]]"\n      handle-as="json"\n      on-response="loginResponse"\n    >\n    </iron-ajax>\n  '],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return n=function(){return i},i}var i=t.Polymer({_template:t.html(n()),is:"jwt-login",properties:{url:{type:String},key:{type:String,value:"jwt"},jwt:{type:String,notify:!0}},ready:function(){this.jwt=localStorage.getItem(this.key),this.fire("jwt-token",this.jwt)},toggleLogin:function(){null==this.jwt?this.$.loginrequest.generateRequest():(localStorage.removeItem(this.key),this.jwt=null,this.fire("jwt-logged-in",!1))},loginResponse:function(e){this.jwt=e.detail.response,null==this.jwt||""==this.jwt?this.fire("jwt-logged-in",!1):(localStorage.setItem(this.key,this.jwt),this.fire("jwt-token",this.jwt),this.fire("jwt-logged-in",!0))}});e.JwtLogin=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=jwt-login.umd.js.map
