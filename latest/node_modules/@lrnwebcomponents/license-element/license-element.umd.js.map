{"version":3,"file":"license-element.umd.js","sources":["license-element.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\n/**\n`license-element`\nA simple way of applying a semantically accurate license to work.\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n\n*/\nlet LicenseElement = Polymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        font-size: 16px;\n        line-height: 32px;\n        --license-text-color: #222222;\n        --license-background-color: #f2f2f2;\n        background-color: var(--license-background-color);\n      }\n      :host:after {\n        content: \"License\";\n        position: relative;\n        float: right;\n        bottom: 36px;\n        right: 8px;\n        font-size: 28px;\n        color: #dddddd;\n        font-style: italic;\n      }\n      .license-body {\n        padding: 32px;\n        font-style: italic;\n        background-color: var(--license-background-color);\n        color: var(--license-text-color);\n        @apply --license-body;\n      }\n\n      :host([display-method=\"footnote\"]) {\n        visibility: hidden;\n        opacity: 0;\n      }\n      :host([display-method=\"popup\"]) {\n        display: block;\n      }\n      .license-link {\n        font-style: italic;\n        @apply --license-link;\n      }\n      .big-license-link img {\n        margin-right: 8px;\n        margin-bottom: 8px;\n        width: 88px;\n        height: 31px;\n        vertical-align: middle;\n      }\n      .work-title {\n        font-weight: bold;\n      }\n    </style>\n    <meta\n      rel=\"cc:license\"\n      href\\$=\"[[licenseLink]]\"\n      content\\$=\"License: [[licenseName]]\"\n    />\n    <div\n      class=\"license-body\"\n      xmlns:cc\\$=\"[[licenseLink]]\"\n      xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n    >\n      <a class=\"big-license-link\" target=\"_blank\" href=\"[[licenseLink]]\"\n        ><img\n          alt=\"[[licenseName]] graphic\"\n          src=\"[[licenseImage]]\"\n          hidden\\$=\"[[!licenseImage]]\"\n      /></a>\n      <span\n        class=\"work-title\"\n        rel=\"dc:type\"\n        href=\"http://purl.org/dc/dcmitype/Text\"\n        property=\"dc:title\"\n        >[[title]]</span\n      >\n      by\n      <a\n        rel=\"cc:attributionURL\"\n        property=\"cc:attributionName\"\n        href\\$=\"[[source]]\"\n        >[[creator]]</a\n      >\n      is licensed under a\n      <a class=\"license-link\" target=\"_blank\" href=\"[[licenseLink]]\"\n        >[[licenseName]]</a\n      >. <span rel=\"dc:source\" href\\$=\"[[source]]\"></span>\n\n      <template is=\"dom-if\" if=\"[[hasMore]]\">\n        <span\n          >Permissions beyond the scope of this license are available\n          <a rel=\"cc:morePermissions\" target=\"_blank\" href=\"[[moreLink]]\"\n            >[[moreLabel]]</a\n          >.</span\n        >\n      </template>\n    </div>\n  `,\n\n  is: \"license-element\",\n\n  behaviors: [HAXBehaviors.PropertiesBehaviors, SchemaBehaviors.Schema],\n\n  properties: {\n    /**\n     * Title of the work.\n     */\n    title: {\n      type: String\n    },\n    /**\n     * Person or group that owns / created the work.\n     */\n    creator: {\n      type: String\n    },\n    /**\n     * Original Source of the work in question\n     */\n    source: {\n      type: String\n    },\n    /**\n     * License name, calculated or supplied by the end user if we don't have them.\n     */\n    licenseName: {\n      type: String\n    },\n    /**\n     * License link for more details\n     */\n    licenseLink: {\n      type: String\n    },\n    /**\n     * License short hand. Options cc0,\n     */\n    license: {\n      type: String,\n      observer: \"_licenseUpdated\"\n    },\n    /**\n     * More details label\n     */\n    moreLabel: {\n      type: String,\n      value: \"on the licensing details page\"\n    },\n    /**\n     * More details link\n     */\n    moreLink: {\n      type: String\n    },\n    /**\n     * See if we have more things to point to\n     */\n    hasMore: {\n      type: Boolean,\n      computed: \"_computeHasMore(moreLink)\"\n    }\n  },\n\n  /**\n   * Attached to the DOM, now fire.\n   */\n  attached: function() {\n    // Establish hax property binding\n    let props = {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"License\",\n        description: \"Provide a license for you rwork\",\n        icon: \"icons:theaters\",\n        color: \"grey\",\n        groups: [\"Content\", \"Copyright\"],\n        handles: [\n          {\n            type: \"license\",\n            source: \"source\",\n            title: \"title\",\n            author: \"creator\",\n            license: \"license\"\n          },\n          {\n            type: \"inline\",\n            text: \"title\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the work being cited.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the work being cited.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"source\",\n            title: \"Source link\",\n            description: \"The source url for the element this is citing.\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            validationType: \"url\"\n          },\n          {\n            property: \"license\",\n            title: \"License\",\n            description: \"The source url for the element this is citing.\",\n            inputMethod: \"select\",\n            options: this.licenseList(\"select\"),\n            icon: \"link\"\n          },\n          {\n            property: \"creator\",\n            title: \"Creator\",\n            description: \"Who made or owns this.\",\n            inputMethod: \"textfield\",\n            icon: \"link\"\n          }\n        ],\n        advanced: [\n          {\n            property: \"moreLink\",\n            title: \"Source link\",\n            description: \"Link to additional licensing details\",\n            inputMethod: \"textfield\",\n            validationType: \"url\"\n          },\n          {\n            property: \"moreLabel\",\n            title: \"more label\",\n            description: \"Label for more licensing details\",\n            inputMethod: \"textfield\"\n          }\n        ]\n      }\n    };\n    this.setHaxProperties(props);\n  },\n\n  /**\n   * Calculate if we should show the advanced details area\n   */\n  _computeHasMore: function(link) {\n    // only show if there's a link supplied for additional details\n    if (typeof link !== typeof undefined && link !== \"\") {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * A list of licenses that we support the references for.\n   */\n  licenseList: function(mode = \"full\") {\n    // initial list, PR to add more\n    let list = {\n      by: {\n        name: \"Creative Commons: Attribution\",\n        link: \"https://creativecommons.org/licenses/by/4.0/\",\n        image: \"https://i.creativecommons.org/l/by/4.0/88x31.png\"\n      },\n      \"by-sa\": {\n        name: \"Creative Commons: Attribution Share a like\",\n        link: \"https://creativecommons.org/licenses/by-sa/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\"\n      },\n      \"by-nd\": {\n        name: \"Creative Commons: Attribution No derivatives\",\n        link: \"https://creativecommons.org/licenses/by-nd/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nd/4.0/88x31.png\"\n      },\n      \"by-nc\": {\n        name: \"Creative Commons: Attribution non-commercial\",\n        link: \"https://creativecommons.org/licenses/by-nc/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc/4.0/88x31.png\"\n      },\n      \"by-nc-sa\": {\n        name: \"Creative Commons: Attribution non-commercial share a like\",\n        link: \"https://creativecommons.org/licenses/by-nc-sa/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\"\n      },\n      \"by-nc-nd\": {\n        name: \"Creative Commons: Attribution Non-commercial No derivatives\",\n        link: \"https://creativecommons.org/licenses/by-nc-nd/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png\"\n      }\n    };\n    // support mutating the array into a select list\n    if (mode == \"select\") {\n      var select = {};\n      for (var i in list) {\n        select[i] = list[i].name;\n      }\n      return select;\n    }\n    return list;\n  },\n\n  /**\n   * License was updated, time to update license name and link.\n   */\n  _licenseUpdated: function(newValue, oldValue) {\n    if (typeof newValue !== typeof undefined) {\n      var list = this.licenseList();\n      if (typeof list[newValue] !== typeof undefined) {\n        this.licenseName = list[newValue].name;\n        this.licenseLink = list[newValue].link;\n        this.licenseImage = list[newValue].image;\n      }\n    }\n  }\n});\nexport { LicenseElement };\n"],"names":["LicenseElement","Polymer","_template","html","is","behaviors","HAXBehaviors","PropertiesBehaviors","SchemaBehaviors","Schema","properties","title","type","String","creator","source","licenseName","licenseLink","license","observer","moreLabel","value","moreLink","hasMore","Boolean","computed","attached","props","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","author","text","meta","settings","quick","property","inputMethod","configure","validationType","options","this","licenseList","advanced","setHaxProperties","_computeHasMore","link","_typeof","list","by","name","image","select","i","_licenseUpdated","newValue","oldValue","licenseImage"],"mappings":"82LAYIA,EAAiBC,UAAQ,CAC3BC,UAAWC,YAgGXC,GAAI,kBAEJC,UAAW,CAACC,aAAaC,oBAAqBC,gBAAgBC,QAE9DC,WAAY,CAIVC,MAAO,CACLC,KAAMC,QAKRC,QAAS,CACPF,KAAMC,QAKRE,OAAQ,CACNH,KAAMC,QAKRG,YAAa,CACXJ,KAAMC,QAKRI,YAAa,CACXL,KAAMC,QAKRK,QAAS,CACPN,KAAMC,OACNM,SAAU,mBAKZC,UAAW,CACTR,KAAMC,OACNQ,MAAO,iCAKTC,SAAU,CACRV,KAAMC,QAKRU,QAAS,CACPX,KAAMY,QACNC,SAAU,8BAOdC,SAAU,eAEJC,EAAQ,CACVC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLpB,MAAO,UACPqB,YAAa,kCACbC,KAAM,iBACNC,MAAO,OACPC,OAAQ,CAAC,UAAW,aACpBC,QAAS,CACP,CACExB,KAAM,UACNG,OAAQ,SACRJ,MAAO,QACP0B,OAAQ,UACRnB,QAAS,WAEX,CACEN,KAAM,SACN0B,KAAM,UAGVC,KAAM,CACJF,OAAQ,qBAGZG,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,QACV/B,MAAO,QACPqB,YAAa,qCACbW,YAAa,YACbV,KAAM,iBAGVW,UAAW,CACT,CACEF,SAAU,QACV/B,MAAO,QACPqB,YAAa,qCACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,SACV/B,MAAO,cACPqB,YAAa,iDACbW,YAAa,YACbV,KAAM,OACNY,eAAgB,OAElB,CACEH,SAAU,UACV/B,MAAO,UACPqB,YAAa,iDACbW,YAAa,SACbG,QAASC,KAAKC,YAAY,UAC1Bf,KAAM,QAER,CACES,SAAU,UACV/B,MAAO,UACPqB,YAAa,yBACbW,YAAa,YACbV,KAAM,SAGVgB,SAAU,CACR,CACEP,SAAU,WACV/B,MAAO,cACPqB,YAAa,uCACbW,YAAa,YACbE,eAAgB,OAElB,CACEH,SAAU,YACV/B,MAAO,aACPqB,YAAa,mCACbW,YAAa,qBAKhBO,iBAAiBvB,IAMxBwB,gBAAiB,SAASC,uBAEpBC,EAAOD,IAAsC,KAATA,GAS1CJ,YAAa,eAEPM,EAAO,CACTC,GAAI,CACFC,KAAM,gCACNJ,KAAM,+CACNK,MAAO,4DAEA,CACPD,KAAM,6CACNJ,KAAM,kDACNK,MAAO,+DAEA,CACPD,KAAM,+CACNJ,KAAM,kDACNK,MAAO,+DAEA,CACPD,KAAM,+CACNJ,KAAM,kDACNK,MAAO,kEAEG,CACVD,KAAM,4DACNJ,KAAM,qDACNK,MAAO,qEAEG,CACVD,KAAM,8DACNJ,KAAM,qDACNK,MAAO,8DAIC,kEAnCe,QAmCL,KAChBC,EAAS,OACR,IAAIC,KAAKL,EACZI,EAAOC,GAAKL,EAAKK,GAAGH,YAEfE,SAEFJ,GAMTM,gBAAiB,SAASC,EAAUC,oBAC9BT,EAAOQ,GAA+B,KACpCP,EAAOP,KAAKC,4BACZK,EAAOC,EAAKO,WACT7C,YAAcsC,EAAKO,GAAUL,UAC7BvC,YAAcqC,EAAKO,GAAUT,UAC7BW,aAAeT,EAAKO,GAAUJ"}