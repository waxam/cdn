!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/polymer/lib/legacy/templatizer-behavior.js"),require("@polymer/polymer/lib/legacy/mutable-data-behavior.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/polymer/lib/legacy/templatizer-behavior.js","@polymer/polymer/lib/legacy/mutable-data-behavior.js"],t):t(e.GrafittoFilter={},e.polymerLegacy_js,e.polymer_dom_js,e.templatizerBehavior_js,e.mutableDataBehavior_js)}(this,function(e,t,r,i,o){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){var e,t,r=(e=['\n    <div id="dom"><slot></slot></div>\n  '],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return n=function(){return r},r}var a=t.Polymer({_template:t.html(n()),is:"grafitto-filter",behaviors:[i.Templatizer,o.OptionalMutableDataBehavior],properties:{items:{type:Array,value:[]},like:{type:String,value:""},where:{type:String,value:"name"},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:"items"},filtered:{type:Array,computed:"_computeFiltered(items, where, like, caseSensitive)",observer:"_onFilter"},f:{type:Function,notify:!0}},observers:["_populateUserTemplate(filtered)"],filter:function(){this.where=""},_computeFiltered:function(e,t,r,i){var o=null;o=i?new RegExp(r):new RegExp(r,"i");var n=[];if(this.f){var a=this.f.bind(this);n=e.filter(a)}else{var s=this._decomposeWhere.bind(this);n=e.filter(function(e){if("object"==l(e)){var r=s(t,e);return void 0===r&&""!=t&&console.warn("grafitto-filter was unable to find a property in '"+t+"'"),o.test(r)}return"string"==typeof e?o.test(e):"number"==typeof e?o.test(e.toString()):void 0})}return n},_populateUserTemplate:function(e){this.ctor?this.__clone[this.as]=e:(this._userTemplate=this.querySelector("template"),this._userTemplate||console.warn("grafitto-filter requires a template to be provided in light-dom"),this.templatize(this._userTemplate),this.__clone=this.stamp(null),this.__clone[this.as]=e,r.dom(this).appendChild(this.__clone.root))},_decomposeWhere:function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]},t)},_onFilter:function(){this.fire("filter")}});e.GrafittoFilter=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=grafitto-filter.umd.js.map
