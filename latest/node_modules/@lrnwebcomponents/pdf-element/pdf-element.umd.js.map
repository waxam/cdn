{"version":3,"file":"pdf-element.umd.js","sources":["lib/main.js","pdf-element.umd.js"],"sourcesContent":["import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n\nvar _Mathround = Math.round,\n  Reader = function(el) {\n    this.element = el;\n    this.reader = dom(el.root).querySelector(\".pdf-viewer\");\n    this.viewportOut = this.reader.querySelector(\".pdf-viewport-out\");\n    this.element = this.reader.querySelector(\".pdf-element\");\n    this.container = this.reader.querySelector(\".sidebar\");\n    this.toolbar = this.reader.querySelector(\".pdf-toolbar\");\n    this.card = dom(el.root).querySelector(\".style-scope\");\n    this.toolbarHeight = 0;\n    this.title = this.toolbar.querySelector(\".title\");\n    this.enableTextSelection = el.enableTextSelection;\n    this.fitWidth = el.fitWidth;\n    this.HEIGHT = el.getAttribute(\"height\");\n    this.WIDTH = el.getAttribute(\"width\");\n    this.viewport = this.reader.querySelector(\".pdf-viewport\");\n    if (this.enableTextSelection) {\n      this.textLayerDiv = this.reader.querySelector(\".textLayer\");\n      this.textLayerDivStyle = this.textLayerDiv.style;\n    }\n    this.spinner = this.reader.querySelector(\".spinner\");\n    this.totalPages = this.reader.querySelector(\"#totalPages\");\n    this.viewportStyle = this.viewport.style;\n    this.viewportOutStyle = this.viewportOut.style;\n    this.ctx = this.viewport.getContext(\"2d\");\n    this.SRC = el.src;\n    this.pageRendering = !1;\n    this.pageNumPending = null;\n  };\nReader.prototype.setSize = function(attrName, newVal) {\n  if (!this.WIDTH) {\n    this.WIDTH = this.viewportOut.offsetWidth;\n  }\n  if (!this.HEIGHT) {\n    this.HEIGHT = this.viewportOut.offsetHeight;\n  }\n  var width = this.WIDTH,\n    height = this.HEIGHT;\n  if (\"width\" === attrName) {\n    width = newVal;\n  }\n  if (\"height\" === attrName) {\n    height = newVal;\n  }\n  this.viewportOutStyle.height = height + \"px\";\n  this.spinner.style.top = (height - this.toolbarHeight) / 2 + \"px\";\n};\nReader.prototype.setSrc = function(src) {\n  this.SRC = src;\n};\nReader.prototype.setFitWidth = function(fitWidth) {\n  this.fitWidth = fitWidth;\n};\nReader.prototype.queueRenderPage = function(num) {\n  this.pdfExists = !0;\n  if (this.pageRendering) {\n    this.pageNumPending = num;\n  } else {\n    this.renderPDF(num);\n  }\n};\nReader.prototype.loadPDF = function(pageNum) {\n  var _this = this;\n  this.setSize();\n  pageNum = 1;\n  var self = this;\n  PDFJS.getDocument(this.SRC)\n    .then(function(pdf) {\n      self.PDF = pdf;\n      self.queueRenderPage(pageNum);\n      self.currentPage = pageNum;\n      self.totalPages.innerHTML = self.PDF.numPages;\n      self.totalPagesNum = self.PDF.numPages;\n      self.currentZoomVal = self.fitZoomVal = self.widthZoomVal = 0;\n      self.createDownloadLink();\n    })\n    .catch(function() {\n      _this.pdfExists = !1;\n    });\n};\nReader.prototype.renderPages = function() {\n  var self = this;\n  self.viewportOut.innerHTML = \"\";\n  PDFJS.getDocument(this.SRC).then(function(pdf) {\n    self.PDF = pdf;\n    for (var num = 1; num <= self.PDF.numPages; num++) {\n      pdf.getPage(num).then(self.renderPDF(num, null, !0));\n    }\n    self.currentPage = 1;\n    self.totalPages.innerHTML = self.PDF.numPages;\n    self.totalPagesNum = self.PDF.numPages;\n    if (!self.currentZoomVal)\n      self.currentZoomVal = self.fitZoomVal = self.widthZoomVal = 0;\n    self.createDownloadLink();\n  });\n};\nReader.prototype.sidebarSetup = function(currentThis) {\n  var self = this,\n    pdfName = currentThis.src,\n    currPage = 1,\n    numPages = 0,\n    pdfObj = null;\n  if (0 != self.container.innerHTML.length) {\n    if (currentThis.changedSideBar) {\n      self.container.innerHTML = \"\";\n      PDFJS.getDocument(this.SRC).then(function(pdf) {\n        pdfObj = pdf;\n        numPages = pdfObj.numPages;\n        var container = self.container;\n        pdf.getPage(1).then(handlePages);\n      });\n      self.setViewportPos(!1);\n    }\n  } else {\n    self.container.innerHTML = \"\";\n    PDFJS.getDocument(this.SRC).then(function(pdf) {\n      pdfObj = pdf;\n      numPages = pdfObj.numPages;\n      var container = self.container;\n      pdf.getPage(1).then(handlePages);\n    });\n    self.setViewportPos(!0);\n  }\n  function handlePages(page) {\n    var scale = 0.14,\n      scaleWidth = 0,\n      container = self.container;\n    if (currentThis.sidebarOpen) {\n      scaleWidth = self.WIDTH;\n    } else {\n      scaleWidth = self.WIDTH;\n    }\n    scale = 35e-5 * scaleWidth;\n    var viewport = page.getViewport(scale),\n      div = document.createElement(\"div\"),\n      pageString = (page.pageIndex + 1).toString(),\n      parsedFileName = pdfName.split(\"/\").pop();\n    div.style.backgroundColor = \"gray\";\n    var click = document.querySelector(\"pdf-element\"),\n      canvas = document.createElement(\"canvas\");\n    div.appendChild(canvas);\n    container.appendChild(div);\n    var addPage = dom(self.container).childNodes[page.pageIndex];\n    addPage.addEventListener(\"click\", function() {\n      var nextPage = page.pageIndex + 1;\n      click.sideBarClick(nextPage, currentThis.instance, currentThis);\n    });\n    var context = canvas.getContext(\"2d\");\n    canvas.height = viewport.height;\n    canvas.width = viewport.width;\n    page.render({ canvasContext: context, viewport: viewport });\n    currPage++;\n    if (null !== pdfObj && currPage <= numPages) {\n      pdfObj.getPage(currPage).then(handlePages);\n    }\n  }\n};\nReader.prototype.renderPDF = function(pageNum, resize, isFull) {\n  var self = this;\n  self.pageRendering = !0;\n  self.spinner.active = !0;\n  this.PDF.getPage(pageNum).then(function(page) {\n    var _Mathabs = Math.abs,\n      _Mathsin = Math.sin,\n      _Mathcos = Math.cos,\n      scaleW,\n      scaleH,\n      viewerViewport,\n      scale,\n      radians;\n    radians = (page.pageInfo.rotate * Math.PI) / 180;\n    self.pageW = _Mathabs(\n      page.view[2] * _Mathcos(radians) + page.view[3] * _Mathsin(radians)\n    );\n    self.pageH = _Mathabs(\n      page.view[3] * _Mathcos(radians) + page.view[2] * _Mathsin(radians)\n    );\n    if (0 === self.currentZoomVal || !!resize) {\n      (scaleW = _Mathround(100 * (self.WIDTH / self.pageW)) / 100),\n        (scaleH =\n          _Mathround(100 * ((self.HEIGHT - self.toolbarHeight) / self.pageH)) /\n          100),\n        (scale = Math.min(scaleH, scaleW));\n      self.fitZoomVal = scale;\n      self.widthZoomVal = self.WIDTH / self.pageW;\n      self.currentZoomVal = self.fitWidth ? self.widthZoomVal : self.fitZoomVal;\n    }\n    if (!!resize) {\n      self.zoomPage({ target: self.zoomLvl });\n    } else {\n      scale = self.currentZoomVal;\n      viewerViewport = page.getViewport(scale);\n      self.ctx.height = viewerViewport.height;\n      self.ctx.width = viewerViewport.width;\n      self.pageW = self.pageW * scale;\n      self.pageH = self.pageH * scale;\n      if (self.WIDTH == self.currentWidth || null == self.currentWidth) {\n        self.setViewportPos(!1);\n      } else {\n        self.setViewportPos(!0);\n      }\n      self.viewport.width = self.pageW;\n      self.viewport.height = self.pageH;\n      self.viewportStyle.width = self.pageW + \"px\";\n      self.viewportStyle.height = self.pageH + \"px\";\n      if (self.enableTextSelection) {\n        self.textLayerDivStyle.width = self.pageW + \"px\";\n        self.textLayerDivStyle.height = self.pageH + \"px\";\n      }\n      self.ctx.clearRect(0, 0, self.viewport.width, self.viewport.height);\n      if (isFull) {\n        var wrapper = document.createElement(\"div\");\n        wrapper.setAttribute(\"style\", \"position: relative\");\n        var canvas = document.createElement(\"canvas\"),\n          textLayer = document.createElement(\"div\");\n        textLayer.setAttribute(\"style\", \"left: \" + self.viewportStyle.left);\n        textLayer.className = \"textLayer\";\n        var ctx = canvas.getContext(\"2d\");\n        textLayer.height = viewerViewport.height;\n        textLayer.width = viewerViewport.width;\n        self.viewportOut.appendChild(wrapper);\n        wrapper.appendChild(canvas);\n        wrapper.appendChild(textLayer);\n        page.render({ canvasContext: ctx, viewport: viewerViewport });\n        if (self.enableTextSelection) {\n          self.textLayerDiv.innerHTML = \"\";\n          page.getTextContent().then(function(textContent) {\n            PDFJS.renderTextLayer({\n              textContent: textContent,\n              container: textLayer,\n              pageIndex: pageNum,\n              viewport: viewerViewport,\n              textDivs: []\n            });\n          });\n        }\n      } else {\n        var renderTask = page.render({\n          canvasContext: self.ctx,\n          viewport: viewerViewport\n        });\n        renderTask.promise.then(function() {\n          self.pageRendering = !1;\n          self.spinner.active = !1;\n          if (null !== self.pageNumPending) {\n            self.renderPDF(self.pageNumPending);\n            self.pageNumPending = null;\n          }\n        });\n      }\n      if (self.enableTextSelection) {\n        self.textLayerDiv.innerHTML = \"\";\n        page.getTextContent().then(function(textContent) {\n          PDFJS.renderTextLayer({\n            textContent: textContent,\n            container: self.textLayerDiv,\n            pageIndex: pageNum,\n            viewport: viewerViewport,\n            textDivs: []\n          });\n        });\n      }\n    }\n  });\n};\nReader.prototype.setViewportPos = function(sidebarAdjust) {\n  var _Mathfloor = Math.floor;\n  if (sidebarAdjust) {\n    this.currentWidth = 0.75 * this.WIDTH;\n  } else {\n    this.currentWidth = this.WIDTH;\n  }\n  if (this.pageW < this.currentWidth) {\n    this.viewportStyle.left = (this.currentWidth - this.pageW) / 2 + \"px\";\n  } else this.viewportStyle.left = 0;\n  if (this.pageH < this.HEIGHT) {\n    this.viewportStyle.top =\n      (this.HEIGHT - this.pageH - this.toolbarHeight) / 2 + \"px\";\n    this.viewportStyle.topNum =\n      _Mathfloor((this.HEIGHT - this.pageH - this.toolbarHeight) / 2) +\n      this.toolbarHeight;\n    if (this.enableTextSelection) {\n      this.textLayerDivStyle.topNum =\n        _Mathfloor((this.HEIGHT - this.pageH - this.toolbarHeight) / 2) +\n        this.toolbarHeight;\n    }\n  } else {\n    this.viewportStyle.top = 0;\n  }\n  if (this.enableTextSelection) {\n    this.textLayerDivStyle.left = this.viewportStyle.left;\n    this.textLayerDivStyle.top = this.viewportStyle.top;\n  }\n};\nReader.prototype.changePDFSource = function(newSrc) {\n  this.setSrc(newSrc);\n  this.loadPDF(1);\n};\nReader.prototype.zoomInOut = function(step) {\n  this.currentZoomVal =\n    _Mathround(10 * (_Mathround(10 * this.currentZoomVal) / 10 + step)) / 10;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomIn = function() {\n  this.currentZoomVal =\n    _Mathround(10 * (_Mathround(10 * this.currentZoomVal) / 10 + 0.1)) / 10;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomOut = function() {\n  this.currentZoomVal =\n    _Mathround(10 * (_Mathround(10 * this.currentZoomVal) / 10 + -0.1)) / 10;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomPageFit = function() {\n  this.currentZoomVal = this.fitZoomVal;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomWidthFit = function() {\n  this.currentZoomVal = this.widthZoomVal;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.getPageNum = function() {\n  return this.PDF.numPages;\n};\nReader.prototype.createDownloadLink = function() {\n  var self = this;\n  this.PDF.getData().then(function(data) {\n    var blob = PDFJS.createBlob(data, \"application/pdf\");\n    self.downloadLink = URL.createObjectURL(blob);\n  });\n};\nReader.prototype.download = function() {\n  var a = document.createElement(\"a\"),\n    filename = this.SRC.split(\"/\");\n  a.href = this.downloadLink;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = decodeURIComponent(filename[filename.length - 1]);\n  }\n  this.reader.appendChild(a);\n  a.click();\n  a.parentNode.removeChild(a);\n};\nwindow.Reader = Reader;\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/paper-card/paper-card.js\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar.js\";\nimport \"@polymer/paper-input/paper-input.js\";\nimport \"@polymer/iron-input/iron-input.js\";\nimport \"@polymer/paper-spinner/paper-spinner.js\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nimport \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"pdfjs-dist/build/pdf.js\";\nimport \"pdfjs-dist/build/pdf.worker.js\";\nimport \"./lib/main.js\";\n/**\nPolymer element which renders PDF documents. It uses [PDF.js](https://mozilla.github.io/pdf.js/) library behind.\n\nExample:\n\nMinimum configuration:\n```html\n<pdf-element src=\"../example.pdf\" width=800 height=600></pdf-element>\n```\nOptionally following parameters could be triggered:\n - `elevation` material elevation;\n - `downloadable` to be able to download document;\n - `show-file-name` to show name of the file in the PDF toolbar.\n\n\n ```html\n <pdf-element src=\"../example.pdf\" elevation=\"5\" downloadable show-file-name width=800 height=600></pdf-element>\n ```\n\nAnother awesome feature is dynamically load PDF file. So you can change the `src` attribute of the element and document will be automatically reloaded (checkout the demo):\n\n```html\n<pdf-element src=\"[[pdfFile]]\" width=800 height=600></pdf-element>\n```\n\n@demo demo/index.html\n@hero hero.svg\n*/\nlet PdfElement = Polymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n\n      app-toolbar.pdf-toolbar {\n        --app-toolbar-background: #323639;\n      }\n\n      .pdf-viewer {\n        text-align: center;\n        border: 1px solid #4d4d4d;\n      }\n\n      .pdf-viewport-out {\n        overflow: auto;\n        background-color: #525659;\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n\n      .pdf-viewport {\n        display: block;\n        position: relative;\n        border: 1px solid #eeeeee;\n        transition: all 200ms ease-in-out;\n        width: 100%;\n        height: 100%;\n      }\n\n      .sidebar {\n        background-color: gray;\n        float: left;\n        height: 0px;\n        overflow: scroll;\n        margin-left: -25%;\n        visibility: hidden;\n      }\n\n      .main {\n        margin-left: 0%;\n      }\n\n      .pageselector {\n        width: 3ch;\n        background-color: black;\n        font-size: 17px;\n        background-color: transparent;\n        border: 0px solid;\n      }\n\n      .pageselector:focus {\n        outline: none;\n      }\n\n      #input {\n        -webkit-margin-start: -3px;\n        color: #fff;\n        line-height: 18px;\n        padding: 3px;\n        text-align: end;\n      }\n\n      #input:focus,\n      #input:hover {\n        background-color: rgba(0, 0, 0, 0.5);\n        border-radius: 2px;\n      }\n\n      #slash {\n        padding: 0 3px;\n      }\n\n      paper-spinner {\n        position: absolute;\n        left: 50%;\n      }\n\n      .textLayer {\n        transition: all 200ms ease-in-out;\n      }\n\n      .positionRelative {\n        position: relative;\n      }\n    </style>\n\n    <paper-material elevation=\"{{elevation}}\">\n      <div class=\"card-content\" style=\"width: {{width}}px\">\n        <paper-card class=\"paperCard\" style=\"width: {{width}}px\">\n          <div class=\"pdf-viewer\">\n            <app-toolbar class=\"pdf-toolbar\">\n              <paper-icon-button\n                icon=\"menu\"\n                on-click=\"sideBar\"\n              ></paper-icon-button>\n              <paper-icon-button\n                icon=\"arrow-back\"\n                on-click=\"showPrev\"\n              ></paper-icon-button>\n              <input\n                class=\"pageselector\"\n                id=\"input\"\n                is=\"iron-input\"\n                value=\"{{currentPage}}\"\n                prevent-invalid-input=\"\"\n                allowed-pattern=\"\\\\d\"\n                on-change=\"pageNumSearch\"\n              />\n              <span id=\"slash\">/</span><span id=\"totalPages\"></span>\n              <paper-icon-button\n                icon=\"arrow-forward\"\n                on-click=\"showNext\"\n              ></paper-icon-button>\n              <span class=\"title\" hidden=\"{{!showFileName}}\">Testing</span>\n              <span class=\"title\" hidden=\"{{showFileName}}\"></span>\n              <span class=\"pageRendering\"></span>\n              <paper-icon-button\n                icon=\"zoom-in\"\n                on-click=\"zoomIn\"\n              ></paper-icon-button>\n              <paper-icon-button\n                icon=\"zoom-out\"\n                on-click=\"zoomOut\"\n              ></paper-icon-button>\n              <paper-icon-button\n                id=\"zoomIcon\"\n                icon=\"fullscreen\"\n                on-click=\"zoomFit\"\n              ></paper-icon-button>\n              <paper-icon-button\n                icon=\"file-download\"\n                hidden\\$=\"{{!downloadable}}\"\n                on-click=\"download\"\n              ></paper-icon-button>\n            </app-toolbar>\n            <div id=\"container\" class=\"sidebar\" style=\"width:25%\"></div>\n            <div id=\"main\">\n              <div id=\"test\" class=\"pdf-viewport-out\">\n                <canvas class=\"pdf-viewport\"></canvas>\n                <div\n                  id=\"text-layer\"\n                  class=\"textLayer\"\n                  hidden\\$=\"{{!enableTextSelection}}\"\n                ></div>\n              </div>\n              <paper-spinner\n                class=\"spinner\"\n                hidden\\$=\"{{!showSpinner}}\"\n              ></paper-spinner>\n            </div>\n          </div>\n        </paper-card>\n      </div>\n    </paper-material>\n  `,\n\n  is: \"pdf-element\",\n  behaviors: [HAXBehaviors.PropertiesBehaviors, SchemaBehaviors.Schema],\n\n  properties: {\n    /**\n     * Source of a PDF file.\n     */\n    src: {\n      type: String,\n      reflectToAttribute: true\n    },\n    /**\n     * The z-depth of this element, from 0-5. Setting to 0 will remove the shadow, and each increasing number greater than 0 will be \"deeper\" than the last.\n     */\n    elevation: {\n      type: Number,\n      value: 1\n    },\n    /**\n     * If provided then download icon will appear on the toolbar to download file.\n     */\n    downloadable: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * If provided then file name will be shown on the toolbar.\n     */\n    showFileName: {\n      type: Boolean,\n      value: false\n    },\n    /*\n     * If provided then during page rendering loading spinner will be shown.\n     * Maybe used for documents with many images for example.\n     */\n    showSpinner: {\n      type: Boolean,\n      value: false\n    },\n    /*\n     * If provided then text selection will be enabled.\n     */\n    enableTextSelection: {\n      type: Boolean,\n      value: false\n    },\n    /*\n     * If provided then the document will be zoomed to maximum width initially.\n     */\n    fitWidth: {\n      type: Boolean,\n      value: false\n    },\n    /*\n     * If provided then the width will be set.\n     */\n    width: {\n      type: Number,\n      value: 500\n    }\n  },\n\n  attached: function() {\n    this.src = this.getAttribute(\"src\");\n    this._initializeReader();\n    if (this.src) this.instance.loadPDF();\n    this._setFitWidth();\n    // Establish hax properties\n    let props = {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"PDF viewer\",\n        descrption:\n          \"This can nicely present a PDF in a standard inplace, cross browser way.\",\n        icon: \"image:picture-as-pdf\",\n        color: \"red\",\n        groups: [\"Presentation\", \"PDF\", \"Data\"],\n        handles: [\n          {\n            type: \"pdf\",\n            url: \"src\",\n            source: \"src\"\n          },\n          {\n            type: \"document\",\n            url: \"src\",\n            source: \"src\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"src\",\n            title: \"File\",\n            description: \"The URL for the pdf\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true\n          }\n        ],\n        configure: [\n          {\n            property: \"src\",\n            title: \"Source\",\n            description: \"The URL for this csv file\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true\n          },\n          {\n            property: \"downloadable\",\n            title: \"Downloadable\",\n            description: \"User can download this\",\n            inputMethod: \"boolean\",\n            icon: \"file-download\"\n          },\n          {\n            property: \"enableTextSelection\",\n            title: \"Text Selection\",\n            description: \"User can select text in this element.\",\n            inputMethod: \"boolean\",\n            icon: \"file-download\"\n          },\n          {\n            property: \"elevation\",\n            title: \"Elevation\",\n            description: \"Visual elevation of the element\",\n            inputMethod: \"number\",\n            icon: \"flip-to-front\"\n          }\n        ],\n        advanced: []\n      }\n    };\n    this.setHaxProperties(props);\n  },\n\n  /*\n   * For the first time the pdf is loaded.\n   * The inital page is set to 1 and it sets the total Pages\n   */\n  loadPDF: function() {\n    if (!this.getAttribute(\"src\")) return;\n    this.instance.changePDFSource(this.getAttribute(\"src\"));\n    this.currentPage = 1;\n    this.totalPages = this.instance.totalPages;\n    this.fileName = this.src.split(\"/\").pop();\n    this._setFitWidth();\n    this.$.zoomIcon.icon = \"fullscreen\";\n  },\n\n  /*\n   * When a new pdf is selected and loaded, this sets the properties for the switch\n   */\n  attributeChanged: function(name, type) {\n    if (name === \"src\") {\n      if (typeof this.instance == \"undefined\") this._initializeReader();\n      else {\n        this.loadPDF();\n        this.changedSideBar = true;\n        this.fromChange = true;\n        this.sideBar();\n      }\n    } else if (name === \"fitWidth\") {\n      this._setFitWidth();\n    }\n  },\n\n  _initializeReader: function() {\n    this.instance = new Reader(this);\n    if (this.src != null) this.fileName = this.src.split(\"/\").pop();\n    this.currentPage = 1;\n  },\n\n  _setFitWidth: function() {\n    this.instance.setFitWidth(this.fitWidth);\n  },\n\n  /*\n   * Is called from zoomIn function to control the zoom in\n   */\n  zoomInOut: function(step) {\n    if (this.instance.currentZoomVal >= 2) {\n      this.instance.currentZoomVal = 2;\n    } else if (this.instance.currentZoomVal <= 0.1) {\n      this.instance.currentZoomVal = 0.1;\n    } else {\n      this.$.zoomIcon.icon = \"fullscreen\";\n      this.instance.zoomInOut(step);\n    }\n  },\n\n  /*\n   * Zoom in to the pdf as long as it is loaded\n   */\n  zoomIn: function() {\n    if (this.instance.pdfExists) {\n      this.zoomInOut(0.1);\n    }\n  },\n\n  /*\n   * Zoom out of the pdf as long as it is loaded\n   */\n  zoomOut: function() {\n    if (this.instance.pdfExists) {\n      this.instance.zoomInOut(-0.1);\n    }\n  },\n\n  /*\n   * When the zoom in/out button is selected. Reformats the pdf to the original display\n   */\n  zoomFit: function() {\n    if (this.instance.pdfExists) {\n      if (this.instance.currentZoomVal == this.instance.widthZoomVal) {\n        this.instance.zoomPageFit();\n        this.$.zoomIcon.icon = \"fullscreen\";\n      } else {\n        this.instance.zoomWidthFit();\n        this.$.zoomIcon.icon = \"fullscreen-exit\";\n      }\n    }\n  },\n\n  /*\n   * Controls the page search functionality.\n   * When a number is input it checks to see if it is a valid page\n   * If it is valid then it will change the view to that page\n   * as well as update the page number\n   */\n  pageNumSearch: function() {\n    var page = parseInt(this.$.input.value);\n\n    if (1 <= page && page <= this.instance.totalPagesNum) {\n      this.instance.currentPage = page;\n      this.instance.queueRenderPage(this.instance.currentPage);\n      this.currentPage = page;\n      this.$.input.blur();\n    } else {\n      this.$.input.value = this.currentPage;\n      this.$.input.blur();\n    }\n  },\n\n  /*\n   * Is called when a page is selected from the sidebar\n   * Checks to make sure a valid page is selected, then changes the page\n   * The currentInstance is passed in to make sure it is changing the proper pdf if multiple are loaded\n   */\n  sideBarClick: function(page, currentInstance, currentThis) {\n    //this.instance = currentInstance;\n    var parsedFileName = currentThis.src.split(\"/\").pop();\n    var self = currentInstance;\n    currentThis.sidebarOpen = true;\n    if (1 <= page && page <= currentInstance.totalPagesNum) {\n      self.currentPage = page;\n      self.queueRenderPage(self.currentPage);\n      currentInstance.currentPage = page;\n      currentThis.currentPage = page;\n      this.$.input.blur();\n    } else {\n      this.$.input.value = self.currentPage;\n      this.$.input.blur();\n    }\n  },\n\n  /*\n   * Is called to show the previous page and update page number\n   */\n  showPrev: function() {\n    if (1 < this.instance.currentPage) {\n      this.instance.currentPage--;\n      this.instance.queueRenderPage(this.instance.currentPage);\n      this.currentPage--;\n    }\n  },\n\n  /*\n   * Is called to show the next page and update page number\n   */\n  showNext: function() {\n    if (this.instance.totalPagesNum > this.instance.currentPage) {\n      this.instance.currentPage++;\n      this.instance.queueRenderPage(this.instance.currentPage);\n      this.currentPage++;\n    }\n  },\n\n  /*\n   * The sidebar is a scrollable bar on the side of the page that allows you to scroll and select a page to change to\n   * Checks if the pdf loaded changed\n   * Then checks if the sidebar is open or not\n   * If it is open, close. Else open sidebar. Set sidebarOpen to either T or F\n   */\n  sideBar: function() {\n    if (this.instance.pdfExists) {\n      if (!this.fromChange) {\n        this.$.container.style.height = this.$.test.style.height;\n        this.$.container.style.width = this.$.test.style.width;\n        if (this.$.main.style.marginLeft == \"25%\") {\n          this.sidebarOpen = false;\n          this.instance.setViewportPos(false);\n          this.$.main.style.marginLeft = \"0%\";\n          this.$.container.style.marginLeft = \"-25%\";\n          this.$.container.style.visibility = \"hidden\";\n        } else {\n          this.sidebarOpen = true;\n          this.$.main.style.marginLeft = \"25%\";\n          this.$.container.style.marginLeft = \"0%\";\n          this.$.container.style.visibility = \"visible\";\n          this.instance.setViewportPos(true);\n        }\n      }\n      this.fromChange = false;\n      this.instance.sidebarSetup(this);\n      this.changedSideBar = false;\n    }\n  },\n\n  /*\n   * Is called when the download pdf button is selected\n   */\n  download: function() {\n    if (this.instance.pdfExists) {\n      this.instance.download();\n    }\n  }\n});\nexport { PdfElement };\n"],"names":["_Mathround","Math","round","Reader","el","element","reader","dom","root","querySelector","viewportOut","this","container","toolbar","card","toolbarHeight","title","enableTextSelection","fitWidth","HEIGHT","getAttribute","WIDTH","viewport","textLayerDiv","textLayerDivStyle","style","spinner","totalPages","viewportStyle","viewportOutStyle","ctx","getContext","SRC","src","pageRendering","pageNumPending","prototype","setSize","attrName","newVal","offsetWidth","offsetHeight","height","top","setSrc","setFitWidth","queueRenderPage","num","pdfExists","renderPDF","loadPDF","pageNum","_this","self","PDFJS","getDocument","then","pdf","PDF","currentPage","innerHTML","numPages","totalPagesNum","currentZoomVal","fitZoomVal","widthZoomVal","createDownloadLink","catch","renderPages","getPage","sidebarSetup","currentThis","pdfName","currPage","pdfObj","handlePages","page","scale","sidebarOpen","getViewport","div","document","createElement","pageIndex","toString","split","pop","backgroundColor","click","canvas","appendChild","childNodes","addEventListener","nextPage","sideBarClick","instance","context","width","render","canvasContext","length","changedSideBar","setViewportPos","resize","isFull","active","scaleW","scaleH","viewerViewport","radians","_Mathabs","abs","_Mathsin","sin","_Mathcos","cos","pageInfo","rotate","PI","pageW","view","pageH","min","zoomPage","target","zoomLvl","currentWidth","clearRect","wrapper","setAttribute","textLayer","left","className","getTextContent","textContent","renderTextLayer","textDivs","promise","sidebarAdjust","_Mathfloor","floor","topNum","changePDFSource","newSrc","zoomInOut","step","zoomIn","zoomOut","zoomPageFit","zoomWidthFit","getPageNum","getData","data","blob","createBlob","downloadLink","URL","createObjectURL","download","a","filename","href","decodeURIComponent","parentNode","removeChild","window","PdfElement","Polymer","_template","html","is","behaviors","HAXBehaviors","PropertiesBehaviors","SchemaBehaviors","Schema","properties","type","String","reflectToAttribute","elevation","Number","value","downloadable","Boolean","showFileName","showSpinner","attached","_initializeReader","_setFitWidth","setHaxProperties","canScale","canPosition","canEditSource","gizmo","descrption","icon","color","groups","handles","url","source","meta","author","settings","quick","property","description","inputMethod","required","configure","advanced","fileName","$","zoomIcon","attributeChanged","name","fromChange","sideBar","zoomFit","pageNumSearch","parseInt","input","blur","currentInstance","showPrev","showNext","test","main","marginLeft","visibility"],"mappings":"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"}