{"version":3,"file":"code-editor.umd.js","sources":["lib/ace-builds/src-noconflict/ace.js","lib/ace-builds/src-noconflict/ext-searchbox.js","lib/juicy-ace-editor.js","lib/code-pen-button.js","code-editor.umd.js"],"sourcesContent":["/****** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n  var ACE_NAMESPACE = \"ace\";\n\n  var global = (function() {\n    return this;\n  })();\n  if (!global && typeof window != \"undefined\") global = window; // strict mode\n\n  if (!ACE_NAMESPACE && typeof requirejs !== \"undefined\") return;\n\n  var define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n      if (define.original) define.original.apply(this, arguments);\n      else {\n        console.error(\"dropping module because define wasn't a string.\");\n        console.trace();\n      }\n      return;\n    }\n    if (arguments.length == 2) payload = deps;\n    if (!define.modules[module]) {\n      define.payloads[module] = payload;\n      define.modules[module] = null;\n    }\n  };\n\n  define.modules = {};\n  define.payloads = {};\n\n  /**\n   * Get at functionality define()ed using the function above\n   */\n  var _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n      var payload = lookup(parentId, module);\n      if (payload != undefined) {\n        callback && callback();\n        return payload;\n      }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n      var params = [];\n      for (var i = 0, l = module.length; i < l; ++i) {\n        var dep = lookup(parentId, module[i]);\n        if (dep == undefined && require.original) return;\n        params.push(dep);\n      }\n      return (callback && callback.apply(null, params)) || true;\n    }\n  };\n\n  var require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n      return require.original.apply(this, arguments);\n    return packagedModule;\n  };\n\n  var normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n      var chunks = moduleName.split(\"!\");\n      return (\n        normalizeModule(parentId, chunks[0]) +\n        \"!\" +\n        normalizeModule(parentId, chunks[1])\n      );\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n      var base = parentId\n        .split(\"/\")\n        .slice(0, -1)\n        .join(\"/\");\n      moduleName = base + \"/\" + moduleName;\n\n      while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n        var previous = moduleName;\n        moduleName = moduleName\n          .replace(/\\/\\.\\//, \"/\")\n          .replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n      }\n    }\n    return moduleName;\n  };\n\n  /**\n   * Internal function to lookup moduleNames and resolve them by calling the\n   * definition function if needed.\n   */\n  var lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n      module = define.payloads[moduleName];\n      if (typeof module === \"function\") {\n        var exports = {};\n        var mod = {\n          id: moduleName,\n          uri: \"\",\n          exports: exports,\n          packaged: true\n        };\n\n        var req = function(module, callback) {\n          return _require(moduleName, module, callback);\n        };\n\n        var returnValue = module(req, exports, mod);\n        exports = returnValue || mod.exports;\n        define.modules[moduleName] = exports;\n        delete define.payloads[moduleName];\n      }\n      module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n  };\n\n  function exportAce(ns) {\n    var root = global;\n    if (ns) {\n      if (!global[ns]) global[ns] = {};\n      root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n      define.original = root.define;\n      root.define = define;\n      root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n      require.original = root.require;\n      root.require = require;\n      root.require.packaged = true;\n    }\n  }\n\n  exportAce(ACE_NAMESPACE);\n})();\n\nace.define(\"ace/lib/regexp\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n  var real = {\n      exec: RegExp.prototype.exec,\n      test: RegExp.prototype.test,\n      match: String.prototype.match,\n      replace: String.prototype.replace,\n      split: String.prototype.split\n    },\n    compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined, // check `exec` handling of nonparticipating capturing groups\n    compliantLastIndexIncrement = (function() {\n      var x = /^/g;\n      real.test.call(x, \"\");\n      return !x.lastIndex;\n    })();\n\n  if (compliantLastIndexIncrement && compliantExecNpcg) return;\n  RegExp.prototype.exec = function(str) {\n    var match = real.exec.apply(this, arguments),\n      name,\n      r2;\n    if (typeof str == \"string\" && match) {\n      if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n        r2 = RegExp(\n          this.source,\n          real.replace.call(getNativeFlags(this), \"g\", \"\")\n        );\n        real.replace.call(str.slice(match.index), r2, function() {\n          for (var i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n      if (this._xregexp && this._xregexp.captureNames) {\n        for (var i = 1; i < match.length; i++) {\n          name = this._xregexp.captureNames[i - 1];\n          if (name) match[name] = match[i];\n        }\n      }\n      if (\n        !compliantLastIndexIncrement &&\n        this.global &&\n        !match[0].length &&\n        this.lastIndex > match.index\n      )\n        this.lastIndex--;\n    }\n    return match;\n  };\n  if (!compliantLastIndexIncrement) {\n    RegExp.prototype.test = function(str) {\n      var match = real.exec.call(this, str);\n      if (\n        match &&\n        this.global &&\n        !match[0].length &&\n        this.lastIndex > match.index\n      )\n        this.lastIndex--;\n      return !!match;\n    };\n  }\n  function getNativeFlags(regex) {\n    return (\n      (regex.global ? \"g\" : \"\") +\n      (regex.ignoreCase ? \"i\" : \"\") +\n      (regex.multiline ? \"m\" : \"\") +\n      (regex.extended ? \"x\" : \"\") + // Proposed for ES4; included in AS3\n      (regex.sticky ? \"y\" : \"\")\n    );\n  }\n\n  function indexOf(array, item, from) {\n    if (Array.prototype.indexOf)\n      // Use the native array method if available\n      return array.indexOf(item, from);\n    for (var i = from || 0; i < array.length; i++) {\n      if (array[i] === item) return i;\n    }\n    return -1;\n  }\n});\n\nace.define(\"ace/lib/es5-shim\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  //\n  //\n  function Empty() {}\n\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) {\n      // .length is 1\n      var target = this;\n      if (typeof target != \"function\") {\n        throw new TypeError(\n          \"Function.prototype.bind called on incompatible \" + target\n        );\n      }\n      var args = slice.call(arguments, 1); // for normal call\n      var bound = function() {\n        if (this instanceof bound) {\n          var result = target.apply(this, args.concat(slice.call(arguments)));\n          if (Object(result) === result) {\n            return result;\n          }\n          return this;\n        } else {\n          return target.apply(that, args.concat(slice.call(arguments)));\n        }\n      };\n      if (target.prototype) {\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n      }\n      //\n      return bound;\n    };\n  }\n  var call = Function.prototype.call;\n  var prototypeOfArray = Array.prototype;\n  var prototypeOfObject = Object.prototype;\n  var slice = prototypeOfArray.slice;\n  var _toString = call.bind(prototypeOfObject.toString);\n  var owns = call.bind(prototypeOfObject.hasOwnProperty);\n  var defineGetter;\n  var defineSetter;\n  var lookupGetter;\n  var lookupSetter;\n  var supportsAccessors;\n  if ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n  }\n\n  //\n  //\n  if ([1, 2].splice(0).length != 2) {\n    if (\n      (function() {\n        // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n          var a = new Array(l + 2);\n          a[0] = a[1] = 0;\n          return a;\n        }\n        var array = [],\n          lengthBefore;\n\n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length;\n\n        if (lengthBefore + 1 == array.length) {\n          return true; // has right splice implementation without bugs\n        }\n      })()\n    ) {\n      //IE 6/7\n      var array_splice = Array.prototype.splice;\n      Array.prototype.splice = function(start, deleteCount) {\n        if (!arguments.length) {\n          return [];\n        } else {\n          return array_splice.apply(\n            this,\n            [\n              start === void 0 ? 0 : start,\n              deleteCount === void 0 ? this.length - start : deleteCount\n            ].concat(slice.call(arguments, 2))\n          );\n        }\n      };\n    } else {\n      //IE8\n      Array.prototype.splice = function(pos, removeCount) {\n        var length = this.length;\n        if (pos > 0) {\n          if (pos > length) pos = length;\n        } else if (pos == void 0) {\n          pos = 0;\n        } else if (pos < 0) {\n          pos = Math.max(length + pos, 0);\n        }\n\n        if (!(pos + removeCount < length)) removeCount = length - pos;\n\n        var removed = this.slice(pos, pos + removeCount);\n        var insert = slice.call(arguments, 2);\n        var add = insert.length;\n        if (pos === length) {\n          if (add) {\n            this.push.apply(this, insert);\n          }\n        } else {\n          var remove = Math.min(removeCount, length - pos);\n          var tailOldPos = pos + remove;\n          var tailNewPos = tailOldPos + add - remove;\n          var tailCount = length - tailOldPos;\n          var lengthAfterRemove = length - remove;\n\n          if (tailNewPos < tailOldPos) {\n            // case A\n            for (var i = 0; i < tailCount; ++i) {\n              this[tailNewPos + i] = this[tailOldPos + i];\n            }\n          } else if (tailNewPos > tailOldPos) {\n            // case B\n            for (i = tailCount; i--; ) {\n              this[tailNewPos + i] = this[tailOldPos + i];\n            }\n          } // else, add == remove (nothing to do)\n\n          if (add && pos === lengthAfterRemove) {\n            this.length = lengthAfterRemove; // truncate array\n            this.push.apply(this, insert);\n          } else {\n            this.length = lengthAfterRemove + add; // reserves space\n            for (i = 0; i < add; ++i) {\n              this[pos + i] = insert[i];\n            }\n          }\n        }\n        return removed;\n      };\n    }\n  }\n  if (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n      return _toString(obj) == \"[object Array]\";\n    };\n  }\n  var boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\n  if (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        thisp = arguments[1],\n        i = -1,\n        length = self.length >>> 0;\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(); // TODO message\n      }\n\n      while (++i < length) {\n        if (i in self) {\n          fun.call(thisp, self[i], i, object);\n        }\n      }\n    };\n  }\n  if (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        length = self.length >>> 0,\n        result = Array(length),\n        thisp = arguments[1];\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) result[i] = fun.call(thisp, self[i], i, object);\n      }\n      return result;\n    };\n  }\n  if (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        length = self.length >>> 0,\n        result = [],\n        value,\n        thisp = arguments[1];\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) {\n          value = self[i];\n          if (fun.call(thisp, value, i, object)) {\n            result.push(value);\n          }\n        }\n      }\n      return result;\n    };\n  }\n  if (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        length = self.length >>> 0,\n        thisp = arguments[1];\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && !fun.call(thisp, self[i], i, object)) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n  if (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        length = self.length >>> 0,\n        thisp = arguments[1];\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && fun.call(thisp, self[i], i, object)) {\n          return true;\n        }\n      }\n      return false;\n    };\n  }\n  if (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        length = self.length >>> 0;\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n      if (!length && arguments.length == 1) {\n        throw new TypeError(\"reduce of empty array with no initial value\");\n      }\n\n      var i = 0;\n      var result;\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i++];\n            break;\n          }\n          if (++i >= length) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n          }\n        } while (true);\n      }\n\n      for (; i < length; i++) {\n        if (i in self) {\n          result = fun.call(void 0, result, self[i], i, object);\n        }\n      }\n\n      return result;\n    };\n  }\n  if (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n      var object = toObject(this),\n        self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : object,\n        length = self.length >>> 0;\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n      if (!length && arguments.length == 1) {\n        throw new TypeError(\"reduceRight of empty array with no initial value\");\n      }\n\n      var result,\n        i = length - 1;\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i--];\n            break;\n          }\n          if (--i < 0) {\n            throw new TypeError(\n              \"reduceRight of empty array with no initial value\"\n            );\n          }\n        } while (true);\n      }\n\n      do {\n        if (i in this) {\n          result = fun.call(void 0, result, self[i], i, object);\n        }\n      } while (i--);\n\n      return result;\n    };\n  }\n  if (!Array.prototype.indexOf || [0, 1].indexOf(1, 2) != -1) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */) {\n      var self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : toObject(this),\n        length = self.length >>> 0;\n\n      if (!length) {\n        return -1;\n      }\n\n      var i = 0;\n      if (arguments.length > 1) {\n        i = toInteger(arguments[1]);\n      }\n      i = i >= 0 ? i : Math.max(0, length + i);\n      for (; i < length; i++) {\n        if (i in self && self[i] === sought) {\n          return i;\n        }\n      }\n      return -1;\n    };\n  }\n  if (!Array.prototype.lastIndexOf || [0, 1].lastIndexOf(0, -3) != -1) {\n    Array.prototype.lastIndexOf = function lastIndexOf(\n      sought /*, fromIndex */\n    ) {\n      var self =\n          splitString && _toString(this) == \"[object String]\"\n            ? this.split(\"\")\n            : toObject(this),\n        length = self.length >>> 0;\n\n      if (!length) {\n        return -1;\n      }\n      var i = length - 1;\n      if (arguments.length > 1) {\n        i = Math.min(i, toInteger(arguments[1]));\n      }\n      i = i >= 0 ? i : length - Math.abs(i);\n      for (; i >= 0; i--) {\n        if (i in self && sought === self[i]) {\n          return i;\n        }\n      }\n      return -1;\n    };\n  }\n\n  //\n  //\n  if (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n      return (\n        object.__proto__ ||\n        (object.constructor ? object.constructor.prototype : prototypeOfObject)\n      );\n    };\n  }\n  if (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT =\n      \"Object.getOwnPropertyDescriptor called on a \" + \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(\n      object,\n      property\n    ) {\n      if (\n        (typeof object != \"object\" && typeof object != \"function\") ||\n        object === null\n      )\n        throw new TypeError(ERR_NON_OBJECT + object);\n      if (!owns(object, property)) return;\n\n      var descriptor, getter, setter;\n      descriptor = { enumerable: true, configurable: true };\n      if (supportsAccessors) {\n        var prototype = object.__proto__;\n        object.__proto__ = prototypeOfObject;\n\n        var getter = lookupGetter(object, property);\n        var setter = lookupSetter(object, property);\n        object.__proto__ = prototype;\n\n        if (getter || setter) {\n          if (getter) descriptor.get = getter;\n          if (setter) descriptor.set = setter;\n          return descriptor;\n        }\n      }\n      descriptor.value = object[property];\n      return descriptor;\n    };\n  }\n  if (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n      return Object.keys(object);\n    };\n  }\n  if (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n      createEmpty = function() {\n        return { __proto__: null };\n      };\n    } else {\n      createEmpty = function() {\n        var empty = {};\n        for (var i in empty) empty[i] = null;\n        empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null;\n        return empty;\n      };\n    }\n\n    Object.create = function create(prototype, properties) {\n      var object;\n      if (prototype === null) {\n        object = createEmpty();\n      } else {\n        if (typeof prototype != \"object\")\n          throw new TypeError(\n            \"typeof prototype[\" + typeof prototype + \"] != 'object'\"\n          );\n        var Type = function() {};\n        Type.prototype = prototype;\n        object = new Type();\n        object.__proto__ = prototype;\n      }\n      if (properties !== void 0) Object.defineProperties(object, properties);\n      return object;\n    };\n  }\n  function doesDefinePropertyWork(object) {\n    try {\n      Object.defineProperty(object, \"sentinel\", {});\n      return \"sentinel\" in object;\n    } catch (exception) {}\n  }\n  if (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom =\n      typeof document == \"undefined\" ||\n      doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n      var definePropertyFallback = Object.defineProperty;\n    }\n  }\n\n  if (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \";\n    var ERR_ACCESSORS_NOT_SUPPORTED =\n      \"getters & setters can not be defined \" + \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(\n      object,\n      property,\n      descriptor\n    ) {\n      if (\n        (typeof object != \"object\" && typeof object != \"function\") ||\n        object === null\n      )\n        throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n      if (\n        (typeof descriptor != \"object\" && typeof descriptor != \"function\") ||\n        descriptor === null\n      )\n        throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n      if (definePropertyFallback) {\n        try {\n          return definePropertyFallback.call(\n            Object,\n            object,\n            property,\n            descriptor\n          );\n        } catch (exception) {}\n      }\n      if (owns(descriptor, \"value\")) {\n        if (\n          supportsAccessors &&\n          (lookupGetter(object, property) || lookupSetter(object, property))\n        ) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          delete object[property];\n          object[property] = descriptor.value;\n          object.__proto__ = prototype;\n        } else {\n          object[property] = descriptor.value;\n        }\n      } else {\n        if (!supportsAccessors)\n          throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n        if (owns(descriptor, \"get\"))\n          defineGetter(object, property, descriptor.get);\n        if (owns(descriptor, \"set\"))\n          defineSetter(object, property, descriptor.set);\n      }\n\n      return object;\n    };\n  }\n  if (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n      for (var property in properties) {\n        if (owns(properties, property))\n          Object.defineProperty(object, property, properties[property]);\n      }\n      return object;\n    };\n  }\n  if (!Object.seal) {\n    Object.seal = function seal(object) {\n      return object;\n    };\n  }\n  if (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n      return object;\n    };\n  }\n  try {\n    Object.freeze(function() {});\n  } catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n      return function freeze(object) {\n        if (typeof object == \"function\") {\n          return object;\n        } else {\n          return freezeObject(object);\n        }\n      };\n    })(Object.freeze);\n  }\n  if (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n      return object;\n    };\n  }\n  if (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n      return false;\n    };\n  }\n  if (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n      return false;\n    };\n  }\n  if (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n      if (Object(object) === object) {\n        throw new TypeError(); // TODO message\n      }\n      var name = \"\";\n      while (owns(object, name)) {\n        name += \"?\";\n      }\n      object[name] = true;\n      var returnValue = owns(object, name);\n      delete object[name];\n      return returnValue;\n    };\n  }\n  if (!Object.keys) {\n    var hasDontEnumBug = true,\n      dontEnums = [\n        \"toString\",\n        \"toLocaleString\",\n        \"valueOf\",\n        \"hasOwnProperty\",\n        \"isPrototypeOf\",\n        \"propertyIsEnumerable\",\n        \"constructor\"\n      ],\n      dontEnumsLength = dontEnums.length;\n\n    for (var key in { toString: null }) {\n      hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n      if (\n        (typeof object != \"object\" && typeof object != \"function\") ||\n        object === null\n      ) {\n        throw new TypeError(\"Object.keys called on a non-object\");\n      }\n\n      var keys = [];\n      for (var name in object) {\n        if (owns(object, name)) {\n          keys.push(name);\n        }\n      }\n\n      if (hasDontEnumBug) {\n        for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n          var dontEnum = dontEnums[i];\n          if (owns(object, dontEnum)) {\n            keys.push(dontEnum);\n          }\n        }\n      }\n      return keys;\n    };\n  }\n\n  //\n  //\n  if (!Date.now) {\n    Date.now = function now() {\n      return new Date().getTime();\n    };\n  }\n\n  //\n  //\n  var ws =\n    \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\n  if (!String.prototype.trim || ws.trim()) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n      trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n      return String(this)\n        .replace(trimBeginRegexp, \"\")\n        .replace(trimEndRegexp, \"\");\n    };\n  }\n\n  //\n  //\n  function toInteger(n) {\n    n = +n;\n    if (n !== n) {\n      // isNaN\n      n = 0;\n    } else if (n !== 0 && n !== 1 / 0 && n !== -(1 / 0)) {\n      n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n  }\n\n  function isPrimitive(input) {\n    var type = typeof input;\n    return (\n      input === null ||\n      type === \"undefined\" ||\n      type === \"boolean\" ||\n      type === \"number\" ||\n      type === \"string\"\n    );\n  }\n\n  function toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n      return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n      val = valueOf.call(input);\n      if (isPrimitive(val)) {\n        return val;\n      }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n      val = toString.call(input);\n      if (isPrimitive(val)) {\n        return val;\n      }\n    }\n    throw new TypeError();\n  }\n  var toObject = function(o) {\n    if (o == null) {\n      // this matches both null and undefined\n      throw new TypeError(\"can't convert \" + o + \" to object\");\n    }\n    return Object(o);\n  };\n});\n\nace.define(\n  \"ace/lib/fixoldbrowsers\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/regexp\", \"ace/lib/es5-shim\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    require(\"./regexp\");\n    require(\"./es5-shim\");\n    if (typeof Element != \"undefined\" && !Element.prototype.remove) {\n      Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() {\n          this.parentNode && this.parentNode.removeChild(this);\n        }\n      });\n    }\n  }\n);\n\nace.define(\"ace/lib/useragent\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n  exports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n  };\n  exports.getOS = function() {\n    if (exports.isMac) {\n      return exports.OS.MAC;\n    } else if (exports.isLinux) {\n      return exports.OS.LINUX;\n    } else {\n      return exports.OS.WINDOWS;\n    }\n  };\n  if (typeof navigator != \"object\") return;\n\n  var os = (navigator.platform.match(/mac|win|linux/i) || [\n    \"other\"\n  ])[0].toLowerCase();\n  var ua = navigator.userAgent;\n  exports.isWin = os == \"win\";\n  exports.isMac = os == \"mac\";\n  exports.isLinux = os == \"linux\";\n  exports.isIE =\n    navigator.appName == \"Microsoft Internet Explorer\" ||\n    navigator.appName.indexOf(\"MSAppHost\") >= 0\n      ? parseFloat(\n          (ua.match(\n            /(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/\n          ) || [])[1]\n        )\n      : parseFloat(\n          (ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) ||\n            [])[1]\n        ); // for ie\n\n  exports.isOldIE = exports.isIE && exports.isIE < 9;\n  exports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\n  exports.isOpera =\n    window.opera &&\n    Object.prototype.toString.call(window.opera) == \"[object Opera]\";\n  exports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\n  exports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\n  exports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\n  exports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\n  exports.isIPad = ua.indexOf(\"iPad\") >= 0;\n\n  exports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\n  exports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\n  exports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\n  if (exports.isIOS) exports.isMac = true;\n\n  exports.isMobile = exports.isIPad || exports.isAndroid;\n});\n\nace.define(\n  \"ace/lib/dom\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/useragent\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var useragent = require(\"./useragent\");\n    var XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\n    exports.buildDom = function buildDom(arr, parent, refs) {\n      if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent) parent.appendChild(txt);\n        return txt;\n      }\n\n      if (!Array.isArray(arr)) return arr;\n      if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n          var ch = buildDom(arr[i], parent, refs);\n          ch && els.push(ch);\n        }\n        return els;\n      }\n\n      var el = document.createElement(arr[0]);\n      var options = arr[1];\n      var childIndex = 1;\n      if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n      for (var i = childIndex; i < arr.length; i++) buildDom(arr[i], el, refs);\n      if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n          var val = options[n];\n          if (n === \"class\") {\n            el.className = Array.isArray(val) ? val.join(\" \") : val;\n          } else if (typeof val == \"function\" || n == \"value\") {\n            el[n] = val;\n          } else if (n === \"ref\") {\n            if (refs) refs[val] = el;\n          } else if (val != null) {\n            el.setAttribute(n, val);\n          }\n        });\n      }\n      if (parent) parent.appendChild(el);\n      return el;\n    };\n\n    exports.getDocumentHead = function(doc) {\n      if (!doc) doc = document;\n      return (\n        doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement\n      );\n    };\n\n    exports.createElement = function(tag, ns) {\n      return document.createElementNS\n        ? document.createElementNS(ns || XHTML_NS, tag)\n        : document.createElement(tag);\n    };\n\n    exports.removeChildren = function(element) {\n      element.innerHTML = \"\";\n    };\n\n    exports.createTextNode = function(textContent, element) {\n      var doc = element ? element.ownerDocument : document;\n      return doc.createTextNode(textContent);\n    };\n\n    exports.createFragment = function(element) {\n      var doc = element ? element.ownerDocument : document;\n      return doc.createDocumentFragment();\n    };\n\n    exports.hasCssClass = function(el, name) {\n      var classes = (el.className + \"\").split(/\\s+/g);\n      return classes.indexOf(name) !== -1;\n    };\n    exports.addCssClass = function(el, name) {\n      if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n      }\n    };\n    exports.removeCssClass = function(el, name) {\n      var classes = el.className.split(/\\s+/g);\n      while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n          break;\n        }\n        classes.splice(index, 1);\n      }\n      el.className = classes.join(\" \");\n    };\n\n    exports.toggleCssClass = function(el, name) {\n      var classes = el.className.split(/\\s+/g),\n        add = true;\n      while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n          break;\n        }\n        add = false;\n        classes.splice(index, 1);\n      }\n      if (add) classes.push(name);\n\n      el.className = classes.join(\" \");\n      return add;\n    };\n    exports.setCssClass = function(node, className, include) {\n      if (include) {\n        exports.addCssClass(node, className);\n      } else {\n        exports.removeCssClass(node, className);\n      }\n    };\n\n    exports.hasCssString = function(id, doc) {\n      var index = 0,\n        sheets;\n      doc = doc || document;\n      if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n          if (sheets[index++].id === id) return true;\n      }\n    };\n\n    exports.importCssString = function importCssString(cssText, id, container) {\n      var root =\n        container && container.getRootNode ? container.getRootNode() : document;\n\n      var doc = root.ownerDocument || root;\n      if (id && exports.hasCssString(id, root)) return null;\n\n      if (id) cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n\n      var style = exports.createElement(\"style\");\n      style.appendChild(doc.createTextNode(cssText));\n      if (id) style.id = id;\n\n      if (root == doc) root = exports.getDocumentHead(doc);\n      root.insertBefore(style, root.firstChild);\n    };\n\n    exports.importCssStylsheet = function(uri, doc) {\n      exports.buildDom(\n        [\"link\", { rel: \"stylesheet\", href: uri }],\n        exports.getDocumentHead(doc)\n      );\n    };\n    exports.scrollbarWidth = function(document) {\n      var inner = exports.createElement(\"ace_inner\");\n      inner.style.width = \"100%\";\n      inner.style.minWidth = \"0px\";\n      inner.style.height = \"200px\";\n      inner.style.display = \"block\";\n\n      var outer = exports.createElement(\"ace_outer\");\n      var style = outer.style;\n\n      style.position = \"absolute\";\n      style.left = \"-10000px\";\n      style.overflow = \"hidden\";\n      style.width = \"200px\";\n      style.minWidth = \"0px\";\n      style.height = \"150px\";\n      style.display = \"block\";\n\n      outer.appendChild(inner);\n\n      var body = document.documentElement;\n      body.appendChild(outer);\n\n      var noScrollbar = inner.offsetWidth;\n\n      style.overflow = \"scroll\";\n      var withScrollbar = inner.offsetWidth;\n\n      if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n      }\n\n      body.removeChild(outer);\n\n      return noScrollbar - withScrollbar;\n    };\n\n    if (typeof document == \"undefined\") {\n      exports.importCssString = function() {};\n    }\n\n    exports.computedStyle = function(element, style) {\n      return window.getComputedStyle(element, \"\") || {};\n    };\n\n    exports.setStyle = function(styles, property, value) {\n      if (styles[property] !== value) {\n        styles[property] = value;\n      }\n    };\n\n    exports.HAS_CSS_ANIMATION = false;\n    exports.HAS_CSS_TRANSFORMS = false;\n    exports.HI_DPI = useragent.isWin\n      ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n      : true;\n\n    if (typeof document !== \"undefined\") {\n      var div = document.createElement(\"div\");\n      if (exports.HI_DPI && div.style.transform !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n      if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n      div = null;\n    }\n\n    if (exports.HAS_CSS_TRANSFORMS) {\n      exports.translate = function(element, tx, ty) {\n        element.style.transform =\n          \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n      };\n    } else {\n      exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n      };\n    }\n  }\n);\n\nace.define(\"ace/lib/oop\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  exports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n\n  exports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n      obj[key] = mixin[key];\n    }\n    return obj;\n  };\n\n  exports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n  };\n});\n\nace.define(\n  \"ace/lib/keys\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    require(\"./fixoldbrowsers\");\n\n    var oop = require(\"./oop\");\n    var Keys = (function() {\n      var ret = {\n        MODIFIER_KEYS: {\n          16: \"Shift\",\n          17: \"Ctrl\",\n          18: \"Alt\",\n          224: \"Meta\"\n        },\n\n        KEY_MODS: {\n          ctrl: 1,\n          alt: 2,\n          option: 2,\n          shift: 4,\n          super: 8,\n          meta: 8,\n          command: 8,\n          cmd: 8\n        },\n\n        FUNCTION_KEYS: {\n          8: \"Backspace\",\n          9: \"Tab\",\n          13: \"Return\",\n          19: \"Pause\",\n          27: \"Esc\",\n          32: \"Space\",\n          33: \"PageUp\",\n          34: \"PageDown\",\n          35: \"End\",\n          36: \"Home\",\n          37: \"Left\",\n          38: \"Up\",\n          39: \"Right\",\n          40: \"Down\",\n          44: \"Print\",\n          45: \"Insert\",\n          46: \"Delete\",\n          96: \"Numpad0\",\n          97: \"Numpad1\",\n          98: \"Numpad2\",\n          99: \"Numpad3\",\n          100: \"Numpad4\",\n          101: \"Numpad5\",\n          102: \"Numpad6\",\n          103: \"Numpad7\",\n          104: \"Numpad8\",\n          105: \"Numpad9\",\n          \"-13\": \"NumpadEnter\",\n          112: \"F1\",\n          113: \"F2\",\n          114: \"F3\",\n          115: \"F4\",\n          116: \"F5\",\n          117: \"F6\",\n          118: \"F7\",\n          119: \"F8\",\n          120: \"F9\",\n          121: \"F10\",\n          122: \"F11\",\n          123: \"F12\",\n          144: \"Numlock\",\n          145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n          32: \" \",\n          48: \"0\",\n          49: \"1\",\n          50: \"2\",\n          51: \"3\",\n          52: \"4\",\n          53: \"5\",\n          54: \"6\",\n          55: \"7\",\n          56: \"8\",\n          57: \"9\",\n          59: \";\",\n          61: \"=\",\n          65: \"a\",\n          66: \"b\",\n          67: \"c\",\n          68: \"d\",\n          69: \"e\",\n          70: \"f\",\n          71: \"g\",\n          72: \"h\",\n          73: \"i\",\n          74: \"j\",\n          75: \"k\",\n          76: \"l\",\n          77: \"m\",\n          78: \"n\",\n          79: \"o\",\n          80: \"p\",\n          81: \"q\",\n          82: \"r\",\n          83: \"s\",\n          84: \"t\",\n          85: \"u\",\n          86: \"v\",\n          87: \"w\",\n          88: \"x\",\n          89: \"y\",\n          90: \"z\",\n          107: \"+\",\n          109: \"-\",\n          110: \".\",\n          186: \";\",\n          187: \"=\",\n          188: \",\",\n          189: \"-\",\n          190: \".\",\n          191: \"/\",\n          192: \"`\",\n          219: \"[\",\n          220: \"\\\\\",\n          221: \"]\",\n          222: \"'\",\n          111: \"/\",\n          106: \"*\"\n        }\n      };\n      var name, i;\n      for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n      }\n      for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n      }\n      oop.mixin(ret, ret.MODIFIER_KEYS);\n      oop.mixin(ret, ret.PRINTABLE_KEYS);\n      oop.mixin(ret, ret.FUNCTION_KEYS);\n      ret.enter = ret[\"return\"];\n      ret.escape = ret.esc;\n      ret.del = ret[\"delete\"];\n      ret[173] = \"-\";\n\n      (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--; ) {\n          ret.KEY_MODS[i] =\n            mods\n              .filter(function(x) {\n                return i & ret.KEY_MODS[x];\n              })\n              .join(\"-\") + \"-\";\n        }\n      })();\n\n      ret.KEY_MODS[0] = \"\";\n      ret.KEY_MODS[-1] = \"input-\";\n\n      return ret;\n    })();\n    oop.mixin(exports, Keys);\n\n    exports.keyCodeToString = function(keyCode) {\n      var keyString = Keys[keyCode];\n      if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n      return keyString.toLowerCase();\n    };\n  }\n);\n\nace.define(\n  \"ace/lib/event\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var keys = require(\"./keys\");\n    var useragent = require(\"./useragent\");\n\n    var pressedKeys = null;\n    var ts = 0;\n\n    exports.addListener = function(elem, type, callback) {\n      if (elem.addEventListener) {\n        return elem.addEventListener(type, callback, false);\n      }\n      if (elem.attachEvent) {\n        var wrapper = function() {\n          callback.call(elem, window.event);\n        };\n        callback._wrapper = wrapper;\n        elem.attachEvent(\"on\" + type, wrapper);\n      }\n    };\n\n    exports.removeListener = function(elem, type, callback) {\n      if (elem.removeEventListener) {\n        return elem.removeEventListener(type, callback, false);\n      }\n      if (elem.detachEvent) {\n        elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n      }\n    };\n    exports.stopEvent = function(e) {\n      exports.stopPropagation(e);\n      exports.preventDefault(e);\n      return false;\n    };\n\n    exports.stopPropagation = function(e) {\n      if (e.stopPropagation) e.stopPropagation();\n      else e.cancelBubble = true;\n    };\n\n    exports.preventDefault = function(e) {\n      if (e.preventDefault) e.preventDefault();\n      else e.returnValue = false;\n    };\n    exports.getButton = function(e) {\n      if (e.type == \"dblclick\") return 0;\n      if (\n        e.type == \"contextmenu\" ||\n        (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey))\n      )\n        return 2;\n      if (e.preventDefault) {\n        return e.button;\n      } else {\n        return { 1: 0, 2: 2, 4: 1 }[e.button];\n      }\n    };\n\n    exports.capture = function(el, eventHandler, releaseCaptureHandler) {\n      function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        exports.removeListener(document, \"mousemove\", eventHandler, true);\n        exports.removeListener(document, \"mouseup\", onMouseUp, true);\n        exports.removeListener(document, \"dragstart\", onMouseUp, true);\n      }\n\n      exports.addListener(document, \"mousemove\", eventHandler, true);\n      exports.addListener(document, \"mouseup\", onMouseUp, true);\n      exports.addListener(document, \"dragstart\", onMouseUp, true);\n\n      return onMouseUp;\n    };\n\n    exports.addTouchMoveListener = function(el, callback) {\n      var startx, starty;\n      exports.addListener(el, \"touchstart\", function(e) {\n        var touches = e.touches;\n        var touchObj = touches[0];\n        startx = touchObj.clientX;\n        starty = touchObj.clientY;\n      });\n      exports.addListener(el, \"touchmove\", function(e) {\n        var touches = e.touches;\n        if (touches.length > 1) return;\n\n        var touchObj = touches[0];\n\n        e.wheelX = startx - touchObj.clientX;\n        e.wheelY = starty - touchObj.clientY;\n\n        startx = touchObj.clientX;\n        starty = touchObj.clientY;\n\n        callback(e);\n      });\n    };\n\n    exports.addMouseWheelListener = function(el, callback) {\n      if (\"onmousewheel\" in el) {\n        exports.addListener(el, \"mousewheel\", function(e) {\n          var factor = 8;\n          if (e.wheelDeltaX !== undefined) {\n            e.wheelX = -e.wheelDeltaX / factor;\n            e.wheelY = -e.wheelDeltaY / factor;\n          } else {\n            e.wheelX = 0;\n            e.wheelY = -e.wheelDelta / factor;\n          }\n          callback(e);\n        });\n      } else if (\"onwheel\" in el) {\n        exports.addListener(el, \"wheel\", function(e) {\n          var factor = 0.35;\n          switch (e.deltaMode) {\n            case e.DOM_DELTA_PIXEL:\n              e.wheelX = e.deltaX * factor || 0;\n              e.wheelY = e.deltaY * factor || 0;\n              break;\n            case e.DOM_DELTA_LINE:\n            case e.DOM_DELTA_PAGE:\n              e.wheelX = (e.deltaX || 0) * 5;\n              e.wheelY = (e.deltaY || 0) * 5;\n              break;\n          }\n\n          callback(e);\n        });\n      } else {\n        exports.addListener(el, \"DOMMouseScroll\", function(e) {\n          if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n            e.wheelX = (e.detail || 0) * 5;\n            e.wheelY = 0;\n          } else {\n            e.wheelX = 0;\n            e.wheelY = (e.detail || 0) * 5;\n          }\n          callback(e);\n        });\n      }\n    };\n\n    exports.addMultiMouseDownListener = function(\n      elements,\n      timeouts,\n      eventHandler,\n      callbackName\n    ) {\n      var clicks = 0;\n      var startX, startY, timer;\n      var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n      };\n\n      function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n          clicks = 0;\n        } else if (e.detail > 1) {\n          clicks++;\n          if (clicks > 4) clicks = 1;\n        } else {\n          clicks = 1;\n        }\n        if (useragent.isIE) {\n          var isNewClick =\n            Math.abs(e.clientX - startX) > 5 ||\n            Math.abs(e.clientY - startY) > 5;\n          if (!timer || isNewClick) clicks = 1;\n          if (timer) clearTimeout(timer);\n          timer = setTimeout(function() {\n            timer = null;\n          }, timeouts[clicks - 1] || 600);\n\n          if (clicks == 1) {\n            startX = e.clientX;\n            startY = e.clientY;\n          }\n        }\n\n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4) clicks = 0;\n        else if (clicks > 1)\n          return eventHandler[callbackName](eventNames[clicks], e);\n      }\n      function onDblclick(e) {\n        clicks = 2;\n        if (timer) clearTimeout(timer);\n        timer = setTimeout(function() {\n          timer = null;\n        }, timeouts[clicks - 1] || 600);\n        eventHandler[callbackName](\"mousedown\", e);\n        eventHandler[callbackName](eventNames[clicks], e);\n      }\n      if (!Array.isArray(elements)) elements = [elements];\n      elements.forEach(function(el) {\n        exports.addListener(el, \"mousedown\", onMousedown);\n        if (useragent.isOldIE) exports.addListener(el, \"dblclick\", onDblclick);\n      });\n    };\n\n    var getModifierHash =\n      useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window)\n        ? function(e) {\n            return (\n              0 |\n              (e.metaKey ? 1 : 0) |\n              (e.altKey ? 2 : 0) |\n              (e.shiftKey ? 4 : 0) |\n              (e.ctrlKey ? 8 : 0)\n            );\n          }\n        : function(e) {\n            return (\n              0 |\n              (e.ctrlKey ? 1 : 0) |\n              (e.altKey ? 2 : 0) |\n              (e.shiftKey ? 4 : 0) |\n              (e.metaKey ? 8 : 0)\n            );\n          };\n\n    exports.getModifierString = function(e) {\n      return keys.KEY_MODS[getModifierHash(e)];\n    };\n\n    function normalizeCommandKeys(callback, e, keyCode) {\n      var hashId = getModifierHash(e);\n\n      if (!useragent.isMac && pressedKeys) {\n        if (\n          e.getModifierState &&\n          (e.getModifierState(\"OS\") || e.getModifierState(\"Win\"))\n        )\n          hashId |= 8;\n        if (pressedKeys.altGr) {\n          if ((3 & hashId) != 3) pressedKeys.altGr = 0;\n          else return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n          var location = \"location\" in e ? e.location : e.keyLocation;\n          if (keyCode === 17 && location === 1) {\n            if (pressedKeys[keyCode] == 1) ts = e.timeStamp;\n          } else if (keyCode === 18 && hashId === 3 && location === 2) {\n            var dt = e.timeStamp - ts;\n            if (dt < 50) pressedKeys.altGr = true;\n          }\n        }\n      }\n\n      if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n      }\n      if (hashId & 8 && (keyCode >= 91 && keyCode <= 93)) {\n        keyCode = -1;\n      }\n\n      if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n          callback(e, hashId, -keyCode);\n          if (e.defaultPrevented) return;\n        }\n      }\n\n      if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented) return;\n        else hashId &= ~8;\n      }\n      if (\n        !hashId &&\n        !(keyCode in keys.FUNCTION_KEYS) &&\n        !(keyCode in keys.PRINTABLE_KEYS)\n      ) {\n        return false;\n      }\n\n      return callback(e, hashId, keyCode);\n    }\n\n    exports.addCommandKeyListener = function(el, callback) {\n      var addListener = exports.addListener;\n      if (\n        useragent.isOldGecko ||\n        (useragent.isOpera && !(\"KeyboardEvent\" in window))\n      ) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n          lastKeyDownKeyCode = e.keyCode;\n        });\n        addListener(el, \"keypress\", function(e) {\n          return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        });\n      } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n          pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n          var result = normalizeCommandKeys(callback, e, e.keyCode);\n          lastDefaultPrevented = e.defaultPrevented;\n          return result;\n        });\n\n        addListener(el, \"keypress\", function(e) {\n          if (\n            lastDefaultPrevented &&\n            (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)\n          ) {\n            exports.stopEvent(e);\n            lastDefaultPrevented = null;\n          }\n        });\n\n        addListener(el, \"keyup\", function(e) {\n          pressedKeys[e.keyCode] = null;\n        });\n\n        if (!pressedKeys) {\n          resetPressedKeys();\n          addListener(window, \"focus\", resetPressedKeys);\n        }\n      }\n    };\n    function resetPressedKeys() {\n      pressedKeys = Object.create(null);\n    }\n\n    if (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n      var postMessageId = 1;\n      exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + postMessageId++;\n\n        var listener = function(e) {\n          if (e.data == messageName) {\n            exports.stopPropagation(e);\n            exports.removeListener(win, \"message\", listener);\n            callback();\n          }\n        };\n\n        exports.addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n      };\n    }\n\n    exports.$idleBlocked = false;\n    exports.onIdle = function(cb, timeout) {\n      return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n          cb();\n        } else {\n          setTimeout(handler, 100);\n        }\n      }, timeout);\n    };\n\n    exports.$idleBlockId = null;\n    exports.blockIdle = function(delay) {\n      if (exports.$idleBlockId) clearTimeout(exports.$idleBlockId);\n\n      exports.$idleBlocked = true;\n      exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n      }, delay || 100);\n    };\n\n    exports.nextFrame =\n      typeof window == \"object\" &&\n      (window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        window.oRequestAnimationFrame);\n\n    if (exports.nextFrame) exports.nextFrame = exports.nextFrame.bind(window);\n    else\n      exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n      };\n  }\n);\n\nace.define(\"ace/range\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n  var comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n  var Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n      row: startRow,\n      column: startColumn\n    };\n\n    this.end = {\n      row: endRow,\n      column: endColumn\n    };\n  };\n\n  (function() {\n    this.isEqual = function(range) {\n      return (\n        this.start.row === range.start.row &&\n        this.end.row === range.end.row &&\n        this.start.column === range.start.column &&\n        this.end.column === range.end.column\n      );\n    };\n    this.toString = function() {\n      return (\n        \"Range: [\" +\n        this.start.row +\n        \"/\" +\n        this.start.column +\n        \"] -> [\" +\n        this.end.row +\n        \"/\" +\n        this.end.column +\n        \"]\"\n      );\n    };\n\n    this.contains = function(row, column) {\n      return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n      var cmp,\n        end = range.end,\n        start = range.start;\n\n      cmp = this.compare(end.row, end.column);\n      if (cmp == 1) {\n        cmp = this.compare(start.row, start.column);\n        if (cmp == 1) {\n          return 2;\n        } else if (cmp == 0) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else if (cmp == -1) {\n        return -2;\n      } else {\n        cmp = this.compare(start.row, start.column);\n        if (cmp == -1) {\n          return -1;\n        } else if (cmp == 1) {\n          return 42;\n        } else {\n          return 0;\n        }\n      }\n    };\n    this.comparePoint = function(p) {\n      return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n      return (\n        this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0\n      );\n    };\n    this.intersects = function(range) {\n      var cmp = this.compareRange(range);\n      return cmp == -1 || cmp == 0 || cmp == 1;\n    };\n    this.isEnd = function(row, column) {\n      return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n      return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n      if (typeof row == \"object\") {\n        this.start.column = row.column;\n        this.start.row = row.row;\n      } else {\n        this.start.row = row;\n        this.start.column = column;\n      }\n    };\n    this.setEnd = function(row, column) {\n      if (typeof row == \"object\") {\n        this.end.column = row.column;\n        this.end.row = row.row;\n      } else {\n        this.end.row = row;\n        this.end.column = column;\n      }\n    };\n    this.inside = function(row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column) || this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.insideStart = function(row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.insideEnd = function(row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.compare = function(row, column) {\n      if (!this.isMultiLine()) {\n        if (row === this.start.row) {\n          return column < this.start.column\n            ? -1\n            : column > this.end.column\n            ? 1\n            : 0;\n        }\n      }\n\n      if (row < this.start.row) return -1;\n\n      if (row > this.end.row) return 1;\n\n      if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n\n      if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n\n      return 0;\n    };\n    this.compareStart = function(row, column) {\n      if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    this.compareEnd = function(row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    this.compareInside = function(row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };\n      else if (this.end.row < firstRow) var end = { row: firstRow, column: 0 };\n\n      if (this.start.row > lastRow) var start = { row: lastRow + 1, column: 0 };\n      else if (this.start.row < firstRow)\n        var start = { row: firstRow, column: 0 };\n\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n      var cmp = this.compare(row, column);\n\n      if (cmp == 0) return this;\n      else if (cmp == -1) var start = { row: row, column: column };\n      else var end = { row: row, column: column };\n\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n      return (\n        this.start.row === this.end.row && this.start.column === this.end.column\n      );\n    };\n    this.isMultiLine = function() {\n      return this.start.row !== this.end.row;\n    };\n    this.clone = function() {\n      return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n      if (this.end.column == 0)\n        return new Range(\n          this.start.row,\n          0,\n          Math.max(this.start.row, this.end.row - 1),\n          0\n        );\n      else return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n      var screenPosStart = session.documentToScreenPosition(this.start);\n      var screenPosEnd = session.documentToScreenPosition(this.end);\n\n      return new Range(\n        screenPosStart.row,\n        screenPosStart.column,\n        screenPosEnd.row,\n        screenPosEnd.column\n      );\n    };\n    this.moveBy = function(row, column) {\n      this.start.row += row;\n      this.start.column += column;\n      this.end.row += row;\n      this.end.column += column;\n    };\n  }.call(Range.prototype));\n  Range.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n  };\n  Range.comparePoints = comparePoints;\n\n  Range.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  exports.Range = Range;\n});\n\nace.define(\"ace/lib/lang\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  exports.last = function(a) {\n    return a[a.length - 1];\n  };\n\n  exports.stringReverse = function(string) {\n    return string\n      .split(\"\")\n      .reverse()\n      .join(\"\");\n  };\n\n  exports.stringRepeat = function(string, count) {\n    var result = \"\";\n    while (count > 0) {\n      if (count & 1) result += string;\n\n      if ((count >>= 1)) string += string;\n    }\n    return result;\n  };\n\n  var trimBeginRegexp = /^\\s\\s*/;\n  var trimEndRegexp = /\\s\\s*$/;\n\n  exports.stringTrimLeft = function(string) {\n    return string.replace(trimBeginRegexp, \"\");\n  };\n\n  exports.stringTrimRight = function(string) {\n    return string.replace(trimEndRegexp, \"\");\n  };\n\n  exports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n      copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  exports.copyArray = function(array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] && typeof array[i] == \"object\")\n        copy[i] = this.copyObject(array[i]);\n      else copy[i] = array[i];\n    }\n    return copy;\n  };\n\n  exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj) return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; key < obj.length; key++) {\n        copy[key] = deepCopy(obj[key]);\n      }\n      return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  };\n\n  exports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n      map[arr[i]] = 1;\n    }\n    return map;\n  };\n\n  exports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n      map[i] = props[i];\n    }\n    return map;\n  };\n  exports.arrayRemove = function(array, value) {\n    for (var i = 0; i <= array.length; i++) {\n      if (value === array[i]) {\n        array.splice(i, 1);\n      }\n    }\n  };\n\n  exports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, \"\\\\$1\");\n  };\n\n  exports.escapeHTML = function(str) {\n    return (\"\" + str)\n      .replace(/&/g, \"&#38;\")\n      .replace(/\"/g, \"&#34;\")\n      .replace(/'/g, \"&#39;\")\n      .replace(/</g, \"&#60;\");\n  };\n\n  exports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      });\n    });\n\n    return matches;\n  };\n  exports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n      timer = null;\n      fcn();\n    };\n\n    var deferred = function(timeout) {\n      deferred.cancel();\n      timer = setTimeout(callback, timeout || 0);\n      return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n      this.cancel();\n      fcn();\n      return deferred;\n    };\n\n    deferred.cancel = function() {\n      clearTimeout(timer);\n      timer = null;\n      return deferred;\n    };\n\n    deferred.isPending = function() {\n      return timer;\n    };\n\n    return deferred;\n  };\n\n  exports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n      timer = null;\n      fcn();\n    };\n\n    var _self = function(timeout) {\n      if (timer == null)\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n      this.cancel();\n      fcn();\n    };\n\n    _self.cancel = function() {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n\n    _self.isPending = function() {\n      return timer;\n    };\n\n    return _self;\n  };\n});\n\nace.define(\n  \"ace/keyboard/textinput_ios\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/event\",\n    \"ace/lib/useragent\",\n    \"ace/lib/dom\",\n    \"ace/lib/lang\",\n    \"ace/lib/keys\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n    var dom = require(\"../lib/dom\");\n    var lang = require(\"../lib/lang\");\n    var KEYS = require(\"../lib/keys\");\n    var MODS = KEYS.KEY_MODS;\n    var BROKEN_SETDATA = useragent.isChrome < 18;\n    var USE_IE_MIME_TYPE = useragent.isIE;\n\n    var TextInput = function(parentNode, host) {\n      var self = this;\n      var text = dom.createElement(\"textarea\");\n      text.className = useragent.isIOS\n        ? \"ace_text-input ace_text-input-ios\"\n        : \"ace_text-input\";\n\n      if (useragent.isTouchPad)\n        text.setAttribute(\"x-palm-disable-auto-cap\", true);\n\n      text.setAttribute(\"wrap\", \"off\");\n      text.setAttribute(\"autocorrect\", \"off\");\n      text.setAttribute(\"autocapitalize\", \"off\");\n      text.setAttribute(\"spellcheck\", false);\n\n      text.style.opacity = \"0\";\n      parentNode.insertBefore(text, parentNode.firstChild);\n\n      var PLACEHOLDER = \"\\n aaaa a\\n\";\n\n      var copied = false;\n      var cut = false;\n      var pasted = false;\n      var inComposition = false;\n      var tempStyle = \"\";\n      var isSelectionEmpty = true;\n      try {\n        var isFocused = document.activeElement === text;\n      } catch (e) {}\n\n      event.addListener(text, \"blur\", function(e) {\n        host.onBlur(e);\n        isFocused = false;\n      });\n      event.addListener(text, \"focus\", function(e) {\n        isFocused = true;\n        host.onFocus(e);\n        resetSelection();\n      });\n      this.focus = function() {\n        if (tempStyle) return text.focus();\n        text.style.position = \"fixed\";\n        text.focus();\n      };\n      this.blur = function() {\n        text.blur();\n      };\n      this.isFocused = function() {\n        return isFocused;\n      };\n      var syncSelection = lang.delayedCall(function() {\n        isFocused && resetSelection(isSelectionEmpty);\n      });\n      var syncValue = lang.delayedCall(function() {\n        if (!inComposition) {\n          text.value = PLACEHOLDER;\n          isFocused && resetSelection();\n        }\n      });\n\n      function resetSelection(isEmpty) {\n        if (inComposition) return;\n        inComposition = true;\n\n        if (inputHandler) {\n          selectionStart = 0;\n          selectionEnd = isEmpty ? 0 : text.value.length - 1;\n        } else {\n          var selectionStart = 4;\n          var selectionEnd = 5;\n        }\n        try {\n          text.setSelectionRange(selectionStart, selectionEnd);\n        } catch (e) {}\n\n        inComposition = false;\n      }\n\n      function resetValue() {\n        if (inComposition) return;\n        text.value = PLACEHOLDER;\n        if (useragent.isWebKit) syncValue.schedule();\n      }\n\n      useragent.isWebKit ||\n        host.addEventListener(\"changeSelection\", function() {\n          if (host.selection.isEmpty() != isSelectionEmpty) {\n            isSelectionEmpty = !isSelectionEmpty;\n            syncSelection.schedule();\n          }\n        });\n\n      resetValue();\n      if (isFocused) host.onFocus();\n\n      var isAllSelected = function(text) {\n        return (\n          text.selectionStart === 0 && text.selectionEnd === text.value.length\n        );\n      };\n\n      var onSelect = function(e) {\n        if (isAllSelected(text)) {\n          host.selectAll();\n          resetSelection();\n        } else if (inputHandler) {\n          resetSelection(host.selection.isEmpty());\n        }\n      };\n\n      var inputHandler = null;\n      this.setInputHandler = function(cb) {\n        inputHandler = cb;\n      };\n      this.getInputHandler = function() {\n        return inputHandler;\n      };\n      var afterContextMenu = false;\n\n      var sendText = function(data) {\n        if (text.selectionStart === 4 && text.selectionEnd === 5) {\n          return;\n        }\n        if (inputHandler) {\n          data = inputHandler(data);\n          inputHandler = null;\n        }\n        if (pasted) {\n          resetSelection();\n          if (data) host.onPaste(data);\n          pasted = false;\n        } else if (data == PLACEHOLDER.substr(0) && text.selectionStart === 4) {\n          if (afterContextMenu) host.execCommand(\"del\", { source: \"ace\" });\n          // some versions of android do not fire keydown when pressing backspace\n          else host.execCommand(\"backspace\", { source: \"ace\" });\n        } else if (!copied) {\n          if (\n            data.substring(0, 9) == PLACEHOLDER &&\n            data.length > PLACEHOLDER.length\n          )\n            data = data.substr(9);\n          else if (data.substr(0, 4) == PLACEHOLDER.substr(0, 4))\n            data = data.substr(4, data.length - PLACEHOLDER.length + 1);\n          else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n            data = data.slice(0, -1);\n          if (data == PLACEHOLDER.charAt(0)) {\n          } else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n            data = data.slice(0, -1);\n\n          if (data) host.onTextInput(data);\n        }\n        if (copied) {\n          copied = false;\n        }\n        if (afterContextMenu) afterContextMenu = false;\n      };\n      var onInput = function(e) {\n        if (inComposition) return;\n        var data = text.value;\n        sendText(data);\n        resetValue();\n      };\n\n      var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA) return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n          if (data) {\n            return clipboardData.setData(mime, data) !== false;\n          } else {\n            return clipboardData.getData(mime);\n          }\n        } catch (e) {\n          if (!forceIEMime) return handleClipboardData(e, data, true);\n        }\n      };\n\n      var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data) return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n          if (useragent.isIOS) {\n            cut = isCut;\n            text.value = \"\\n aa\" + data + \"a a\\n\";\n            text.setSelectionRange(4, 4 + data.length);\n            copied = {\n              value: data\n            };\n          }\n          isCut ? host.onCut() : host.onCopy();\n          if (!useragent.isIOS) event.preventDefault(e);\n        } else {\n          copied = true;\n          text.value = data;\n          text.select();\n          setTimeout(function() {\n            copied = false;\n            resetValue();\n            resetSelection();\n            isCut ? host.onCut() : host.onCopy();\n          });\n        }\n      };\n\n      var onCut = function(e) {\n        doCopy(e, true);\n      };\n\n      var onCopy = function(e) {\n        doCopy(e, false);\n      };\n\n      var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (typeof data == \"string\") {\n          if (data) host.onPaste(data, e);\n          if (useragent.isIE) setTimeout(resetSelection);\n          event.preventDefault(e);\n        } else {\n          text.value = \"\";\n          pasted = true;\n        }\n      };\n\n      event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n      event.addListener(text, \"select\", onSelect);\n\n      event.addListener(text, \"input\", onInput);\n\n      event.addListener(text, \"cut\", onCut);\n      event.addListener(text, \"copy\", onCopy);\n      event.addListener(text, \"paste\", onPaste);\n      var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n        inComposition = {};\n        inComposition.canUndo = host.session.$undoManager;\n        host.onCompositionStart();\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", onCompositionEnd);\n        if (inComposition.canUndo && !host.selection.isEmpty()) {\n          host.insert(\"\");\n          host.session.markUndoGroup();\n          host.selection.clearSelection();\n        }\n        host.session.markUndoGroup();\n      };\n\n      var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n          return;\n        var val = text.value.replace(/\\x01/g, \"\");\n        if (inComposition.lastValue === val) return;\n\n        host.onCompositionUpdate(val);\n        if (inComposition.lastValue) host.undo();\n        if (inComposition.canUndo) inComposition.lastValue = val;\n        if (inComposition.lastValue) {\n          var r = host.selection.getRange();\n          host.insert(inComposition.lastValue);\n          host.session.markUndoGroup();\n          inComposition.range = host.selection.getRange();\n          host.selection.setRange(r);\n          host.selection.clearSelection();\n        }\n      };\n\n      var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        var c = inComposition;\n        inComposition = false;\n        var timer = setTimeout(function() {\n          timer = null;\n          var str = text.value.replace(/\\x01/g, \"\");\n          if (inComposition) return;\n          else if (str == c.lastValue) resetValue();\n          else if (!c.lastValue && str) {\n            resetValue();\n            sendText(str);\n          }\n        });\n        inputHandler = function compositionInputHandler(str) {\n          if (timer) clearTimeout(timer);\n          str = str.replace(/\\x01/g, \"\");\n          if (str == c.lastValue) return \"\";\n          if (c.lastValue && timer) host.undo();\n          return str;\n        };\n        host.onCompositionEnd();\n        host.removeListener(\"mousedown\", onCompositionEnd);\n        if (e.type == \"compositionend\" && c.range) {\n          host.selection.setRange(c.range);\n        }\n        var needsOnInput =\n          (!!useragent.isChrome && useragent.isChrome >= 53) ||\n          (!!useragent.isWebKit && useragent.isWebKit >= 603);\n\n        if (needsOnInput) {\n          onInput();\n        }\n      };\n\n      var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n      event.addListener(text, \"compositionstart\", onCompositionStart);\n      event.addListener(text, \"compositionupdate\", function() {\n        syncComposition.schedule();\n      });\n      event.addListener(text, \"keyup\", function() {\n        syncComposition.schedule();\n      });\n      event.addListener(text, \"keydown\", function() {\n        syncComposition.schedule();\n      });\n      event.addListener(text, \"compositionend\", onCompositionEnd);\n\n      this.getElement = function() {\n        return text;\n      };\n\n      this.setReadOnly = function(readOnly) {\n        text.readOnly = readOnly;\n      };\n\n      this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection(host.selection.isEmpty());\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n      };\n\n      this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle) tempStyle = text.style.cssText;\n        text.style.cssText =\n          (bringToFront ? \"z-index:100000;\" : \"\") +\n          \"height:\" +\n          text.style.height +\n          \";\" +\n          (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function(e) {\n          text.style.left = e.clientX - left - 2 + \"px\";\n          text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        };\n        move(e);\n\n        if (e.type != \"mousedown\") return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n          host.renderer.$keepTextAreaAtCursor = null;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n          event.capture(host.container, move, onContextMenuClose);\n      };\n\n      this.onContextMenuClose = onContextMenuClose;\n      var closeTimeout;\n      function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function() {\n          if (tempStyle) {\n            text.style.cssText = tempStyle;\n            tempStyle = \"\";\n          }\n          if (host.renderer.$keepTextAreaAtCursor == null) {\n            host.renderer.$keepTextAreaAtCursor = true;\n            host.renderer.$moveTextAreaToCursor();\n          }\n        }, 0);\n      }\n\n      var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n      };\n      event.addListener(text, \"mouseup\", onContextMenu);\n      event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n      });\n      event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n      event.addListener(text, \"contextmenu\", onContextMenu);\n\n      if (useragent.isIOS) {\n        var typingResetTimeout = null;\n        var typing = false;\n\n        parentNode.addEventListener(\"keydown\", function(e) {\n          if (typingResetTimeout) clearTimeout(typingResetTimeout);\n          typing = true;\n        });\n\n        parentNode.addEventListener(\"keyup\", function(e) {\n          typingResetTimeout = setTimeout(function() {\n            typing = false;\n          }, 100);\n        });\n        var detectArrowKeys = function(e) {\n          if (document.activeElement !== text) return;\n          if (typing) return;\n\n          if (cut) {\n            return setTimeout(function() {\n              cut = false;\n            }, 100);\n          }\n          var selectionStart = text.selectionStart;\n          var selectionEnd = text.selectionEnd;\n          text.setSelectionRange(4, 5);\n          if (selectionStart == selectionEnd) {\n            switch (selectionStart) {\n              case 0:\n                host.onCommandKey(null, 0, KEYS.up);\n                break;\n              case 1:\n                host.onCommandKey(null, 0, KEYS.home);\n                break;\n              case 2:\n                host.onCommandKey(null, MODS.option, KEYS.left);\n                break;\n              case 4:\n                host.onCommandKey(null, 0, KEYS.left);\n                break;\n              case 5:\n                host.onCommandKey(null, 0, KEYS.right);\n                break;\n              case 7:\n                host.onCommandKey(null, MODS.option, KEYS.right);\n                break;\n              case 8:\n                host.onCommandKey(null, 0, KEYS.end);\n                break;\n              case 9:\n                host.onCommandKey(null, 0, KEYS.down);\n                break;\n            }\n          } else {\n            switch (selectionEnd) {\n              case 6:\n                host.onCommandKey(null, MODS.shift, KEYS.right);\n                break;\n              case 7:\n                host.onCommandKey(null, MODS.shift | MODS.option, KEYS.right);\n                break;\n              case 8:\n                host.onCommandKey(null, MODS.shift, KEYS.end);\n                break;\n              case 9:\n                host.onCommandKey(null, MODS.shift, KEYS.down);\n                break;\n            }\n            switch (selectionStart) {\n              case 0:\n                host.onCommandKey(null, MODS.shift, KEYS.up);\n                break;\n              case 1:\n                host.onCommandKey(null, MODS.shift, KEYS.home);\n                break;\n              case 2:\n                host.onCommandKey(null, MODS.shift | MODS.option, KEYS.left);\n                break;\n              case 3:\n                host.onCommandKey(null, MODS.shift, KEYS.left);\n                break;\n            }\n          }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n          document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n      }\n    };\n\n    exports.TextInput = TextInput;\n  }\n);\n\nace.define(\n  \"ace/keyboard/textinput\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/event\",\n    \"ace/lib/useragent\",\n    \"ace/lib/dom\",\n    \"ace/lib/lang\",\n    \"ace/keyboard/textinput_ios\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n    var dom = require(\"../lib/dom\");\n    var lang = require(\"../lib/lang\");\n    var BROKEN_SETDATA = useragent.isChrome < 18;\n    var USE_IE_MIME_TYPE = useragent.isIE;\n    var HAS_FOCUS_ARGS = useragent.isChrome > 63;\n    var MAX_LINE_LENGTH = 400;\n\n    var TextInputIOS = require(\"./textinput_ios\").TextInput;\n    var TextInput = function(parentNode, host) {\n      if (useragent.isIOS) return TextInputIOS.call(this, parentNode, host);\n\n      var text = dom.createElement(\"textarea\");\n      text.className = \"ace_text-input\";\n\n      text.setAttribute(\"wrap\", \"off\");\n      text.setAttribute(\"autocorrect\", \"off\");\n      text.setAttribute(\"autocapitalize\", \"off\");\n      text.setAttribute(\"spellcheck\", false);\n\n      text.style.opacity = \"0\";\n      parentNode.insertBefore(text, parentNode.firstChild);\n\n      var copied = false;\n      var pasted = false;\n      var inComposition = false;\n      var sendingText = false;\n      var tempStyle = \"\";\n      var isSelectionEmpty = true;\n      var copyWithEmptySelection = false;\n\n      if (!useragent.isMobile) text.style.fontSize = \"1px\";\n\n      var commandMode = false;\n      var ignoreFocusEvents = false;\n\n      var lastValue = \"\";\n      var lastSelectionStart = 0;\n      var lastSelectionEnd = 0;\n      try {\n        var isFocused = document.activeElement === text;\n      } catch (e) {}\n\n      event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n      });\n      event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        host.onFocus(e);\n        resetSelection();\n      });\n      this.$focusScroll = false;\n      this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n          return text.focus({ preventScroll: true });\n        if (!document.documentElement.contains(text)) return;\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        var isTransformed = text.getBoundingClientRect().top != 0;\n        var ancestors = [];\n        if (isTransformed) {\n          var t = text.parentElement;\n          while (t && t.nodeType == 1) {\n            ancestors.push(t);\n            t.setAttribute(\"ace_nocontext\", true);\n            if (!t.parentElement && t.getRootNode) t = t.getRootNode().host;\n            else t = t.parentElement;\n          }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n          ancestors.forEach(function(p) {\n            p.removeAttribute(\"ace_nocontext\");\n          });\n        }\n        setTimeout(function() {\n          text.style.position = \"\";\n          if (text.style.top == \"0px\") text.style.top = top;\n        }, 0);\n      };\n      this.blur = function() {\n        text.blur();\n      };\n      this.isFocused = function() {\n        return isFocused;\n      };\n\n      host.on(\"beforeEndOperation\", function() {\n        if (host.curOp && host.curOp.command.name == \"insertstring\") return;\n        if (inComposition) {\n          lastValue = text.value = \"\";\n          onCompositionEnd();\n        }\n        resetSelection();\n      });\n\n      function resetSelection() {\n        if (inComposition || sendingText) return;\n        if (!isFocused && !afterContextMenu) return;\n        inComposition = true;\n\n        var selection = host.selection;\n        var range = selection.getRange();\n        var row = selection.cursor.row;\n        var selectionStart = range.start.column;\n        var selectionEnd = range.end.column;\n        var line = host.session.getLine(row);\n\n        if (range.start.row != row) {\n          var prevLine = host.session.getLine(row - 1);\n          selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n          selectionEnd += prevLine.length + 1;\n          line = prevLine + \"\\n\" + line;\n        } else if (range.end.row != row) {\n          var nextLine = host.session.getLine(row + 1);\n          selectionEnd =\n            range.end.row > row + 1 ? nextLine.length : selectionEnd;\n          selectionEnd += line.length + 1;\n          line = line + \"\\n\" + nextLine;\n        }\n\n        if (line.length > MAX_LINE_LENGTH) {\n          if (\n            selectionStart < MAX_LINE_LENGTH &&\n            selectionEnd < MAX_LINE_LENGTH\n          ) {\n            line = line.slice(0, MAX_LINE_LENGTH);\n          } else {\n            line = \"\\n\";\n            selectionStart = 0;\n            selectionEnd = 1;\n          }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n          text.value = lastValue = newValue;\n          lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n          lastSelectionStart = text.selectionStart;\n          lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n          lastSelectionEnd != selectionEnd ||\n          lastSelectionStart != selectionStart\n        ) {\n          try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n          } catch (e) {}\n        }\n        inComposition = false;\n      }\n\n      if (isFocused) host.onFocus();\n\n      var isAllSelected = function(text) {\n        return (\n          text.selectionStart === 0 &&\n          text.selectionEnd >= lastValue.length &&\n          text.value === lastValue &&\n          lastValue &&\n          text.selectionEnd !== lastSelectionEnd\n        );\n      };\n\n      var onSelect = function(e) {\n        if (inComposition) return;\n        if (copied) {\n          copied = false;\n        } else if (isAllSelected(text)) {\n          host.selectAll();\n          resetSelection();\n        }\n      };\n\n      var inputHandler = null;\n      this.setInputHandler = function(cb) {\n        inputHandler = cb;\n      };\n      this.getInputHandler = function() {\n        return inputHandler;\n      };\n      var afterContextMenu = false;\n\n      var sendText = function(value, fromInput) {\n        if (afterContextMenu) afterContextMenu = false;\n        if (pasted) {\n          resetSelection();\n          if (value) host.onPaste(value);\n          pasted = false;\n          return \"\";\n        } else {\n          var selectionStart = text.selectionStart;\n          var selectionEnd = text.selectionEnd;\n\n          var extendLeft = lastSelectionStart;\n          var extendRight = lastValue.length - lastSelectionEnd;\n\n          var inserted = value;\n          var restoreStart = value.length - selectionStart;\n          var restoreEnd = value.length - selectionEnd;\n\n          var i = 0;\n          while (extendLeft > 0 && lastValue[i] == value[i]) {\n            i++;\n            extendLeft--;\n          }\n          inserted = inserted.slice(i);\n          i = 1;\n          while (\n            extendRight > 0 &&\n            lastValue.length - i > lastSelectionStart - 1 &&\n            lastValue[lastValue.length - i] == value[value.length - i]\n          ) {\n            i++;\n            extendRight--;\n          }\n          restoreStart -= i - 1;\n          restoreEnd -= i - 1;\n          inserted = inserted.slice(0, inserted.length - i + 1);\n          if (\n            !fromInput &&\n            restoreStart == inserted.length &&\n            !extendLeft &&\n            !extendRight &&\n            !restoreEnd\n          )\n            return \"\";\n\n          sendingText = true;\n          if (\n            (inserted &&\n              !extendLeft &&\n              !extendRight &&\n              !restoreStart &&\n              !restoreEnd) ||\n            commandMode\n          ) {\n            host.onTextInput(inserted);\n          } else {\n            host.onTextInput(inserted, {\n              extendLeft: extendLeft,\n              extendRight: extendRight,\n              restoreStart: restoreStart,\n              restoreEnd: restoreEnd\n            });\n          }\n          sendingText = false;\n\n          lastValue = value;\n          lastSelectionStart = selectionStart;\n          lastSelectionEnd = selectionEnd;\n          return inserted;\n        }\n      };\n      var onInput = function(e) {\n        if (inComposition) return onCompositionUpdate();\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100 || /\\n/.test(inserted))\n          resetSelection();\n      };\n\n      var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA) return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n          if (data) {\n            return clipboardData.setData(mime, data) !== false;\n          } else {\n            return clipboardData.getData(mime);\n          }\n        } catch (e) {\n          if (!forceIEMime) return handleClipboardData(e, data, true);\n        }\n      };\n\n      var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data) return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n          isCut ? host.onCut() : host.onCopy();\n          event.preventDefault(e);\n        } else {\n          copied = true;\n          text.value = data;\n          text.select();\n          setTimeout(function() {\n            copied = false;\n            resetSelection();\n            isCut ? host.onCut() : host.onCopy();\n          });\n        }\n      };\n\n      var onCut = function(e) {\n        doCopy(e, true);\n      };\n\n      var onCopy = function(e) {\n        doCopy(e, false);\n      };\n\n      var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (typeof data == \"string\") {\n          if (data) host.onPaste(data, e);\n          if (useragent.isIE) setTimeout(resetSelection);\n          event.preventDefault(e);\n        } else {\n          text.value = \"\";\n          pasted = true;\n        }\n      };\n\n      event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n      event.addListener(text, \"select\", onSelect);\n      event.addListener(text, \"input\", onInput);\n\n      event.addListener(text, \"cut\", onCut);\n      event.addListener(text, \"copy\", onCopy);\n      event.addListener(text, \"paste\", onPaste);\n      if (!(\"oncut\" in text) || !(\"oncopy\" in text) || !(\"onpaste\" in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n          if ((useragent.isMac && !e.metaKey) || !e.ctrlKey) return;\n\n          switch (e.keyCode) {\n            case 67:\n              onCopy(e);\n              break;\n            case 86:\n              onPaste(e);\n              break;\n            case 88:\n              onCut(e);\n              break;\n          }\n        });\n      }\n      var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n\n        inComposition = {};\n\n        if (commandMode) return;\n\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", cancelComposition);\n\n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n\n        if (inComposition.useTextareaForIME) {\n          text.value = \"\";\n          lastValue = \"\";\n          lastSelectionStart = 0;\n          lastSelectionEnd = 0;\n        } else {\n          if (text.msGetInputContext)\n            inComposition.context = text.msGetInputContext();\n          if (text.getInputContext)\n            inComposition.context = text.getInputContext();\n        }\n      };\n\n      var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n          return;\n        if (commandMode) return cancelComposition();\n\n        if (inComposition.useTextareaForIME) {\n          host.onCompositionUpdate(text.value);\n        } else {\n          var data = text.value;\n          sendText(data);\n          if (inComposition.markerRange) {\n            if (inComposition.context) {\n              inComposition.markerRange.start.column = inComposition.selectionStart =\n                inComposition.context.compositionStartOffset;\n            }\n            inComposition.markerRange.end.column =\n              inComposition.markerRange.start.column +\n              lastSelectionEnd -\n              inComposition.selectionStart;\n          }\n        }\n      };\n\n      var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n      };\n\n      function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n      }\n\n      var syncComposition = lang\n        .delayedCall(onCompositionUpdate, 50)\n        .schedule.bind(null, null);\n\n      function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n          if (!inComposition) lastValue = text.value;\n          lastSelectionStart = lastSelectionEnd = -1;\n          resetSelection();\n        }\n        syncComposition();\n      }\n\n      event.addListener(text, \"compositionstart\", onCompositionStart);\n      event.addListener(text, \"compositionupdate\", onCompositionUpdate);\n      event.addListener(text, \"keyup\", onKeyup);\n      event.addListener(text, \"keydown\", syncComposition);\n      event.addListener(text, \"compositionend\", onCompositionEnd);\n\n      this.getElement = function() {\n        return text;\n      };\n      this.setCommandMode = function(value) {\n        commandMode = value;\n        text.readOnly = false;\n      };\n\n      this.setReadOnly = function(readOnly) {\n        if (!commandMode) text.readOnly = readOnly;\n      };\n\n      this.setCopyWithEmptySelection = function(value) {\n        copyWithEmptySelection = value;\n      };\n\n      this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n      };\n\n      this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle) tempStyle = text.style.cssText;\n        text.style.cssText =\n          (bringToFront ? \"z-index:100000;\" : \"\") +\n          (useragent.isIE ? \"opacity:0.1;\" : \"\") +\n          \"text-indent: -\" +\n          (lastSelectionStart + lastSelectionEnd) *\n            host.renderer.characterWidth *\n            0.5 +\n          \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function(e) {\n          text.style.left = e.clientX - left - 2 + \"px\";\n          text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        };\n        move(e);\n\n        if (e.type != \"mousedown\") return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n          host.renderer.$keepTextAreaAtCursor = null;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n          event.capture(host.container, move, onContextMenuClose);\n      };\n\n      this.onContextMenuClose = onContextMenuClose;\n      var closeTimeout;\n      function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function() {\n          if (tempStyle) {\n            text.style.cssText = tempStyle;\n            tempStyle = \"\";\n          }\n          if (host.renderer.$keepTextAreaAtCursor == null) {\n            host.renderer.$keepTextAreaAtCursor = true;\n            host.renderer.$moveTextAreaToCursor();\n          }\n        }, 0);\n      }\n\n      var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n      };\n      event.addListener(text, \"mouseup\", onContextMenu);\n      event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n      });\n      event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n      event.addListener(text, \"contextmenu\", onContextMenu);\n    };\n\n    exports.TextInput = TextInput;\n  }\n);\n\nace.define(\n  \"ace/mouse/default_handlers\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/useragent\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var useragent = require(\"../lib/useragent\");\n\n    var DRAG_OFFSET = 0; // pixels\n    var SCROLL_COOLDOWN_T = 250; // milliseconds\n\n    function DefaultHandlers(mouseHandler) {\n      mouseHandler.$clickSelection = null;\n\n      var editor = mouseHandler.editor;\n      editor.setDefaultHandler(\n        \"mousedown\",\n        this.onMouseDown.bind(mouseHandler)\n      );\n      editor.setDefaultHandler(\n        \"dblclick\",\n        this.onDoubleClick.bind(mouseHandler)\n      );\n      editor.setDefaultHandler(\n        \"tripleclick\",\n        this.onTripleClick.bind(mouseHandler)\n      );\n      editor.setDefaultHandler(\n        \"quadclick\",\n        this.onQuadClick.bind(mouseHandler)\n      );\n      editor.setDefaultHandler(\n        \"mousewheel\",\n        this.onMouseWheel.bind(mouseHandler)\n      );\n      editor.setDefaultHandler(\n        \"touchmove\",\n        this.onTouchMove.bind(mouseHandler)\n      );\n\n      var exports = [\n        \"select\",\n        \"startSelect\",\n        \"selectEnd\",\n        \"selectAllEnd\",\n        \"selectByWordsEnd\",\n        \"selectByLinesEnd\",\n        \"dragWait\",\n        \"dragWaitEnd\",\n        \"focusWait\"\n      ];\n\n      exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n      }, this);\n\n      mouseHandler.selectByLines = this.extendSelectionBy.bind(\n        mouseHandler,\n        \"getLineRange\"\n      );\n      mouseHandler.selectByWords = this.extendSelectionBy.bind(\n        mouseHandler,\n        \"getWordRange\"\n      );\n    }\n\n    (function() {\n      this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n          var selectionRange = editor.getSelectionRange();\n          var selectionEmpty = selectionRange.isEmpty();\n          if (selectionEmpty || button == 1)\n            editor.selection.moveToPosition(pos);\n          if (button == 2) {\n            editor.textInput.onContextMenu(ev.domEvent);\n            if (!useragent.isMozilla) ev.preventDefault();\n          }\n          return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n          editor.focus();\n          if (\n            this.$focusTimeout &&\n            !this.$clickSelection &&\n            !editor.inMultiSelectMode\n          ) {\n            this.setState(\"focusWait\");\n            this.captureMouse(ev);\n            return;\n          }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n      };\n\n      this.startSelect = function(pos, waitForClickSelection) {\n        pos =\n          pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n          editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection) editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection) this.select();\n        if (editor.renderer.scroller.setCapture) {\n          editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n      };\n\n      this.select = function() {\n        var anchor,\n          editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n          var cmp = this.$clickSelection.comparePoint(cursor);\n\n          if (cmp == -1) {\n            anchor = this.$clickSelection.end;\n          } else if (cmp == 1) {\n            anchor = this.$clickSelection.start;\n          } else {\n            var orientedRange = calcRangeOrientation(\n              this.$clickSelection,\n              cursor\n            );\n            cursor = orientedRange.cursor;\n            anchor = orientedRange.anchor;\n          }\n          editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n      };\n\n      this.extendSelectionBy = function(unitName) {\n        var anchor,\n          editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n          var cmpStart = this.$clickSelection.comparePoint(range.start);\n          var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n          if (cmpStart == -1 && cmpEnd <= 0) {\n            anchor = this.$clickSelection.end;\n            if (\n              range.end.row != cursor.row ||\n              range.end.column != cursor.column\n            )\n              cursor = range.start;\n          } else if (cmpEnd == 1 && cmpStart >= 0) {\n            anchor = this.$clickSelection.start;\n            if (\n              range.start.row != cursor.row ||\n              range.start.column != cursor.column\n            )\n              cursor = range.end;\n          } else if (cmpStart == -1 && cmpEnd == 1) {\n            cursor = range.end;\n            anchor = range.start;\n          } else {\n            var orientedRange = calcRangeOrientation(\n              this.$clickSelection,\n              cursor\n            );\n            cursor = orientedRange.cursor;\n            anchor = orientedRange.anchor;\n          }\n          editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n      };\n\n      this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n          this.editor.renderer.scroller.releaseCapture();\n        }\n      };\n\n      this.focusWait = function() {\n        var distance = calcDistance(\n          this.mousedownEvent.x,\n          this.mousedownEvent.y,\n          this.x,\n          this.y\n        );\n        var time = Date.now();\n\n        if (\n          distance > DRAG_OFFSET ||\n          time - this.mousedownEvent.time > this.$focusTimeout\n        )\n          this.startSelect(this.mousedownEvent.getDocumentPosition());\n      };\n\n      this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n          if (range.isEmpty()) {\n            range.start.column--;\n            range.end.column++;\n          }\n          this.setState(\"select\");\n        } else {\n          range = editor.selection.getWordRange(pos.row, pos.column);\n          this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n      };\n\n      this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n          this.$clickSelection = editor.selection.getLineRange(range.start.row);\n          this.$clickSelection.end = editor.selection.getLineRange(\n            range.end.row\n          ).end;\n        } else {\n          this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n      };\n\n      this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n      };\n\n      this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey()) return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n          ev.wheelX = ev.wheelY;\n          ev.wheelY = 0;\n        }\n\n        var editor = this.editor;\n\n        if (!this.$lastScroll)\n          this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n          vx = (vx + prevScroll.vx) / 2;\n          vy = (vy + prevScroll.vy) / 2;\n        }\n\n        var direction = Math.abs(vx / vy);\n\n        var canScroll = false;\n        if (\n          direction >= 1 &&\n          editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0)\n        )\n          canScroll = true;\n        if (\n          direction <= 1 &&\n          editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed)\n        )\n          canScroll = true;\n\n        if (canScroll) {\n          prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n          var isSlower =\n            Math.abs(vx) <= 1.1 * Math.abs(prevScroll.vx) &&\n            Math.abs(vy) <= 1.1 * Math.abs(prevScroll.vy);\n          if (isSlower) {\n            canScroll = true;\n            prevScroll.allowed = t;\n          } else {\n            prevScroll.allowed = 0;\n          }\n        }\n\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n          editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n          return ev.stop();\n        }\n      };\n\n      this.onTouchMove = function(ev) {\n        this.editor._emit(\"mousewheel\", ev);\n      };\n    }.call(DefaultHandlers.prototype));\n\n    exports.DefaultHandlers = DefaultHandlers;\n\n    function calcDistance(ax, ay, bx, by) {\n      return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n    }\n\n    function calcRangeOrientation(range, cursor) {\n      if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n      else if (\n        range.start.row == range.end.row - 1 &&\n        !range.start.column &&\n        !range.end.column\n      )\n        var cmp = cursor.column - 4;\n      else var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n      if (cmp < 0) return { cursor: range.start, anchor: range.end };\n      else return { cursor: range.end, anchor: range.start };\n    }\n  }\n);\n\nace.define(\n  \"ace/tooltip\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var dom = require(\"./lib/dom\");\n    function Tooltip(parentNode) {\n      this.isOpen = false;\n      this.$element = null;\n      this.$parentNode = parentNode;\n    }\n\n    (function() {\n      this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n      };\n      this.getElement = function() {\n        return this.$element || this.$init();\n      };\n      this.setText = function(text) {\n        this.getElement().textContent = text;\n      };\n      this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n      };\n      this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n      };\n      this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n      };\n      this.show = function(text, x, y) {\n        if (text != null) this.setText(text);\n        if (x != null && y != null) this.setPosition(x, y);\n        if (!this.isOpen) {\n          this.getElement().style.display = \"block\";\n          this.isOpen = true;\n        }\n      };\n\n      this.hide = function() {\n        if (this.isOpen) {\n          this.getElement().style.display = \"none\";\n          this.isOpen = false;\n        }\n      };\n      this.getHeight = function() {\n        return this.getElement().offsetHeight;\n      };\n      this.getWidth = function() {\n        return this.getElement().offsetWidth;\n      };\n\n      this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n          this.$element.parentNode.removeChild(this.$element);\n        }\n      };\n    }.call(Tooltip.prototype));\n\n    exports.Tooltip = Tooltip;\n  }\n);\n\nace.define(\n  \"ace/mouse/default_gutter_handler\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/dom\",\n    \"ace/lib/oop\",\n    \"ace/lib/event\",\n    \"ace/tooltip\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n    var dom = require(\"../lib/dom\");\n    var oop = require(\"../lib/oop\");\n    var event = require(\"../lib/event\");\n    var Tooltip = require(\"../tooltip\").Tooltip;\n\n    function GutterHandler(mouseHandler) {\n      var editor = mouseHandler.editor;\n      var gutter = editor.renderer.$gutterLayer;\n      var tooltip = new GutterTooltip(editor.container);\n\n      mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0) return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey()) selection.selectTo(row, 0);\n        else {\n          if (e.domEvent.detail == 2) {\n            editor.selectAll();\n            return e.preventDefault();\n          }\n          mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n      });\n\n      var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n      function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation) return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n          var screenRow = editor.renderer.pixelToScreenCoordinates(\n            0,\n            mouseEvent.y\n          ).row;\n          var pos = mouseEvent.$pos;\n          if (\n            screenRow > editor.session.documentToScreenRow(pos.row, pos.column)\n          )\n            return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation) return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n          moveTooltip(mouseEvent);\n        } else {\n          var gutterElement = mouseEvent.domEvent.target;\n          var rect = gutterElement.getBoundingClientRect();\n          var style = tooltip.getElement().style;\n          style.left = rect.right + \"px\";\n          style.top = rect.bottom + \"px\";\n        }\n      }\n\n      function hideTooltip() {\n        if (tooltipTimeout) tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n          tooltip.hide();\n          tooltipAnnotation = null;\n          editor._signal(\"hideGutterTooltip\", tooltip);\n          editor.removeEventListener(\"mousewheel\", hideTooltip);\n        }\n      }\n\n      function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n      }\n\n      mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\")) return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n          moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout) return;\n        tooltipTimeout = setTimeout(function() {\n          tooltipTimeout = null;\n          if (mouseEvent && !mouseHandler.isMousePressed) showTooltip();\n          else hideTooltip();\n        }, 50);\n      });\n\n      event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout) return;\n\n        tooltipTimeout = setTimeout(function() {\n          tooltipTimeout = null;\n          hideTooltip();\n        }, 50);\n      });\n\n      editor.on(\"changeSession\", hideTooltip);\n    }\n\n    function GutterTooltip(parentNode) {\n      Tooltip.call(this, parentNode);\n    }\n\n    oop.inherits(GutterTooltip, Tooltip);\n\n    (function() {\n      this.setPosition = function(x, y) {\n        var windowWidth =\n          window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight =\n          window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n          x -= x + width - windowWidth;\n        }\n        if (y + height > windowHeight) {\n          y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n      };\n    }.call(GutterTooltip.prototype));\n\n    exports.GutterHandler = GutterHandler;\n  }\n);\n\nace.define(\n  \"ace/mouse/mouse_event\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n    var MouseEvent = (exports.MouseEvent = function(domEvent, editor) {\n      this.domEvent = domEvent;\n      this.editor = editor;\n\n      this.x = this.clientX = domEvent.clientX;\n      this.y = this.clientY = domEvent.clientY;\n\n      this.$pos = null;\n      this.$inSelection = null;\n\n      this.propagationStopped = false;\n      this.defaultPrevented = false;\n    });\n\n    (function() {\n      this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n      };\n\n      this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n      };\n\n      this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n      };\n      this.getDocumentPosition = function() {\n        if (this.$pos) return this.$pos;\n\n        this.$pos = this.editor.renderer.screenToTextCoordinates(\n          this.clientX,\n          this.clientY\n        );\n        return this.$pos;\n      };\n      this.inSelection = function() {\n        if (this.$inSelection !== null) return this.$inSelection;\n\n        var editor = this.editor;\n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty()) this.$inSelection = false;\n        else {\n          var pos = this.getDocumentPosition();\n          this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n      };\n      this.getButton = function() {\n        return event.getButton(this.domEvent);\n      };\n      this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n      };\n\n      this.getAccelKey = useragent.isMac\n        ? function() {\n            return this.domEvent.metaKey;\n          }\n        : function() {\n            return this.domEvent.ctrlKey;\n          };\n    }.call(MouseEvent.prototype));\n  }\n);\n\nace.define(\n  \"ace/mouse/dragdrop_handler\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/dom\",\n    \"ace/lib/event\",\n    \"ace/lib/useragent\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var dom = require(\"../lib/dom\");\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n\n    var AUTOSCROLL_DELAY = 200;\n    var SCROLL_CURSOR_DELAY = 200;\n    var SCROLL_CURSOR_HYSTERESIS = 5;\n\n    function DragdropHandler(mouseHandler) {\n      var editor = mouseHandler.editor;\n\n      var blankImage = dom.createElement(\"img\");\n      blankImage.src =\n        \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (useragent.isOpera)\n        blankImage.style.cssText =\n          \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n      var exports = [\n        \"dragWait\",\n        \"dragWaitEnd\",\n        \"startDrag\",\n        \"dragReadyEnd\",\n        \"onMouseDrag\"\n      ];\n\n      exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n      }, this);\n      editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n      var mouseTarget = editor.container;\n      var dragSelectionMarker, x, y;\n      var timerId, range;\n      var dragCursor,\n        counter = 0;\n      var dragOperation;\n      var isInternal;\n      var autoScrollStartTime;\n      var cursorMovedTime;\n      var cursorPointOnCaretMoved;\n\n      this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n          var self = this;\n          setTimeout(function() {\n            self.startSelect();\n            self.captureMouse(e);\n          }, 0);\n          return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n          editor.container.appendChild(blankImage);\n          blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage &&\n          dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n          editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n      };\n\n      this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n          var dropEffect = e.dataTransfer.dropEffect;\n          if (!dragOperation && dropEffect == \"move\")\n            editor.session.remove(editor.getSelectionRange());\n          editor.renderer.$cursorLayer.setBlinking(true);\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n      };\n\n      this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n      };\n\n      this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n          addDragMarker();\n          counter++;\n        }\n        if (onMouseMoveTimer !== null) onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n      };\n\n      this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n          clearDragMarker();\n          dragOperation = null;\n          return event.preventDefault(e);\n        }\n      };\n\n      this.onDrop = function(e) {\n        if (!dragCursor) return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n          switch (dragOperation) {\n            case \"move\":\n              if (range.contains(dragCursor.row, dragCursor.column)) {\n                range = {\n                  start: dragCursor,\n                  end: dragCursor\n                };\n              } else {\n                range = editor.moveText(range, dragCursor);\n              }\n              break;\n            case \"copy\":\n              range = editor.moveText(range, dragCursor, true);\n              break;\n          }\n        } else {\n          var dropData = dataTransfer.getData(\"Text\");\n          range = {\n            start: dragCursor,\n            end: editor.session.insert(dragCursor, dropData)\n          };\n          editor.focus();\n          dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n      };\n\n      event.addListener(\n        mouseTarget,\n        \"dragstart\",\n        this.onDragStart.bind(mouseHandler)\n      );\n      event.addListener(\n        mouseTarget,\n        \"dragend\",\n        this.onDragEnd.bind(mouseHandler)\n      );\n      event.addListener(\n        mouseTarget,\n        \"dragenter\",\n        this.onDragEnter.bind(mouseHandler)\n      );\n      event.addListener(\n        mouseTarget,\n        \"dragover\",\n        this.onDragOver.bind(mouseHandler)\n      );\n      event.addListener(\n        mouseTarget,\n        \"dragleave\",\n        this.onDragLeave.bind(mouseHandler)\n      );\n      event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n      function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n          editor.moveCursorToPosition(cursor);\n          cursorMovedTime = now;\n          cursorPointOnCaretMoved = { x: x, y: y };\n        } else {\n          var distance = calcDistance(\n            cursorPointOnCaretMoved.x,\n            cursorPointOnCaretMoved.y,\n            x,\n            y\n          );\n          if (distance > SCROLL_CURSOR_HYSTERESIS) {\n            cursorMovedTime = null;\n          } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n            editor.renderer.scrollCursorIntoView();\n            cursorMovedTime = null;\n          }\n        }\n      }\n\n      function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n          x: {\n            left: x - editorRect.left,\n            right: editorRect.right - x\n          },\n          y: {\n            top: y - editorRect.top,\n            bottom: editorRect.bottom - y\n          }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = { row: cursor.row, column: cursor.column };\n        if (nearestXOffset / characterWidth <= 2) {\n          scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : +2;\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n          scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : +1;\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n          if (!autoScrollStartTime) autoScrollStartTime = now;\n          else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n            editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n          autoScrollStartTime = null;\n        }\n      }\n\n      function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n      }\n\n      function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(\n          range,\n          \"ace_selection\",\n          editor.getSelectionStyle()\n        );\n        editor.clearSelection();\n        if (editor.isFocused()) editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n      }\n\n      function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n          editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n      }\n      var onMouseMoveTimer = null;\n      function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n          onMouseMoveTimer = setTimeout(function() {\n            if (onMouseMoveTimer != null && dragSelectionMarker)\n              clearDragMarker();\n          }, 20);\n        }\n      }\n\n      function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return (\n          !types ||\n          Array.prototype.some.call(types, function(type) {\n            return type == \"text/plain\" || type == \"Text\";\n          })\n        );\n      }\n\n      function getDropEffect(e) {\n        var copyAllowed = [\"copy\", \"copymove\", \"all\", \"uninitialized\"];\n        var moveAllowed = [\n          \"move\",\n          \"copymove\",\n          \"linkmove\",\n          \"all\",\n          \"uninitialized\"\n        ];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n          effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n          dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";\n\n        return dropEffect;\n      }\n    }\n\n    (function() {\n      this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay()) this.startDrag();\n      };\n\n      this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n      };\n\n      this.dragReadyEnd = function(e) {\n        this.editor.renderer.$cursorLayer.setBlinking(\n          !this.editor.getReadOnly()\n        );\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n      };\n\n      this.startDrag = function() {\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n      };\n\n      this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n          var distance = calcDistance(\n            this.mousedownEvent.x,\n            this.mousedownEvent.y,\n            this.x,\n            this.y\n          );\n          if (distance > 3) target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n          var distance = calcDistance(\n            this.mousedownEvent.x,\n            this.mousedownEvent.y,\n            this.x,\n            this.y\n          );\n          if (distance > 0) {\n            target.draggable = false;\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n          }\n        }\n      };\n\n      this.onMouseDown = function(e) {\n        if (!this.$dragEnabled) return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n          if (\n            e.editor.inMultiSelectMode &&\n            (e.getAccelKey() || e.getShiftKey())\n          )\n            return;\n          this.mousedownEvent.time = Date.now();\n          var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n          if (\"unselectable\" in eventTarget) eventTarget.unselectable = \"on\";\n          if (editor.getDragDelay()) {\n            if (useragent.isWebKit) {\n              this.cancelDrag = true;\n              var mouseTarget = editor.container;\n              mouseTarget.draggable = true;\n            }\n            this.setState(\"dragWait\");\n          } else {\n            this.startDrag();\n          }\n          this.captureMouse(e, this.onMouseDrag.bind(this));\n          e.defaultPrevented = true;\n        }\n      };\n    }.call(DragdropHandler.prototype));\n\n    function calcDistance(ax, ay, bx, by) {\n      return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n    }\n\n    exports.DragdropHandler = DragdropHandler;\n  }\n);\n\nace.define(\n  \"ace/lib/net\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n    var dom = require(\"./dom\");\n\n    exports.get = function(url, callback) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", url, true);\n      xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4) {\n          callback(xhr.responseText);\n        }\n      };\n      xhr.send(null);\n    };\n\n    exports.loadScript = function(path, callback) {\n      var head = dom.getDocumentHead();\n      var s = document.createElement(\"script\");\n\n      s.src = path;\n      head.appendChild(s);\n\n      s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (\n          isAbort ||\n          !s.readyState ||\n          s.readyState == \"loaded\" ||\n          s.readyState == \"complete\"\n        ) {\n          s = s.onload = s.onreadystatechange = null;\n          if (!isAbort) callback();\n        }\n      };\n    };\n    exports.qualifyURL = function(url) {\n      var a = document.createElement(\"a\");\n      a.href = url;\n      return a.href;\n    };\n  }\n);\n\nace.define(\"ace/lib/event_emitter\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  var EventEmitter = {};\n  var stopPropagation = function() {\n    this.propagationStopped = true;\n  };\n  var preventDefault = function() {\n    this.defaultPrevented = true;\n  };\n\n  EventEmitter._emit = EventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler) return;\n\n    if (typeof e != \"object\" || !e) e = {};\n\n    if (!e.type) e.type = eventName;\n    if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n    if (!e.preventDefault) e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n      if (e.propagationStopped) break;\n    }\n\n    if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n  };\n\n  EventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners) return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++) listeners[i](e, this);\n  };\n\n  EventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback &&\n      this.addEventListener(eventName, function newCallback() {\n        _self.removeEventListener(eventName, newCallback);\n        callback.apply(null, arguments);\n      });\n  };\n\n  EventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) handlers = this._defaultHandlers = { _disabled_: {} };\n\n    if (handlers[eventName]) {\n      var old = handlers[eventName];\n      var disabled = handlers._disabled_[eventName];\n      if (!disabled) handlers._disabled_[eventName] = disabled = [];\n      disabled.push(old);\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n  };\n  EventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) return;\n    var disabled = handlers._disabled_[eventName];\n\n    if (handlers[eventName] == callback) {\n      if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n  };\n\n  EventEmitter.on = EventEmitter.addEventListener = function(\n    eventName,\n    callback,\n    capturing\n  ) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n      listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n  };\n\n  EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function(\n    eventName,\n    callback\n  ) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1) listeners.splice(index, 1);\n  };\n\n  EventEmitter.removeAllListeners = function(eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n  };\n\n  exports.EventEmitter = EventEmitter;\n});\n\nace.define(\n  \"ace/lib/app_config\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"],\n  function(require, exports, module) {\n    \"no use strict\";\n\n    var oop = require(\"./oop\");\n    var EventEmitter = require(\"./event_emitter\").EventEmitter;\n\n    var optionsProvider = {\n      setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n          this.setOption(key, optList[key]);\n        }, this);\n      },\n      getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n          var options = this.$options;\n          optionNames = Object.keys(options).filter(function(key) {\n            return !options[key].hidden;\n          });\n        } else if (!Array.isArray(optionNames)) {\n          result = optionNames;\n          optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n          result[key] = this.getOption(key);\n        }, this);\n        return result;\n      },\n      setOption: function(name, value) {\n        if (this[\"$\" + name] === value) return;\n        var opt = this.$options[name];\n        if (!opt) {\n          return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n          return (\n            this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value)\n          );\n\n        if (!opt.handlesSet) this[\"$\" + name] = value;\n        if (opt && opt.set) opt.set.call(this, value);\n      },\n      getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n          return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n          return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n      }\n    };\n\n    function warn(message) {\n      if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n    }\n\n    function reportError(msg, data) {\n      var e = new Error(msg);\n      e.data = data;\n      if (typeof console == \"object\" && console.error) console.error(e);\n      setTimeout(function() {\n        throw e;\n      });\n    }\n\n    var AppConfig = function() {\n      this.$defaultOptions = {};\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.defineOptions = function(obj, path, options) {\n        if (!obj.$options) this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n          var opt = options[key];\n          if (typeof opt == \"string\") opt = { forwardTo: opt };\n\n          opt.name || (opt.name = key);\n          obj.$options[opt.name] = opt;\n          if (\"initialValue\" in opt) obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n      };\n\n      this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n          var opt = obj.$options[key];\n          if (\"value\" in opt) obj.setOption(key, opt.value);\n        });\n      };\n\n      this.setDefaultValue = function(path, name, value) {\n        var opts =\n          this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n          if (opts.forwardTo) this.setDefaultValue(opts.forwardTo, name, value);\n          else opts[name].value = value;\n        }\n      };\n\n      this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n          this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n      };\n\n      this.warn = warn;\n      this.reportError = reportError;\n    }.call(AppConfig.prototype));\n\n    exports.AppConfig = AppConfig;\n  }\n);\n\nace.define(\n  \"ace/config\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/lang\",\n    \"ace/lib/oop\",\n    \"ace/lib/net\",\n    \"ace/lib/app_config\"\n  ],\n  function(require, exports, module) {\n    \"no use strict\";\n\n    var lang = require(\"./lib/lang\");\n    var oop = require(\"./lib/oop\");\n    var net = require(\"./lib/net\");\n    var AppConfig = require(\"./lib/app_config\").AppConfig;\n\n    module.exports = exports = new AppConfig();\n\n    var global = (function() {\n      return this || (typeof window != \"undefined\" && window);\n    })();\n\n    var options = {\n      packaged: false,\n      workerPath: null,\n      modePath: null,\n      themePath: null,\n      basePath: \"\",\n      suffix: \".js\",\n      $moduleUrls: {}\n    };\n\n    exports.get = function(key) {\n      if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n      return options[key];\n    };\n\n    exports.set = function(key, value) {\n      if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n      options[key] = value;\n    };\n\n    exports.all = function() {\n      return lang.copyObject(options);\n    };\n\n    exports.$modes = {};\n    exports.moduleUrl = function(name, component) {\n      if (options.$moduleUrls[name]) return options.$moduleUrls[name];\n\n      var parts = name.split(\"/\");\n      component = component || parts[parts.length - 2] || \"\";\n      var sep = component == \"snippets\" ? \"/\" : \"-\";\n      var base = parts[parts.length - 1];\n      if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\n          \"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\",\n          \"g\"\n        );\n        base = base.replace(re, \"\");\n      }\n\n      if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n      var path = options[component + \"Path\"];\n      if (path == null) {\n        path = options.basePath;\n      } else if (sep == \"/\") {\n        component = sep = \"\";\n      }\n      if (path && path.slice(-1) != \"/\") path += \"/\";\n      return path + component + sep + base + this.get(\"suffix\");\n    };\n\n    exports.setModuleUrl = function(name, subst) {\n      return (options.$moduleUrls[name] = subst);\n    };\n\n    exports.$loading = {};\n    exports.loadModule = function(moduleName, onLoad) {\n      var module, moduleType;\n      if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n      }\n\n      try {\n        module = require(moduleName);\n      } catch (e) {}\n      if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n      if (!exports.$loading[moduleName]) exports.$loading[moduleName] = [];\n\n      exports.$loading[moduleName].push(onLoad);\n\n      if (exports.$loading[moduleName].length > 1) return;\n\n      var afterLoad = function() {\n        require([moduleName], function(module) {\n          exports._emit(\"load.module\", { name: moduleName, module: module });\n          var listeners = exports.$loading[moduleName];\n          exports.$loading[moduleName] = null;\n          listeners.forEach(function(onLoad) {\n            onLoad && onLoad(module);\n          });\n        });\n      };\n\n      if (!exports.get(\"packaged\")) return afterLoad();\n\n      net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n      reportErrorIfPathIsNotConfigured();\n    };\n\n    var reportErrorIfPathIsNotConfigured = function() {\n      if (\n        !options.basePath &&\n        !options.workerPath &&\n        !options.modePath &&\n        !options.themePath &&\n        !Object.keys(options.$moduleUrls).length\n      ) {\n        console.error(\n          \"Unable to infer path to ace from script src,\",\n          \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n          \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n      }\n    };\n    init(true);\n    function init(packaged) {\n      if (!global || !global.document) return;\n\n      options.packaged =\n        packaged ||\n        require.packaged ||\n        module.packaged ||\n        (global.define && define.packaged);\n\n      var scriptOptions = {};\n      var scriptUrl = \"\";\n      var currentScript = document.currentScript || document._currentScript; // native or polyfill\n      var currentDocument =\n        (currentScript && currentScript.ownerDocument) || document;\n\n      var scripts = currentDocument.getElementsByTagName(\"script\");\n      for (var i = 0; i < scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src) continue;\n\n        var attributes = script.attributes;\n        for (var j = 0, l = attributes.length; j < l; j++) {\n          var attr = attributes[j];\n          if (attr.name.indexOf(\"data-ace-\") === 0) {\n            scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] =\n              attr.value;\n          }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m) scriptUrl = m[1];\n      }\n\n      if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n      }\n\n      scriptOptions.basePath = scriptOptions.base;\n      scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n      scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n      scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n      delete scriptOptions.base;\n\n      for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n          exports.set(key, scriptOptions[key]);\n    }\n\n    exports.init = init;\n\n    function deHyphenate(str) {\n      return str.replace(/-(.)/g, function(m, m1) {\n        return m1.toUpperCase();\n      });\n    }\n  }\n);\n\nace.define(\n  \"ace/mouse/mouse_handler\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/event\",\n    \"ace/lib/useragent\",\n    \"ace/mouse/default_handlers\",\n    \"ace/mouse/default_gutter_handler\",\n    \"ace/mouse/mouse_event\",\n    \"ace/mouse/dragdrop_handler\",\n    \"ace/config\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n    var DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\n    var DefaultGutterHandler = require(\"./default_gutter_handler\")\n      .GutterHandler;\n    var MouseEvent = require(\"./mouse_event\").MouseEvent;\n    var DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\n    var config = require(\"../config\");\n\n    var MouseHandler = function(editor) {\n      var _self = this;\n      this.editor = editor;\n\n      new DefaultHandlers(this);\n      new DefaultGutterHandler(this);\n      new DragdropHandler(this);\n\n      var focusEditor = function(e) {\n        var windowBlurred =\n          !document.hasFocus ||\n          !document.hasFocus() ||\n          (!editor.isFocused() &&\n            document.activeElement ==\n              (editor.textInput && editor.textInput.getElement()));\n        if (windowBlurred) window.focus();\n        editor.focus();\n      };\n\n      var mouseTarget = editor.renderer.getMouseEventTarget();\n      event.addListener(\n        mouseTarget,\n        \"click\",\n        this.onMouseEvent.bind(this, \"click\")\n      );\n      event.addListener(\n        mouseTarget,\n        \"mousemove\",\n        this.onMouseMove.bind(this, \"mousemove\")\n      );\n      event.addMultiMouseDownListener(\n        [\n          mouseTarget,\n          editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n          editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n          editor.textInput && editor.textInput.getElement()\n        ].filter(Boolean),\n        [400, 300, 250],\n        this,\n        \"onMouseEvent\"\n      );\n      event.addMouseWheelListener(\n        editor.container,\n        this.onMouseWheel.bind(this, \"mousewheel\")\n      );\n      event.addTouchMoveListener(\n        editor.container,\n        this.onTouchMove.bind(this, \"touchmove\")\n      );\n\n      var gutterEl = editor.renderer.$gutter;\n      event.addListener(\n        gutterEl,\n        \"mousedown\",\n        this.onMouseEvent.bind(this, \"guttermousedown\")\n      );\n      event.addListener(\n        gutterEl,\n        \"click\",\n        this.onMouseEvent.bind(this, \"gutterclick\")\n      );\n      event.addListener(\n        gutterEl,\n        \"dblclick\",\n        this.onMouseEvent.bind(this, \"gutterdblclick\")\n      );\n      event.addListener(\n        gutterEl,\n        \"mousemove\",\n        this.onMouseEvent.bind(this, \"guttermousemove\")\n      );\n\n      event.addListener(mouseTarget, \"mousedown\", focusEditor);\n      event.addListener(gutterEl, \"mousedown\", focusEditor);\n      if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(\n          editor.renderer.scrollBarV.element,\n          \"mousedown\",\n          focusEditor\n        );\n        event.addListener(\n          editor.renderer.scrollBarH.element,\n          \"mousedown\",\n          focusEditor\n        );\n      }\n\n      editor.on(\"mousemove\", function(e) {\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled) return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (\n          !range.isEmpty() &&\n          range.insideStart(character.row, character.column)\n        ) {\n          renderer.setCursorStyle(\"default\");\n        } else {\n          renderer.setCursorStyle(\"\");\n        }\n      });\n    };\n\n    (function() {\n      this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n      };\n\n      this.onMouseMove = function(name, e) {\n        var listeners =\n          this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length) return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n      };\n\n      this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n      };\n\n      this.onTouchMove = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = 1; //this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n      };\n\n      this.setState = function(state) {\n        this.state = state;\n      };\n\n      this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        if (renderer.$keepTextAreaAtCursor)\n          renderer.$keepTextAreaAtCursor = null;\n\n        var self = this;\n        var onMouseMove = function(e) {\n          if (!e) return;\n          if (useragent.isWebKit && !e.which && self.releaseMouse)\n            return self.releaseMouse();\n\n          self.x = e.clientX;\n          self.y = e.clientY;\n          mouseMoveHandler && mouseMoveHandler(e);\n          self.mouseEvent = new MouseEvent(e, self.editor);\n          self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n          editor.off(\"beforeEndOperation\", onOperationEnd);\n          clearInterval(timerId);\n          onCaptureInterval();\n          self[self.state + \"End\"] && self[self.state + \"End\"](e);\n          self.state = \"\";\n          if (renderer.$keepTextAreaAtCursor == null) {\n            renderer.$keepTextAreaAtCursor = true;\n            renderer.$moveTextAreaToCursor();\n          }\n          self.isMousePressed = false;\n          self.$onCaptureMouseMove = self.releaseMouse = null;\n          e && self.onMouseEvent(\"mouseup\", e);\n          editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n          self[self.state] && self[self.state]();\n          self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n          return setTimeout(function() {\n            onCaptureEnd(ev);\n          });\n        }\n\n        var onOperationEnd = function(e) {\n          if (!self.releaseMouse) return;\n          if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n            self[self.state + \"End\"] && self[self.state + \"End\"]();\n            self.state = \"\";\n            self.releaseMouse();\n          }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({ command: { name: \"mouse\" } });\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(\n          this.editor.container,\n          onMouseMove,\n          onCaptureEnd\n        );\n        var timerId = setInterval(onCaptureInterval, 20);\n      };\n      this.releaseMouse = null;\n      this.cancelContextMenu = function() {\n        var stop = function(e) {\n          if (e && e.domEvent && e.domEvent.type != \"contextmenu\") return;\n          this.editor.off(\"nativecontextmenu\", stop);\n          if (e && e.domEvent) event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n      };\n    }.call(MouseHandler.prototype));\n\n    config.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n      scrollSpeed: { initialValue: 2 },\n      dragDelay: { initialValue: useragent.isMac ? 150 : 0 },\n      dragEnabled: { initialValue: true },\n      focusTimeout: { initialValue: 0 },\n      tooltipFollowsMouse: { initialValue: true }\n    });\n\n    exports.MouseHandler = MouseHandler;\n  }\n);\n\nace.define(\n  \"ace/mouse/fold_handler\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n    var dom = require(\"../lib/dom\");\n\n    function FoldHandler(editor) {\n      editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n          if (e.getAccelKey()) session.removeFold(fold);\n          else session.expandFold(fold);\n\n          e.stop();\n        }\n\n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n          if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n            session.setOption(\"wrap\", true);\n            editor.renderer.scrollCursorIntoView();\n          }\n        }\n      });\n\n      editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n          var row = e.getDocumentPosition().row;\n          var session = editor.session;\n          if (session.foldWidgets && session.foldWidgets[row])\n            editor.session.onFoldWidgetClick(row, e);\n          if (!editor.isFocused()) editor.focus();\n          e.stop();\n        }\n      });\n\n      editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n          var row = e.getDocumentPosition().row;\n          var session = editor.session;\n          var data = session.getParentFoldRangeData(row, true);\n          var range = data.range || data.firstRange;\n\n          if (range) {\n            row = range.start.row;\n            var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n            if (fold) {\n              session.removeFold(fold);\n            } else {\n              session.addFold(\"...\", range);\n              editor.renderer.scrollCursorIntoView({\n                row: range.start.row,\n                column: 0\n              });\n            }\n          }\n          e.stop();\n        }\n      });\n    }\n\n    exports.FoldHandler = FoldHandler;\n  }\n);\n\nace.define(\n  \"ace/keyboard/keybinding\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/event\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var keyUtil = require(\"../lib/keys\");\n    var event = require(\"../lib/event\");\n\n    var KeyBinding = function(editor) {\n      this.$editor = editor;\n      this.$data = { editor: editor };\n      this.$handlers = [];\n      this.setDefaultHandler(editor.commands);\n    };\n\n    (function() {\n      this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n      };\n\n      this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb) return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n          this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n      };\n\n      this.addKeyboardHandler = function(kb, pos) {\n        if (!kb) return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n          kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1) this.$handlers.splice(i, 1);\n\n        if (pos == undefined) this.$handlers.push(kb);\n        else this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach) kb.attach(this.$editor);\n      };\n\n      this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1) return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n      };\n\n      this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n      };\n\n      this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers\n          .map(function(h) {\n            return (h.getStatusText && h.getStatusText(editor, data)) || \"\";\n          })\n          .filter(Boolean)\n          .join(\" \");\n      };\n\n      this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--; ) {\n          toExecute = this.$handlers[i].handleKeyboard(\n            this.$data,\n            hashId,\n            keyString,\n            keyCode,\n            e\n          );\n          if (!toExecute || !toExecute.command) continue;\n          if (toExecute.command == \"null\") {\n            success = true;\n          } else {\n            success = commands.exec(\n              toExecute.command,\n              this.$editor,\n              toExecute.args,\n              e\n            );\n          }\n          if (\n            success &&\n            e &&\n            hashId != -1 &&\n            toExecute.passEvent != true &&\n            toExecute.command.passEvent != true\n          ) {\n            event.stopEvent(e);\n          }\n          if (success) break;\n        }\n\n        if (!success && hashId == -1) {\n          toExecute = { command: \"insertstring\" };\n          success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n\n        if (success && this.$editor._signal)\n          this.$editor._signal(\"keyboardActivity\", toExecute);\n\n        return success;\n      };\n\n      this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n      };\n\n      this.onTextInput = function(text) {\n        this.$callKeyboardHandlers(-1, text);\n      };\n    }.call(KeyBinding.prototype));\n\n    exports.KeyBinding = KeyBinding;\n  }\n);\n\nace.define(\"ace/lib/bidiutil\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  var ArabicAlefBetIntervalsBegine = [\"\\u0621\", \"\\u0641\"];\n  var ArabicAlefBetIntervalsEnd = [\"\\u063A\", \"\\u064a\"];\n  var dir = 0,\n    hiLevel = 0;\n  var lastArabic = false,\n    hasUBAT_AL = false,\n    hasUBAT_B = false,\n    hasUBAT_S = false,\n    hasBlockSep = false,\n    hasSegSep = false;\n\n  var impTab_LTR = [\n    [0, 3, 0, 1, 0, 0, 0],\n    [0, 3, 0, 1, 2, 2, 0],\n    [0, 3, 0, 0x11, 2, 0, 1],\n    [0, 3, 5, 5, 4, 1, 0],\n    [0, 3, 0x15, 0x15, 4, 0, 1],\n    [0, 3, 5, 5, 4, 2, 0]\n  ];\n\n  var impTab_RTL = [\n    [2, 0, 1, 1, 0, 1, 0],\n    [2, 0, 1, 1, 0, 2, 0],\n    [2, 0, 2, 1, 3, 2, 0],\n    [2, 0, 2, 0x21, 3, 1, 1]\n  ];\n\n  var LTR = 0,\n    RTL = 1;\n\n  var L = 0; /* left to right */\n  var R = 1; /* right to left */\n  var EN = 2; /* European digit */\n  var AN = 3; /* Arabic-Indic digit */\n  var ON = 4; /* neutral */\n  var B = 5; /* block separator */\n  var S = 6; /* segment separator */\n  var AL = 7; /* Arabic Letter */\n  var WS = 8; /* white space */\n  var CS = 9; /* common digit separator */\n  var ES = 10; /* European digit separator */\n  var ET = 11; /* European digit terminator */\n  var NSM = 12; /* Non Spacing Mark */\n  var LRE = 13; /* LRE */\n  var RLE = 14; /* RLE */\n  var PDF = 15; /* PDF */\n  var LRO = 16; /* LRO */\n  var RLO = 17; /* RLO */\n  var BN = 18; /* Boundary Neutral */\n\n  var UnicodeTBL00 = [\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    S,\n    B,\n    S,\n    WS,\n    B,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    B,\n    B,\n    B,\n    S,\n    WS,\n    ON,\n    ON,\n    ET,\n    ET,\n    ET,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ES,\n    CS,\n    ES,\n    CS,\n    CS,\n    EN,\n    EN,\n    EN,\n    EN,\n    EN,\n    EN,\n    EN,\n    EN,\n    EN,\n    EN,\n    CS,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    L,\n    ON,\n    ON,\n    ON,\n    ON,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    B,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    BN,\n    CS,\n    ON,\n    ET,\n    ET,\n    ET,\n    ET,\n    ON,\n    ON,\n    ON,\n    ON,\n    L,\n    ON,\n    ON,\n    BN,\n    ON,\n    ON,\n    ET,\n    ET,\n    EN,\n    EN,\n    ON,\n    L,\n    ON,\n    ON,\n    ON,\n    EN,\n    L,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON\n  ];\n\n  var UnicodeTBL20 = [\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    WS,\n    BN,\n    BN,\n    BN,\n    L,\n    R,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    WS,\n    B,\n    LRE,\n    RLE,\n    PDF,\n    LRO,\n    RLO,\n    CS,\n    ET,\n    ET,\n    ET,\n    ET,\n    ET,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    CS,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    ON,\n    WS\n  ];\n\n  function _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR,\n      prevState = null,\n      newClass = null,\n      newLevel = null,\n      newState = 0,\n      action = null,\n      cond = null,\n      condPos = -1,\n      i = null,\n      ix = null,\n      classes = [];\n\n    if (!charTypes) {\n      for (i = 0, charTypes = []; i < len; i++) {\n        charTypes[i] = _getCharacterType(chars[i]);\n      }\n    }\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n    for (ix = 0; ix < len; ix++) {\n      prevState = newState;\n      classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n      newState = impTab[prevState][newClass];\n      action = newState & 0xf0;\n      newState &= 0x0f;\n      levels[ix] = newLevel = impTab[newState][5];\n      if (action > 0) {\n        if (action == 0x10) {\n          for (i = condPos; i < ix; i++) {\n            levels[i] = 1;\n          }\n          condPos = -1;\n        } else {\n          condPos = -1;\n        }\n      }\n      cond = impTab[newState][6];\n      if (cond) {\n        if (condPos == -1) {\n          condPos = ix;\n        }\n      } else {\n        if (condPos > -1) {\n          for (i = condPos; i < ix; i++) {\n            levels[i] = newLevel;\n          }\n          condPos = -1;\n        }\n      }\n      if (charTypes[ix] == B) {\n        levels[ix] = 0;\n      }\n      hiLevel |= newLevel;\n    }\n    if (hasUBAT_S) {\n      for (i = 0; i < len; i++) {\n        if (charTypes[i] == S) {\n          levels[i] = dir;\n          for (var j = i - 1; j >= 0; j--) {\n            if (charTypes[j] == WS) {\n              levels[j] = dir;\n            } else {\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n      return;\n    }\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n      _array.reverse();\n      return;\n    }\n    var len = _array.length,\n      start = 0,\n      end,\n      lo,\n      hi,\n      tmp;\n    while (start < len) {\n      if (levels[start] >= lev) {\n        end = start + 1;\n        while (end < len && levels[end] >= lev) {\n          end++;\n        }\n        for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n          tmp = _array[lo];\n          _array[lo] = _array[hi];\n          _array[hi] = tmp;\n        }\n        start = end;\n      }\n      start++;\n    }\n  }\n\n  function _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix],\n      wType,\n      nType,\n      len,\n      i;\n    switch (cType) {\n      case L:\n      case R:\n        lastArabic = false;\n      case ON:\n      case AN:\n        return cType;\n      case EN:\n        return lastArabic ? AN : EN;\n      case AL:\n        lastArabic = true;\n        hasUBAT_AL = true;\n        return R;\n      case WS:\n        return ON;\n      case CS:\n        if (\n          ix < 1 ||\n          ix + 1 >= types.length ||\n          ((wType = classes[ix - 1]) != EN && wType != AN) ||\n          ((nType = types[ix + 1]) != EN && nType != AN)\n        ) {\n          return ON;\n        }\n        if (lastArabic) {\n          nType = AN;\n        }\n        return nType == wType ? nType : ON;\n      case ES:\n        wType = ix > 0 ? classes[ix - 1] : B;\n        if (wType == EN && ix + 1 < types.length && types[ix + 1] == EN) {\n          return EN;\n        }\n        return ON;\n      case ET:\n        if (ix > 0 && classes[ix - 1] == EN) {\n          return EN;\n        }\n        if (lastArabic) {\n          return ON;\n        }\n        i = ix + 1;\n        len = types.length;\n        while (i < len && types[i] == ET) {\n          i++;\n        }\n        if (i < len && types[i] == EN) {\n          return EN;\n        }\n        return ON;\n      case NSM:\n        len = types.length;\n        i = ix + 1;\n        while (i < len && types[i] == NSM) {\n          i++;\n        }\n        if (i < len) {\n          var c = chars[ix],\n            rtlCandidate = (c >= 0x0591 && c <= 0x08ff) || c == 0xfb1e;\n\n          wType = types[i];\n          if (rtlCandidate && (wType == R || wType == AL)) {\n            return R;\n          }\n        }\n\n        if (ix < 1 || (wType = types[ix - 1]) == B) {\n          return ON;\n        }\n        return classes[ix - 1];\n      case B:\n        lastArabic = false;\n        hasUBAT_B = true;\n        return dir;\n      case S:\n        hasUBAT_S = true;\n        return ON;\n      case LRE:\n      case RLE:\n      case LRO:\n      case RLO:\n      case PDF:\n        lastArabic = false;\n      case BN:\n        return ON;\n    }\n  }\n\n  function _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0),\n      hi = uc >> 8;\n\n    if (hi == 0) {\n      return uc > 0x00bf ? L : UnicodeTBL00[uc];\n    } else if (hi == 5) {\n      return /[\\u0591-\\u05f4]/.test(ch) ? R : L;\n    } else if (hi == 6) {\n      if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n        return NSM;\n      else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch)) return AN;\n      else if (uc == 0x066a) return ET;\n      else if (/[\\u06f0-\\u06f9]/.test(ch)) return EN;\n      else return AL;\n    } else if (hi == 0x20 && uc <= 0x205f) {\n      return UnicodeTBL20[uc & 0xff];\n    } else if (hi == 0xfe) {\n      return uc >= 0xfe70 ? AL : ON;\n    }\n    return ON;\n  }\n\n  function _isArabicDiacritics(ch) {\n    return ch >= \"\\u064b\" && ch <= \"\\u0655\";\n  }\n  exports.L = L;\n  exports.R = R;\n  exports.EN = EN;\n  exports.ON_R = 3;\n  exports.AN = 4;\n  exports.R_H = 5;\n  exports.B = 6;\n  exports.RLE = 7;\n\n  exports.DOT = \"\\xB7\";\n  exports.doBidiReorder = function(text, textCharTypes, isRtl) {\n    if (text.length < 2) return {};\n\n    var chars = text.split(\"\"),\n      logicalFromVisual = new Array(chars.length),\n      bidiLevels = new Array(chars.length),\n      levels = [];\n\n    dir = isRtl ? RTL : LTR;\n\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n\n    for (\n      var i = 0;\n      i < logicalFromVisual.length;\n      logicalFromVisual[i] = i, i++\n    );\n\n    _invertLevel(2, levels, logicalFromVisual);\n    _invertLevel(1, levels, logicalFromVisual);\n\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) {\n      //fix levels to reflect character width\n      if (textCharTypes[i] === AN) {\n        levels[i] = exports.AN;\n      } else if (\n        levels[i] === R &&\n        ((textCharTypes[i] > AL && textCharTypes[i] < LRE) ||\n          textCharTypes[i] === ON ||\n          textCharTypes[i] === BN)\n      ) {\n        levels[i] = exports.ON_R;\n      } else if (\n        i > 0 &&\n        chars[i - 1] === \"\\u0644\" &&\n        /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])\n      ) {\n        levels[i - 1] = levels[i] = exports.R_H;\n        i++;\n      }\n    }\n    if (chars[chars.length - 1] === exports.DOT)\n      levels[chars.length - 1] = exports.B;\n\n    if (chars[0] === \"\\u202B\") levels[0] = exports.RLE;\n\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n      bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n\n    return { logicalFromVisual: logicalFromVisual, bidiLevels: bidiLevels };\n  };\n  exports.hasBidiCharacters = function(text, textCharTypes) {\n    var ret = false;\n    for (var i = 0; i < text.length; i++) {\n      textCharTypes[i] = _getCharacterType(text.charAt(i));\n      if (\n        !ret &&\n        (textCharTypes[i] == R ||\n          textCharTypes[i] == AL ||\n          textCharTypes[i] == AN)\n      )\n        ret = true;\n    }\n    return ret;\n  };\n\n  exports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n      if (rowMap.logicalFromVisual[i] == logIdx) return i;\n    }\n    return 0;\n  };\n});\n\nace.define(\n  \"ace/bidihandler\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/bidiutil\", \"ace/lib/lang\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var bidiUtil = require(\"./lib/bidiutil\");\n    var lang = require(\"./lib/lang\");\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\n    var BidiHandler = function(session) {\n      this.session = session;\n      this.bidiMap = {};\n      this.currentRow = null;\n      this.bidiUtil = bidiUtil;\n      this.charWidths = [];\n      this.EOL = \"\\xAC\";\n      this.showInvisibles = true;\n      this.isRtlDir = false;\n      this.line = \"\";\n      this.wrapIndent = 0;\n      this.EOF = \"\\xB6\";\n      this.RLE = \"\\u202B\";\n      this.contentWidth = 0;\n      this.fontMetrics = null;\n      this.rtlLineOffset = 0;\n      this.wrapOffset = 0;\n      this.isMoveLeftOperation = false;\n      this.seenBidi = bidiRE.test(session.getValue());\n    };\n\n    (function() {\n      this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi) return false;\n        if (screenRow !== this.currentRow) {\n          this.currentRow = screenRow;\n          this.updateRowLine(docRow, splitIndex);\n          this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n      };\n\n      this.onChange = function(delta) {\n        if (!this.seenBidi) {\n          if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n            this.seenBidi = true;\n            this.currentRow = null;\n          }\n        } else {\n          this.currentRow = null;\n        }\n      };\n\n      this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n          var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n          if (index >= 0) docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n      };\n\n      this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n          var currentIndex,\n            prevIndex = this.session.$getRowCacheIndex(\n              rowCache,\n              this.currentRow\n            );\n          while (this.currentRow - splitIndex > 0) {\n            currentIndex = this.session.$getRowCacheIndex(\n              rowCache,\n              this.currentRow - splitIndex - 1\n            );\n            if (currentIndex !== prevIndex) break;\n\n            prevIndex = currentIndex;\n            splitIndex++;\n          }\n        } else {\n          splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n      };\n\n      this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined) docRow = this.getDocumentRow();\n\n        var isLastRow = docRow === this.session.getLength() - 1,\n          endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n          var splits = this.session.$wrapData[docRow];\n          if (splits) {\n            if (splitIndex === undefined) splitIndex = this.getSplitIndex();\n\n            if (splitIndex > 0 && splits.length) {\n              this.wrapIndent = splits.indent;\n              this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n              this.line =\n                splitIndex < splits.length\n                  ? this.line.substring(\n                      splits[splitIndex - 1],\n                      splits[splitIndex]\n                    )\n                  : this.line.substring(splits[splits.length - 1]);\n            } else {\n              this.line = this.line.substring(0, splits[splitIndex]);\n            }\n          }\n          if (splitIndex == splits.length)\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        } else {\n          this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session,\n          shift = 0,\n          size;\n        this.line = this.line.replace(\n          /\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g,\n          function(ch, i) {\n            if (ch === \"\\t\" || session.isFullWidth(ch.charCodeAt(0))) {\n              size = ch === \"\\t\" ? session.getScreenTabSize(i + shift) : 2;\n              shift += size - 1;\n              return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n          }\n        );\n\n        if (this.isRtlDir) {\n          this.fontMetrics.$main.innerHTML =\n            this.line.charAt(this.line.length - 1) == bidiUtil.DOT\n              ? this.line.substr(0, this.line.length - 1)\n              : this.line;\n          this.rtlLineOffset =\n            this.contentWidth -\n            this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n      };\n\n      this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (\n          bidiUtil.hasBidiCharacters(this.line, textCharTypes) ||\n          this.isRtlDir\n        ) {\n          this.bidiMap = bidiUtil.doBidiReorder(\n            this.line,\n            textCharTypes,\n            this.isRtlDir\n          );\n        } else {\n          this.bidiMap = {};\n        }\n      };\n      this.markAsDirty = function() {\n        this.currentRow = null;\n      };\n      this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width) return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = (this.characterWidth =\n          fontMetrics.$characterSize.width);\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[\n          bidiUtil.EN\n        ] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[\n          bidiUtil.AN\n        ] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n      };\n\n      this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n      };\n\n      this.setEolChar = function(eolChar) {\n        this.EOL = eolChar;\n      };\n\n      this.setContentWidth = function(width) {\n        this.contentWidth = width;\n      };\n\n      this.isRtlLine = function(row) {\n        if (row != undefined)\n          return this.session.getLine(row).charAt(0) == this.RLE;\n        else return this.isRtlDir;\n      };\n\n      this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition();\n        for (\n          var row = editor.selection.getSelectionAnchor().row;\n          row <= cursor.row;\n          row++\n        ) {\n          if (\n            !isRtlDir &&\n            editor.session.getLine(row).charAt(0) ===\n              editor.session.$bidiHandler.RLE\n          )\n            editor.session.doc.removeInLine(row, 0, 1);\n          else if (\n            isRtlDir &&\n            editor.session.getLine(row).charAt(0) !==\n              editor.session.$bidiHandler.RLE\n          )\n            editor.session.doc.insert(\n              { column: 0, row: row },\n              editor.session.$bidiHandler.RLE\n            );\n        }\n      };\n      this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = this.line.charAt(0) === this.RLE ? 1 : 0;\n        var logicalIdx =\n          col > leftBoundary\n            ? this.session.getOverwrite()\n              ? col\n              : col - 1\n            : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(\n            logicalIdx,\n            this.bidiMap\n          ),\n          levels = this.bidiMap.bidiLevels,\n          left = 0;\n\n        if (\n          !this.session.getOverwrite() &&\n          col <= leftBoundary &&\n          levels[visualIdx] % 2 !== 0\n        )\n          visualIdx++;\n\n        for (var i = 0; i < visualIdx; i++) {\n          left += this.charWidths[levels[i]];\n        }\n\n        if (\n          !this.session.getOverwrite() &&\n          col > leftBoundary &&\n          levels[visualIdx] % 2 === 0\n        )\n          left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n          left += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n        if (this.isRtlDir) left += this.rtlLineOffset;\n\n        return left;\n      };\n      this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap,\n          levels = map.bidiLevels,\n          level,\n          selections = [],\n          offset = 0,\n          selColMin = Math.min(startCol, endCol) - this.wrapIndent,\n          selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n          isSelected = false,\n          isSelectedPrev = false,\n          selectionStart = 0;\n\n        if (this.wrapIndent)\n          offset += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n          logIdx = map.logicalFromVisual[visIdx];\n          level = levels[visIdx];\n          isSelected = logIdx >= selColMin && logIdx < selColMax;\n          if (isSelected && !isSelectedPrev) {\n            selectionStart = offset;\n          } else if (!isSelected && isSelectedPrev) {\n            selections.push({\n              left: selectionStart,\n              width: offset - selectionStart\n            });\n          }\n          offset += this.charWidths[level];\n          isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && visIdx === levels.length) {\n          selections.push({\n            left: selectionStart,\n            width: offset - selectionStart\n          });\n        }\n\n        if (this.isRtlDir) {\n          for (var i = 0; i < selections.length; i++) {\n            selections[i].left += this.rtlLineOffset;\n          }\n        }\n        return selections;\n      };\n      this.offsetToCol = function(posX) {\n        if (this.isRtlDir) posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0,\n          posX = Math.max(posX, 0),\n          offset = 0,\n          visualIdx = 0,\n          levels = this.bidiMap.bidiLevels,\n          charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n          posX -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n        while (posX > offset + charWidth / 2) {\n          offset += charWidth;\n          if (visualIdx === levels.length - 1) {\n            charWidth = 0;\n            break;\n          }\n          charWidth = this.charWidths[levels[++visualIdx]];\n        }\n\n        if (\n          visualIdx > 0 &&\n          levels[visualIdx - 1] % 2 !== 0 &&\n          levels[visualIdx] % 2 === 0\n        ) {\n          if (posX < offset) visualIdx--;\n          logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        } else if (\n          visualIdx > 0 &&\n          levels[visualIdx - 1] % 2 === 0 &&\n          levels[visualIdx] % 2 !== 0\n        ) {\n          logicalIdx =\n            1 +\n            (posX > offset\n              ? this.bidiMap.logicalFromVisual[visualIdx]\n              : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n        } else if (\n          (this.isRtlDir &&\n            visualIdx === levels.length - 1 &&\n            charWidth === 0 &&\n            levels[visualIdx - 1] % 2 === 0) ||\n          (!this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0)\n        ) {\n          logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n          if (\n            visualIdx > 0 &&\n            levels[visualIdx - 1] % 2 !== 0 &&\n            charWidth !== 0\n          )\n            visualIdx--;\n          logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir) logicalIdx++;\n\n        return logicalIdx + this.wrapIndent;\n      };\n    }.call(BidiHandler.prototype));\n\n    exports.BidiHandler = BidiHandler;\n  }\n);\n\nace.define(\n  \"ace/selection\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/lang\",\n    \"ace/lib/event_emitter\",\n    \"ace/range\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var lang = require(\"./lib/lang\");\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var Range = require(\"./range\").Range;\n    var Selection = function(session) {\n      this.session = session;\n      this.doc = session.getDocument();\n\n      this.clearSelection();\n      this.cursor = this.lead = this.doc.createAnchor(0, 0);\n      this.anchor = this.doc.createAnchor(0, 0);\n      this.$silent = false;\n\n      var self = this;\n      this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent) self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent) self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n          self.$desiredColumn = null;\n      });\n\n      this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent) self._emit(\"changeSelection\");\n      });\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.isEmpty = function() {\n        return (\n          this.$isEmpty ||\n          (this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column)\n        );\n      };\n      this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n      };\n      this.getCursor = function() {\n        return this.lead.getPosition();\n      };\n      this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n      };\n      this.getAnchor = this.getSelectionAnchor = function() {\n        if (this.$isEmpty) return this.getSelectionLead();\n\n        return this.anchor.getPosition();\n      };\n      this.getSelectionLead = function() {\n        return this.lead.getPosition();\n      };\n      this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (\n          anchor.row > lead.row ||\n          (anchor.row == lead.row && anchor.column > lead.column)\n        );\n      };\n      this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty) return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n          ? Range.fromPoints(lead, anchor)\n          : Range.fromPoints(anchor, lead);\n      };\n      this.clearSelection = function() {\n        if (!this.$isEmpty) {\n          this.$isEmpty = true;\n          this._emit(\"changeSelection\");\n        }\n      };\n      this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n      };\n      this.setRange = this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n      };\n\n      this.$setSelection = function(\n        anchorRow,\n        anchorColumn,\n        cursorRow,\n        cursorColumn\n      ) {\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged) this._emit(\"changeCursor\");\n        if (\n          this.$cursorChanged ||\n          this.$anchorChanged ||\n          wasEmpty != this.$isEmpty ||\n          wasMultiselect\n        )\n          this._emit(\"changeSelection\");\n      };\n\n      this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty) this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n      };\n      this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n          this.moveCursorTo(row, column);\n        });\n      };\n      this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n          this.moveCursorToPosition(pos);\n        });\n      };\n      this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n      };\n      this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n      };\n      this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n      };\n      this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n      };\n      this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n      };\n      this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n      };\n      this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n      };\n      this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n      };\n      this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n      };\n      this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n      };\n      this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n      };\n      this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n      };\n      this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n          var cursor = row || this.lead;\n          row = cursor.row;\n          column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n      };\n      this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n      };\n      this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n      };\n\n      this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n          rowStart = foldLine.start.row;\n          rowEnd = foldLine.end.row;\n        } else {\n          rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n          return new Range(\n            rowStart,\n            0,\n            rowEnd,\n            this.session.getLine(rowEnd).length\n          );\n        else return new Range(rowStart, 0, rowEnd + 1, 0);\n      };\n      this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n      };\n      this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n      };\n      this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n      };\n      this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n          start = cursor.column - tabSize;\n          end = cursor.column;\n        }\n        return (\n          this.session.isTabStop(cursor) &&\n          this.doc\n            .getLine(cursor.row)\n            .slice(start, end)\n            .split(\" \").length -\n            1 ==\n            tabSize\n        );\n      };\n      this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n          fold;\n\n        if ((fold = this.session.getFoldAt(cursor.row, cursor.column, -1))) {\n          this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n          if (cursor.row > 0) {\n            this.moveCursorTo(\n              cursor.row - 1,\n              this.doc.getLine(cursor.row - 1).length\n            );\n          }\n        } else {\n          var tabSize = this.session.getTabSize();\n          if (\n            this.wouldMoveIntoSoftTab(cursor, tabSize, -1) &&\n            !this.session.getNavigateWithinSoftTabs()\n          ) {\n            this.moveCursorBy(0, -tabSize);\n          } else {\n            this.moveCursorBy(0, -1);\n          }\n        }\n      };\n      this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n          fold;\n        if ((fold = this.session.getFoldAt(cursor.row, cursor.column, 1))) {\n          this.moveCursorTo(fold.end.row, fold.end.column);\n        } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n          if (this.lead.row < this.doc.getLength() - 1) {\n            this.moveCursorTo(this.lead.row + 1, 0);\n          }\n        } else {\n          var tabSize = this.session.getTabSize();\n          var cursor = this.lead;\n          if (\n            this.wouldMoveIntoSoftTab(cursor, tabSize, 1) &&\n            !this.session.getNavigateWithinSoftTabs()\n          ) {\n            this.moveCursorBy(0, tabSize);\n          } else {\n            this.moveCursorBy(0, 1);\n          }\n        }\n      };\n      this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(\n          screenRow,\n          0\n        );\n        var beforeCursor = this.session.getDisplayLine(\n          row,\n          null,\n          firstColumnPosition.row,\n          firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (\n          leadingSpace[0].length != column &&\n          !this.session.$useEmacsStyleLineStart\n        )\n          firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n      };\n      this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(\n          lead.row,\n          lead.column\n        );\n        if (this.lead.column == lineEnd.column) {\n          var line = this.session.getLine(lineEnd.row);\n          if (lineEnd.column == line.length) {\n            var textEnd = line.search(/\\s+$/);\n            if (textEnd > 0) lineEnd.column = textEnd;\n          }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n      };\n      this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n      };\n      this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n      };\n      this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n          this.moveCursorTo(fold.end.row, fold.end.column);\n          return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n          column += this.session.nonTokenRe.lastIndex;\n          this.session.nonTokenRe.lastIndex = 0;\n          rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n          this.moveCursorTo(row, line.length);\n          this.moveCursorRight();\n          if (row < this.doc.getLength() - 1) this.moveCursorWordRight();\n          return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n          column += this.session.tokenRe.lastIndex;\n          this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n      };\n      this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if ((fold = this.session.getFoldAt(row, column, -1))) {\n          this.moveCursorTo(fold.start.row, fold.start.column);\n          return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n          str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n          column -= this.session.nonTokenRe.lastIndex;\n          leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n          this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n          this.moveCursorTo(row, 0);\n          this.moveCursorLeft();\n          if (row > 0) this.moveCursorWordLeft();\n          return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n          column -= this.session.tokenRe.lastIndex;\n          this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n      };\n\n      this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0,\n          ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n          index = this.session.tokenRe.lastIndex;\n        } else {\n          while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) index++;\n\n          if (index < 1) {\n            tokenRe.lastIndex = 0;\n            while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n              tokenRe.lastIndex = 0;\n              index++;\n              if (whitespaceRe.test(ch)) {\n                if (index > 2) {\n                  index--;\n                  break;\n                } else {\n                  while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                    index++;\n                  if (index > 2) break;\n                }\n              }\n            }\n          }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n      };\n\n      this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n          var l = this.doc.getLength();\n          do {\n            row++;\n            rightOfCursor = this.doc.getLine(row);\n          } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n          if (!/^\\s+/.test(rightOfCursor)) rightOfCursor = \"\";\n          column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n      };\n\n      this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if ((fold = this.session.getFoldAt(row, column, -1)))\n          return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n          do {\n            row--;\n            line = this.doc.getLine(row);\n          } while (row > 0 && /^\\s*$/.test(line));\n\n          column = line.length;\n          if (!/\\s+$/.test(line)) line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n      };\n\n      this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords) this.moveCursorLongWordRight();\n        else this.moveCursorShortWordRight();\n      };\n\n      this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords) this.moveCursorLongWordLeft();\n        else this.moveCursorShortWordLeft();\n      };\n      this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n          this.lead.row,\n          this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n          if (rows !== 0) {\n            if (\n              this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)\n            ) {\n              offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n              screenPos.column = Math.round(\n                offsetX / this.session.$bidiHandler.charWidths[0]\n              );\n            } else {\n              offsetX =\n                screenPos.column * this.session.$bidiHandler.charWidths[0];\n            }\n          }\n\n          if (this.$desiredColumn) screenPos.column = this.$desiredColumn;\n          else this.$desiredColumn = screenPos.column;\n        }\n\n        var docPos = this.session.screenToDocumentPosition(\n          screenPos.row + rows,\n          screenPos.column,\n          offsetX\n        );\n\n        if (\n          rows !== 0 &&\n          chars === 0 &&\n          docPos.row === this.lead.row &&\n          docPos.column === this.lead.column\n        ) {\n          if (\n            this.session.lineWidgets &&\n            this.session.lineWidgets[docPos.row]\n          ) {\n            if (docPos.row > 0 || rows > 0) docPos.row++;\n          }\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n      };\n      this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n      };\n      this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n          row = fold.start.row;\n          column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (\n          /[\\uDC00-\\uDFFF]/.test(line.charAt(column)) &&\n          line.charAt(column - 1)\n        ) {\n          if (this.lead.row == row && this.lead.column == column + 1)\n            column = column - 1;\n          else column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn) this.$desiredColumn = null;\n      };\n      this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n      };\n      this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n      };\n\n      this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n      };\n\n      this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n          range.start.column = r.start.column;\n          range.start.row = r.start.row;\n          range.end.column = r.end.column;\n          range.end.row = r.end.row;\n        } else {\n          range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n      };\n      this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n          func(this);\n          var end = this.getCursor();\n          return Range.fromPoints(start, end);\n        } catch (e) {\n          return Range.fromPoints(start, start);\n        } finally {\n          this.moveCursorToPosition(start);\n        }\n      };\n\n      this.toJSON = function() {\n        if (this.rangeCount) {\n          var data = this.ranges.map(function(r) {\n            var r1 = r.clone();\n            r1.isBackwards = r.cursor == r.start;\n            return r1;\n          });\n        } else {\n          var data = this.getRange();\n          data.isBackwards = this.isBackwards();\n        }\n        return data;\n      };\n\n      this.fromJSON = function(data) {\n        if (data.start == undefined) {\n          if (this.rangeList) {\n            this.toSingleRange(data[0]);\n            for (var i = data.length; i--; ) {\n              var r = Range.fromPoints(data[i].start, data[i].end);\n              if (data[i].isBackwards) r.cursor = r.start;\n              this.addRange(r, true);\n            }\n            return;\n          } else {\n            data = data[0];\n          }\n        }\n        if (this.rangeList) this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n      };\n\n      this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n          return false;\n        if (!data.length || !this.ranges) return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n          if (!this.ranges[i].isEqual(data[i])) return false;\n        }\n        return true;\n      };\n    }.call(Selection.prototype));\n\n    exports.Selection = Selection;\n  }\n);\n\nace.define(\n  \"ace/tokenizer\",\n  [\"require\", \"exports\", \"module\", \"ace/config\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var config = require(\"./config\");\n    var MAX_TOKEN_COUNT = 2000;\n    var Tokenizer = function(rules) {\n      this.states = rules;\n\n      this.regExps = {};\n      this.matchMappings = {};\n      for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = (this.matchMappings[key] = { defaultToken: \"text\" });\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n          var rule = state[i];\n          if (rule.defaultToken) mapping.defaultToken = rule.defaultToken;\n          if (rule.caseInsensitive) flag = \"gi\";\n          if (rule.regex == null) continue;\n\n          if (rule.regex instanceof RegExp)\n            rule.regex = rule.regex.toString().slice(1, -1);\n          var adjustedregex = rule.regex;\n          var matchcount =\n            new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n          if (Array.isArray(rule.token)) {\n            if (rule.token.length == 1 || matchcount == 1) {\n              rule.token = rule.token[0];\n            } else if (matchcount - 1 != rule.token.length) {\n              this.reportError(\n                \"number of classes and regexp groups doesn't match\",\n                {\n                  rule: rule,\n                  groupCount: matchcount - 1\n                }\n              );\n              rule.token = rule.token[0];\n            } else {\n              rule.tokenArray = rule.token;\n              rule.token = null;\n              rule.onMatch = this.$arrayTokens;\n            }\n          } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n            if (matchcount > 1) rule.onMatch = this.$applyToken;\n            else rule.onMatch = rule.token;\n          }\n\n          if (matchcount > 1) {\n            if (/\\\\\\d/.test(rule.regex)) {\n              adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(\n                match,\n                digit\n              ) {\n                return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n              });\n            } else {\n              matchcount = 1;\n              adjustedregex = this.removeCapturingGroups(rule.regex);\n            }\n            if (!rule.splitRegex && typeof rule.token != \"string\")\n              splitterRurles.push(rule); // flag will be known only at the very end\n          }\n\n          mapping[matchTotal] = i;\n          matchTotal += matchcount;\n\n          ruleRegExps.push(adjustedregex);\n          if (!rule.onMatch) rule.onMatch = null;\n        }\n\n        if (!ruleRegExps.length) {\n          mapping[0] = 0;\n          ruleRegExps.push(\"$\");\n        }\n\n        splitterRurles.forEach(function(rule) {\n          rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\n          \"(\" + ruleRegExps.join(\")|(\") + \")|($)\",\n          flag\n        );\n      }\n    };\n\n    (function() {\n      this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n      };\n\n      this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\") return [{ type: types, value: str }];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n          if (values[i])\n            tokens[tokens.length] = {\n              type: types[i],\n              value: values[i]\n            };\n        }\n        return tokens;\n      };\n\n      this.$arrayTokens = function(str) {\n        if (!str) return [];\n        var values = this.splitRegex.exec(str);\n        if (!values) return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n          if (values[i + 1])\n            tokens[tokens.length] = {\n              type: types[i],\n              value: values[i + 1]\n            };\n        }\n        return tokens;\n      };\n\n      this.removeCapturingGroups = function(src) {\n        var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g, function(\n          x,\n          y\n        ) {\n          return y ? \"(?:\" : x;\n        });\n        return r;\n      };\n\n      this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n          var stack = 0;\n          var inChClass = false;\n          var lastCapture = {};\n          src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n            m,\n            esc,\n            parenOpen,\n            parenClose,\n            square,\n            index\n          ) {\n            if (inChClass) {\n              inChClass = square != \"]\";\n            } else if (square) {\n              inChClass = true;\n            } else if (parenClose) {\n              if (stack == lastCapture.stack) {\n                lastCapture.end = index + 1;\n                lastCapture.stack = -1;\n              }\n              stack--;\n            } else if (parenOpen) {\n              stack++;\n              if (parenOpen.length != 1) {\n                lastCapture.stack = stack;\n                lastCapture.start = index;\n              }\n            }\n            return m;\n          });\n\n          if (\n            lastCapture.end != null &&\n            /^\\)*$/.test(src.substr(lastCapture.end))\n          )\n            src =\n              src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n\n        return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n      };\n      this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n          var stack = startState.slice(0);\n          startState = stack[0];\n          if (startState === \"#tmp\") {\n            stack.shift();\n            startState = stack.shift();\n          }\n        } else var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n          currentState = \"start\";\n          state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match,\n          tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = { type: null, value: \"\" };\n\n        while ((match = re.exec(line))) {\n          var type = mapping.defaultToken;\n          var rule = null;\n          var value = match[0];\n          var index = re.lastIndex;\n\n          if (index - value.length > lastIndex) {\n            var skipped = line.substring(lastIndex, index - value.length);\n            if (token.type == type) {\n              token.value += skipped;\n            } else {\n              if (token.type) tokens.push(token);\n              token = { type: type, value: skipped };\n            }\n          }\n\n          for (var i = 0; i < match.length - 2; i++) {\n            if (match[i + 1] === undefined) continue;\n\n            rule = state[mapping[i]];\n\n            if (rule.onMatch)\n              type = rule.onMatch(value, currentState, stack, line);\n            else type = rule.token;\n\n            if (rule.next) {\n              if (typeof rule.next == \"string\") {\n                currentState = rule.next;\n              } else {\n                currentState = rule.next(currentState, stack);\n              }\n\n              state = this.states[currentState];\n              if (!state) {\n                this.reportError(\"state doesn't exist\", currentState);\n                currentState = \"start\";\n                state = this.states[currentState];\n              }\n              mapping = this.matchMappings[currentState];\n              lastIndex = index;\n              re = this.regExps[currentState];\n              re.lastIndex = index;\n            }\n            if (rule.consumeLineEnd) lastIndex = index;\n            break;\n          }\n\n          if (value) {\n            if (typeof type === \"string\") {\n              if ((!rule || rule.merge !== false) && token.type === type) {\n                token.value += value;\n              } else {\n                if (token.type) tokens.push(token);\n                token = { type: type, value: value };\n              }\n            } else if (type) {\n              if (token.type) tokens.push(token);\n              token = { type: null, value: \"\" };\n              for (var i = 0; i < type.length; i++) tokens.push(type[i]);\n            }\n          }\n\n          if (lastIndex == line.length) break;\n\n          lastIndex = index;\n\n          if (matchAttempts++ > MAX_TOKEN_COUNT) {\n            if (matchAttempts > 2 * line.length) {\n              this.reportError(\"infinite loop with in ace tokenizer\", {\n                startState: startState,\n                line: line\n              });\n            }\n            while (lastIndex < line.length) {\n              if (token.type) tokens.push(token);\n              token = {\n                value: line.substring(lastIndex, (lastIndex += 2000)),\n                type: \"overflow\"\n              };\n            }\n            currentState = \"start\";\n            stack = [];\n            break;\n          }\n        }\n\n        if (token.type) tokens.push(token);\n\n        if (stack.length > 1) {\n          if (stack[0] !== currentState) stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n          tokens: tokens,\n          state: stack.length ? stack : currentState\n        };\n      };\n\n      this.reportError = config.reportError;\n    }.call(Tokenizer.prototype));\n\n    exports.Tokenizer = Tokenizer;\n  }\n);\n\nace.define(\n  \"ace/mode/text_highlight_rules\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/lang\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var lang = require(\"../lib/lang\");\n\n    var TextHighlightRules = function() {\n      this.$rules = {\n        start: [\n          {\n            token: \"empty_line\",\n            regex: \"^$\"\n          },\n          {\n            defaultToken: \"text\"\n          }\n        ]\n      };\n    };\n\n    (function() {\n      this.addRules = function(rules, prefix) {\n        if (!prefix) {\n          for (var key in rules) this.$rules[key] = rules[key];\n          return;\n        }\n        for (var key in rules) {\n          var state = rules[key];\n          for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.next || rule.onMatch) {\n              if (typeof rule.next == \"string\") {\n                if (rule.next.indexOf(prefix) !== 0)\n                  rule.next = prefix + rule.next;\n              }\n              if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                rule.nextState = prefix + rule.nextState;\n            }\n          }\n          this.$rules[prefix + key] = state;\n        }\n      };\n\n      this.getRules = function() {\n        return this.$rules;\n      };\n\n      this.embedRules = function(\n        HighlightRules,\n        prefix,\n        escapeRules,\n        states,\n        append\n      ) {\n        var embedRules =\n          typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n          for (var i = 0; i < states.length; i++)\n            states[i] = prefix + states[i];\n        } else {\n          states = [];\n          for (var key in embedRules) states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n          var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n          for (var i = 0; i < states.length; i++)\n            addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds) this.$embeds = [];\n        this.$embeds.push(prefix);\n      };\n\n      this.getEmbeds = function() {\n        return this.$embeds;\n      };\n\n      var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n          stack.unshift(this.nextState, currentState);\n        return this.nextState;\n      };\n      var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n      };\n\n      this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n          var state = rules[key];\n          state.processed = true;\n          for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            var toInsert = null;\n            if (Array.isArray(rule)) {\n              toInsert = rule;\n              rule = {};\n            }\n            if (!rule.regex && rule.start) {\n              rule.regex = rule.start;\n              if (!rule.next) rule.next = [];\n              rule.next.push(\n                {\n                  defaultToken: rule.token\n                },\n                {\n                  token: rule.token + \".end\",\n                  regex: rule.end || rule.start,\n                  next: \"pop\"\n                }\n              );\n              rule.token = rule.token + \".start\";\n              rule.push = true;\n            }\n            var next = rule.next || rule.push;\n            if (next && Array.isArray(next)) {\n              var stateName = rule.stateName;\n              if (!stateName) {\n                stateName = rule.token;\n                if (typeof stateName != \"string\")\n                  stateName = stateName[0] || \"\";\n                if (rules[stateName]) stateName += id++;\n              }\n              rules[stateName] = next;\n              rule.next = stateName;\n              processState(stateName);\n            } else if (next == \"pop\") {\n              rule.next = popState;\n            }\n\n            if (rule.push) {\n              rule.nextState = rule.next || rule.push;\n              rule.next = pushState;\n              delete rule.push;\n            }\n\n            if (rule.rules) {\n              for (var r in rule.rules) {\n                if (rules[r]) {\n                  if (rules[r].push)\n                    rules[r].push.apply(rules[r], rule.rules[r]);\n                } else {\n                  rules[r] = rule.rules[r];\n                }\n              }\n            }\n            var includeName = typeof rule == \"string\" ? rule : rule.include;\n            if (includeName) {\n              if (Array.isArray(includeName))\n                toInsert = includeName.map(function(x) {\n                  return rules[x];\n                });\n              else toInsert = rules[includeName];\n            }\n\n            if (toInsert) {\n              var args = [i, 1].concat(toInsert);\n              if (rule.noEscape)\n                args = args.filter(function(x) {\n                  return !x.next;\n                });\n              state.splice.apply(state, args);\n              i--;\n            }\n\n            if (rule.keywordMap) {\n              rule.token = this.createKeywordMapper(\n                rule.keywordMap,\n                rule.defaultToken || \"text\",\n                rule.caseInsensitive\n              );\n              delete rule.defaultToken;\n            }\n          }\n        }\n        Object.keys(rules).forEach(processState, this);\n      };\n\n      this.createKeywordMapper = function(\n        map,\n        defaultToken,\n        ignoreCase,\n        splitChar\n      ) {\n        var keywords = Object.create(null);\n        Object.keys(map).forEach(function(className) {\n          var a = map[className];\n          if (ignoreCase) a = a.toLowerCase();\n          var list = a.split(splitChar || \"|\");\n          for (var i = list.length; i--; ) keywords[list[i]] = className;\n        });\n        if (Object.getPrototypeOf(keywords)) {\n          keywords.__proto__ = null;\n        }\n        this.$keywordList = Object.keys(keywords);\n        map = null;\n        return ignoreCase\n          ? function(value) {\n              return keywords[value.toLowerCase()] || defaultToken;\n            }\n          : function(value) {\n              return keywords[value] || defaultToken;\n            };\n      };\n\n      this.getKeywords = function() {\n        return this.$keywords;\n      };\n    }.call(TextHighlightRules.prototype));\n\n    exports.TextHighlightRules = TextHighlightRules;\n  }\n);\n\nace.define(\"ace/mode/behaviour\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  var Behaviour = function() {\n    this.$behaviours = {};\n  };\n\n  (function() {\n    this.add = function(name, action, callback) {\n      switch (undefined) {\n        case this.$behaviours:\n          this.$behaviours = {};\n        case this.$behaviours[name]:\n          this.$behaviours[name] = {};\n      }\n      this.$behaviours[name][action] = callback;\n    };\n\n    this.addBehaviours = function(behaviours) {\n      for (var key in behaviours) {\n        for (var action in behaviours[key]) {\n          this.add(key, action, behaviours[key][action]);\n        }\n      }\n    };\n\n    this.remove = function(name) {\n      if (this.$behaviours && this.$behaviours[name]) {\n        delete this.$behaviours[name];\n      }\n    };\n\n    this.inherit = function(mode, filter) {\n      if (typeof mode === \"function\") {\n        var behaviours = new mode().getBehaviours(filter);\n      } else {\n        var behaviours = mode.getBehaviours(filter);\n      }\n      this.addBehaviours(behaviours);\n    };\n\n    this.getBehaviours = function(filter) {\n      if (!filter) {\n        return this.$behaviours;\n      } else {\n        var ret = {};\n        for (var i = 0; i < filter.length; i++) {\n          if (this.$behaviours[filter[i]]) {\n            ret[filter[i]] = this.$behaviours[filter[i]];\n          }\n        }\n        return ret;\n      }\n    };\n  }.call(Behaviour.prototype));\n\n  exports.Behaviour = Behaviour;\n});\n\nace.define(\n  \"ace/token_iterator\",\n  [\"require\", \"exports\", \"module\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"./range\").Range;\n    var TokenIterator = function(session, initialRow, initialColumn) {\n      this.$session = session;\n      this.$row = initialRow;\n      this.$rowTokens = session.getTokens(initialRow);\n\n      var token = session.getTokenAt(initialRow, initialColumn);\n      this.$tokenIndex = token ? token.index : -1;\n    };\n\n    (function() {\n      this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n\n        while (this.$tokenIndex < 0) {\n          this.$row -= 1;\n          if (this.$row < 0) {\n            this.$row = 0;\n            return null;\n          }\n\n          this.$rowTokens = this.$session.getTokens(this.$row);\n          this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n\n        return this.$rowTokens[this.$tokenIndex];\n      };\n      this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n          this.$row += 1;\n          if (!rowCount) rowCount = this.$session.getLength();\n          if (this.$row >= rowCount) {\n            this.$row = rowCount - 1;\n            return null;\n          }\n\n          this.$rowTokens = this.$session.getTokens(this.$row);\n          this.$tokenIndex = 0;\n        }\n\n        return this.$rowTokens[this.$tokenIndex];\n      };\n      this.getCurrentToken = function() {\n        return this.$rowTokens[this.$tokenIndex];\n      };\n      this.getCurrentTokenRow = function() {\n        return this.$row;\n      };\n      this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined) return column;\n\n        column = 0;\n        while (tokenIndex > 0) {\n          tokenIndex -= 1;\n          column += rowTokens[tokenIndex].value.length;\n        }\n\n        return column;\n      };\n      this.getCurrentTokenPosition = function() {\n        return { row: this.$row, column: this.getCurrentTokenColumn() };\n      };\n      this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(\n          this.$row,\n          column,\n          this.$row,\n          column + token.value.length\n        );\n      };\n    }.call(TokenIterator.prototype));\n\n    exports.TokenIterator = TokenIterator;\n  }\n);\n\nace.define(\n  \"ace/mode/behaviour/cstyle\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/mode/behaviour\",\n    \"ace/token_iterator\",\n    \"ace/lib/lang\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"../../lib/oop\");\n    var Behaviour = require(\"../behaviour\").Behaviour;\n    var TokenIterator = require(\"../../token_iterator\").TokenIterator;\n    var lang = require(\"../../lib/lang\");\n\n    var SAFE_INSERT_IN_TOKENS = [\n      \"text\",\n      \"paren.rparen\",\n      \"punctuation.operator\"\n    ];\n    var SAFE_INSERT_BEFORE_TOKENS = [\n      \"text\",\n      \"paren.rparen\",\n      \"punctuation.operator\",\n      \"comment\"\n    ];\n\n    var context;\n    var contextCache = {};\n    var defaultQuotes = { '\"': '\"', \"'\": \"'\" };\n\n    var initContext = function(editor) {\n      var id = -1;\n      if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n          contextCache = { rangeCount: editor.multiSelect.rangeCount };\n      }\n      if (contextCache[id]) return (context = contextCache[id]);\n      context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n      };\n    };\n\n    var getWrapped = function(selection, selected, opening, closing) {\n      var rowDiff = selection.end.row - selection.start.row;\n      return {\n        text: opening + selected + closing,\n        selection: [\n          0,\n          selection.start.column + 1,\n          rowDiff,\n          selection.end.column + (rowDiff ? 0 : 1)\n        ]\n      };\n    };\n\n    var CstyleBehaviour = function(options) {\n      this.add(\"braces\", \"insertion\", function(\n        state,\n        action,\n        editor,\n        session,\n        text\n      ) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == \"{\") {\n          initContext(editor);\n          var selection = editor.getSelectionRange();\n          var selected = session.doc.getTextRange(selection);\n          if (\n            selected !== \"\" &&\n            selected !== \"{\" &&\n            editor.getWrapBehavioursEnabled()\n          ) {\n            return getWrapped(selection, selected, \"{\", \"}\");\n          } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n            if (\n              /[\\]\\}\\)]/.test(line[cursor.column]) ||\n              editor.inMultiSelectMode ||\n              (options && options.braces)\n            ) {\n              CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n              return {\n                text: \"{}\",\n                selection: [1, 1]\n              };\n            } else {\n              CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n              return {\n                text: \"{\",\n                selection: [1, 1]\n              };\n            }\n          }\n        } else if (text == \"}\") {\n          initContext(editor);\n          var rightChar = line.substring(cursor.column, cursor.column + 1);\n          if (rightChar == \"}\") {\n            var matching = session.$findOpeningBracket(\"}\", {\n              column: cursor.column + 1,\n              row: cursor.row\n            });\n            if (\n              matching !== null &&\n              CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)\n            ) {\n              CstyleBehaviour.popAutoInsertedClosing();\n              return {\n                text: \"\",\n                selection: [1, 1]\n              };\n            }\n          }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n          initContext(editor);\n          var closing = \"\";\n          if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n            closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n            CstyleBehaviour.clearMaybeInsertedClosing();\n          }\n          var rightChar = line.substring(cursor.column, cursor.column + 1);\n          if (rightChar === \"}\") {\n            var openBracePos = session.findMatchingBracket(\n              { row: cursor.row, column: cursor.column + 1 },\n              \"}\"\n            );\n            if (!openBracePos) return null;\n            var next_indent = this.$getIndent(\n              session.getLine(openBracePos.row)\n            );\n          } else if (closing) {\n            var next_indent = this.$getIndent(line);\n          } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n            return;\n          }\n          var indent = next_indent + session.getTabString();\n\n          return {\n            text: \"\\n\" + indent + \"\\n\" + next_indent + closing,\n            selection: [1, indent.length, 1, indent.length]\n          };\n        } else {\n          CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n      });\n\n      this.add(\"braces\", \"deletion\", function(\n        state,\n        action,\n        editor,\n        session,\n        range\n      ) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == \"{\") {\n          initContext(editor);\n          var line = session.doc.getLine(range.start.row);\n          var rightChar = line.substring(\n            range.end.column,\n            range.end.column + 1\n          );\n          if (rightChar == \"}\") {\n            range.end.column++;\n            return range;\n          } else {\n            context.maybeInsertedBrackets--;\n          }\n        }\n      });\n\n      this.add(\"parens\", \"insertion\", function(\n        state,\n        action,\n        editor,\n        session,\n        text\n      ) {\n        if (text == \"(\") {\n          initContext(editor);\n          var selection = editor.getSelectionRange();\n          var selected = session.doc.getTextRange(selection);\n          if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n            return getWrapped(selection, selected, \"(\", \")\");\n          } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n            CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n            return {\n              text: \"()\",\n              selection: [1, 1]\n            };\n          }\n        } else if (text == \")\") {\n          initContext(editor);\n          var cursor = editor.getCursorPosition();\n          var line = session.doc.getLine(cursor.row);\n          var rightChar = line.substring(cursor.column, cursor.column + 1);\n          if (rightChar == \")\") {\n            var matching = session.$findOpeningBracket(\")\", {\n              column: cursor.column + 1,\n              row: cursor.row\n            });\n            if (\n              matching !== null &&\n              CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)\n            ) {\n              CstyleBehaviour.popAutoInsertedClosing();\n              return {\n                text: \"\",\n                selection: [1, 1]\n              };\n            }\n          }\n        }\n      });\n\n      this.add(\"parens\", \"deletion\", function(\n        state,\n        action,\n        editor,\n        session,\n        range\n      ) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == \"(\") {\n          initContext(editor);\n          var line = session.doc.getLine(range.start.row);\n          var rightChar = line.substring(\n            range.start.column + 1,\n            range.start.column + 2\n          );\n          if (rightChar == \")\") {\n            range.end.column++;\n            return range;\n          }\n        }\n      });\n\n      this.add(\"brackets\", \"insertion\", function(\n        state,\n        action,\n        editor,\n        session,\n        text\n      ) {\n        if (text == \"[\") {\n          initContext(editor);\n          var selection = editor.getSelectionRange();\n          var selected = session.doc.getTextRange(selection);\n          if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n            return getWrapped(selection, selected, \"[\", \"]\");\n          } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n            CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n            return {\n              text: \"[]\",\n              selection: [1, 1]\n            };\n          }\n        } else if (text == \"]\") {\n          initContext(editor);\n          var cursor = editor.getCursorPosition();\n          var line = session.doc.getLine(cursor.row);\n          var rightChar = line.substring(cursor.column, cursor.column + 1);\n          if (rightChar == \"]\") {\n            var matching = session.$findOpeningBracket(\"]\", {\n              column: cursor.column + 1,\n              row: cursor.row\n            });\n            if (\n              matching !== null &&\n              CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)\n            ) {\n              CstyleBehaviour.popAutoInsertedClosing();\n              return {\n                text: \"\",\n                selection: [1, 1]\n              };\n            }\n          }\n        }\n      });\n\n      this.add(\"brackets\", \"deletion\", function(\n        state,\n        action,\n        editor,\n        session,\n        range\n      ) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == \"[\") {\n          initContext(editor);\n          var line = session.doc.getLine(range.start.row);\n          var rightChar = line.substring(\n            range.start.column + 1,\n            range.start.column + 2\n          );\n          if (rightChar == \"]\") {\n            range.end.column++;\n            return range;\n          }\n        }\n      });\n\n      this.add(\"string_dquotes\", \"insertion\", function(\n        state,\n        action,\n        editor,\n        session,\n        text\n      ) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n          if (\n            this.lineCommentStart &&\n            this.lineCommentStart.indexOf(text) != -1\n          )\n            return;\n          initContext(editor);\n          var quote = text;\n          var selection = editor.getSelectionRange();\n          var selected = session.doc.getTextRange(selection);\n          if (\n            selected !== \"\" &&\n            (selected.length != 1 || !quotes[selected]) &&\n            editor.getWrapBehavioursEnabled()\n          ) {\n            return getWrapped(selection, selected, quote, quote);\n          } else if (!selected) {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var leftChar = line.substring(cursor.column - 1, cursor.column);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n            var token = session.getTokenAt(cursor.row, cursor.column);\n            var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n            if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n              return null;\n\n            var stringBefore = token && /string|escape/.test(token.type);\n            var stringAfter =\n              !rightToken || /string|escape/.test(rightToken.type);\n\n            var pair;\n            if (rightChar == quote) {\n              pair = stringBefore !== stringAfter;\n              if (pair && /string\\.end/.test(rightToken.type)) pair = false;\n            } else {\n              if (stringBefore && !stringAfter) return null; // wrap string with different quote\n              if (stringBefore && stringAfter) return null; // do not pair quotes inside strings\n              var wordRe = session.$mode.tokenRe;\n              wordRe.lastIndex = 0;\n              var isWordBefore = wordRe.test(leftChar);\n              wordRe.lastIndex = 0;\n              var isWordAfter = wordRe.test(leftChar);\n              if (isWordBefore || isWordAfter) return null; // before or after alphanumeric\n              if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar)) return null; // there is rightChar and it isn't closing\n              pair = true;\n            }\n            return {\n              text: pair ? quote + quote : \"\",\n              selection: [1, 1]\n            };\n          }\n        }\n      });\n\n      this.add(\"string_dquotes\", \"deletion\", function(\n        state,\n        action,\n        editor,\n        session,\n        range\n      ) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n          initContext(editor);\n          var line = session.doc.getLine(range.start.row);\n          var rightChar = line.substring(\n            range.start.column + 1,\n            range.start.column + 2\n          );\n          if (rightChar == selected) {\n            range.end.column++;\n            return range;\n          }\n        }\n      });\n    };\n\n    CstyleBehaviour.isSaneInsertion = function(editor, session) {\n      var cursor = editor.getCursorPosition();\n      var iterator = new TokenIterator(session, cursor.row, cursor.column);\n      if (\n        !this.$matchTokenType(\n          iterator.getCurrentToken() || \"text\",\n          SAFE_INSERT_IN_TOKENS\n        )\n      ) {\n        var iterator2 = new TokenIterator(\n          session,\n          cursor.row,\n          cursor.column + 1\n        );\n        if (\n          !this.$matchTokenType(\n            iterator2.getCurrentToken() || \"text\",\n            SAFE_INSERT_IN_TOKENS\n          )\n        )\n          return false;\n      }\n      iterator.stepForward();\n      return (\n        iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(\n          iterator.getCurrentToken() || \"text\",\n          SAFE_INSERT_BEFORE_TOKENS\n        )\n      );\n    };\n\n    CstyleBehaviour.$matchTokenType = function(token, types) {\n      return types.indexOf(token.type || token) > -1;\n    };\n\n    CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n      var cursor = editor.getCursorPosition();\n      var line = session.doc.getLine(cursor.row);\n      if (\n        !this.isAutoInsertedClosing(\n          cursor,\n          line,\n          context.autoInsertedLineEnd[0]\n        )\n      )\n        context.autoInsertedBrackets = 0;\n      context.autoInsertedRow = cursor.row;\n      context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n      context.autoInsertedBrackets++;\n    };\n\n    CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n      var cursor = editor.getCursorPosition();\n      var line = session.doc.getLine(cursor.row);\n      if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n      context.maybeInsertedRow = cursor.row;\n      context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n      context.maybeInsertedLineEnd = line.substr(cursor.column);\n      context.maybeInsertedBrackets++;\n    };\n\n    CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n      return (\n        context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd\n      );\n    };\n\n    CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n      return (\n        context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart\n      );\n    };\n\n    CstyleBehaviour.popAutoInsertedClosing = function() {\n      context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n      context.autoInsertedBrackets--;\n    };\n\n    CstyleBehaviour.clearMaybeInsertedClosing = function() {\n      if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n      }\n    };\n\n    oop.inherits(CstyleBehaviour, Behaviour);\n\n    exports.CstyleBehaviour = CstyleBehaviour;\n  }\n);\n\nace.define(\"ace/unicode\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n  var wordChars = [\n    48,\n    9,\n    8,\n    25,\n    5,\n    0,\n    2,\n    25,\n    48,\n    0,\n    11,\n    0,\n    5,\n    0,\n    6,\n    22,\n    2,\n    30,\n    2,\n    457,\n    5,\n    11,\n    15,\n    4,\n    8,\n    0,\n    2,\n    0,\n    18,\n    116,\n    2,\n    1,\n    3,\n    3,\n    9,\n    0,\n    2,\n    2,\n    2,\n    0,\n    2,\n    19,\n    2,\n    82,\n    2,\n    138,\n    2,\n    4,\n    3,\n    155,\n    12,\n    37,\n    3,\n    0,\n    8,\n    38,\n    10,\n    44,\n    2,\n    0,\n    2,\n    1,\n    2,\n    1,\n    2,\n    0,\n    9,\n    26,\n    6,\n    2,\n    30,\n    10,\n    7,\n    61,\n    2,\n    9,\n    5,\n    101,\n    2,\n    7,\n    3,\n    9,\n    2,\n    18,\n    3,\n    0,\n    17,\n    58,\n    3,\n    100,\n    15,\n    53,\n    5,\n    0,\n    6,\n    45,\n    211,\n    57,\n    3,\n    18,\n    2,\n    5,\n    3,\n    11,\n    3,\n    9,\n    2,\n    1,\n    7,\n    6,\n    2,\n    2,\n    2,\n    7,\n    3,\n    1,\n    3,\n    21,\n    2,\n    6,\n    2,\n    0,\n    4,\n    3,\n    3,\n    8,\n    3,\n    1,\n    3,\n    3,\n    9,\n    0,\n    5,\n    1,\n    2,\n    4,\n    3,\n    11,\n    16,\n    2,\n    2,\n    5,\n    5,\n    1,\n    3,\n    21,\n    2,\n    6,\n    2,\n    1,\n    2,\n    1,\n    2,\n    1,\n    3,\n    0,\n    2,\n    4,\n    5,\n    1,\n    3,\n    2,\n    4,\n    0,\n    8,\n    3,\n    2,\n    0,\n    8,\n    15,\n    12,\n    2,\n    2,\n    8,\n    2,\n    2,\n    2,\n    21,\n    2,\n    6,\n    2,\n    1,\n    2,\n    4,\n    3,\n    9,\n    2,\n    2,\n    2,\n    2,\n    3,\n    0,\n    16,\n    3,\n    3,\n    9,\n    18,\n    2,\n    2,\n    7,\n    3,\n    1,\n    3,\n    21,\n    2,\n    6,\n    2,\n    1,\n    2,\n    4,\n    3,\n    8,\n    3,\n    1,\n    3,\n    2,\n    9,\n    1,\n    5,\n    1,\n    2,\n    4,\n    3,\n    9,\n    2,\n    0,\n    17,\n    1,\n    2,\n    5,\n    4,\n    2,\n    2,\n    3,\n    4,\n    1,\n    2,\n    0,\n    2,\n    1,\n    4,\n    1,\n    4,\n    2,\n    4,\n    11,\n    5,\n    4,\n    4,\n    2,\n    2,\n    3,\n    3,\n    0,\n    7,\n    0,\n    15,\n    9,\n    18,\n    2,\n    2,\n    7,\n    2,\n    2,\n    2,\n    22,\n    2,\n    9,\n    2,\n    4,\n    4,\n    7,\n    2,\n    2,\n    2,\n    3,\n    8,\n    1,\n    2,\n    1,\n    7,\n    3,\n    3,\n    9,\n    19,\n    1,\n    2,\n    7,\n    2,\n    2,\n    2,\n    22,\n    2,\n    9,\n    2,\n    4,\n    3,\n    8,\n    2,\n    2,\n    2,\n    3,\n    8,\n    1,\n    8,\n    0,\n    2,\n    3,\n    3,\n    9,\n    19,\n    1,\n    2,\n    7,\n    2,\n    2,\n    2,\n    22,\n    2,\n    15,\n    4,\n    7,\n    2,\n    2,\n    2,\n    3,\n    10,\n    0,\n    9,\n    3,\n    3,\n    9,\n    11,\n    5,\n    3,\n    1,\n    2,\n    17,\n    4,\n    23,\n    2,\n    8,\n    2,\n    0,\n    3,\n    6,\n    4,\n    0,\n    5,\n    5,\n    2,\n    0,\n    2,\n    7,\n    19,\n    1,\n    14,\n    57,\n    6,\n    14,\n    2,\n    9,\n    40,\n    1,\n    2,\n    0,\n    3,\n    1,\n    2,\n    0,\n    3,\n    0,\n    7,\n    3,\n    2,\n    6,\n    2,\n    2,\n    2,\n    0,\n    2,\n    0,\n    3,\n    1,\n    2,\n    12,\n    2,\n    2,\n    3,\n    4,\n    2,\n    0,\n    2,\n    5,\n    3,\n    9,\n    3,\n    1,\n    35,\n    0,\n    24,\n    1,\n    7,\n    9,\n    12,\n    0,\n    2,\n    0,\n    2,\n    0,\n    5,\n    9,\n    2,\n    35,\n    5,\n    19,\n    2,\n    5,\n    5,\n    7,\n    2,\n    35,\n    10,\n    0,\n    58,\n    73,\n    7,\n    77,\n    3,\n    37,\n    11,\n    42,\n    2,\n    0,\n    4,\n    328,\n    2,\n    3,\n    3,\n    6,\n    2,\n    0,\n    2,\n    3,\n    3,\n    40,\n    2,\n    3,\n    3,\n    32,\n    2,\n    3,\n    3,\n    6,\n    2,\n    0,\n    2,\n    3,\n    3,\n    14,\n    2,\n    56,\n    2,\n    3,\n    3,\n    66,\n    5,\n    0,\n    33,\n    15,\n    17,\n    84,\n    13,\n    619,\n    3,\n    16,\n    2,\n    25,\n    6,\n    74,\n    22,\n    12,\n    2,\n    6,\n    12,\n    20,\n    12,\n    19,\n    13,\n    12,\n    2,\n    2,\n    2,\n    1,\n    13,\n    51,\n    3,\n    29,\n    4,\n    0,\n    5,\n    1,\n    3,\n    9,\n    34,\n    2,\n    3,\n    9,\n    7,\n    87,\n    9,\n    42,\n    6,\n    69,\n    11,\n    28,\n    4,\n    11,\n    5,\n    11,\n    11,\n    39,\n    3,\n    4,\n    12,\n    43,\n    5,\n    25,\n    7,\n    10,\n    38,\n    27,\n    5,\n    62,\n    2,\n    28,\n    3,\n    10,\n    7,\n    9,\n    14,\n    0,\n    89,\n    75,\n    5,\n    9,\n    18,\n    8,\n    13,\n    42,\n    4,\n    11,\n    71,\n    55,\n    9,\n    9,\n    4,\n    48,\n    83,\n    2,\n    2,\n    30,\n    14,\n    230,\n    23,\n    280,\n    3,\n    5,\n    3,\n    37,\n    3,\n    5,\n    3,\n    7,\n    2,\n    0,\n    2,\n    0,\n    2,\n    0,\n    2,\n    30,\n    3,\n    52,\n    2,\n    6,\n    2,\n    0,\n    4,\n    2,\n    2,\n    6,\n    4,\n    3,\n    3,\n    5,\n    5,\n    12,\n    6,\n    2,\n    2,\n    6,\n    67,\n    1,\n    20,\n    0,\n    29,\n    0,\n    14,\n    0,\n    17,\n    4,\n    60,\n    12,\n    5,\n    0,\n    4,\n    11,\n    18,\n    0,\n    5,\n    0,\n    3,\n    9,\n    2,\n    0,\n    4,\n    4,\n    7,\n    0,\n    2,\n    0,\n    2,\n    0,\n    2,\n    3,\n    2,\n    10,\n    3,\n    3,\n    6,\n    4,\n    5,\n    0,\n    53,\n    1,\n    2684,\n    46,\n    2,\n    46,\n    2,\n    132,\n    7,\n    6,\n    15,\n    37,\n    11,\n    53,\n    10,\n    0,\n    17,\n    22,\n    10,\n    6,\n    2,\n    6,\n    2,\n    6,\n    2,\n    6,\n    2,\n    6,\n    2,\n    6,\n    2,\n    6,\n    2,\n    6,\n    2,\n    31,\n    48,\n    0,\n    470,\n    1,\n    36,\n    5,\n    2,\n    4,\n    6,\n    1,\n    5,\n    85,\n    3,\n    1,\n    3,\n    2,\n    2,\n    89,\n    2,\n    3,\n    6,\n    40,\n    4,\n    93,\n    18,\n    23,\n    57,\n    15,\n    513,\n    6581,\n    75,\n    20939,\n    53,\n    1164,\n    68,\n    45,\n    3,\n    268,\n    4,\n    27,\n    21,\n    31,\n    3,\n    13,\n    13,\n    1,\n    2,\n    24,\n    9,\n    69,\n    11,\n    1,\n    38,\n    8,\n    3,\n    102,\n    3,\n    1,\n    111,\n    44,\n    25,\n    51,\n    13,\n    68,\n    12,\n    9,\n    7,\n    23,\n    4,\n    0,\n    5,\n    45,\n    3,\n    35,\n    13,\n    28,\n    4,\n    64,\n    15,\n    10,\n    39,\n    54,\n    10,\n    13,\n    3,\n    9,\n    7,\n    22,\n    4,\n    1,\n    5,\n    66,\n    25,\n    2,\n    227,\n    42,\n    2,\n    1,\n    3,\n    9,\n    7,\n    11171,\n    13,\n    22,\n    5,\n    48,\n    8453,\n    301,\n    3,\n    61,\n    3,\n    105,\n    39,\n    6,\n    13,\n    4,\n    6,\n    11,\n    2,\n    12,\n    2,\n    4,\n    2,\n    0,\n    2,\n    1,\n    2,\n    1,\n    2,\n    107,\n    34,\n    362,\n    19,\n    63,\n    3,\n    53,\n    41,\n    11,\n    5,\n    15,\n    17,\n    6,\n    13,\n    1,\n    25,\n    2,\n    33,\n    4,\n    2,\n    134,\n    20,\n    9,\n    8,\n    25,\n    5,\n    0,\n    2,\n    25,\n    12,\n    88,\n    4,\n    5,\n    3,\n    5,\n    3,\n    5,\n    3,\n    2\n  ];\n\n  var code = 0;\n  var str = [];\n  for (var i = 0; i < wordChars.length; i += 2) {\n    str.push((code += wordChars[i]));\n    if (wordChars[i + 1]) str.push(45, (code += wordChars[i + 1]));\n  }\n\n  exports.wordChars = String.fromCharCode.apply(null, str);\n});\n\nace.define(\n  \"ace/mode/text\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/config\",\n    \"ace/tokenizer\",\n    \"ace/mode/text_highlight_rules\",\n    \"ace/mode/behaviour/cstyle\",\n    \"ace/unicode\",\n    \"ace/lib/lang\",\n    \"ace/token_iterator\",\n    \"ace/range\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n    var config = require(\"../config\");\n\n    var Tokenizer = require(\"../tokenizer\").Tokenizer;\n    var TextHighlightRules = require(\"./text_highlight_rules\")\n      .TextHighlightRules;\n    var CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\n    var unicode = require(\"../unicode\");\n    var lang = require(\"../lib/lang\");\n    var TokenIterator = require(\"../token_iterator\").TokenIterator;\n    var Range = require(\"../range\").Range;\n\n    var Mode = function() {\n      this.HighlightRules = TextHighlightRules;\n    };\n\n    (function() {\n      this.$defaultBehaviour = new CstyleBehaviour();\n\n      this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n      this.nonTokenRe = new RegExp(\n        \"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\",\n        \"g\"\n      );\n\n      this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n          this.$highlightRules =\n            this.$highlightRules ||\n            new this.HighlightRules(this.$highlightRuleConfig);\n          this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n      };\n\n      this.lineCommentStart = \"\";\n      this.blockComment = \"\";\n\n      this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n          if (!this.blockComment) return false;\n          var lineCommentStart = this.blockComment.start;\n          var lineCommentEnd = this.blockComment.end;\n          var regexpStart = new RegExp(\n            \"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\"\n          );\n          var regexpEnd = new RegExp(\n            \"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\"\n          );\n\n          var comment = function(line, i) {\n            if (testRemove(line, i)) return;\n            if (!ignoreBlankLines || /\\S/.test(line)) {\n              doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n              doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n            }\n          };\n\n          var uncomment = function(line, i) {\n            var m;\n            if ((m = line.match(regexpEnd)))\n              doc.removeInLine(i, line.length - m[0].length, line.length);\n            if ((m = line.match(regexpStart)))\n              doc.removeInLine(i, m[1].length, m[0].length);\n          };\n\n          var testRemove = function(line, row) {\n            if (regexpStart.test(line)) return true;\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n              if (tokens[i].type === \"comment\") return true;\n            }\n          };\n        } else {\n          if (Array.isArray(this.lineCommentStart)) {\n            var regexpStart = this.lineCommentStart\n              .map(lang.escapeRegExp)\n              .join(\"|\");\n            var lineCommentStart = this.lineCommentStart[0];\n          } else {\n            var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n            var lineCommentStart = this.lineCommentStart;\n          }\n          regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n\n          insertAtTabStop = session.getUseSoftTabs();\n\n          var uncomment = function(line, i) {\n            var m = line.match(regexpStart);\n            if (!m) return;\n            var start = m[1].length,\n              end = m[0].length;\n            if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n              end--;\n            doc.removeInLine(i, start, end);\n          };\n          var commentWithSpace = lineCommentStart + \" \";\n          var comment = function(line, i) {\n            if (!ignoreBlankLines || /\\S/.test(line)) {\n              if (shouldInsertSpace(line, minIndent, minIndent))\n                doc.insertInLine(\n                  { row: i, column: minIndent },\n                  commentWithSpace\n                );\n              else\n                doc.insertInLine(\n                  { row: i, column: minIndent },\n                  lineCommentStart\n                );\n            }\n          };\n          var testRemove = function(line, i) {\n            return regexpStart.test(line);\n          };\n\n          var shouldInsertSpace = function(line, before, after) {\n            var spaces = 0;\n            while (before-- && line.charAt(before) == \" \") spaces++;\n            if (spaces % tabSize != 0) return false;\n            var spaces = 0;\n            while (line.charAt(after++) == \" \") spaces++;\n            if (tabSize > 2) return spaces % tabSize != tabSize - 1;\n            else return spaces % tabSize == 0;\n          };\n        }\n\n        function iter(fun) {\n          for (var i = startRow; i <= endRow; i++) fun(doc.getLine(i), i);\n        }\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n          var indent = line.search(/\\S/);\n          if (indent !== -1) {\n            if (indent < minIndent) minIndent = indent;\n            if (shouldRemove && !testRemove(line, i)) shouldRemove = false;\n          } else if (minEmptyLength > line.length) {\n            minEmptyLength = line.length;\n          }\n        });\n\n        if (minIndent == Infinity) {\n          minIndent = minEmptyLength;\n          ignoreBlankLines = false;\n          shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n          minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n      };\n\n      this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment) return;\n        if (!comment.start && comment[0]) comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n          var startRange, endRange;\n          while (token && /comment/.test(token.type)) {\n            var i = token.value.indexOf(comment.start);\n            if (i != -1) {\n              var row = iterator.getCurrentTokenRow();\n              var column = iterator.getCurrentTokenColumn() + i;\n              startRange = new Range(\n                row,\n                column,\n                row,\n                column + comment.start.length\n              );\n              break;\n            }\n            token = iterator.stepBackward();\n          }\n\n          var iterator = new TokenIterator(session, cursor.row, cursor.column);\n          var token = iterator.getCurrentToken();\n          while (token && /comment/.test(token.type)) {\n            var i = token.value.indexOf(comment.end);\n            if (i != -1) {\n              var row = iterator.getCurrentTokenRow();\n              var column = iterator.getCurrentTokenColumn() + i;\n              endRange = new Range(\n                row,\n                column,\n                row,\n                column + comment.end.length\n              );\n              break;\n            }\n            token = iterator.stepForward();\n          }\n          if (endRange) session.remove(endRange);\n          if (startRange) {\n            session.remove(startRange);\n            startRow = startRange.start.row;\n            colDiff = -comment.start.length;\n          }\n        } else {\n          colDiff = comment.start.length;\n          startRow = range.start.row;\n          session.insert(range.end, comment.end);\n          session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n          initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n          initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n      };\n\n      this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n      };\n\n      this.checkOutdent = function(state, line, input) {\n        return false;\n      };\n\n      this.autoOutdent = function(state, doc, row) {};\n\n      this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n      };\n\n      this.createWorker = function(session) {\n        return null;\n      };\n\n      this.createModeDelegates = function(mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n          if (mapping[i]) {\n            var Mode = mapping[i];\n            var id = Mode.prototype.$id;\n            var mode = config.$modes[id];\n            if (!mode) config.$modes[id] = mode = new Mode();\n            if (!config.$modes[i]) config.$modes[i] = mode;\n            this.$embeds.push(i);\n            this.$modes[i] = mode;\n          }\n        }\n\n        var delegations = [\n          \"toggleBlockComment\",\n          \"toggleCommentLines\",\n          \"getNextLineIndent\",\n          \"checkOutdent\",\n          \"autoOutdent\",\n          \"transformAction\",\n          \"getCompletions\"\n        ];\n\n        for (var i = 0; i < delegations.length; i++) {\n          (function(scope) {\n            var functionName = delegations[i];\n            var defaultHandler = scope[functionName];\n            scope[delegations[i]] = function() {\n              return this.$delegator(functionName, arguments, defaultHandler);\n            };\n          })(this);\n        }\n      };\n\n      this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0];\n        if (typeof state != \"string\") {\n          if (Array.isArray(state[2])) {\n            var language = state[2][state[2].length - 1];\n            var mode = this.$modes[language];\n            if (mode)\n              return mode[method].apply(\n                mode,\n                [state[1]].concat([].slice.call(args, 1))\n              );\n          }\n          state = state[0];\n        }\n\n        for (var i = 0; i < this.$embeds.length; i++) {\n          if (!this.$modes[this.$embeds[i]]) continue;\n\n          var split = state.split(this.$embeds[i]);\n          if (!split[0] && split[1]) {\n            args[0] = split[1];\n            var mode = this.$modes[this.$embeds[i]];\n            return mode[method].apply(mode, args);\n          }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n      };\n\n      this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n          var behaviours = this.$behaviour.getBehaviours();\n          for (var key in behaviours) {\n            if (behaviours[key][action]) {\n              var ret = behaviours[key][action].apply(this, arguments);\n              if (ret) {\n                return ret;\n              }\n            }\n          }\n        }\n      };\n\n      this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n          var rules = this.$tokenizer.rules;\n          var completionKeywords = [];\n          for (var rule in rules) {\n            var ruleItr = rules[rule];\n            for (var r = 0, l = ruleItr.length; r < l; r++) {\n              if (typeof ruleItr[r].token === \"string\") {\n                if (/keyword|support|storage/.test(ruleItr[r].token))\n                  completionKeywords.push(ruleItr[r].regex);\n              } else if (typeof ruleItr[r].token === \"object\") {\n                for (\n                  var a = 0, aLength = ruleItr[r].token.length;\n                  a < aLength;\n                  a++\n                ) {\n                  if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                    var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                    completionKeywords.push(rule.substr(1, rule.length - 2));\n                  }\n                }\n              }\n            }\n          }\n          this.completionKeywords = completionKeywords;\n        }\n        if (!append) return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n      };\n\n      this.$createKeywordList = function() {\n        if (!this.$highlightRules) this.getTokenizer();\n        return (this.$keywordList = this.$highlightRules.$keywordList || []);\n      };\n\n      this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n          return {\n            name: word,\n            value: word,\n            score: 0,\n            meta: \"keyword\"\n          };\n        });\n      };\n\n      this.$id = \"ace/mode/text\";\n    }.call(Mode.prototype));\n\n    exports.Mode = Mode;\n  }\n);\n\nace.define(\"ace/apply_delta\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  function throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n  }\n\n  function positionInDocument(docLines, position) {\n    return (\n      position.row >= 0 &&\n      position.row < docLines.length &&\n      position.column >= 0 &&\n      position.column <= docLines[position.row].length\n    );\n  }\n\n  function validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n      throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n      throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n      throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n      throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n      throwDeltaError(\n        delta,\n        \"delta.end must contained in document for 'remove' actions\"\n      );\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars =\n      end.column - (numRangeRows == 0 ? start.column : 0);\n    if (\n      numRangeRows != delta.lines.length - 1 ||\n      delta.lines[numRangeRows].length != numRangeLastLineChars\n    )\n      throwDeltaError(delta, \"delta.range must match delta lines\");\n  }\n\n  exports.applyDelta = function(docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n      case \"insert\":\n        var lines = delta.lines;\n        if (lines.length === 1) {\n          docLines[row] =\n            line.substring(0, startColumn) +\n            delta.lines[0] +\n            line.substring(startColumn);\n        } else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args);\n          docLines[row] = line.substring(0, startColumn) + docLines[row];\n          docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n        }\n        break;\n      case \"remove\":\n        var endColumn = delta.end.column;\n        var endRow = delta.end.row;\n        if (row === endRow) {\n          docLines[row] =\n            line.substring(0, startColumn) + line.substring(endColumn);\n        } else {\n          docLines.splice(\n            row,\n            endRow - row + 1,\n            line.substring(0, startColumn) +\n              docLines[endRow].substring(endColumn)\n          );\n        }\n        break;\n    }\n  };\n});\n\nace.define(\n  \"ace/anchor\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n    var Anchor = (exports.Anchor = function(doc, row, column) {\n      this.$onChange = this.onChange.bind(this);\n      this.attach(doc);\n\n      if (typeof column == \"undefined\") this.setPosition(row.row, row.column);\n      else this.setPosition(row, column);\n    });\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n      };\n      this.getDocument = function() {\n        return this.document;\n      };\n      this.$insertRight = false;\n      this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n          return;\n\n        if (delta.start.row > this.row) return;\n\n        var point = $getTransformedPoint(\n          delta,\n          { row: this.row, column: this.column },\n          this.$insertRight\n        );\n        this.setPosition(point.row, point.column, true);\n      };\n\n      function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder\n          ? point1.column <= point2.column\n          : point1.column < point2.column;\n        return (\n          point1.row < point2.row || (point1.row == point2.row && bColIsAfter)\n        );\n      }\n\n      function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift =\n          (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n        var deltaColShift =\n          (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n          return {\n            row: point.row,\n            column: point.column\n          };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n          return {\n            row: point.row + deltaRowShift,\n            column:\n              point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n          };\n        }\n        return {\n          row: deltaStart.row,\n          column: deltaStart.column\n        };\n      }\n      this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n          pos = {\n            row: row,\n            column: column\n          };\n        } else {\n          pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column) return;\n\n        var old = {\n          row: this.row,\n          column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n          old: old,\n          value: pos\n        });\n      };\n      this.detach = function() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n      };\n      this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n      };\n      this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n          pos.row = Math.max(0, this.document.getLength() - 1);\n          pos.column = this.document.getLine(pos.row).length;\n        } else if (row < 0) {\n          pos.row = 0;\n          pos.column = 0;\n        } else {\n          pos.row = row;\n          pos.column = Math.min(\n            this.document.getLine(pos.row).length,\n            Math.max(0, column)\n          );\n        }\n\n        if (column < 0) pos.column = 0;\n\n        return pos;\n      };\n    }.call(Anchor.prototype));\n  }\n);\n\nace.define(\n  \"ace/document\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/apply_delta\",\n    \"ace/lib/event_emitter\",\n    \"ace/range\",\n    \"ace/anchor\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var applyDelta = require(\"./apply_delta\").applyDelta;\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var Range = require(\"./range\").Range;\n    var Anchor = require(\"./anchor\").Anchor;\n\n    var Document = function(textOrLines) {\n      this.$lines = [\"\"];\n      if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n      } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n      } else {\n        this.insert({ row: 0, column: 0 }, textOrLines);\n      }\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text);\n      };\n      this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n      };\n      this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n      };\n      if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n          return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n      } else {\n        this.$split = function(text) {\n          return text.split(/\\r\\n|\\r|\\n/);\n        };\n      }\n\n      this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n      };\n      this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n      };\n\n      this.$autoNewLine = \"\";\n      this.$newLineMode = \"auto\";\n      this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode) return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n      };\n      this.getNewLineMode = function() {\n        return this.$newLineMode;\n      };\n      this.isNewLine = function(text) {\n        return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n      };\n      this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n      };\n      this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n      };\n      this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n      };\n      this.getLength = function() {\n        return this.$lines.length;\n      };\n      this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n      };\n      this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n          lines = [\n            this.getLine(range.start.row).substring(\n              range.start.column,\n              range.end.column\n            )\n          ];\n        } else {\n          lines = this.getLines(range.start.row, range.end.row);\n          lines[0] = (lines[0] || \"\").substring(range.start.column);\n          var l = lines.length - 1;\n          if (range.end.row - range.start.row == l)\n            lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n      };\n      this.insertLines = function(row, lines) {\n        console.warn(\n          \"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"\n        );\n        return this.insertFullLines(row, lines);\n      };\n      this.removeLines = function(firstRow, lastRow) {\n        console.warn(\n          \"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"\n        );\n        return this.removeFullLines(firstRow, lastRow);\n      };\n      this.insertNewLine = function(position) {\n        console.warn(\n          \"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"\n        );\n        return this.insertMergedLines(position, [\"\", \"\"]);\n      };\n      this.insert = function(position, text) {\n        if (this.getLength() <= 1) this.$detectNewLine(text);\n\n        return this.insertMergedLines(position, this.$split(text));\n      };\n      this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n\n        this.applyDelta(\n          {\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n          },\n          true\n        );\n\n        return this.clonePos(end);\n      };\n\n      this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n          row = length;\n        } else if (row < 0) {\n          row = 0;\n        } else if (row >= length) {\n          row = length - 1;\n          column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined) column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n      };\n\n      this.clonePos = function(pos) {\n        return { row: pos.row, column: pos.column };\n      };\n\n      this.pos = function(row, column) {\n        return { row: row, column: column };\n      };\n\n      this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n          position.row = Math.max(0, length - 1);\n          position.column = this.getLine(length - 1).length;\n        } else {\n          position.row = Math.max(0, position.row);\n          position.column = Math.min(\n            Math.max(position.column, 0),\n            this.getLine(position.row).length\n          );\n        }\n        return position;\n      };\n      this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n          lines = lines.concat([\"\"]);\n          column = 0;\n        } else {\n          lines = [\"\"].concat(lines);\n          row--;\n          column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n      };\n      this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n          row: start.row + lines.length - 1,\n          column:\n            (lines.length == 1 ? start.column : 0) +\n            lines[lines.length - 1].length\n        };\n\n        this.applyDelta({\n          start: start,\n          end: end,\n          action: \"insert\",\n          lines: lines\n        });\n\n        return this.clonePos(end);\n      };\n      this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n          start: start,\n          end: end,\n          action: \"remove\",\n          lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n      };\n      this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n\n        this.applyDelta(\n          {\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n          },\n          true\n        );\n\n        return this.clonePos(start);\n      };\n      this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine =\n          lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n        var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n        var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n        var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n\n        this.applyDelta({\n          start: range.start,\n          end: range.end,\n          action: \"remove\",\n          lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n      };\n      this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n          this.applyDelta({\n            start: this.pos(row, this.getLine(row).length),\n            end: this.pos(row + 1, 0),\n            action: \"remove\",\n            lines: [\"\", \"\"]\n          });\n        }\n      };\n      this.replace = function(range, text) {\n        if (!(range instanceof Range))\n          range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty()) return range.start;\n        if (text == this.getTextRange(range)) return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n          end = this.insert(range.start, text);\n        } else {\n          end = range.start;\n        }\n\n        return end;\n      };\n      this.applyDeltas = function(deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n          this.applyDelta(deltas[i]);\n        }\n      };\n      this.revertDeltas = function(deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n          this.revertDelta(deltas[i]);\n        }\n      };\n      this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (\n          isInsert\n            ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)\n        ) {\n          return;\n        }\n\n        if (isInsert && delta.lines.length > 20000) {\n          this.$splitAndapplyLargeDelta(delta, 20000);\n        } else {\n          applyDelta(this.$lines, delta, doNotValidate);\n          this._signal(\"change\", delta);\n        }\n      };\n\n      this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n          to += MAX - 1;\n          var chunk = lines.slice(from, to);\n          chunk.push(\"\");\n          this.applyDelta(\n            {\n              start: this.pos(row + from, column),\n              end: this.pos(row + to, (column = 0)),\n              action: delta.action,\n              lines: chunk\n            },\n            true\n          );\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n      };\n      this.revertDelta = function(delta) {\n        this.applyDelta({\n          start: this.clonePos(delta.start),\n          end: this.clonePos(delta.end),\n          action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n          lines: delta.lines.slice()\n        });\n      };\n      this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n          index -= lines[i].length + newlineLength;\n          if (index < 0)\n            return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return {\n          row: l - 1,\n          column: index + lines[l - 1].length + newlineLength\n        };\n      };\n      this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n          index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n      };\n    }.call(Document.prototype));\n\n    exports.Document = Document;\n  }\n);\n\nace.define(\n  \"ace/background_tokenizer\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n    var BackgroundTokenizer = function(tokenizer, editor) {\n      this.running = false;\n      this.lines = [];\n      this.states = [];\n      this.currentLine = 0;\n      this.tokenizer = tokenizer;\n\n      var self = this;\n\n      this.$worker = function() {\n        if (!self.running) {\n          return;\n        }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine]) currentLine++;\n\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n          self.$tokenizeRow(currentLine);\n          endLine = currentLine;\n          do {\n            currentLine++;\n          } while (self.lines[currentLine]);\n          processedLines++;\n          if (processedLines % 5 === 0 && new Date() - workerStart > 20) {\n            self.running = setTimeout(self.$worker, 20);\n            break;\n          }\n        }\n        self.currentLine = currentLine;\n\n        if (endLine == -1) endLine = currentLine;\n\n        if (startLine <= endLine) self.fireUpdateEvent(startLine, endLine);\n      };\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n      };\n      this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n      };\n      this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n          first: firstRow,\n          last: lastRow\n        };\n        this._signal(\"update\", { data: data });\n      };\n      this.start = function(startRow) {\n        this.currentLine = Math.min(\n          startRow || 0,\n          this.currentLine,\n          this.doc.getLength()\n        );\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n      };\n\n      this.scheduleStart = function() {\n        if (!this.running) this.running = setTimeout(this.$worker, 700);\n      };\n\n      this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n          this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n          this.lines.splice(startRow, len + 1, null);\n          this.states.splice(startRow, len + 1, null);\n        } else {\n          var args = Array(len + 1);\n          args.unshift(startRow, 1);\n          this.lines.splice.apply(this.lines, args);\n          this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(\n          startRow,\n          this.currentLine,\n          this.doc.getLength()\n        );\n\n        this.stop();\n      };\n      this.stop = function() {\n        if (this.running) clearTimeout(this.running);\n        this.running = false;\n      };\n      this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n      };\n      this.getState = function(row) {\n        if (this.currentLine == row) this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n      };\n\n      this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n          this.states[row] = data.state;\n          this.lines[row + 1] = null;\n          if (this.currentLine > row + 1) this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n          this.currentLine = row + 1;\n        }\n\n        return (this.lines[row] = data.tokens);\n      };\n    }.call(BackgroundTokenizer.prototype));\n\n    exports.BackgroundTokenizer = BackgroundTokenizer;\n  }\n);\n\nace.define(\n  \"ace/search_highlight\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var lang = require(\"./lib/lang\");\n    var oop = require(\"./lib/oop\");\n    var Range = require(\"./range\").Range;\n\n    var SearchHighlight = function(regExp, clazz, type) {\n      this.setRegexp(regExp);\n      this.clazz = clazz;\n      this.type = type || \"text\";\n    };\n\n    (function() {\n      this.MAX_RANGES = 500;\n\n      this.setRegexp = function(regExp) {\n        if (this.regExp + \"\" == regExp + \"\") return;\n        this.regExp = regExp;\n        this.cache = [];\n      };\n\n      this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp) return;\n        var start = config.firstRow,\n          end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n          var ranges = this.cache[i];\n          if (ranges == null) {\n            ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n            if (ranges.length > this.MAX_RANGES)\n              ranges = ranges.slice(0, this.MAX_RANGES);\n            ranges = ranges.map(function(match) {\n              return new Range(i, match.offset, i, match.offset + match.length);\n            });\n            this.cache[i] = ranges.length ? ranges : \"\";\n          }\n\n          for (var j = ranges.length; j--; ) {\n            markerLayer.drawSingleLineMarker(\n              html,\n              ranges[j].toScreenRange(session),\n              this.clazz,\n              config\n            );\n          }\n        }\n      };\n    }.call(SearchHighlight.prototype));\n\n    exports.SearchHighlight = SearchHighlight;\n  }\n);\n\nace.define(\n  \"ace/edit_session/fold_line\",\n  [\"require\", \"exports\", \"module\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"../range\").Range;\n    function FoldLine(foldData, folds) {\n      this.foldData = foldData;\n      if (Array.isArray(folds)) {\n        this.folds = folds;\n      } else {\n        folds = this.folds = [folds];\n      }\n\n      var last = folds[folds.length - 1];\n      this.range = new Range(\n        folds[0].start.row,\n        folds[0].start.column,\n        last.end.row,\n        last.end.column\n      );\n      this.start = this.range.start;\n      this.end = this.range.end;\n\n      this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n      }, this);\n    }\n\n    (function() {\n      this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n          fold.start.row += shift;\n          fold.end.row += shift;\n        });\n      };\n\n      this.addFold = function(fold) {\n        if (fold.sameRow) {\n          if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n            throw new Error(\n              \"Can't add a fold to this FoldLine as it has no connection\"\n            );\n          }\n          this.folds.push(fold);\n          this.folds.sort(function(a, b) {\n            return -a.range.compareEnd(b.start.row, b.start.column);\n          });\n          if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n          } else if (\n            this.range.compareStart(fold.end.row, fold.end.column) < 0\n          ) {\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n          }\n        } else if (fold.start.row == this.end.row) {\n          this.folds.push(fold);\n          this.end.row = fold.end.row;\n          this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n          this.folds.unshift(fold);\n          this.start.row = fold.start.row;\n          this.start.column = fold.start.column;\n        } else {\n          throw new Error(\n            \"Trying to add fold to FoldRow that doesn't have a matching row\"\n          );\n        }\n        fold.foldLine = this;\n      };\n\n      this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n      };\n\n      this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n          folds = this.folds,\n          fold,\n          cmp,\n          stop,\n          isNewRow = true;\n\n        if (endRow == null) {\n          endRow = this.end.row;\n          endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n          fold = folds[i];\n\n          cmp = fold.range.compareStart(endRow, endColumn);\n          if (cmp == -1) {\n            callback(null, endRow, endColumn, lastEnd, isNewRow);\n            return;\n          }\n\n          stop = callback(\n            null,\n            fold.start.row,\n            fold.start.column,\n            lastEnd,\n            isNewRow\n          );\n          stop =\n            !stop &&\n            callback(\n              fold.placeholder,\n              fold.start.row,\n              fold.start.column,\n              lastEnd\n            );\n          if (stop || cmp === 0) {\n            return;\n          }\n          isNewRow = !fold.sameRow;\n          lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n      };\n\n      this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n          fold = this.folds[i];\n          cmp = fold.range.compareEnd(row, column);\n          if (cmp == -1) {\n            return {\n              fold: fold,\n              kind: \"after\"\n            };\n          } else if (cmp === 0) {\n            return {\n              fold: fold,\n              kind: \"inside\"\n            };\n          }\n        }\n        return null;\n      };\n\n      this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n          fold,\n          folds;\n        if (ret) {\n          fold = ret.fold;\n          if (\n            ret.kind == \"inside\" &&\n            fold.start.column != column &&\n            fold.start.row != row\n          ) {\n            window.console && window.console.log(row, column, fold);\n          } else if (fold.start.row == row) {\n            folds = this.folds;\n            var i = folds.indexOf(fold);\n            if (i === 0) {\n              this.start.column += len;\n            }\n            for (i; i < folds.length; i++) {\n              fold = folds[i];\n              fold.start.column += len;\n              if (!fold.sameRow) {\n                return;\n              }\n              fold.end.column += len;\n            }\n            this.end.column += len;\n          }\n        }\n      };\n\n      this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n\n        if (!pos || pos.kind == \"inside\") return null;\n\n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n      };\n\n      this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n          this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n      };\n\n      this.toString = function() {\n        var ret = [this.range.toString() + \": [\"];\n\n        this.folds.forEach(function(fold) {\n          ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n      };\n\n      this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n          var fold = this.folds[i];\n\n          idx -= fold.start.column - lastFoldEndColumn;\n          if (idx < 0) {\n            return {\n              row: fold.start.row,\n              column: fold.start.column + idx\n            };\n          }\n\n          idx -= fold.placeholder.length;\n          if (idx < 0) {\n            return fold.start;\n          }\n\n          lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n          row: this.end.row,\n          column: this.end.column + idx\n        };\n      };\n    }.call(FoldLine.prototype));\n\n    exports.FoldLine = FoldLine;\n  }\n);\n\nace.define(\n  \"ace/range_list\",\n  [\"require\", \"exports\", \"module\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n    var Range = require(\"./range\").Range;\n    var comparePoints = Range.comparePoints;\n\n    var RangeList = function() {\n      this.ranges = [];\n    };\n\n    (function() {\n      this.comparePoints = comparePoints;\n\n      this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n          var range = list[i];\n          var cmpEnd = comparePoints(pos, range.end);\n          if (cmpEnd > 0) continue;\n          var cmpStart = comparePoints(pos, range.start);\n          if (cmpEnd === 0) return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n          if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges)) return i;\n\n          return -i - 1;\n        }\n        return -i - 1;\n      };\n\n      this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0) startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0) endIndex = -endIndex - 1;\n        else endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n      };\n\n      this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n          removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n      };\n\n      this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0) return this.ranges.splice(i, 1);\n      };\n      this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n\n        list = list.sort(function(a, b) {\n          return comparePoints(a.start, b.start);\n        });\n\n        var next = list[0],\n          range;\n        for (var i = 1; i < list.length; i++) {\n          range = next;\n          next = list[i];\n          var cmp = comparePoints(range.end, next.start);\n          if (cmp < 0) continue;\n\n          if (cmp == 0 && !range.isEmpty() && !next.isEmpty()) continue;\n\n          if (comparePoints(range.end, next.end) < 0) {\n            range.end.row = next.end.row;\n            range.end.column = next.end.column;\n          }\n\n          list.splice(i, 1);\n          removed.push(next);\n          next = range;\n          i--;\n        }\n\n        this.ranges = list;\n\n        return removed;\n      };\n\n      this.contains = function(row, column) {\n        return this.pointIndex({ row: row, column: column }) >= 0;\n      };\n\n      this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n      };\n\n      this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0) return this.ranges[i];\n      };\n\n      this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (\n          list[0].start.row > endRow ||\n          list[list.length - 1].start.row < startRow\n        )\n          return [];\n\n        var startIndex = this.pointIndex({ row: startRow, column: 0 });\n        if (startIndex < 0) startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n        if (endIndex < 0) endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n          clipped.push(list[i]);\n        }\n        return clipped;\n      };\n\n      this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n      };\n\n      this.attach = function(session) {\n        if (this.session) this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on(\"change\", this.onChange);\n      };\n\n      this.detach = function() {\n        if (!this.session) return;\n        this.session.removeListener(\"change\", this.onChange);\n        this.session = null;\n      };\n\n      this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n          var r = ranges[i];\n          if (r.end.row >= startRow) break;\n        }\n\n        if (delta.action == \"insert\") {\n          var lineDif = endRow - startRow;\n          var colDiff = -start.column + end.column;\n          for (; i < n; i++) {\n            var r = ranges[i];\n            if (r.start.row > startRow) break;\n\n            if (r.start.row == startRow && r.start.column >= start.column) {\n              if (r.start.column == start.column && this.$insertRight) {\n              } else {\n                r.start.column += colDiff;\n                r.start.row += lineDif;\n              }\n            }\n            if (r.end.row == startRow && r.end.column >= start.column) {\n              if (r.end.column == start.column && this.$insertRight) {\n                continue;\n              }\n              if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                if (\n                  r.end.column > r.start.column &&\n                  r.end.column == ranges[i + 1].start.column\n                )\n                  r.end.column -= colDiff;\n              }\n              r.end.column += colDiff;\n              r.end.row += lineDif;\n            }\n          }\n        } else {\n          var lineDif = startRow - endRow;\n          var colDiff = start.column - end.column;\n          for (; i < n; i++) {\n            var r = ranges[i];\n\n            if (r.start.row > endRow) break;\n\n            if (r.end.row < endRow) {\n              r.end.row = startRow;\n              r.end.column = start.column;\n            }\n\n            if (\n              r.start.row < endRow ||\n              (r.start.row == endRow && r.start.column <= end.colum)\n            ) {\n              r.start.row = startRow;\n              r.start.column = start.column;\n            }\n\n            if (r.end.row == endRow) {\n              if (r.end.column <= end.column) {\n                if (lineDif || r.end.column > start.column) {\n                  r.end.column = start.column;\n                  r.end.row = start.row;\n                }\n              } else {\n                r.end.column += colDiff;\n                r.end.row += lineDif;\n              }\n            }\n            if (r.start.row == endRow) {\n              if (r.start.column <= end.column) {\n                if (lineDif || r.start.column > start.column) {\n                  r.start.column = start.column;\n                  r.start.row = start.row;\n                }\n              } else {\n                r.start.column += colDiff;\n                r.start.row += lineDif;\n              }\n            }\n          }\n        }\n\n        if (lineDif != 0 && i < n) {\n          for (; i < n; i++) {\n            var r = ranges[i];\n            r.start.row += lineDif;\n            r.end.row += lineDif;\n          }\n        }\n      };\n    }.call(RangeList.prototype));\n\n    exports.RangeList = RangeList;\n  }\n);\n\nace.define(\n  \"ace/edit_session/fold\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/range\",\n    \"ace/range_list\",\n    \"ace/lib/oop\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"../range\").Range;\n    var RangeList = require(\"../range_list\").RangeList;\n    var oop = require(\"../lib/oop\");\n    var Fold = (exports.Fold = function(range, placeholder) {\n      this.foldLine = null;\n      this.placeholder = placeholder;\n      this.range = range;\n      this.start = range.start;\n      this.end = range.end;\n\n      this.sameRow = range.start.row == range.end.row;\n      this.subFolds = this.ranges = [];\n    });\n\n    oop.inherits(Fold, RangeList);\n\n    (function() {\n      this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n      };\n\n      this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n          fold.setFoldLine(foldLine);\n        });\n      };\n\n      this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n          fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n      };\n\n      this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold)) return;\n\n        if (!this.range.containsRange(fold))\n          throw new Error(\n            \"A fold can't intersect already existing fold\" +\n              fold.range +\n              this.range\n          );\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row,\n          column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n          cmp = this.subFolds[i].range.compare(row, column);\n          if (cmp != 1) break;\n        }\n        var afterStart = this.subFolds[i];\n\n        if (cmp == 0) return afterStart.addSubFold(fold);\n        var row = fold.range.end.row,\n          column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n          cmp = this.subFolds[j].range.compare(row, column);\n          if (cmp != 1) break;\n        }\n        var afterEnd = this.subFolds[j];\n\n        if (cmp == 0)\n          throw new Error(\n            \"A fold can't intersect already existing fold\" +\n              fold.range +\n              this.range\n          );\n\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n      };\n\n      this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n      };\n    }.call(Fold.prototype));\n\n    function consumePoint(point, anchor) {\n      point.row -= anchor.row;\n      if (point.row == 0) point.column -= anchor.column;\n    }\n    function consumeRange(range, anchor) {\n      consumePoint(range.start, anchor);\n      consumePoint(range.end, anchor);\n    }\n    function restorePoint(point, anchor) {\n      if (point.row == 0) point.column += anchor.column;\n      point.row += anchor.row;\n    }\n    function restoreRange(range, anchor) {\n      restorePoint(range.start, anchor);\n      restorePoint(range.end, anchor);\n    }\n  }\n);\n\nace.define(\n  \"ace/edit_session/folding\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/range\",\n    \"ace/edit_session/fold_line\",\n    \"ace/edit_session/fold\",\n    \"ace/token_iterator\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"../range\").Range;\n    var FoldLine = require(\"./fold_line\").FoldLine;\n    var Fold = require(\"./fold\").Fold;\n    var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n    function Folding() {\n      this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine) return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n          var fold = folds[i];\n          if (fold.range.contains(row, column)) {\n            if (side == 1 && fold.range.isEnd(row, column)) {\n              continue;\n            } else if (side == -1 && fold.range.isStart(row, column)) {\n              continue;\n            }\n            return fold;\n          }\n        }\n      };\n      this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n          var cmp = foldLines[i].range.compareRange(range);\n          if (cmp == 2) {\n            continue;\n          } else if (cmp == -2) {\n            break;\n          }\n\n          var folds = foldLines[i].folds;\n          for (var j = 0; j < folds.length; j++) {\n            var fold = folds[j];\n            cmp = fold.range.compareRange(range);\n            if (cmp == -2) {\n              break;\n            } else if (cmp == 2) {\n              continue;\n            } else if (cmp == 42) {\n              break;\n            }\n            foundFolds.push(fold);\n          }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n      };\n\n      this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n          var folds = [];\n          ranges.forEach(function(range) {\n            folds = folds.concat(this.getFoldsInRange(range));\n          }, this);\n        } else {\n          var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n      };\n      this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n\n        for (var i = 0; i < foldLines.length; i++)\n          for (var j = 0; j < foldLines[i].folds.length; j++)\n            folds.push(foldLines[i].folds[j]);\n\n        return folds;\n      };\n      this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine) return null;\n\n        var lastFold = {\n          end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n          fold = foldLine.folds[i];\n          var cmp = fold.range.compareEnd(row, column);\n          if (cmp == -1) {\n            str = this.getLine(fold.start.row).substring(\n              lastFold.end.column,\n              fold.start.column\n            );\n            break;\n          } else if (cmp === 0) {\n            return null;\n          }\n          lastFold = fold;\n        }\n        if (!str)\n          str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1) return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1) return str.substring(column - lastFold.end.column);\n        else return str;\n      };\n\n      this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine) i = foldData.indexOf(startFoldLine);\n        if (i == -1) i = 0;\n        for (i; i < foldData.length; i++) {\n          var foldLine = foldData[i];\n          if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n            return foldLine;\n          } else if (foldLine.end.row > docRow) {\n            return null;\n          }\n        }\n        return null;\n      };\n      this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine) i = foldData.indexOf(startFoldLine);\n        if (i == -1) i = 0;\n        for (i; i < foldData.length; i++) {\n          var foldLine = foldData[i];\n          if (foldLine.end.row >= docRow) {\n            return foldLine;\n          }\n        }\n        return null;\n      };\n\n      this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData,\n          rowCount = last - first + 1;\n        for (var i = 0; i < foldData.length; i++) {\n          var foldLine = foldData[i],\n            end = foldLine.end.row,\n            start = foldLine.start.row;\n          if (end >= last) {\n            if (start < last) {\n              if (start >= first) rowCount -= last - start;\n              else rowCount = 0; // in one fold\n            }\n            break;\n          } else if (end >= first) {\n            if (start >= first)\n              // fold inside range\n              rowCount -= end - start;\n            else rowCount -= end - first + 1;\n          }\n        }\n        return rowCount;\n      };\n\n      this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n          return a.start.row - b.start.row;\n        });\n        return foldLine;\n      };\n      this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n\n        if (placeholder instanceof Fold) fold = placeholder;\n        else {\n          fold = new Fold(range, placeholder);\n          fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        if (\n          !(\n            startRow < endRow ||\n            (startRow == endRow && startColumn <= endColumn - 2)\n          )\n        )\n          throw new Error(\"The range has to be at least 2 characters width\");\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n          return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n          this.removeFold(startFold);\n\n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n          this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n          this.removeFolds(folds);\n          folds.forEach(function(subFold) {\n            fold.addSubFold(subFold);\n          });\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n          var foldLine = foldData[i];\n          if (endRow == foldLine.start.row) {\n            foldLine.addFold(fold);\n            added = true;\n            break;\n          } else if (startRow == foldLine.end.row) {\n            foldLine.addFold(fold);\n            added = true;\n            if (!fold.sameRow) {\n              var foldLineNext = foldData[i + 1];\n              if (foldLineNext && foldLineNext.start.row == endRow) {\n                foldLine.merge(foldLineNext);\n                break;\n              }\n            }\n            break;\n          } else if (endRow <= foldLine.start.row) {\n            break;\n          }\n        }\n\n        if (!added)\n          foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n          this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n      };\n\n      this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n          this.addFold(fold);\n        }, this);\n      };\n\n      this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n          foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n          folds.pop();\n          foldLine.end.row = folds[folds.length - 1].end.row;\n          foldLine.end.column = folds[folds.length - 1].end.column;\n        } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n          folds.shift();\n          foldLine.start.row = folds[0].start.row;\n          foldLine.start.column = folds[0].start.column;\n        }\n        //\n        else if (fold.sameRow) {\n          folds.splice(folds.indexOf(fold), 1);\n        } else {\n          var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n          folds = newFoldLine.folds;\n          folds.shift();\n          newFoldLine.start.row = folds[0].start.row;\n          newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n          if (this.$useWrapMode) this.$updateWrapData(startRow, endRow);\n          else this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n      };\n\n      this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n          cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n          this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n      };\n\n      this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n          fold.restoreRange(subFold);\n          this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n          this.foldAll(\n            fold.start.row + 1,\n            fold.end.row,\n            fold.collapseChildren - 1\n          );\n        }\n        fold.subFolds = [];\n      };\n\n      this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n          this.expandFold(fold);\n        }, this);\n      };\n\n      this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n          range = new Range(0, 0, this.getLength(), 0);\n          expandInner = true;\n        } else if (typeof location == \"number\")\n          range = new Range(\n            location,\n            0,\n            location,\n            this.getLine(location).length\n          );\n        else if (\"row\" in location)\n          range = Range.fromPoints(location, location);\n        else range = location;\n\n        folds = this.getFoldsInRangeList(range);\n        if (expandInner) {\n          this.removeFolds(folds);\n        } else {\n          var subFolds = folds;\n          while (subFolds.length) {\n            this.expandFolds(subFolds);\n            subFolds = this.getFoldsInRangeList(range);\n          }\n        }\n        if (folds.length) return folds;\n      };\n      this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n      };\n\n      this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n      };\n\n      this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n      };\n\n      this.getFoldDisplayLine = function(\n        foldLine,\n        endRow,\n        endColumn,\n        startRow,\n        startColumn\n      ) {\n        if (startRow == null) startRow = foldLine.start.row;\n        if (startColumn == null) startColumn = 0;\n        if (endRow == null) endRow = foldLine.end.row;\n        if (endColumn == null) endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(\n          function(placeholder, row, column, lastColumn) {\n            if (row < startRow) return;\n            if (row == startRow) {\n              if (column < startColumn) return;\n              lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n              textLine += placeholder;\n            } else {\n              textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n          },\n          endRow,\n          endColumn\n        );\n        return textLine;\n      };\n\n      this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n          var line;\n          line = this.doc.getLine(row);\n          return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n          return this.getFoldDisplayLine(\n            foldLine,\n            row,\n            endColumn,\n            startRow,\n            startColumn\n          );\n        }\n      };\n\n      this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n          var folds = foldLine.folds.map(function(fold) {\n            return fold.clone();\n          });\n          return new FoldLine(fd, folds);\n        });\n\n        return fd;\n      };\n\n      this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n          var cursor = range.start;\n          fold = this.getFoldAt(cursor.row, cursor.column);\n\n          if (fold) {\n            this.expandFold(fold);\n            return;\n          } else if ((bracketPos = this.findMatchingBracket(cursor))) {\n            if (range.comparePoint(bracketPos) == 1) {\n              range.end = bracketPos;\n            } else {\n              range.start = bracketPos;\n              range.start.column++;\n              range.end.column--;\n            }\n          } else if (\n            (bracketPos = this.findMatchingBracket({\n              row: cursor.row,\n              column: cursor.column + 1\n            }))\n          ) {\n            if (range.comparePoint(bracketPos) == 1) range.end = bracketPos;\n            else range.start = bracketPos;\n\n            range.start.column++;\n          } else {\n            range =\n              this.getCommentFoldRange(cursor.row, cursor.column) || range;\n          }\n        } else {\n          var folds = this.getFoldsInRange(range);\n          if (tryToUnfold && folds.length) {\n            this.expandFolds(folds);\n            return;\n          } else if (folds.length == 1) {\n            fold = folds[0];\n          }\n        }\n\n        if (!fold) fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n          this.expandFold(fold);\n          return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n          placeholder = this.getTextRange(range);\n          if (placeholder.length < 4) return;\n          placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n      };\n\n      this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token.type;\n        if (token && /^comment|string/.test(type)) {\n          type = type.match(/comment|string/)[0];\n          if (type == \"comment\") type += \"|doc-start\";\n          var re = new RegExp(type);\n          var range = new Range();\n          if (dir != 1) {\n            do {\n              token = iterator.stepBackward();\n            } while (token && re.test(token.type));\n            iterator.stepForward();\n          }\n\n          range.start.row = iterator.getCurrentTokenRow();\n          range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n          iterator = new TokenIterator(this, row, column);\n\n          if (dir != -1) {\n            var lastRow = -1;\n            do {\n              token = iterator.stepForward();\n              if (lastRow == -1) {\n                var state = this.getState(iterator.$row);\n                if (!re.test(state)) lastRow = iterator.$row;\n              } else if (iterator.$row > lastRow) {\n                break;\n              }\n            } while (token && re.test(token.type));\n            token = iterator.stepBackward();\n          } else token = iterator.getCurrentToken();\n\n          range.end.row = iterator.getCurrentTokenRow();\n          range.end.column =\n            iterator.getCurrentTokenColumn() + token.value.length - 2;\n          return range;\n        }\n      };\n\n      this.foldAll = function(startRow, endRow, depth) {\n        if (depth == undefined) depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets) return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n          if (foldWidgets[row] == null)\n            foldWidgets[row] = this.getFoldWidget(row);\n          if (foldWidgets[row] != \"start\") continue;\n\n          var range = this.getFoldWidgetRange(row);\n          if (\n            range &&\n            range.isMultiLine() &&\n            range.end.row <= endRow &&\n            range.start.row >= startRow\n          ) {\n            row = range.end.row;\n            try {\n              var fold = this.addFold(\"...\", range);\n              if (fold) fold.collapseChildren = depth;\n            } catch (e) {}\n          }\n        }\n      };\n      this.$foldStyles = {\n        manual: 1,\n        markbegin: 1,\n        markbeginend: 1\n      };\n      this.$foldStyle = \"markbegin\";\n      this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n          throw new Error(\n            \"invalid fold style: \" +\n              style +\n              \"[\" +\n              Object.keys(this.$foldStyles).join(\", \") +\n              \"]\"\n          );\n\n        if (this.$foldStyle == style) return;\n\n        this.$foldStyle = style;\n\n        if (style == \"manual\") this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n      };\n\n      this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode) return;\n\n        this.$foldMode = foldMode;\n\n        this.off(\"change\", this.$updateFoldWidgets);\n        this.off(\"tokenizerUpdate\", this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n\n        if (!foldMode || this.$foldStyle == \"manual\") {\n          this.foldWidgets = null;\n          return;\n        }\n\n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(\n          foldMode,\n          this,\n          this.$foldStyle\n        );\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(\n          foldMode,\n          this,\n          this.$foldStyle\n        );\n\n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(\n          this\n        );\n        this.on(\"change\", this.$updateFoldWidgets);\n        this.on(\"tokenizerUpdate\", this.$tokenizerUpdateFoldWidgets);\n      };\n\n      this.getParentFoldRangeData = function(row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row])) return {};\n\n        var i = row - 1,\n          firstRange;\n        while (i >= 0) {\n          var c = fw[i];\n          if (c == null) c = fw[i] = this.getFoldWidget(i);\n\n          if (c == \"start\") {\n            var range = this.getFoldWidgetRange(i);\n            if (!firstRange) firstRange = range;\n            if (range && range.end.row >= row) break;\n          }\n          i--;\n        }\n\n        return {\n          range: i !== -1 && range,\n          firstRange: firstRange\n        };\n      };\n\n      this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n          children: e.shiftKey,\n          all: e.ctrlKey || e.metaKey,\n          siblings: e.altKey\n        };\n\n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n          var el = e.target || e.srcElement;\n          if (el && /ace_fold-widget/.test(el.className))\n            el.className += \" ace_invalid\";\n        }\n      };\n\n      this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget) return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n          if (options.children || options.all) this.removeFold(fold);\n          else this.expandFold(fold);\n          return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n          fold = this.getFoldAt(range.start.row, range.start.column, 1);\n          if (fold && range.isEqual(fold.range)) {\n            this.removeFold(fold);\n            return fold;\n          }\n        }\n\n        if (options.siblings) {\n          var data = this.getParentFoldRangeData(row);\n          if (data.range) {\n            var startRow = data.range.start.row + 1;\n            var endRow = data.range.end.row;\n          }\n          this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n          endRow = range ? range.end.row : this.getLength();\n          this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n          if (options.all) range.collapseChildren = 10000;\n          this.addFold(\"...\", range);\n        }\n\n        return range;\n      };\n\n      this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n\n        if (range) return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n\n        if (range) {\n          row = range.start.row;\n          var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n          if (fold) {\n            this.removeFold(fold);\n          } else {\n            this.addFold(\"...\", range);\n          }\n        }\n      };\n\n      this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n          this.foldWidgets[firstRow] = null;\n        } else if (delta.action == \"remove\") {\n          this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n          var args = Array(len + 1);\n          args.unshift(firstRow, 1);\n          this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n      };\n      this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n          if (this.foldWidgets.length > rows.first)\n            this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n      };\n    }\n\n    exports.Folding = Folding;\n  }\n);\n\nace.define(\n  \"ace/edit_session/bracket_match\",\n  [\"require\", \"exports\", \"module\", \"ace/token_iterator\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var TokenIterator = require(\"../token_iterator\").TokenIterator;\n    var Range = require(\"../range\").Range;\n\n    function BracketMatch() {\n      this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor =\n          chr || this.getLine(position.row).charAt(position.column - 1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) return null;\n\n        if (match[1]) return this.$findClosingBracket(match[1], position);\n        else return this.$findOpeningBracket(match[2], position);\n      };\n\n      this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true,\n          range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n          chr = line.charAt(pos.column);\n          pos = { row: pos.row, column: pos.column + 1 };\n          match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n          before = false;\n        }\n        if (!match) return null;\n\n        if (match[1]) {\n          var bracketPos = this.$findClosingBracket(match[1], pos);\n          if (!bracketPos) return null;\n          range = Range.fromPoints(pos, bracketPos);\n          if (!before) {\n            range.end.column++;\n            range.start.column--;\n          }\n          range.cursor = range.end;\n        } else {\n          var bracketPos = this.$findOpeningBracket(match[2], pos);\n          if (!bracketPos) return null;\n          range = Range.fromPoints(bracketPos, pos);\n          if (!before) {\n            range.start.column++;\n            range.end.column--;\n          }\n          range.cursor = range.start;\n        }\n\n        return range;\n      };\n\n      this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\"\n      };\n\n      this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token) token = iterator.stepForward();\n        if (!token) return;\n\n        if (!typeRe) {\n          typeRe = new RegExp(\n            \"(\\\\.?\" +\n              token.type\n                .replace(\".\", \"\\\\.\")\n                .replace(\"rparen\", \".paren\")\n                .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\") +\n              \")+\"\n          );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n\n        while (true) {\n          while (valueIndex >= 0) {\n            var chr = value.charAt(valueIndex);\n            if (chr == openBracket) {\n              depth -= 1;\n              if (depth == 0) {\n                return {\n                  row: iterator.getCurrentTokenRow(),\n                  column: valueIndex + iterator.getCurrentTokenColumn()\n                };\n              }\n            } else if (chr == bracket) {\n              depth += 1;\n            }\n            valueIndex -= 1;\n          }\n          do {\n            token = iterator.stepBackward();\n          } while (token && !typeRe.test(token.type));\n\n          if (token == null) break;\n\n          value = token.value;\n          valueIndex = value.length - 1;\n        }\n\n        return null;\n      };\n\n      this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token) token = iterator.stepForward();\n        if (!token) return;\n\n        if (!typeRe) {\n          typeRe = new RegExp(\n            \"(\\\\.?\" +\n              token.type\n                .replace(\".\", \"\\\\.\")\n                .replace(\"lparen\", \".paren\")\n                .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\") +\n              \")+\"\n          );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n          var value = token.value;\n          var valueLength = value.length;\n          while (valueIndex < valueLength) {\n            var chr = value.charAt(valueIndex);\n            if (chr == closingBracket) {\n              depth -= 1;\n              if (depth == 0) {\n                return {\n                  row: iterator.getCurrentTokenRow(),\n                  column: valueIndex + iterator.getCurrentTokenColumn()\n                };\n              }\n            } else if (chr == bracket) {\n              depth += 1;\n            }\n            valueIndex += 1;\n          }\n          do {\n            token = iterator.stepForward();\n          } while (token && !typeRe.test(token.type));\n\n          if (token == null) break;\n\n          valueIndex = 0;\n        }\n\n        return null;\n      };\n    }\n    exports.BracketMatch = BracketMatch;\n  }\n);\n\nace.define(\n  \"ace/edit_session\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/lang\",\n    \"ace/bidihandler\",\n    \"ace/config\",\n    \"ace/lib/event_emitter\",\n    \"ace/selection\",\n    \"ace/mode/text\",\n    \"ace/range\",\n    \"ace/document\",\n    \"ace/background_tokenizer\",\n    \"ace/search_highlight\",\n    \"ace/edit_session/folding\",\n    \"ace/edit_session/bracket_match\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var lang = require(\"./lib/lang\");\n    var BidiHandler = require(\"./bidihandler\").BidiHandler;\n    var config = require(\"./config\");\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var Selection = require(\"./selection\").Selection;\n    var TextMode = require(\"./mode/text\").Mode;\n    var Range = require(\"./range\").Range;\n    var Document = require(\"./document\").Document;\n    var BackgroundTokenizer = require(\"./background_tokenizer\")\n      .BackgroundTokenizer;\n    var SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\n    var EditSession = function(text, mode) {\n      this.$breakpoints = [];\n      this.$decorations = [];\n      this.$frontMarkers = {};\n      this.$backMarkers = {};\n      this.$markerId = 1;\n      this.$undoSelect = true;\n\n      this.$foldData = [];\n      this.id = \"session\" + ++EditSession.$uid;\n      this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n      };\n      this.on(\"changeFold\", this.onChangeFold.bind(this));\n      this.$onChange = this.onChange.bind(this);\n\n      if (typeof text != \"object\" || !text.getLine) text = new Document(text);\n\n      this.setDocument(text);\n      this.selection = new Selection(this);\n      this.$bidiHandler = new BidiHandler(this);\n\n      config.resetOptions(this);\n      this.setMode(mode);\n      config._signal(\"session\", this);\n    };\n\n    EditSession.$uid = 0;\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.setDocument = function(doc) {\n        if (this.doc) this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer) this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n      };\n      this.getDocument = function() {\n        return this.doc;\n      };\n      this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n          this.$docRowCache = [];\n          this.$screenRowCache = [];\n          return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n          this.$docRowCache.splice(i, l);\n          this.$screenRowCache.splice(i, l);\n        }\n      };\n\n      this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n          var mid = (low + hi) >> 1;\n          var c = cacheArray[mid];\n\n          if (val > c) low = mid + 1;\n          else if (val < c) hi = mid - 1;\n          else return mid;\n        }\n\n        return low - 1;\n      };\n\n      this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer) this.bgTokenizer.start(0);\n      };\n\n      this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n      };\n\n      this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n          if (removedFolds && removedFolds.length) {\n            this.$undoManager.add(\n              {\n                action: \"removeFolds\",\n                folds: removedFolds\n              },\n              this.mergeUndoDeltas\n            );\n            this.mergeUndoDeltas = true;\n          }\n          this.$undoManager.add(delta, this.mergeUndoDeltas);\n          this.mergeUndoDeltas = true;\n\n          this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n      };\n      this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n      };\n      this.getValue = this.toString = function() {\n        return this.doc.getValue();\n      };\n      this.getSelection = function() {\n        return this.selection;\n      };\n      this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n      };\n      this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n      };\n      this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token,\n          c = 0;\n        if (column == null) {\n          var i = tokens.length - 1;\n          c = this.getLine(row).length;\n        } else {\n          for (var i = 0; i < tokens.length; i++) {\n            c += tokens[i].value.length;\n            if (c >= column) break;\n          }\n        }\n        token = tokens[i];\n        if (!token) return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n      };\n      this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n\n        if (this.$informUndoManager) this.$informUndoManager.cancel();\n\n        if (undoManager) {\n          var self = this;\n          undoManager.addSession(this);\n          this.$syncInformUndoManager = function() {\n            self.$informUndoManager.cancel();\n            self.mergeUndoDeltas = false;\n          };\n          this.$informUndoManager = lang.delayedCall(\n            this.$syncInformUndoManager\n          );\n        } else {\n          this.$syncInformUndoManager = function() {};\n        }\n      };\n      this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager) this.$syncInformUndoManager();\n      };\n\n      this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n      };\n      this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n      };\n      this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n          return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n          return \"\\t\";\n        }\n      };\n      this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n      };\n      this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n      };\n      this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n      };\n      this.getTabSize = function() {\n        return this.$tabSize;\n      };\n      this.isTabStop = function(position) {\n        return this.$useSoftTabs && position.column % this.$tabSize === 0;\n      };\n      this.setNavigateWithinSoftTabs = function(navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n      };\n      this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n      };\n\n      this.$overwrite = false;\n      this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n      };\n      this.getOverwrite = function() {\n        return this.$overwrite;\n      };\n      this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n      };\n      this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row]) this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n      };\n      this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\n          \" \" + className,\n          \"\"\n        );\n        this._signal(\"changeBreakpoint\", {});\n      };\n      this.getBreakpoints = function() {\n        return this.$breakpoints;\n      };\n      this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i = 0; i < rows.length; i++) {\n          this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n      };\n      this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n      };\n      this.setBreakpoint = function(row, className) {\n        if (className === undefined) className = \"ace_breakpoint\";\n        if (className) this.$breakpoints[row] = className;\n        else delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n      };\n      this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n      };\n      this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n          range: range,\n          type: type || \"line\",\n          renderer: typeof type == \"function\" ? type : null,\n          clazz: clazz,\n          inFront: !!inFront,\n          id: id\n        };\n\n        if (inFront) {\n          this.$frontMarkers[id] = marker;\n          this._signal(\"changeFrontMarker\");\n        } else {\n          this.$backMarkers[id] = marker;\n          this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n      };\n      this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update) return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n          this.$frontMarkers[id] = marker;\n          this._signal(\"changeFrontMarker\");\n        } else {\n          this.$backMarkers[id] = marker;\n          this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n      };\n      this.removeMarker = function(markerId) {\n        var marker =\n          this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker) return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete markers[markerId];\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n      };\n      this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n      };\n\n      this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n          var highlight = new SearchHighlight(\n            null,\n            \"ace_selected-word\",\n            \"text\"\n          );\n          this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n      };\n      this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n          clazz = endRow;\n          endRow = startRow;\n        }\n        if (!clazz) clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n      };\n      this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n      };\n      this.getAnnotations = function() {\n        return this.$annotations || [];\n      };\n      this.clearAnnotations = function() {\n        this.setAnnotations([]);\n      };\n      this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n          this.$autoNewLine = match[1];\n        } else {\n          this.$autoNewLine = \"\\n\";\n        }\n      };\n      this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0) inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken) inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken) var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column - 1, column + 1)))\n          var re = /\\s/;\n        else var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n          do {\n            start--;\n          } while (start >= 0 && line.charAt(start).match(re));\n          start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n          end++;\n        }\n\n        return new Range(row, start, row, end);\n      };\n      this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n          wordRange.end.column += 1;\n        }\n        return wordRange;\n      };\n      this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n      };\n      this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n      };\n      this.setUseWorker = function(useWorker) {\n        this.setOption(\"useWorker\", useWorker);\n      };\n      this.getUseWorker = function() {\n        return this.$useWorker;\n      };\n      this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n      };\n\n      this.$modes = config.$modes;\n      this.$mode = null;\n      this.$modeId = null;\n      this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n          if (mode.getTokenizer) return this.$onChangeMode(mode);\n          var options = mode;\n          var path = options.path;\n        } else {\n          path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n          this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n          this.$onChangeMode(this.$modes[path]);\n          cb && cb();\n          return;\n        }\n        this.$modeId = path;\n        config.loadModule(\n          [\"mode\", path],\n          function(m) {\n            if (this.$modeId !== path) return cb && cb();\n            if (this.$modes[path] && !options) {\n              this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n              m = new m.Mode(options);\n              if (!options) {\n                this.$modes[path] = m;\n                m.$id = path;\n              }\n              this.$onChangeMode(m);\n            }\n            cb && cb();\n          }.bind(this)\n        );\n        if (!this.$mode) this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n      };\n\n      this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder) this.$modeId = mode.$id;\n        if (this.$mode === mode) return;\n\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker) this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if (tokenizer.addEventListener !== undefined) {\n          var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n          tokenizer.addEventListener(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n          this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n          var _self = this;\n          this.bgTokenizer.addEventListener(\"update\", function(e) {\n            _self._signal(\"tokenizerUpdate\", e);\n          });\n        } else {\n          this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        if (!$isPlaceholder) {\n          if (mode.attachToSession) mode.attachToSession(this);\n          this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n          this.$setFolding(mode.foldingRules);\n          this.bgTokenizer.start(0);\n          this._emit(\"changeMode\");\n        }\n      };\n\n      this.$stopWorker = function() {\n        if (this.$worker) {\n          this.$worker.terminate();\n          this.$worker = null;\n        }\n      };\n\n      this.$startWorker = function() {\n        try {\n          this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n          config.warn(\"Could not load worker\", e);\n          this.$worker = null;\n        }\n      };\n      this.getMode = function() {\n        return this.$mode;\n      };\n\n      this.$scrollTop = 0;\n      this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop)) return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n      };\n      this.getScrollTop = function() {\n        return this.$scrollTop;\n      };\n\n      this.$scrollLeft = 0;\n      this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft)) return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n      };\n      this.getScrollLeft = function() {\n        return this.$scrollLeft;\n      };\n      this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets)\n          return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n      };\n\n      this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n          if (w && w.screenWidth > width) width = w.screenWidth;\n        });\n        return (this.lineWidgetWidth = width);\n      };\n\n      this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n          this.$modified = false;\n\n          if (this.$useWrapMode) return (this.screenWidth = this.$wrapLimit);\n\n          var lines = this.doc.getAllLines();\n          var cache = this.$rowLengthCache;\n          var longestScreenLine = 0;\n          var foldIndex = 0;\n          var foldLine = this.$foldData[foldIndex];\n          var foldStart = foldLine ? foldLine.start.row : Infinity;\n          var len = lines.length;\n\n          for (var i = 0; i < len; i++) {\n            if (i > foldStart) {\n              i = foldLine.end.row + 1;\n              if (i >= len) break;\n              foldLine = this.$foldData[foldIndex++];\n              foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n\n            if (cache[i] == null)\n              cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n            if (cache[i] > longestScreenLine) longestScreenLine = cache[i];\n          }\n          this.screenWidth = longestScreenLine;\n        }\n      };\n      this.getLine = function(row) {\n        return this.doc.getLine(row);\n      };\n      this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n      };\n      this.getLength = function() {\n        return this.doc.getLength();\n      };\n      this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n      };\n      this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n      };\n      this.remove = function(range) {\n        return this.doc.remove(range);\n      };\n      this.removeFullLines = function(firstRow, lastRow) {\n        return this.doc.removeFullLines(firstRow, lastRow);\n      };\n      this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length) return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n          var delta = deltas[i];\n          if (delta.action == \"insert\" || delta.action == \"remove\") {\n            this.doc.revertDelta(delta);\n          } else if (delta.folds) {\n            this.addFolds(delta.folds);\n          }\n        }\n        if (!dontSelect && this.$undoSelect) {\n          if (deltas.selectionBefore)\n            this.selection.fromJSON(deltas.selectionBefore);\n          else this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n      };\n      this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length) return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n          var delta = deltas[i];\n          if (delta.action == \"insert\" || delta.action == \"remove\") {\n            this.doc.applyDelta(delta);\n          }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n          if (deltas.selectionAfter)\n            this.selection.fromJSON(deltas.selectionAfter);\n          else this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n      };\n      this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n      };\n\n      this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n          return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n        var lastDeltaIsInsert;\n\n        for (var i = 0; i < deltas.length; i++) {\n          var delta = deltas[i];\n          if (!delta.start) continue; // skip folds\n          if (!range) {\n            if (isInsert(delta)) {\n              range = Range.fromPoints(delta.start, delta.end);\n              lastDeltaIsInsert = true;\n            } else {\n              range = Range.fromPoints(delta.start, delta.start);\n              lastDeltaIsInsert = false;\n            }\n            continue;\n          }\n\n          if (isInsert(delta)) {\n            point = delta.start;\n            if (range.compare(point.row, point.column) == -1) {\n              range.setStart(point);\n            }\n            point = delta.end;\n            if (range.compare(point.row, point.column) == 1) {\n              range.setEnd(point);\n            }\n            lastDeltaIsInsert = true;\n          } else {\n            point = delta.start;\n            if (range.compare(point.row, point.column) == -1) {\n              range = Range.fromPoints(delta.start, delta.start);\n            }\n            lastDeltaIsInsert = false;\n          }\n        }\n        return range;\n      };\n      this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n      };\n      this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n          this.remove(fromRange);\n          var rowDiff = fromRange.start.row - fromRange.end.row;\n          var collDiff = rowDiff\n            ? -fromRange.end.column\n            : fromRange.start.column - fromRange.end.column;\n          if (collDiff) {\n            if (\n              toRange.start.row == fromRange.end.row &&\n              toRange.start.column > fromRange.end.column\n            )\n              toRange.start.column += collDiff;\n            if (\n              toRange.end.row == fromRange.end.row &&\n              toRange.end.column > fromRange.end.column\n            )\n              toRange.end.column += collDiff;\n          }\n          if (rowDiff && toRange.start.row >= fromRange.end.row) {\n            toRange.start.row += rowDiff;\n            toRange.end.row += rowDiff;\n          }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n          var oldStart = fromRange.start;\n          var newStart = toRange.start;\n          var rowDiff = newStart.row - oldStart.row;\n          var collDiff = newStart.column - oldStart.column;\n          this.addFolds(\n            folds.map(function(x) {\n              x = x.clone();\n              if (x.start.row == oldStart.row) x.start.column += collDiff;\n              if (x.end.row == oldStart.row) x.end.column += collDiff;\n              x.start.row += rowDiff;\n              x.end.row += rowDiff;\n              return x;\n            })\n          );\n        }\n\n        return toRange;\n      };\n      this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row = startRow; row <= endRow; row++)\n          this.doc.insertInLine({ row: row, column: 0 }, indentString);\n      };\n      this.outdentRows = function(range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n          var line = this.getLine(i);\n\n          deleteRange.start.row = i;\n          deleteRange.end.row = i;\n          for (var j = 0; j < size; ++j) if (line.charAt(j) != \" \") break;\n          if (j < size && line.charAt(j) == \"\\t\") {\n            deleteRange.start.column = j;\n            deleteRange.end.column = j + 1;\n          } else {\n            deleteRange.start.column = 0;\n            deleteRange.end.column = j;\n          }\n          this.remove(deleteRange);\n        }\n      };\n\n      this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n          var row = this.getRowFoldStart(firstRow + dir);\n          if (row < 0) return 0;\n          var diff = row - firstRow;\n        } else if (dir > 0) {\n          var row = this.getRowFoldEnd(lastRow + dir);\n          if (row > this.doc.getLength() - 1) return 0;\n          var diff = row - lastRow;\n        } else {\n          firstRow = this.$clipRowToDocument(firstRow);\n          lastRow = this.$clipRowToDocument(lastRow);\n          var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x) {\n          x = x.clone();\n          x.start.row += diff;\n          x.end.row += diff;\n          return x;\n        });\n\n        var lines =\n          dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow + diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n      };\n      this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n      };\n      this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n      };\n      this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n      };\n\n      this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n      };\n\n      this.$clipColumnToRow = function(row, column) {\n        if (column < 0) return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n      };\n\n      this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n          row = 0;\n          column = 0;\n        } else {\n          var len = this.doc.getLength();\n          if (row >= len) {\n            row = len - 1;\n            column = this.doc.getLine(len - 1).length;\n          } else {\n            column = Math.min(this.doc.getLine(row).length, column);\n          }\n        }\n\n        return {\n          row: row,\n          column: column\n        };\n      };\n\n      this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n          range.start.row = 0;\n          range.start.column = 0;\n        } else {\n          range.start.column = this.$clipColumnToRow(\n            range.start.row,\n            range.start.column\n          );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n          range.end.row = len;\n          range.end.column = this.doc.getLine(len).length;\n        } else {\n          range.end.column = this.$clipColumnToRow(\n            range.end.row,\n            range.end.column\n          );\n        }\n        return range;\n      };\n      this.$wrapLimit = 80;\n      this.$useWrapMode = false;\n      this.$wrapLimitRange = {\n        min: null,\n        max: null\n      };\n      this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n          this.$useWrapMode = useWrapMode;\n          this.$modified = true;\n          this.$resetRowCache(0);\n          if (useWrapMode) {\n            var len = this.getLength();\n            this.$wrapData = Array(len);\n            this.$updateWrapData(0, len - 1);\n          }\n\n          this._signal(\"changeWrapMode\");\n        }\n      };\n      this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n      };\n      this.setWrapLimitRange = function(min, max) {\n        if (\n          this.$wrapLimitRange.min !== min ||\n          this.$wrapLimitRange.max !== max\n        ) {\n          this.$wrapLimitRange = { min: min, max: max };\n          this.$modified = true;\n          this.$bidiHandler.markAsDirty();\n          if (this.$useWrapMode) this._signal(\"changeWrapMode\");\n        }\n      };\n      this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0) limits = { min: $printMargin, max: $printMargin };\n        var wrapLimit = this.$constrainWrapLimit(\n          desiredLimit,\n          limits.min,\n          limits.max\n        );\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n          this.$wrapLimit = wrapLimit;\n          this.$modified = true;\n          if (this.$useWrapMode) {\n            this.$updateWrapData(0, this.getLength() - 1);\n            this.$resetRowCache(0);\n            this._signal(\"changeWrapLimit\");\n          }\n          return true;\n        }\n        return false;\n      };\n\n      this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min) wrapLimit = Math.max(min, wrapLimit);\n\n        if (max) wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n      };\n      this.getWrapLimit = function() {\n        return this.$wrapLimit;\n      };\n      this.setWrapLimit = function(limit) {\n        this.setWrapLimitRange(limit, limit);\n      };\n      this.getWrapLimitRange = function() {\n        return {\n          min: this.$wrapLimitRange.min,\n          max: this.$wrapLimitRange.max\n        };\n      };\n\n      this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n\n        this.$updating = true;\n        if (len != 0) {\n          if (action === \"remove\") {\n            this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(\n              firstRow,\n              len\n            );\n\n            var foldLines = this.$foldData;\n            removedFolds = this.getFoldsInRange(delta);\n            this.removeFolds(removedFolds);\n\n            var foldLine = this.getFoldLine(end.row);\n            var idx = 0;\n            if (foldLine) {\n              foldLine.addRemoveChars(\n                end.row,\n                end.column,\n                start.column - end.column\n              );\n              foldLine.shiftRow(-len);\n\n              var foldLineBefore = this.getFoldLine(firstRow);\n              if (foldLineBefore && foldLineBefore !== foldLine) {\n                foldLineBefore.merge(foldLine);\n                foldLine = foldLineBefore;\n              }\n              idx = foldLines.indexOf(foldLine) + 1;\n            }\n\n            for (idx; idx < foldLines.length; idx++) {\n              var foldLine = foldLines[idx];\n              if (foldLine.start.row >= end.row) {\n                foldLine.shiftRow(-len);\n              }\n            }\n\n            lastRow = firstRow;\n          } else {\n            var args = Array(len);\n            args.unshift(firstRow, 0);\n            var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n            arr.splice.apply(arr, args);\n            var foldLines = this.$foldData;\n            var foldLine = this.getFoldLine(firstRow);\n            var idx = 0;\n            if (foldLine) {\n              var cmp = foldLine.range.compareInside(start.row, start.column);\n              if (cmp == 0) {\n                foldLine = foldLine.split(start.row, start.column);\n                if (foldLine) {\n                  foldLine.shiftRow(len);\n                  foldLine.addRemoveChars(\n                    lastRow,\n                    0,\n                    end.column - start.column\n                  );\n                }\n              } else if (cmp == -1) {\n                foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                foldLine.shiftRow(len);\n              }\n              idx = foldLines.indexOf(foldLine) + 1;\n            }\n\n            for (idx; idx < foldLines.length; idx++) {\n              var foldLine = foldLines[idx];\n              if (foldLine.start.row >= firstRow) {\n                foldLine.shiftRow(len);\n              }\n            }\n          }\n        } else {\n          len = Math.abs(delta.start.column - delta.end.column);\n          if (action === \"remove\") {\n            removedFolds = this.getFoldsInRange(delta);\n            this.removeFolds(removedFolds);\n\n            len = -len;\n          }\n          var foldLine = this.getFoldLine(firstRow);\n          if (foldLine) {\n            foldLine.addRemoveChars(firstRow, start.column, len);\n          }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n          console.error(\n            \"doc.getLength() and $wrapData.length have to be the same!\"\n          );\n        }\n        this.$updating = false;\n\n        if (useWrapMode) this.$updateWrapData(firstRow, lastRow);\n        else this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n      };\n\n      this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n      };\n\n      this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n          foldLine = this.getFoldLine(row, foldLine);\n          if (!foldLine) {\n            tokens = this.$getDisplayTokens(lines[row]);\n            wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n            row++;\n          } else {\n            tokens = [];\n            foldLine.walk(\n              function(placeholder, row, column, lastColumn) {\n                var walkTokens;\n                if (placeholder != null) {\n                  walkTokens = this.$getDisplayTokens(\n                    placeholder,\n                    tokens.length\n                  );\n                  walkTokens[0] = PLACEHOLDER_START;\n                  for (var i = 1; i < walkTokens.length; i++) {\n                    walkTokens[i] = PLACEHOLDER_BODY;\n                  }\n                } else {\n                  walkTokens = this.$getDisplayTokens(\n                    lines[row].substring(lastColumn, column),\n                    tokens.length\n                  );\n                }\n                tokens = tokens.concat(walkTokens);\n              }.bind(this),\n              foldLine.end.row,\n              lines[foldLine.end.row].length + 1\n            );\n\n            wrapData[foldLine.start.row] = this.$computeWrapSplits(\n              tokens,\n              wrapLimit,\n              tabSize\n            );\n            row = foldLine.end.row + 1;\n          }\n        }\n      };\n      var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY = 4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n      this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n          return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0,\n          lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent =\n          wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false\n            ? 0\n            : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n          var indentation = 0;\n          if (maxIndent === 0) return indentation;\n          if (indentedSoftWrap) {\n            for (var i = 0; i < tokens.length; i++) {\n              var token = tokens[i];\n              if (token == SPACE) indentation += 1;\n              else if (token == TAB) indentation += tabSize;\n              else if (token == TAB_SPACE) continue;\n              else break;\n            }\n          }\n          if (isCode && indentedSoftWrap !== false) indentation += tabSize;\n          return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n          var len = screenPos - lastSplit;\n          for (var i = lastSplit; i < screenPos; i++) {\n            var ch = tokens[i];\n            if (ch === 12 || ch === 2) len -= 1;\n          }\n\n          if (!splits.length) {\n            indent = getWrapIndent();\n            splits.indent = indent;\n          }\n          lastDocSplit += len;\n          splits.push(lastDocSplit);\n          lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n          var split = lastSplit + wrapLimit - indent;\n          if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n            addSplit(split);\n            continue;\n          }\n          if (\n            tokens[split] == PLACEHOLDER_START ||\n            tokens[split] == PLACEHOLDER_BODY\n          ) {\n            for (split; split != lastSplit - 1; split--) {\n              if (tokens[split] == PLACEHOLDER_START) {\n                break;\n              }\n            }\n            if (split > lastSplit) {\n              addSplit(split);\n              continue;\n            }\n            split = lastSplit + wrapLimit;\n            for (split; split < tokens.length; split++) {\n              if (tokens[split] != PLACEHOLDER_BODY) {\n                break;\n              }\n            }\n            if (split == tokens.length) {\n              break; // Breaks the while-loop.\n            }\n            addSplit(split);\n            continue;\n          }\n          var minSplit = Math.max(\n            split - (wrapLimit - (wrapLimit >> 2)),\n            lastSplit - 1\n          );\n          while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n            split--;\n          }\n          if (isCode) {\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n              split--;\n            }\n            while (split > minSplit && tokens[split] == PUNCTUATION) {\n              split--;\n            }\n          } else {\n            while (split > minSplit && tokens[split] < SPACE) {\n              split--;\n            }\n          }\n          if (split > minSplit) {\n            addSplit(++split);\n            continue;\n          }\n          split = lastSplit + wrapLimit;\n          if (tokens[split] == CHAR_EXT) split--;\n          addSplit(split - indent);\n        }\n        return splits;\n      };\n      this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n          var c = str.charCodeAt(i);\n          if (c == 9) {\n            tabSize = this.getScreenTabSize(arr.length + offset);\n            arr.push(TAB);\n            for (var n = 1; n < tabSize; n++) {\n              arr.push(TAB_SPACE);\n            }\n          } else if (c == 32) {\n            arr.push(SPACE);\n          } else if ((c > 39 && c < 48) || (c > 57 && c < 64)) {\n            arr.push(PUNCTUATION);\n          } else if (c >= 0x1100 && isFullWidth(c)) {\n            arr.push(CHAR, CHAR_EXT);\n          } else {\n            arr.push(CHAR);\n          }\n        }\n        return arr;\n      };\n      this.$getStringScreenWidth = function(\n        str,\n        maxScreenColumn,\n        screenColumn\n      ) {\n        if (maxScreenColumn == 0) return [0, 0];\n        if (maxScreenColumn == null) maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n          c = str.charCodeAt(column);\n          if (c == 9) {\n            screenColumn += this.getScreenTabSize(screenColumn);\n          } else if (c >= 0x1100 && isFullWidth(c)) {\n            screenColumn += 2;\n          } else {\n            screenColumn += 1;\n          }\n          if (screenColumn > maxScreenColumn) {\n            break;\n          }\n        }\n\n        return [screenColumn, column];\n      };\n\n      this.lineWidgets = null;\n      this.getRowLength = function(row) {\n        if (this.lineWidgets)\n          var h =\n            (this.lineWidgets[row] && this.lineWidgets[row].rowCount) || 0;\n        else h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n          return 1 + h;\n        } else {\n          return this.$wrapData[row].length + 1 + h;\n        }\n      };\n      this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n          return 1;\n        } else {\n          return this.$wrapData[row].length + 1;\n        }\n      };\n\n      this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n          var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n          var splits = this.$wrapData[pos.row];\n          return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n          return 0;\n        }\n      };\n      this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n      };\n      this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n      };\n      this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n      };\n      this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n          return undefined;\n        } else {\n          return this.$wrapData[row];\n        }\n      };\n      this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize);\n      };\n\n      this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n      };\n\n      this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n      };\n      this.screenToDocumentPosition = function(\n        screenRow,\n        screenColumn,\n        offsetX\n      ) {\n        if (screenRow < 0) return { row: 0, column: 0 };\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n          var row = rowCache[i];\n          var docRow = this.$docRowCache[i];\n          var doCache = screenRow > rowCache[l - 1];\n        } else {\n          var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n          rowLength = this.getRowLength(docRow);\n          if (row + rowLength > screenRow || docRow >= maxRow) {\n            break;\n          } else {\n            row += rowLength;\n            docRow++;\n            if (docRow > foldStart) {\n              docRow = foldLine.end.row + 1;\n              foldLine = this.getNextFoldLine(docRow, foldLine);\n              foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n          }\n\n          if (doCache) {\n            this.$docRowCache.push(docRow);\n            this.$screenRowCache.push(row);\n          }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n          line = this.getFoldDisplayLine(foldLine);\n          docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n          return {\n            row: maxRow,\n            column: this.getLine(maxRow).length\n          };\n        } else {\n          line = this.getLine(docRow);\n          foldLine = null;\n        }\n        var wrapIndent = 0,\n          splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n          var splits = this.$wrapData[docRow];\n          if (splits) {\n            column = splits[splitIndex];\n            if (splitIndex > 0 && splits.length) {\n              wrapIndent = splits.indent;\n              docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n              line = line.substring(docColumn);\n            }\n          }\n        }\n\n        if (\n          offsetX !== undefined &&\n          this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex)\n        )\n          screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(\n          line,\n          screenColumn - wrapIndent\n        )[1];\n        if (this.$useWrapMode && docColumn >= column) docColumn = column - 1;\n\n        if (foldLine) return foldLine.idxToPosition(docColumn);\n\n        return { row: docRow, column: docColumn };\n      };\n      this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n          var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n          docRow = fold.start.row;\n          docColumn = fold.start.column;\n        }\n\n        var rowEnd,\n          row = 0;\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n          var row = rowCache[i];\n          var screenRow = this.$screenRowCache[i];\n          var doCache = docRow > rowCache[l - 1];\n        } else {\n          var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row < docRow) {\n          if (row >= foldStart) {\n            rowEnd = foldLine.end.row + 1;\n            if (rowEnd > docRow) break;\n            foldLine = this.getNextFoldLine(rowEnd, foldLine);\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          } else {\n            rowEnd = row + 1;\n          }\n\n          screenRow += this.getRowLength(row);\n          row = rowEnd;\n\n          if (doCache) {\n            this.$docRowCache.push(row);\n            this.$screenRowCache.push(screenRow);\n          }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n          textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n          foldStartRow = foldLine.start.row;\n        } else {\n          textLine = this.getLine(docRow).substring(0, docColumn);\n          foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n          var wrapRow = this.$wrapData[foldStartRow];\n          if (wrapRow) {\n            var screenRowOffset = 0;\n            while (textLine.length >= wrapRow[screenRowOffset]) {\n              screenRow++;\n              screenRowOffset++;\n            }\n            textLine = textLine.substring(\n              wrapRow[screenRowOffset - 1] || 0,\n              textLine.length\n            );\n            wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n          }\n        }\n\n        return {\n          row: screenRow,\n          column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n      };\n      this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n      };\n      this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n      };\n      this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n          screenRows = this.getLength();\n          var foldData = this.$foldData;\n          for (var i = 0; i < foldData.length; i++) {\n            fold = foldData[i];\n            screenRows -= fold.end.row - fold.start.row;\n          }\n        } else {\n          var lastRow = this.$wrapData.length;\n          var row = 0,\n            i = 0;\n          var fold = this.$foldData[i++];\n          var foldStart = fold ? fold.start.row : Infinity;\n\n          while (row < lastRow) {\n            var splits = this.$wrapData[row];\n            screenRows += splits ? splits.length + 1 : 1;\n            row++;\n            if (row > foldStart) {\n              row = fold.end.row + 1;\n              fold = this.$foldData[i++];\n              foldStart = fold ? fold.start.row : Infinity;\n            }\n          }\n        }\n        if (this.lineWidgets) screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n      };\n      this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(\n          str,\n          maxScreenColumn,\n          screenColumn\n        ) {\n          if (maxScreenColumn === 0) return [0, 0];\n          if (!maxScreenColumn) maxScreenColumn = Infinity;\n          screenColumn = screenColumn || 0;\n\n          var c, column;\n          for (column = 0; column < str.length; column++) {\n            c = str.charAt(column);\n            if (c === \"\\t\") {\n              screenColumn += this.getScreenTabSize(screenColumn);\n            } else {\n              screenColumn += fm.getCharacterWidth(c);\n            }\n            if (screenColumn > maxScreenColumn) {\n              break;\n            }\n          }\n\n          return [screenColumn, column];\n        };\n      };\n\n      this.destroy = function() {\n        if (this.bgTokenizer) {\n          this.bgTokenizer.setDocument(null);\n          this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n      };\n\n      this.isFullWidth = isFullWidth;\n      function isFullWidth(c) {\n        if (c < 0x1100) return false;\n        return (\n          (c >= 0x1100 && c <= 0x115f) ||\n          (c >= 0x11a3 && c <= 0x11a7) ||\n          (c >= 0x11fa && c <= 0x11ff) ||\n          (c >= 0x2329 && c <= 0x232a) ||\n          (c >= 0x2e80 && c <= 0x2e99) ||\n          (c >= 0x2e9b && c <= 0x2ef3) ||\n          (c >= 0x2f00 && c <= 0x2fd5) ||\n          (c >= 0x2ff0 && c <= 0x2ffb) ||\n          (c >= 0x3000 && c <= 0x303e) ||\n          (c >= 0x3041 && c <= 0x3096) ||\n          (c >= 0x3099 && c <= 0x30ff) ||\n          (c >= 0x3105 && c <= 0x312d) ||\n          (c >= 0x3131 && c <= 0x318e) ||\n          (c >= 0x3190 && c <= 0x31ba) ||\n          (c >= 0x31c0 && c <= 0x31e3) ||\n          (c >= 0x31f0 && c <= 0x321e) ||\n          (c >= 0x3220 && c <= 0x3247) ||\n          (c >= 0x3250 && c <= 0x32fe) ||\n          (c >= 0x3300 && c <= 0x4dbf) ||\n          (c >= 0x4e00 && c <= 0xa48c) ||\n          (c >= 0xa490 && c <= 0xa4c6) ||\n          (c >= 0xa960 && c <= 0xa97c) ||\n          (c >= 0xac00 && c <= 0xd7a3) ||\n          (c >= 0xd7b0 && c <= 0xd7c6) ||\n          (c >= 0xd7cb && c <= 0xd7fb) ||\n          (c >= 0xf900 && c <= 0xfaff) ||\n          (c >= 0xfe10 && c <= 0xfe19) ||\n          (c >= 0xfe30 && c <= 0xfe52) ||\n          (c >= 0xfe54 && c <= 0xfe66) ||\n          (c >= 0xfe68 && c <= 0xfe6b) ||\n          (c >= 0xff01 && c <= 0xff60) ||\n          (c >= 0xffe0 && c <= 0xffe6)\n        );\n      }\n    }.call(EditSession.prototype));\n\n    require(\"./edit_session/folding\").Folding.call(EditSession.prototype);\n    require(\"./edit_session/bracket_match\").BracketMatch.call(\n      EditSession.prototype\n    );\n\n    config.defineOptions(EditSession.prototype, \"session\", {\n      wrap: {\n        set: function(value) {\n          if (!value || value == \"off\") value = false;\n          else if (value == \"free\") value = true;\n          else if (value == \"printMargin\") value = -1;\n          else if (typeof value == \"string\")\n            value = parseInt(value, 10) || false;\n\n          if (this.$wrap == value) return;\n          this.$wrap = value;\n          if (!value) {\n            this.setUseWrapMode(false);\n          } else {\n            var col = typeof value == \"number\" ? value : null;\n            this.setWrapLimitRange(col, col);\n            this.setUseWrapMode(true);\n          }\n        },\n        get: function() {\n          if (this.getUseWrapMode()) {\n            if (this.$wrap == -1) return \"printMargin\";\n            if (!this.getWrapLimitRange().min) return \"free\";\n            return this.$wrap;\n          }\n          return \"off\";\n        },\n        handlesSet: true\n      },\n      wrapMethod: {\n        set: function(val) {\n          val = val == \"auto\" ? this.$mode.type != \"text\" : val != \"text\";\n          if (val != this.$wrapAsCode) {\n            this.$wrapAsCode = val;\n            if (this.$useWrapMode) {\n              this.$useWrapMode = false;\n              this.setUseWrapMode(true);\n            }\n          }\n        },\n        initialValue: \"auto\"\n      },\n      indentedSoftWrap: {\n        set: function() {\n          if (this.$useWrapMode) {\n            this.$useWrapMode = false;\n            this.setUseWrapMode(true);\n          }\n        },\n        initialValue: true\n      },\n      firstLineNumber: {\n        set: function() {\n          this._signal(\"changeBreakpoint\");\n        },\n        initialValue: 1\n      },\n      useWorker: {\n        set: function(useWorker) {\n          this.$useWorker = useWorker;\n\n          this.$stopWorker();\n          if (useWorker) this.$startWorker();\n        },\n        initialValue: true\n      },\n      useSoftTabs: { initialValue: true },\n      tabSize: {\n        set: function(tabSize) {\n          if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n\n          this.$modified = true;\n          this.$rowLengthCache = [];\n          this.$tabSize = tabSize;\n          this._signal(\"changeTabSize\");\n        },\n        initialValue: 4,\n        handlesSet: true\n      },\n      navigateWithinSoftTabs: { initialValue: false },\n      foldStyle: {\n        set: function(val) {\n          this.setFoldStyle(val);\n        },\n        handlesSet: true\n      },\n      overwrite: {\n        set: function(val) {\n          this._signal(\"changeOverwrite\");\n        },\n        initialValue: false\n      },\n      newLineMode: {\n        set: function(val) {\n          this.doc.setNewLineMode(val);\n        },\n        get: function() {\n          return this.doc.getNewLineMode();\n        },\n        handlesSet: true\n      },\n      mode: {\n        set: function(val) {\n          this.setMode(val);\n        },\n        get: function() {\n          return this.$modeId;\n        },\n        handlesSet: true\n      }\n    });\n\n    exports.EditSession = EditSession;\n  }\n);\n\nace.define(\n  \"ace/search\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var lang = require(\"./lib/lang\");\n    var oop = require(\"./lib/oop\");\n    var Range = require(\"./range\").Range;\n\n    var Search = function() {\n      this.$options = {};\n    };\n\n    (function() {\n      this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n      };\n      this.getOptions = function() {\n        return lang.copyObject(this.$options);\n      };\n      this.setOptions = function(options) {\n        this.$options = options;\n      };\n      this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator) return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n          firstRange = new Range(sr, sc, er, ec);\n          if (\n            sc == ec &&\n            options.start &&\n            options.start.start &&\n            options.skipCurrent != false &&\n            firstRange.isEqual(options.start)\n          ) {\n            firstRange = null;\n            return false;\n          }\n\n          return true;\n        });\n\n        return firstRange;\n      };\n      this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle) return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n          ? session.getLines(range.start.row, range.end.row)\n          : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n          var len = re.length;\n          var maxRow = lines.length - len;\n          var prevRange;\n          outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n            for (var j = 0; j < len; j++)\n              if (lines[row + j].search(re[j]) == -1) continue outer;\n\n            var startLine = lines[row];\n            var line = lines[row + len - 1];\n            var startIndex =\n              startLine.length - startLine.match(re[0])[0].length;\n            var endIndex = line.match(re[len - 1])[0].length;\n\n            if (\n              prevRange &&\n              prevRange.end.row === row &&\n              prevRange.end.column > startIndex\n            ) {\n              continue;\n            }\n            ranges.push(\n              (prevRange = new Range(row, startIndex, row + len - 1, endIndex))\n            );\n            if (len > 2) row = row + len - 2;\n          }\n        } else {\n          for (var i = 0; i < lines.length; i++) {\n            var matches = lang.getMatchOffsets(lines[i], re);\n            for (var j = 0; j < matches.length; j++) {\n              var match = matches[j];\n              ranges.push(\n                new Range(i, match.offset, i, match.offset + match.length)\n              );\n            }\n          }\n        }\n\n        if (range) {\n          var startColumn = range.start.column;\n          var endColumn = range.start.column;\n          var i = 0,\n            j = ranges.length - 1;\n          while (\n            i < j &&\n            ranges[i].start.column < startColumn &&\n            ranges[i].start.row == range.start.row\n          )\n            i++;\n\n          while (\n            i < j &&\n            ranges[j].end.column > endColumn &&\n            ranges[j].end.row == range.end.row\n          )\n            j--;\n\n          ranges = ranges.slice(i, j + 1);\n          for (i = 0, j = ranges.length; i < j; i++) {\n            ranges[i].start.row += range.start.row;\n            ranges[i].end.row += range.start.row;\n          }\n        }\n\n        return ranges;\n      };\n      this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine) return replacement;\n\n        if (!re) return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length) return null;\n\n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n          replacement = replacement.split(\"\");\n          for (var i = Math.min(input.length, input.length); i--; ) {\n            var ch = input[i];\n            if (ch && ch.toLowerCase() != ch)\n              replacement[i] = replacement[i].toUpperCase();\n            else replacement[i] = replacement[i].toLowerCase();\n          }\n          replacement = replacement.join(\"\");\n        }\n\n        return replacement;\n      };\n\n      this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n          return (options.re = options.needle);\n\n        var needle = options.needle;\n\n        if (!options.needle) return (options.re = false);\n\n        if (!options.regExp) needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord) needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n          return (options.re = this.$assembleMultilineRegExp(needle, modifier));\n\n        try {\n          var re = new RegExp(needle, modifier);\n        } catch (e) {\n          re = false;\n        }\n        return (options.re = re);\n      };\n\n      this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++)\n          try {\n            re.push(new RegExp(parts[i], modifier));\n          } catch (e) {\n            return false;\n          }\n        return re;\n      };\n\n      this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re) return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n          start = range\n            ? range[backwards ? \"end\" : \"start\"]\n            : session.selection.getRange();\n\n        if (start.start)\n          start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n\n        if (backwards) {\n          var forEach = function(callback) {\n            var row = start.row;\n            if (forEachInLine(row, start.column, callback)) return;\n            for (row--; row >= firstRow; row--)\n              if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n            if (options.wrap == false) return;\n            for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n              if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n          };\n        } else {\n          var forEach = function(callback) {\n            var row = start.row;\n            if (forEachInLine(row, start.column, callback)) return;\n            for (row = row + 1; row <= lastRow; row++)\n              if (forEachInLine(row, 0, callback)) return;\n            if (options.wrap == false) return;\n            for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n              if (forEachInLine(row, 0, callback)) return;\n          };\n        }\n\n        if (options.$isMultiLine) {\n          var len = re.length;\n          var forEachInLine = function(row, offset, callback) {\n            var startRow = backwards ? row - len + 1 : row;\n            if (startRow < 0) return;\n            var line = session.getLine(startRow);\n            var startIndex = line.search(re[0]);\n            if ((!backwards && startIndex < offset) || startIndex === -1)\n              return;\n            for (var i = 1; i < len; i++) {\n              line = session.getLine(startRow + i);\n              if (line.search(re[i]) == -1) return;\n            }\n            var endIndex = line.match(re[len - 1])[0].length;\n            if (backwards && endIndex > offset) return;\n            if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n              return true;\n          };\n        } else if (backwards) {\n          var forEachInLine = function(row, endIndex, callback) {\n            var line = session.getLine(row);\n            var matches = [];\n            var m,\n              last = 0;\n            re.lastIndex = 0;\n            while ((m = re.exec(line))) {\n              var length = m[0].length;\n              last = m.index;\n              if (!length) {\n                if (last >= line.length) break;\n                re.lastIndex = last += 1;\n              }\n              if (m.index + length > endIndex) break;\n              matches.push(m.index, length);\n            }\n            for (var i = matches.length - 1; i >= 0; i -= 2) {\n              var column = matches[i - 1];\n              var length = matches[i];\n              if (callback(row, column, row, column + length)) return true;\n            }\n          };\n        } else {\n          var forEachInLine = function(row, startIndex, callback) {\n            var line = session.getLine(row);\n            var last;\n            var m;\n            re.lastIndex = startIndex;\n            while ((m = re.exec(line))) {\n              var length = m[0].length;\n              last = m.index;\n              if (callback(row, last, row, last + length)) return true;\n              if (!length) {\n                re.lastIndex = last += 1;\n                if (last >= line.length) return false;\n              }\n            }\n          };\n        }\n        return { forEach: forEach };\n      };\n    }.call(Search.prototype));\n\n    function addWordBoundary(needle, options) {\n      function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n      }\n      return (\n        wordBoundary(needle[0]) +\n        needle +\n        wordBoundary(needle[needle.length - 1])\n      );\n    }\n\n    exports.Search = Search;\n  }\n);\n\nace.define(\n  \"ace/keyboard/hash_handler\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var keyUtil = require(\"../lib/keys\");\n    var useragent = require(\"../lib/useragent\");\n    var KEY_MODS = keyUtil.KEY_MODS;\n\n    function HashHandler(config, platform) {\n      this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n      this.commands = {};\n      this.commandKeyBinding = {};\n      this.addCommands(config);\n      this.$singleCommand = true;\n    }\n\n    function MultiHashHandler(config, platform) {\n      HashHandler.call(this, config, platform);\n      this.$singleCommand = false;\n    }\n\n    MultiHashHandler.prototype = HashHandler.prototype;\n\n    (function() {\n      this.addCommand = function(command) {\n        if (this.commands[command.name]) this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey) this._buildKeyHash(command);\n      };\n\n      this.removeCommand = function(command, keepCommand) {\n        var name =\n          command && (typeof command === \"string\" ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand) delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n          var cmdGroup = ckb[keyId];\n          if (cmdGroup == command) {\n            delete ckb[keyId];\n          } else if (Array.isArray(cmdGroup)) {\n            var i = cmdGroup.indexOf(command);\n            if (i != -1) {\n              cmdGroup.splice(i, 1);\n              if (cmdGroup.length == 1) ckb[keyId] = cmdGroup[0];\n            }\n          }\n        }\n      };\n\n      this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n          if (position == undefined) position = key.position;\n          key = key[this.platform];\n        }\n        if (!key) return;\n        if (typeof command == \"function\")\n          return this.addCommand({\n            exec: command,\n            bindKey: key,\n            name: command.name || key\n          });\n\n        key.split(\"|\").forEach(function(keyPart) {\n          var chain = \"\";\n          if (keyPart.indexOf(\" \") != -1) {\n            var parts = keyPart.split(/\\s+/);\n            keyPart = parts.pop();\n            parts.forEach(function(keyPart) {\n              var binding = this.parseKeys(keyPart);\n              var id = KEY_MODS[binding.hashId] + binding.key;\n              chain += (chain ? \" \" : \"\") + id;\n              this._addCommandToBinding(chain, \"chainKeys\");\n            }, this);\n            chain += \" \";\n          }\n          var binding = this.parseKeys(keyPart);\n          var id = KEY_MODS[binding.hashId] + binding.key;\n          this._addCommandToBinding(chain + id, command, position);\n        }, this);\n      };\n\n      function getPosition(command) {\n        return (\n          (typeof command == \"object\" &&\n            command.bindKey &&\n            command.bindKey.position) ||\n          (command.isDefault ? -100 : 0)\n        );\n      }\n      this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding,\n          i;\n        if (!command) {\n          delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n          ckb[keyId] = command;\n        } else {\n          if (!Array.isArray(ckb[keyId])) {\n            ckb[keyId] = [ckb[keyId]];\n          } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n            ckb[keyId].splice(i, 1);\n          }\n\n          if (typeof position != \"number\") {\n            position = getPosition(command);\n          }\n\n          var commands = ckb[keyId];\n          for (i = 0; i < commands.length; i++) {\n            var other = commands[i];\n            var otherPos = getPosition(other);\n            if (otherPos > position) break;\n          }\n          commands.splice(i, 0, command);\n        }\n      };\n\n      this.addCommands = function(commands) {\n        commands &&\n          Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command) return;\n\n            if (typeof command === \"string\") return this.bindKey(command, name);\n\n            if (typeof command === \"function\") command = { exec: command };\n\n            if (typeof command !== \"object\") return;\n\n            if (!command.name) command.name = name;\n\n            this.addCommand(command);\n          }, this);\n      };\n\n      this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n          this.removeCommand(commands[name]);\n        }, this);\n      };\n\n      this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n          this.bindKey(key, keyList[key]);\n        }, this);\n      };\n\n      this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n      };\n      this.parseKeys = function(keys) {\n        var parts = keys\n          .toLowerCase()\n          .split(/[\\-\\+]([\\-\\+])?/)\n          .filter(function(x) {\n            return x;\n          });\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n          key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length) return { key: key, hashId: -1 };\n        else if (parts.length == 1 && parts[0] == \"shift\")\n          return { key: key.toUpperCase(), hashId: -1 };\n\n        var hashId = 0;\n        for (var i = parts.length; i--; ) {\n          var modifier = keyUtil.KEY_MODS[parts[i]];\n          if (modifier == null) {\n            if (typeof console != \"undefined\")\n              console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n            return false;\n          }\n          hashId |= modifier;\n        }\n        return { key: key, hashId: hashId };\n      };\n\n      this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n      };\n\n      this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n          data.$keyChain += \" \" + key;\n          command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n\n        if (command) {\n          if (\n            command == \"chainKeys\" ||\n            command[command.length - 1] == \"chainKeys\"\n          ) {\n            data.$keyChain = data.$keyChain || key;\n            return { command: \"null\" };\n          }\n        }\n\n        if (data.$keyChain) {\n          if ((!hashId || hashId == 4) && keyString.length == 1)\n            data.$keyChain = data.$keyChain.slice(0, -key.length - 1);\n          // wait for input\n          else if (hashId == -1 || keyCode > 0) data.$keyChain = \"\"; // reset keyChain\n        }\n        return { command: command };\n      };\n\n      this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n      };\n    }.call(HashHandler.prototype));\n\n    exports.HashHandler = HashHandler;\n    exports.MultiHashHandler = MultiHashHandler;\n  }\n);\n\nace.define(\n  \"ace/commands/command_manager\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/keyboard/hash_handler\",\n    \"ace/lib/event_emitter\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"../lib/oop\");\n    var MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\n    var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n    var CommandManager = function(platform, commands) {\n      MultiHashHandler.call(this, commands, platform);\n      this.byName = this.commands;\n      this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n      });\n    };\n\n    oop.inherits(CommandManager, MultiHashHandler);\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n          for (var i = command.length; i--; ) {\n            if (this.exec(command[i], editor, args)) return true;\n          }\n          return false;\n        }\n\n        if (typeof command === \"string\") command = this.commands[command];\n\n        if (!command) return false;\n\n        if (editor && editor.$readOnly && !command.readOnly) return false;\n\n        if (\n          this.$checkCommandState != false &&\n          command.isAvailable &&\n          !command.isAvailable(editor)\n        )\n          return false;\n\n        var e = { editor: editor, command: command, args: args };\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n      };\n\n      this.toggleRecording = function(editor) {\n        if (this.$inReplay) return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n          this.macro.pop();\n          this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n          if (!this.macro.length) this.macro = this.oldMacro;\n\n          return (this.recording = false);\n        }\n        if (!this.$addCommandToMacro) {\n          this.$addCommandToMacro = function(e) {\n            this.macro.push([e.command, e.args]);\n          }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return (this.recording = true);\n      };\n\n      this.replay = function(editor) {\n        if (this.$inReplay || !this.macro) return;\n\n        if (this.recording) return this.toggleRecording(editor);\n\n        try {\n          this.$inReplay = true;\n          this.macro.forEach(function(x) {\n            if (typeof x == \"string\") this.exec(x, editor);\n            else this.exec(x[0], editor, x[1]);\n          }, this);\n        } finally {\n          this.$inReplay = false;\n        }\n      };\n\n      this.trimMacro = function(m) {\n        return m.map(function(x) {\n          if (typeof x[0] != \"string\") x[0] = x[0].name;\n          if (!x[1]) x = x[0];\n          return x;\n        });\n      };\n    }.call(CommandManager.prototype));\n\n    exports.CommandManager = CommandManager;\n  }\n);\n\nace.define(\n  \"ace/commands/default_commands\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/config\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var lang = require(\"../lib/lang\");\n    var config = require(\"../config\");\n    var Range = require(\"../range\").Range;\n\n    function bindKey(win, mac) {\n      return { win: win, mac: mac };\n    }\n    exports.commands = [\n      {\n        name: \"showSettingsMenu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function(editor) {\n          config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n          });\n        },\n        readOnly: true\n      },\n      {\n        name: \"goToNextError\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function(editor) {\n          config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n          });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n      },\n      {\n        name: \"goToPreviousError\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function(editor) {\n          config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n          });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n      },\n      {\n        name: \"selectall\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function(editor) {\n          editor.selectAll();\n        },\n        readOnly: true\n      },\n      {\n        name: \"centerselection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function(editor) {\n          editor.centerSelection();\n        },\n        readOnly: true\n      },\n      {\n        name: \"gotoline\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function(editor, line) {\n          if (typeof line !== \"number\")\n            line = parseInt(prompt(\"Enter line number:\"), 10);\n          if (!isNaN(line)) {\n            editor.gotoLine(line);\n          }\n        },\n        readOnly: true\n      },\n      {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function(editor) {\n          editor.session.toggleFold(false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"unfold\",\n        bindKey: bindKey(\n          \"Alt-Shift-L|Ctrl-Shift-F1\",\n          \"Command-Alt-Shift-L|Command-Shift-F1\"\n        ),\n        exec: function(editor) {\n          editor.session.toggleFold(true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"toggleFoldWidget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function(editor) {\n          editor.session.toggleFoldWidget();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"toggleParentFoldWidget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function(editor) {\n          editor.session.toggleFoldWidget(true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"foldall\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function(editor) {\n          editor.session.foldAll();\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"foldOther\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function(editor) {\n          editor.session.foldAll();\n          editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"unfoldall\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function(editor) {\n          editor.session.unfold();\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"findnext\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function(editor) {\n          editor.findNext();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"findprevious\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function(editor) {\n          editor.findPrevious();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n      },\n      {\n        name: \"selectOrFindNext\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function(editor) {\n          if (editor.selection.isEmpty()) editor.selection.selectWord();\n          else editor.findNext();\n        },\n        readOnly: true\n      },\n      {\n        name: \"selectOrFindPrevious\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function(editor) {\n          if (editor.selection.isEmpty()) editor.selection.selectWord();\n          else editor.findPrevious();\n        },\n        readOnly: true\n      },\n      {\n        name: \"find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function(editor) {\n          config.loadModule(\"ace/ext/searchbox\", function(e) {\n            e.Search(editor);\n          });\n        },\n        readOnly: true\n      },\n      {\n        name: \"overwrite\",\n        bindKey: \"Insert\",\n        exec: function(editor) {\n          editor.toggleOverwrite();\n        },\n        readOnly: true\n      },\n      {\n        name: \"selecttostart\",\n        bindKey: bindKey(\n          \"Ctrl-Shift-Home\",\n          \"Command-Shift-Home|Command-Shift-Up\"\n        ),\n        exec: function(editor) {\n          editor.getSelection().selectFileStart();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n      },\n      {\n        name: \"gotostart\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function(editor) {\n          editor.navigateFileStart();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n      },\n      {\n        name: \"selectup\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function(editor) {\n          editor.getSelection().selectUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"golineup\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function(editor, args) {\n          editor.navigateUp(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selecttoend\",\n        bindKey: bindKey(\n          \"Ctrl-Shift-End\",\n          \"Command-Shift-End|Command-Shift-Down\"\n        ),\n        exec: function(editor) {\n          editor.getSelection().selectFileEnd();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n      },\n      {\n        name: \"gotoend\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function(editor) {\n          editor.navigateFileEnd();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n      },\n      {\n        name: \"selectdown\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function(editor) {\n          editor.getSelection().selectDown();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"golinedown\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function(editor, args) {\n          editor.navigateDown(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectwordleft\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function(editor) {\n          editor.getSelection().selectWordLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"gotowordleft\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function(editor) {\n          editor.navigateWordLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selecttolinestart\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function(editor) {\n          editor.getSelection().selectLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"gotolinestart\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function(editor) {\n          editor.navigateLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectleft\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function(editor) {\n          editor.getSelection().selectLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"gotoleft\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function(editor, args) {\n          editor.navigateLeft(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectwordright\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function(editor) {\n          editor.getSelection().selectWordRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"gotowordright\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function(editor) {\n          editor.navigateWordRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selecttolineend\",\n        bindKey: bindKey(\n          \"Alt-Shift-Right\",\n          \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"\n        ),\n        exec: function(editor) {\n          editor.getSelection().selectLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"gotolineend\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function(editor) {\n          editor.navigateLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectright\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function(editor) {\n          editor.getSelection().selectRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"gotoright\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function(editor, args) {\n          editor.navigateRight(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectpagedown\",\n        bindKey: \"Shift-PageDown\",\n        exec: function(editor) {\n          editor.selectPageDown();\n        },\n        readOnly: true\n      },\n      {\n        name: \"pagedown\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function(editor) {\n          editor.scrollPageDown();\n        },\n        readOnly: true\n      },\n      {\n        name: \"gotopagedown\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function(editor) {\n          editor.gotoPageDown();\n        },\n        readOnly: true\n      },\n      {\n        name: \"selectpageup\",\n        bindKey: \"Shift-PageUp\",\n        exec: function(editor) {\n          editor.selectPageUp();\n        },\n        readOnly: true\n      },\n      {\n        name: \"pageup\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function(editor) {\n          editor.scrollPageUp();\n        },\n        readOnly: true\n      },\n      {\n        name: \"gotopageup\",\n        bindKey: \"PageUp\",\n        exec: function(editor) {\n          editor.gotoPageUp();\n        },\n        readOnly: true\n      },\n      {\n        name: \"scrollup\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function(e) {\n          e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);\n        },\n        readOnly: true\n      },\n      {\n        name: \"scrolldown\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function(e) {\n          e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);\n        },\n        readOnly: true\n      },\n      {\n        name: \"selectlinestart\",\n        bindKey: \"Shift-Home\",\n        exec: function(editor) {\n          editor.getSelection().selectLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectlineend\",\n        bindKey: \"Shift-End\",\n        exec: function(editor) {\n          editor.getSelection().selectLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"togglerecording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function(editor) {\n          editor.commands.toggleRecording(editor);\n        },\n        readOnly: true\n      },\n      {\n        name: \"replaymacro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function(editor) {\n          editor.commands.replay(editor);\n        },\n        readOnly: true\n      },\n      {\n        name: \"jumptomatching\",\n        bindKey: bindKey(\"Ctrl-P\", \"Ctrl-P\"),\n        exec: function(editor) {\n          editor.jumpToMatching();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n      },\n      {\n        name: \"selecttomatching\",\n        bindKey: bindKey(\"Ctrl-Shift-P\", \"Ctrl-Shift-P\"),\n        exec: function(editor) {\n          editor.jumpToMatching(true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n      },\n      {\n        name: \"expandToMatching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function(editor) {\n          editor.jumpToMatching(true, true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n      },\n      {\n        name: \"passKeysToBrowser\",\n        bindKey: bindKey(null, null),\n        exec: function() {},\n        passEvent: true,\n        readOnly: true\n      },\n      {\n        name: \"copy\",\n        exec: function(editor) {},\n        readOnly: true\n      },\n      {\n        name: \"cut\",\n        exec: function(editor) {\n          var cutLine =\n            editor.$copyWithEmptySelection && editor.selection.isEmpty();\n          var range = cutLine\n            ? editor.selection.getLineRange()\n            : editor.selection.getRange();\n          editor._emit(\"cut\", range);\n\n          if (!range.isEmpty()) editor.session.remove(range);\n          editor.clearSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n      },\n      {\n        name: \"paste\",\n        exec: function(editor, args) {\n          editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removeline\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function(editor) {\n          editor.removeLines();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n      },\n      {\n        name: \"duplicateSelection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function(editor) {\n          editor.duplicateSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n      },\n      {\n        name: \"sortlines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function(editor) {\n          editor.sortLines();\n        },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n      },\n      {\n        name: \"togglecomment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function(editor) {\n          editor.toggleCommentLines();\n        },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n      },\n      {\n        name: \"toggleBlockComment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function(editor) {\n          editor.toggleBlockComment();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n      },\n      {\n        name: \"modifyNumberUp\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function(editor) {\n          editor.modifyNumber(1);\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n      },\n      {\n        name: \"modifyNumberDown\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function(editor) {\n          editor.modifyNumber(-1);\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n      },\n      {\n        name: \"replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function(editor) {\n          config.loadModule(\"ace/ext/searchbox\", function(e) {\n            e.Search(editor, true);\n          });\n        }\n      },\n      {\n        name: \"undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function(editor) {\n          editor.undo();\n        }\n      },\n      {\n        name: \"redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function(editor) {\n          editor.redo();\n        }\n      },\n      {\n        name: \"copylinesup\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function(editor) {\n          editor.copyLinesUp();\n        },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"movelinesup\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function(editor) {\n          editor.moveLinesUp();\n        },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"copylinesdown\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function(editor) {\n          editor.copyLinesDown();\n        },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"movelinesdown\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function(editor) {\n          editor.moveLinesDown();\n        },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"del\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function(editor) {\n          editor.remove(\"right\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"backspace\",\n        bindKey: bindKey(\n          \"Shift-Backspace|Backspace\",\n          \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n        ),\n        exec: function(editor) {\n          editor.remove(\"left\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"cut_or_delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function(editor) {\n          if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n          } else {\n            return false;\n          }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removetolinestart\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function(editor) {\n          editor.removeToLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removetolineend\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function(editor) {\n          editor.removeToLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removetolinestarthard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function(editor) {\n          var range = editor.selection.getRange();\n          range.start.column = 0;\n          editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removetolineendhard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function(editor) {\n          var range = editor.selection.getRange();\n          range.end.column = Number.MAX_VALUE;\n          editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removewordleft\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function(editor) {\n          editor.removeWordLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"removewordright\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function(editor) {\n          editor.removeWordRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function(editor) {\n          editor.blockOutdent();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n      },\n      {\n        name: \"indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function(editor) {\n          editor.indent();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n      },\n      {\n        name: \"blockoutdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function(editor) {\n          editor.blockOutdent();\n        },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n      },\n      {\n        name: \"blockindent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function(editor) {\n          editor.blockIndent();\n        },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n      },\n      {\n        name: \"insertstring\",\n        exec: function(editor, str) {\n          editor.insert(str);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"inserttext\",\n        exec: function(editor, args) {\n          editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"splitline\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function(editor) {\n          editor.splitLine();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"transposeletters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function(editor) {\n          editor.transposeLetters();\n        },\n        multiSelectAction: function(editor) {\n          editor.transposeSelections(1);\n        },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"touppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function(editor) {\n          editor.toUpperCase();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"tolowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function(editor) {\n          editor.toLowerCase();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"expandtoline\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function(editor) {\n          var range = editor.selection.getRange();\n\n          range.start.column = range.end.column = 0;\n          range.end.row++;\n          editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"joinlines\",\n        bindKey: bindKey(null, null),\n        exec: function(editor) {\n          var isBackwards = editor.selection.isBackwards();\n          var selectionStart = isBackwards\n            ? editor.selection.getSelectionLead()\n            : editor.selection.getSelectionAnchor();\n          var selectionEnd = isBackwards\n            ? editor.selection.getSelectionAnchor()\n            : editor.selection.getSelectionLead();\n          var firstLineEndCol = editor.session.doc.getLine(selectionStart.row)\n            .length;\n          var selectedText = editor.session.doc.getTextRange(\n            editor.selection.getRange()\n          );\n          var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n          var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n          for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(\n              lang.stringTrimRight(editor.session.doc.getLine(i))\n            );\n            if (curLine.length !== 0) {\n              curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n          }\n\n          if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n          }\n\n          editor.clearSelection();\n          editor.session.doc.replace(\n            new Range(selectionStart.row, 0, selectionEnd.row + 2, 0),\n            insertLine\n          );\n\n          if (selectedCount > 0) {\n            editor.selection.moveCursorTo(\n              selectionStart.row,\n              selectionStart.column\n            );\n            editor.selection.selectTo(\n              selectionStart.row,\n              selectionStart.column + selectedCount\n            );\n          } else {\n            firstLineEndCol =\n              editor.session.doc.getLine(selectionStart.row).length >\n              firstLineEndCol\n                ? firstLineEndCol + 1\n                : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n          }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n      },\n      {\n        name: \"invertSelection\",\n        bindKey: bindKey(null, null),\n        exec: function(editor) {\n          var endRow = editor.session.doc.getLength() - 1;\n          var endCol = editor.session.doc.getLine(endRow).length;\n          var ranges = editor.selection.rangeList.ranges;\n          var newRanges = [];\n          if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n          }\n\n          for (var i = 0; i < ranges.length; i++) {\n            if (i == ranges.length - 1) {\n              if (\n                !(\n                  ranges[i].end.row === endRow &&\n                  ranges[i].end.column === endCol\n                )\n              ) {\n                newRanges.push(\n                  new Range(\n                    ranges[i].end.row,\n                    ranges[i].end.column,\n                    endRow,\n                    endCol\n                  )\n                );\n              }\n            }\n\n            if (i === 0) {\n              if (\n                !(ranges[i].start.row === 0 && ranges[i].start.column === 0)\n              ) {\n                newRanges.push(\n                  new Range(0, 0, ranges[i].start.row, ranges[i].start.column)\n                );\n              }\n            } else {\n              newRanges.push(\n                new Range(\n                  ranges[i - 1].end.row,\n                  ranges[i - 1].end.column,\n                  ranges[i].start.row,\n                  ranges[i].start.column\n                )\n              );\n            }\n          }\n\n          editor.exitMultiSelectMode();\n          editor.clearSelection();\n\n          for (var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n          }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n      }\n    ];\n  }\n);\n\nace.define(\"ace/clipboard\", [\"require\", \"exports\", \"module\"], function(\n  require,\n  exports,\n  module\n) {\n  \"use strict\";\n\n  module.exports = { lineMode: false };\n});\n\nace.define(\n  \"ace/editor\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/fixoldbrowsers\",\n    \"ace/lib/oop\",\n    \"ace/lib/dom\",\n    \"ace/lib/lang\",\n    \"ace/lib/useragent\",\n    \"ace/keyboard/textinput\",\n    \"ace/mouse/mouse_handler\",\n    \"ace/mouse/fold_handler\",\n    \"ace/keyboard/keybinding\",\n    \"ace/edit_session\",\n    \"ace/search\",\n    \"ace/range\",\n    \"ace/lib/event_emitter\",\n    \"ace/commands/command_manager\",\n    \"ace/commands/default_commands\",\n    \"ace/config\",\n    \"ace/token_iterator\",\n    \"ace/clipboard\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    require(\"./lib/fixoldbrowsers\");\n\n    var oop = require(\"./lib/oop\");\n    var dom = require(\"./lib/dom\");\n    var lang = require(\"./lib/lang\");\n    var useragent = require(\"./lib/useragent\");\n    var TextInput = require(\"./keyboard/textinput\").TextInput;\n    var MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\n    var FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\n    var KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\n    var EditSession = require(\"./edit_session\").EditSession;\n    var Search = require(\"./search\").Search;\n    var Range = require(\"./range\").Range;\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var CommandManager = require(\"./commands/command_manager\").CommandManager;\n    var defaultCommands = require(\"./commands/default_commands\").commands;\n    var config = require(\"./config\");\n    var TokenIterator = require(\"./token_iterator\").TokenIterator;\n\n    var clipboard = require(\"./clipboard\");\n    var Editor = function(renderer, session, options) {\n      var container = renderer.getContainerElement();\n      this.container = container;\n      this.renderer = renderer;\n      this.id = \"editor\" + ++Editor.$uid;\n\n      this.commands = new CommandManager(\n        useragent.isMac ? \"mac\" : \"win\",\n        defaultCommands\n      );\n      if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n      }\n\n      this.keyBinding = new KeyBinding(this);\n\n      this.$search = new Search().set({\n        wrap: true\n      });\n\n      this.$historyTracker = this.$historyTracker.bind(this);\n      this.commands.on(\"exec\", this.$historyTracker);\n\n      this.$initOperationListeners();\n\n      this._$emitInputEvent = lang.delayedCall(\n        function() {\n          this._signal(\"input\", {});\n          if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n        }.bind(this)\n      );\n\n      this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n      });\n\n      this.setSession(\n        session || (options && options.session) || new EditSession(\"\")\n      );\n      config.resetOptions(this);\n      if (options) this.setOptions(options);\n      config._signal(\"editor\", this);\n    };\n\n    Editor.$uid = 0;\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(\n          this.endOperation.bind(this, true)\n        );\n        this.on(\n          \"change\",\n          function() {\n            if (!this.curOp) {\n              this.startOperation();\n              this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n          }.bind(this),\n          true\n        );\n\n        this.on(\n          \"changeSelection\",\n          function() {\n            if (!this.curOp) {\n              this.startOperation();\n              this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n          }.bind(this),\n          true\n        );\n      };\n\n      this.curOp = null;\n      this.prevOp = {};\n      this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n          if (!commandEvent || this.curOp.command) return;\n          this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n          this.previousCommand = null;\n          commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n          command: commandEvent.command || {},\n          args: commandEvent.args,\n          scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n      };\n\n      this.endOperation = function(e) {\n        if (this.curOp) {\n          if (e && e.returnValue === false) return (this.curOp = null);\n          if (\n            e == true &&\n            this.curOp.command &&\n            this.curOp.command.name == \"mouse\"\n          )\n            return;\n          this._signal(\"beforeEndOperation\");\n          if (!this.curOp) return;\n          var command = this.curOp.command;\n          var scrollIntoView = command && command.scrollIntoView;\n          if (scrollIntoView) {\n            switch (scrollIntoView) {\n              case \"center-animate\":\n                scrollIntoView = \"animate\";\n              case \"center\":\n                this.renderer.scrollCursorIntoView(null, 0.5);\n                break;\n              case \"animate\":\n              case \"cursor\":\n                this.renderer.scrollCursorIntoView();\n                break;\n              case \"selectionPart\":\n                var range = this.selection.getRange();\n                var config = this.renderer.layerConfig;\n                if (\n                  range.start.row >= config.lastRow ||\n                  range.end.row <= config.firstRow\n                ) {\n                  this.renderer.scrollSelectionIntoView(\n                    this.selection.anchor,\n                    this.selection.lead\n                  );\n                }\n                break;\n              default:\n                break;\n            }\n            if (scrollIntoView == \"animate\")\n              this.renderer.animateScrolling(this.curOp.scrollTop);\n          }\n          var sel = this.selection.toJSON();\n          this.curOp.selectionAfter = sel;\n          this.$lastSel = this.selection.toJSON();\n          this.session.getUndoManager().addSelection(sel);\n          this.prevOp = this.curOp;\n          this.curOp = null;\n        }\n      };\n      this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n      this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas) return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && e.command.name == prev.command.name;\n        if (e.command.name == \"insertstring\") {\n          var text = e.args;\n          if (this.mergeNextCommand === undefined) this.mergeNextCommand = true;\n\n          shouldMerge =\n            shouldMerge &&\n            this.mergeNextCommand && // previous command allows to coalesce with\n            (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n          this.mergeNextCommand = true;\n        } else {\n          shouldMerge =\n            shouldMerge && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n          this.$mergeUndoDeltas != \"always\" &&\n          Date.now() - this.sequenceStartTime > 2000\n        ) {\n          shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge) this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n          this.sequenceStartTime = Date.now();\n      };\n      this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (\n          keyboardHandler &&\n          typeof keyboardHandler === \"string\" &&\n          keyboardHandler != \"ace\"\n        ) {\n          this.$keybindingId = keyboardHandler;\n          var _self = this;\n          config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n            if (_self.$keybindingId == keyboardHandler)\n              _self.keyBinding.setKeyboardHandler(module && module.handler);\n            cb && cb();\n          });\n        } else {\n          this.$keybindingId = null;\n          this.keyBinding.setKeyboardHandler(keyboardHandler);\n          cb && cb();\n        }\n      };\n      this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n      };\n      this.setSession = function(session) {\n        if (this.session == session) return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n          this.session.off(\"change\", this.$onDocumentChange);\n          this.session.off(\"changeMode\", this.$onChangeMode);\n          this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n          this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n          this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n          this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n          this.session.off(\"changeFold\", this.$onChangeFold);\n          this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n          this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n          this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n          this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n          this.session.off(\"changeOverwrite\", this.$onCursorChange);\n          this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n          this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n          var selection = this.session.getSelection();\n          selection.off(\"changeCursor\", this.$onCursorChange);\n          selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n          this.$onDocumentChange = this.onDocumentChange.bind(this);\n          session.on(\"change\", this.$onDocumentChange);\n          this.renderer.setSession(session);\n\n          this.$onChangeMode = this.onChangeMode.bind(this);\n          session.on(\"changeMode\", this.$onChangeMode);\n\n          this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n          session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n\n          this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(\n            this.renderer\n          );\n          session.on(\"changeTabSize\", this.$onChangeTabSize);\n\n          this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n          session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n\n          this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n          session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n\n          this.$onChangeFold = this.onChangeFold.bind(this);\n          session.on(\"changeFold\", this.$onChangeFold);\n\n          this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n          this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n\n          this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n          this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n\n          this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n          this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n\n          this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n          this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n\n          this.$onCursorChange = this.onCursorChange.bind(this);\n          this.session.on(\"changeOverwrite\", this.$onCursorChange);\n\n          this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n          this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n\n          this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n          this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n          this.selection = session.getSelection();\n          this.selection.on(\"changeCursor\", this.$onCursorChange);\n\n          this.$onSelectionChange = this.onSelectionChange.bind(this);\n          this.selection.on(\"changeSelection\", this.$onSelectionChange);\n\n          this.onChangeMode();\n\n          this.onCursorChange();\n\n          this.onScrollTopChange();\n          this.onScrollLeftChange();\n          this.onSelectionChange();\n          this.onChangeFrontMarker();\n          this.onChangeBackMarker();\n          this.onChangeBreakpoint();\n          this.onChangeAnnotation();\n          this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n          this.renderer.updateFull();\n        } else {\n          this.selection = null;\n          this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n          session: session,\n          oldSession: oldSession\n        });\n\n        this.curOp = null;\n\n        oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n        session && session._signal(\"changeEditor\", { editor: this });\n\n        if (session && session.bgTokenizer) session.bgTokenizer.scheduleStart();\n      };\n      this.getSession = function() {\n        return this.session;\n      };\n      this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos) this.selectAll();\n        else if (cursorPos == 1) this.navigateFileEnd();\n        else if (cursorPos == -1) this.navigateFileStart();\n\n        return val;\n      };\n      this.getValue = function() {\n        return this.session.getValue();\n      };\n      this.getSelection = function() {\n        return this.selection;\n      };\n      this.resize = function(force) {\n        this.renderer.onResize(force);\n      };\n      this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n      };\n      this.getTheme = function() {\n        return this.renderer.getTheme();\n      };\n      this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n      };\n      this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n      };\n      this.getFontSize = function() {\n        return (\n          this.getOption(\"fontSize\") ||\n          dom.computedStyle(this.container).fontSize\n        );\n      };\n      this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n      };\n\n      this.$highlightBrackets = function() {\n        if (this.session.$bracketHighlight) {\n          this.session.removeMarker(this.session.$bracketHighlight);\n          this.session.$bracketHighlight = null;\n        }\n\n        if (this.$highlightPending) {\n          return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function() {\n          self.$highlightPending = false;\n          var session = self.session;\n          if (!session || !session.bgTokenizer) return;\n          var pos = session.findMatchingBracket(self.getCursorPosition());\n          if (pos) {\n            var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);\n          } else if (session.$mode.getMatching) {\n            var range = session.$mode.getMatching(self.session);\n          }\n          if (range)\n            session.$bracketHighlight = session.addMarker(\n              range,\n              \"ace_bracket\",\n              \"text\"\n            );\n        }, 50);\n      };\n      this.$highlightTags = function() {\n        if (this.$highlightTagPending) return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n          self.$highlightTagPending = false;\n\n          var session = self.session;\n          if (!session || !session.bgTokenizer) return;\n\n          var pos = self.getCursorPosition();\n          var iterator = new TokenIterator(self.session, pos.row, pos.column);\n          var token = iterator.getCurrentToken();\n\n          if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n            session.removeMarker(session.$tagHighlight);\n            session.$tagHighlight = null;\n            return;\n          }\n\n          if (token.type.indexOf(\"tag-open\") != -1) {\n            token = iterator.stepForward();\n            if (!token) return;\n          }\n\n          var tag = token.value;\n          var depth = 0;\n          var prevToken = iterator.stepBackward();\n\n          if (prevToken.value == \"<\") {\n            do {\n              prevToken = token;\n              token = iterator.stepForward();\n\n              if (\n                token &&\n                token.value === tag &&\n                token.type.indexOf(\"tag-name\") !== -1\n              ) {\n                if (prevToken.value === \"<\") {\n                  depth++;\n                } else if (prevToken.value === \"</\") {\n                  depth--;\n                }\n              }\n            } while (token && depth >= 0);\n          } else {\n            do {\n              token = prevToken;\n              prevToken = iterator.stepBackward();\n\n              if (\n                token &&\n                token.value === tag &&\n                token.type.indexOf(\"tag-name\") !== -1\n              ) {\n                if (prevToken.value === \"<\") {\n                  depth++;\n                } else if (prevToken.value === \"</\") {\n                  depth--;\n                }\n              }\n            } while (prevToken && depth <= 0);\n            iterator.stepForward();\n          }\n\n          if (!token) {\n            session.removeMarker(session.$tagHighlight);\n            session.$tagHighlight = null;\n            return;\n          }\n\n          var row = iterator.getCurrentTokenRow();\n          var column = iterator.getCurrentTokenColumn();\n          var range = new Range(row, column, row, column + token.value.length);\n          var sbm = session.$backMarkers[session.$tagHighlight];\n          if (\n            session.$tagHighlight &&\n            sbm != undefined &&\n            range.compareRange(sbm.range) !== 0\n          ) {\n            session.removeMarker(session.$tagHighlight);\n            session.$tagHighlight = null;\n          }\n\n          if (!session.$tagHighlight)\n            session.$tagHighlight = session.addMarker(\n              range,\n              \"ace_bracket\",\n              \"text\"\n            );\n        }, 50);\n      };\n      this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n          if (!_self.isFocused()) _self.textInput.focus();\n        });\n        this.textInput.focus();\n      };\n      this.isFocused = function() {\n        return this.textInput.isFocused();\n      };\n      this.blur = function() {\n        this.textInput.blur();\n      };\n      this.onFocus = function(e) {\n        if (this.$isFocused) return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n      };\n      this.onBlur = function(e) {\n        if (!this.$isFocused) return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n      };\n\n      this.$cursorChange = function() {\n        this.renderer.updateCursor();\n      };\n      this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow =\n          delta.start.row == delta.end.row ? delta.end.row : Infinity;\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n        this.$updateHighlightActiveLine();\n      };\n\n      this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n      };\n\n      this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n      };\n\n      this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n      };\n      this.onCursorChange = function() {\n        this.$cursorChange();\n\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n        this._signal(\"changeSelection\");\n      };\n\n      this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n          if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n            highlight = this.getCursorPosition();\n          if (\n            this.renderer.theme &&\n            this.renderer.theme.$selectionColorConflict &&\n            !this.selection.isEmpty()\n          )\n            highlight = false;\n          if (\n            this.renderer.$maxLines &&\n            this.session.getLength() === 1 &&\n            !(this.renderer.$minLines > 1)\n          )\n            highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n          session.removeMarker(session.$highlightLineMarker.id);\n          session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n          var range = new Range(\n            highlight.row,\n            highlight.column,\n            highlight.row,\n            Infinity\n          );\n          range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n          session.$highlightLineMarker = range;\n        } else if (highlight) {\n          session.$highlightLineMarker.start.row = highlight.row;\n          session.$highlightLineMarker.end.row = highlight.row;\n          session.$highlightLineMarker.start.column = highlight.column;\n          session._signal(\"changeBackMarker\");\n        }\n      };\n\n      this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n          session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n          var range = this.selection.getRange();\n          var style = this.getSelectionStyle();\n          session.$selectionMarker = session.addMarker(\n            range,\n            \"ace_selection\",\n            style\n          );\n        } else {\n          this.$updateHighlightActiveLine();\n        }\n\n        var re =\n          this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n      };\n\n      this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine()) return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n\n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle)) return;\n\n        var re = this.$search.$assembleRegExp({\n          wholeWord: true,\n          caseSensitive: true,\n          needle: needle\n        });\n\n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary)) return;\n\n        return re;\n      };\n\n      this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n      };\n\n      this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n      };\n\n      this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n      };\n\n      this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n      };\n\n      this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n      };\n\n      this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n      };\n\n      this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n      };\n\n      this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n      };\n      this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n      };\n      this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine = false;\n        if (!text && this.$copyWithEmptySelection) {\n          copyLine = true;\n          var ranges = this.selection.getAllRanges();\n          for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (i && ranges[i - 1].start.row == range.start.row) continue;\n            text += this.session.getLine(range.start.row) + nl;\n          }\n        }\n        var e = { text: text };\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n      };\n      this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n      };\n      this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n      };\n      this.onPaste = function(text, event) {\n        var e = { text: text, event: event };\n        this.commands.exec(\"paste\", this, e);\n      };\n\n      this.$handlePaste = function(e) {\n        if (typeof e == \"string\") e = { text: e };\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n          if (lineMode)\n            session.insert({ row: this.selection.lead.row, column: 0 }, text);\n          else this.insert(text);\n        } else if (lineMode) {\n          this.selection.rangeList.ranges.forEach(function(range) {\n            session.insert({ row: range.start.row, column: 0 }, text);\n          });\n        } else {\n          var lines = text.split(/\\r\\n|\\r|\\n/);\n          var ranges = this.selection.rangeList.ranges;\n\n          if (lines.length > ranges.length || lines.length < 2 || !lines[1])\n            return this.commands.exec(\"insertstring\", this, text);\n\n          for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.isEmpty()) session.remove(range);\n\n            session.insert(range.start, lines[i]);\n          }\n        }\n      };\n\n      this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n      };\n      this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n          var transform = mode.transformAction(\n            session.getState(cursor.row),\n            \"insertion\",\n            this,\n            session,\n            text\n          );\n          if (transform) {\n            if (text !== transform.text) {\n              if (!this.inVirtualSelectionMode) {\n                this.session.mergeUndoDeltas = false;\n                this.mergeNextCommand = false;\n              }\n            }\n            text = transform.text;\n          }\n        }\n\n        if (text == \"\\t\") text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n          var range = this.getSelectionRange();\n          cursor = this.session.remove(range);\n          this.clearSelection();\n        } else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n          var range = new Range.fromPoints(cursor, cursor);\n          range.end.column += text.length;\n          this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n          var line = session.getLine(cursor.row);\n          if (cursor.column > line.search(/\\S|$/)) {\n            var d = line.substr(cursor.column).search(/\\S|$/);\n            session.doc.removeInLine(\n              cursor.row,\n              cursor.column,\n              cursor.column + d\n            );\n          }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        var end = session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n          if (transform.selection.length == 2) {\n            // Transform relative to the current column\n            this.selection.setSelectionRange(\n              new Range(\n                cursor.row,\n                start + transform.selection[0],\n                cursor.row,\n                start + transform.selection[1]\n              )\n            );\n          } else {\n            // Transform relative to the current row.\n            this.selection.setSelectionRange(\n              new Range(\n                cursor.row + transform.selection[0],\n                transform.selection[1],\n                cursor.row + transform.selection[2],\n                transform.selection[3]\n              )\n            );\n          }\n        }\n\n        if (session.getDocument().isNewLine(text)) {\n          var lineIndent = mode.getNextLineIndent(\n            lineState,\n            line.slice(0, cursor.column),\n            session.getTabString()\n          );\n\n          session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n        }\n        if (shouldOutdent) mode.autoOutdent(lineState, session, cursor.row);\n      };\n\n      this.onTextInput = function(text, composition) {\n        if (!composition) return this.keyBinding.onTextInput(text);\n\n        this.startOperation({ command: { name: \"insertstring\" } });\n        var applyComposition = this.applyComposition.bind(\n          this,\n          text,\n          composition\n        );\n        if (this.selection.rangeCount) this.forEachSelection(applyComposition);\n        else applyComposition();\n        this.endOperation();\n      };\n\n      this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n          var r = this.selection.getRange();\n          r.start.column -= composition.extendLeft;\n          r.end.column += composition.extendRight;\n          this.selection.setRange(r);\n          if (!text && !r.isEmpty()) this.remove();\n        }\n        if (text || !this.selection.isEmpty()) this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n          var r = this.selection.getRange();\n          r.start.column -= composition.restoreStart;\n          r.end.column -= composition.restoreEnd;\n          this.selection.setRange(r);\n        }\n      };\n\n      this.onCommandKey = function(e, hashId, keyCode) {\n        this.keyBinding.onCommandKey(e, hashId, keyCode);\n      };\n      this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n      };\n      this.getOverwrite = function() {\n        return this.session.getOverwrite();\n      };\n      this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n      };\n      this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n      };\n      this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n      };\n      this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n      };\n      this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n      };\n      this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n      };\n      this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n      };\n      this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n      };\n      this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n      };\n      this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n      };\n\n      this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n      };\n      this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n      };\n      this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n      };\n\n      this.setAnimatedScroll = function(shouldAnimate) {\n        this.renderer.setAnimatedScroll(shouldAnimate);\n      };\n\n      this.getAnimatedScroll = function() {\n        return this.renderer.getAnimatedScroll();\n      };\n      this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n      };\n      this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n      };\n\n      this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n      };\n\n      this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n      };\n      this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n      };\n      this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n      };\n      this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n      };\n      this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n      };\n      this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n      };\n      this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n      };\n      this.setBehavioursEnabled = function(enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n      };\n      this.getBehavioursEnabled = function() {\n        return this.getOption(\"behavioursEnabled\");\n      };\n      this.setWrapBehavioursEnabled = function(enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n      };\n      this.getWrapBehavioursEnabled = function() {\n        return this.getOption(\"wrapBehavioursEnabled\");\n      };\n      this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n      };\n      this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n      };\n\n      this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n      };\n\n      this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n      };\n      this.remove = function(dir) {\n        if (this.selection.isEmpty()) {\n          if (dir == \"left\") this.selection.selectLeft();\n          else this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n          var session = this.session;\n          var state = session.getState(range.start.row);\n          var new_range = session\n            .getMode()\n            .transformAction(state, \"deletion\", this, session, range);\n\n          if (range.end.column === 0) {\n            var text = session.getTextRange(range);\n            if (text[text.length - 1] == \"\\n\") {\n              var line = session.getLine(range.end.row);\n              if (/^\\s+$/.test(line)) {\n                range.end.column = line.length;\n              }\n            }\n          }\n          if (new_range) range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n      };\n      this.removeWordRight = function() {\n        if (this.selection.isEmpty()) this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n      };\n      this.removeWordLeft = function() {\n        if (this.selection.isEmpty()) this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n      };\n      this.removeToLineStart = function() {\n        if (this.selection.isEmpty()) this.selection.selectLineStart();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n      };\n      this.removeToLineEnd = function() {\n        if (this.selection.isEmpty()) this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (\n          range.start.column == range.end.column &&\n          range.start.row == range.end.row\n        ) {\n          range.end.column = 0;\n          range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n      };\n      this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n          this.session.remove(this.getSelectionRange());\n          this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n      };\n      this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n          return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0) return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n          swap = line.charAt(column) + line.charAt(column - 1);\n          range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n        } else {\n          swap = line.charAt(column - 1) + line.charAt(column - 2);\n          range = new Range(cursor.row, column - 2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n      };\n      this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n          this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n      };\n      this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n          this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n      };\n      this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n          var rows = this.$getSelectedRows();\n          session.indentRows(rows.first, rows.last, \"\\t\");\n          return;\n        } else if (range.start.column < range.end.column) {\n          var text = session.getTextRange(range);\n          if (!/^\\s+$/.test(text)) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n          }\n        }\n\n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(\n          position.row,\n          position.column\n        );\n\n        if (this.session.getUseSoftTabs()) {\n          var count = size - (column % size);\n          var indentString = lang.stringRepeat(\" \", count);\n        } else {\n          var count = column % size;\n          while (line[range.start.column - 1] == \" \" && count) {\n            range.start.column--;\n            count--;\n          }\n          this.selection.setSelectionRange(range);\n          indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n      };\n      this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n      };\n      this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n      };\n      this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n          lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n          if (a.toLowerCase() < b.toLowerCase()) return -1;\n          if (a.toLowerCase() > b.toLowerCase()) return 1;\n          return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n          var line = session.getLine(i);\n          deleteRange.start.row = i;\n          deleteRange.end.row = i;\n          deleteRange.end.column = line.length;\n          session.replace(deleteRange, lines[i - rows.first]);\n        }\n      };\n      this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session\n          .getMode()\n          .toggleCommentLines(state, this.session, rows.first, rows.last);\n      };\n\n      this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session\n          .getMode()\n          .toggleBlockComment(state, this.session, range, cursor);\n      };\n      this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n          var m = _numberRx.exec(s);\n          if (m.index <= column && m.index + m[0].length >= column) {\n            var number = {\n              value: m[0],\n              start: m.index,\n              end: m.index + m[0].length\n            };\n            return number;\n          }\n        }\n        return null;\n      };\n      this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column - 1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n          var nr = this.getNumberAt(row, column);\n          if (nr) {\n            var fp =\n              nr.value.indexOf(\".\") >= 0\n                ? nr.start + nr.value.indexOf(\".\") + 1\n                : nr.end;\n            var decimals = nr.start + nr.value.length - fp;\n\n            var t = parseFloat(nr.value);\n            t *= Math.pow(10, decimals);\n\n            if (fp !== nr.end && column < fp) {\n              amount *= Math.pow(10, nr.end - column - 1);\n            } else {\n              amount *= Math.pow(10, nr.end - column);\n            }\n\n            t += amount;\n            t /= Math.pow(10, decimals);\n            var nnr = t.toFixed(decimals);\n            var replaceRange = new Range(row, nr.start, row, nr.end);\n            this.session.replace(replaceRange, nnr);\n            this.moveCursorTo(\n              row,\n              Math.max(nr.start + 1, column + nnr.length - nr.value.length)\n            );\n          }\n        } else {\n          this.toggleWord();\n        }\n      };\n\n      this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n      ];\n\n      this.toggleWord = function() {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState\n          .replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, \"$1 \")\n          .split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0,\n          itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n          wordParts.forEach(function(item, i) {\n            itLength = curLength + item.length;\n            if (delta >= curLength && delta <= itLength) {\n              currentState = item;\n              that.selection.clearSelection();\n              that.moveCursorTo(row, curLength + currWordStart);\n              that.selection.selectTo(row, itLength + currWordStart);\n            }\n            curLength = itLength;\n          });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n          var item = wordPairs[i];\n          for (var j = 0; j <= 1; j++) {\n            var negate = +!j;\n            var firstCondition = currentState.match(\n              new RegExp(\n                \"^\\\\s?_?(\" + lang.escapeRegExp(item[j]) + \")\\\\s?$\",\n                \"i\"\n              )\n            );\n            if (firstCondition) {\n              var secondCondition = currentState.match(\n                new RegExp(\n                  \"([_]|^|\\\\s)(\" +\n                    lang.escapeRegExp(firstCondition[1]) +\n                    \")($|\\\\s)\",\n                  \"g\"\n                )\n              );\n              if (secondCondition) {\n                reg = currentState.replace(\n                  new RegExp(lang.escapeRegExp(item[j]), \"i\"),\n                  function(result) {\n                    var res = item[negate];\n                    if (result.toUpperCase() == result) {\n                      res = res.toUpperCase();\n                    } else if (\n                      result.charAt(0).toUpperCase() == result.charAt(0)\n                    ) {\n                      res =\n                        res.substr(0, 0) +\n                        item[negate].charAt(0).toUpperCase() +\n                        res.substr(1);\n                    }\n                    return res;\n                  }\n                );\n                this.insert(reg);\n                reg = \"\";\n              }\n            }\n          }\n        }\n      };\n      this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n      };\n\n      this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n          var row = range.start.row;\n          doc.duplicateLines(row, row);\n        } else {\n          var point = reverse ? range.start : range.end;\n          var endPoint = doc.insert(point, doc.getTextRange(range), false);\n          range.start = point;\n          range.end = endPoint;\n\n          sel.setSelectionRange(range, reverse);\n        }\n      };\n      this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n      };\n      this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n      };\n      this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n      };\n      this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n      };\n      this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n      };\n      this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n          var range = selection.toOrientedRange();\n          rows = this.$getSelectedRows(range);\n          moved = this.session.$moveLines(\n            rows.first,\n            rows.last,\n            copy ? 0 : dir\n          );\n          if (copy && dir == -1) moved = 0;\n          range.moveBy(moved, 0);\n          selection.fromOrientedRange(range);\n        } else {\n          var ranges = selection.rangeList.ranges;\n          selection.rangeList.detach(this.session);\n          this.inVirtualSelectionMode = true;\n\n          var diff = 0;\n          var totalDiff = 0;\n          var l = ranges.length;\n          for (var i = 0; i < l; i++) {\n            var rangeIndex = i;\n            ranges[i].moveBy(diff, 0);\n            rows = this.$getSelectedRows(ranges[i]);\n            var first = rows.first;\n            var last = rows.last;\n            while (++i < l) {\n              if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n              var subRows = this.$getSelectedRows(ranges[i]);\n              if (copy && subRows.first != last) break;\n              else if (!copy && subRows.first > last + 1) break;\n              last = subRows.last;\n            }\n            i--;\n            diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n            if (copy && dir == -1) rangeIndex = i + 1;\n            while (rangeIndex <= i) {\n              ranges[rangeIndex].moveBy(diff, 0);\n              rangeIndex++;\n            }\n            if (!copy) diff = 0;\n            totalDiff += diff;\n          }\n\n          selection.fromOrientedRange(selection.ranges[0]);\n          selection.rangeList.attach(this.session);\n          this.inVirtualSelectionMode = false;\n        }\n      };\n      this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n          first: this.session.getRowFoldStart(range.start.row),\n          last: this.session.getRowFoldEnd(range.end.row)\n        };\n      };\n\n      this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n      };\n\n      this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n      };\n\n      this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n      };\n      this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n      };\n      this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n      };\n      this.isRowVisible = function(row) {\n        return (\n          row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow()\n        );\n      };\n      this.isRowFullyVisible = function(row) {\n        return (\n          row >= this.renderer.getFirstFullyVisibleRow() &&\n          row <= this.renderer.getLastFullyVisibleRow()\n        );\n      };\n      this.$getVisibleRowCount = function() {\n        return (\n          this.renderer.getScrollBottomRow() -\n          this.renderer.getScrollTopRow() +\n          1\n        );\n      };\n\n      this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n          this.selection.$moveSelection(function() {\n            this.moveCursorBy(rows, 0);\n          });\n        } else if (select === false) {\n          this.selection.moveCursorBy(rows, 0);\n          this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null) renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n      };\n      this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n      };\n      this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n      };\n      this.gotoPageDown = function() {\n        this.$moveByPage(1, false);\n      };\n      this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n      };\n      this.scrollPageDown = function() {\n        this.$moveByPage(1);\n      };\n      this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n      };\n      this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n      };\n      this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n      };\n      this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n          row: Math.floor(\n            range.start.row + (range.end.row - range.start.row) / 2\n          ),\n          column: Math.floor(\n            range.start.column + (range.end.column - range.start.column) / 2\n          )\n        };\n        this.renderer.alignCursor(pos, 0.5);\n      };\n      this.getCursorPosition = function() {\n        return this.selection.getCursor();\n      };\n      this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n      };\n      this.getSelectionRange = function() {\n        return this.selection.getRange();\n      };\n      this.selectAll = function() {\n        this.selection.selectAll();\n      };\n      this.clearSelection = function() {\n        this.selection.clearSelection();\n      };\n      this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n      };\n      this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n      };\n      this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(\n          this.session,\n          cursor.row,\n          cursor.column\n        );\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n          \")\": \"(\",\n          \"(\": \"(\",\n          \"]\": \"[\",\n          \"[\": \"[\",\n          \"{\": \"{\",\n          \"}\": \"{\"\n        };\n\n        do {\n          if (token.value.match(/[{}()\\[\\]]/g)) {\n            for (; i < token.value.length && !found; i++) {\n              if (!brackets[token.value[i]]) {\n                continue;\n              }\n\n              bracketType =\n                brackets[token.value[i]] +\n                \".\" +\n                token.type.replace(\"rparen\", \"lparen\");\n\n              if (isNaN(depth[bracketType])) {\n                depth[bracketType] = 0;\n              }\n\n              switch (token.value[i]) {\n                case \"(\":\n                case \"[\":\n                case \"{\":\n                  depth[bracketType]++;\n                  break;\n                case \")\":\n                case \"]\":\n                case \"}\":\n                  depth[bracketType]--;\n\n                  if (depth[bracketType] === -1) {\n                    matchType = \"bracket\";\n                    found = true;\n                  }\n                  break;\n              }\n            }\n          } else if (token.type.indexOf(\"tag-name\") !== -1) {\n            if (isNaN(depth[token.value])) {\n              depth[token.value] = 0;\n            }\n\n            if (prevToken.value === \"<\") {\n              depth[token.value]++;\n            } else if (prevToken.value === \"</\") {\n              depth[token.value]--;\n            }\n\n            if (depth[token.value] === -1) {\n              matchType = \"tag\";\n              found = true;\n            }\n          }\n\n          if (!found) {\n            prevToken = token;\n            token = iterator.stepForward();\n            i = 0;\n          }\n        } while (token && !found);\n        if (!matchType) return;\n\n        var range, pos;\n        if (matchType === \"bracket\") {\n          range = this.session.getBracketRange(cursor);\n          if (!range) {\n            range = new Range(\n              iterator.getCurrentTokenRow(),\n              iterator.getCurrentTokenColumn() + i - 1,\n              iterator.getCurrentTokenRow(),\n              iterator.getCurrentTokenColumn() + i - 1\n            );\n            pos = range.start;\n            if (\n              expand ||\n              (pos.row === cursor.row &&\n                Math.abs(pos.column - cursor.column) < 2)\n            )\n              range = this.session.getBracketRange(pos);\n          }\n        } else if (matchType === \"tag\") {\n          if (token && token.type.indexOf(\"tag-name\") !== -1)\n            var tag = token.value;\n          else return;\n\n          range = new Range(\n            iterator.getCurrentTokenRow(),\n            iterator.getCurrentTokenColumn() - 2,\n            iterator.getCurrentTokenRow(),\n            iterator.getCurrentTokenColumn() - 2\n          );\n          if (range.compare(cursor.row, cursor.column) === 0) {\n            found = false;\n            do {\n              token = prevToken;\n              prevToken = iterator.stepBackward();\n\n              if (prevToken) {\n                if (prevToken.type.indexOf(\"tag-close\") !== -1) {\n                  range.setEnd(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + 1\n                  );\n                }\n\n                if (\n                  token.value === tag &&\n                  token.type.indexOf(\"tag-name\") !== -1\n                ) {\n                  if (prevToken.value === \"<\") {\n                    depth[tag]++;\n                  } else if (prevToken.value === \"</\") {\n                    depth[tag]--;\n                  }\n\n                  if (depth[tag] === 0) found = true;\n                }\n              }\n            } while (prevToken && !found);\n          }\n          if (token && token.type.indexOf(\"tag-name\")) {\n            pos = range.start;\n            if (\n              pos.row == cursor.row &&\n              Math.abs(pos.column - cursor.column) < 2\n            )\n              pos = range.end;\n          }\n        }\n\n        pos = (range && range.cursor) || pos;\n        if (pos) {\n          if (select) {\n            if (range && expand) {\n              this.selection.setRange(range);\n            } else if (range && range.isEqual(this.getSelectionRange())) {\n              this.clearSelection();\n            } else {\n              this.selection.selectTo(pos.row, pos.column);\n            }\n          } else {\n            this.selection.moveTo(pos.row, pos.column);\n          }\n        }\n      };\n      this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n          this.scrollToLine(lineNumber - 1, true, animate);\n      };\n      this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n      };\n      this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n          var selectionStart = this.selection.anchor.getPosition();\n          return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n      };\n      this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n          var selectionEnd = this.selection.anchor.getPosition();\n          return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n      };\n      this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n          var selectionStart = this.getSelectionRange().start;\n          this.moveCursorToPosition(selectionStart);\n        } else {\n          times = times || 1;\n          while (times--) {\n            this.selection.moveCursorLeft();\n          }\n        }\n        this.clearSelection();\n      };\n      this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n          var selectionEnd = this.getSelectionRange().end;\n          this.moveCursorToPosition(selectionEnd);\n        } else {\n          times = times || 1;\n          while (times--) {\n            this.selection.moveCursorRight();\n          }\n        }\n        this.clearSelection();\n      };\n      this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n      };\n      this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n      };\n      this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n      };\n      this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n      };\n      this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n      };\n      this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n      };\n      this.replace = function(replacement, options) {\n        if (options) this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range) return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n          replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n      };\n      this.replaceAll = function(replacement, options) {\n        if (options) {\n          this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length) return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n          if (this.$tryReplace(ranges[i], replacement)) {\n            replaced++;\n          }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n      };\n\n      this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n          range.end = this.session.replace(range, replacement);\n          return range;\n        } else {\n          return null;\n        }\n      };\n      this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n      };\n      this.find = function(needle, options, animate) {\n        if (!options) options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n          options.needle = needle;\n        else if (typeof needle == \"object\") oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n          needle =\n            this.session.getTextRange(range) || this.$search.$options.needle;\n          if (!needle) {\n            range = this.session.getWordRange(\n              range.start.row,\n              range.start.column\n            );\n            needle = this.session.getTextRange(range);\n          }\n          this.$search.set({ needle: needle });\n        }\n\n        this.$search.set(options);\n        if (!options.start) this.$search.set({ start: range });\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll) return newRange;\n        if (newRange) {\n          this.revealRange(newRange, animate);\n          return newRange;\n        }\n        if (options.backwards) range.start = range.end;\n        else range.end = range.start;\n        this.selection.setRange(range);\n      };\n      this.findNext = function(options, animate) {\n        this.find({ skipCurrent: true, backwards: false }, options, animate);\n      };\n      this.findPrevious = function(options, animate) {\n        this.find(options, { skipCurrent: true, backwards: true }, animate);\n      };\n\n      this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false) this.renderer.animateScrolling(scrollTop);\n      };\n      this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n      };\n      this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n      };\n      this.destroy = function() {\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session) {\n          this.session.destroy();\n        }\n      };\n      this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable) return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n          this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n          shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n          if (shouldScroll)\n            rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n          if (\n            shouldScroll &&\n            rect &&\n            (self.isFocused() || (self.searchBox && self.searchBox.isFocused()))\n          ) {\n            var renderer = self.renderer;\n            var pos = renderer.$cursorLayer.$pixelPos;\n            var config = renderer.layerConfig;\n            var top = pos.top - config.offset;\n            if (pos.top >= 0 && top + rect.top < 0) {\n              shouldScroll = true;\n            } else if (\n              pos.top < config.height &&\n              pos.top + rect.top + config.lineHeight > window.innerHeight\n            ) {\n              shouldScroll = false;\n            } else {\n              shouldScroll = null;\n            }\n            if (shouldScroll != null) {\n              scrollAnchor.style.top = top + \"px\";\n              scrollAnchor.style.left = pos.left + \"px\";\n              scrollAnchor.style.height = config.lineHeight + \"px\";\n              scrollAnchor.scrollIntoView(shouldScroll);\n            }\n            shouldScroll = rect = null;\n          }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n          if (enable) return;\n          delete this.setAutoScrollEditorIntoView;\n          this.off(\"changeSelection\", onChangeSelection);\n          this.renderer.off(\"afterRender\", onAfterRender);\n          this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n      };\n\n      this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer) return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(\n          cursorLayer.element,\n          \"ace_slim-cursors\",\n          /slim/.test(style)\n        );\n      };\n    }.call(Editor.prototype));\n\n    config.defineOptions(Editor.prototype, \"editor\", {\n      selectionStyle: {\n        set: function(style) {\n          this.onSelectionChange();\n          this._signal(\"changeSelectionStyle\", { data: style });\n        },\n        initialValue: \"line\"\n      },\n      highlightActiveLine: {\n        set: function() {\n          this.$updateHighlightActiveLine();\n        },\n        initialValue: true\n      },\n      highlightSelectedWord: {\n        set: function(shouldHighlight) {\n          this.$onSelectionChange();\n        },\n        initialValue: true\n      },\n      readOnly: {\n        set: function(readOnly) {\n          this.textInput.setReadOnly(readOnly);\n          this.$resetCursorStyle();\n        },\n        initialValue: false\n      },\n      copyWithEmptySelection: {\n        set: function(value) {\n          this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n      },\n      cursorStyle: {\n        set: function(val) {\n          this.$resetCursorStyle();\n        },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n      },\n      mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n      },\n      behavioursEnabled: { initialValue: true },\n      wrapBehavioursEnabled: { initialValue: true },\n      autoScrollEditorIntoView: {\n        set: function(val) {\n          this.setAutoScrollEditorIntoView(val);\n        }\n      },\n      keyboardHandler: {\n        set: function(val) {\n          this.setKeyboardHandler(val);\n        },\n        get: function() {\n          return this.$keybindingId;\n        },\n        handlesSet: true\n      },\n      value: {\n        set: function(val) {\n          this.session.setValue(val);\n        },\n        get: function() {\n          return this.getValue();\n        },\n        handlesSet: true,\n        hidden: true\n      },\n      session: {\n        set: function(val) {\n          this.setSession(val);\n        },\n        get: function() {\n          return this.session;\n        },\n        handlesSet: true,\n        hidden: true\n      },\n\n      showLineNumbers: {\n        set: function(show) {\n          this.renderer.$gutterLayer.setShowLineNumbers(show);\n          this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n          if (show && this.$relativeLineNumbers)\n            relativeNumberRenderer.attach(this);\n          else relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n      },\n      relativeLineNumbers: {\n        set: function(value) {\n          if (this.$showLineNumbers && value)\n            relativeNumberRenderer.attach(this);\n          else relativeNumberRenderer.detach(this);\n        }\n      },\n\n      hScrollBarAlwaysVisible: \"renderer\",\n      vScrollBarAlwaysVisible: \"renderer\",\n      highlightGutterLine: \"renderer\",\n      animatedScroll: \"renderer\",\n      showInvisibles: \"renderer\",\n      showPrintMargin: \"renderer\",\n      printMarginColumn: \"renderer\",\n      printMargin: \"renderer\",\n      fadeFoldWidgets: \"renderer\",\n      showFoldWidgets: \"renderer\",\n      displayIndentGuides: \"renderer\",\n      showGutter: \"renderer\",\n      fontSize: \"renderer\",\n      fontFamily: \"renderer\",\n      maxLines: \"renderer\",\n      minLines: \"renderer\",\n      scrollPastEnd: \"renderer\",\n      fixedWidthGutter: \"renderer\",\n      theme: \"renderer\",\n      hasCssTransforms: \"renderer\",\n      maxPixelHeight: \"renderer\",\n      useTextareaForIME: \"renderer\",\n\n      scrollSpeed: \"$mouseHandler\",\n      dragDelay: \"$mouseHandler\",\n      dragEnabled: \"$mouseHandler\",\n      focusTimeout: \"$mouseHandler\",\n      tooltipFollowsMouse: \"$mouseHandler\",\n\n      firstLineNumber: \"session\",\n      overwrite: \"session\",\n      newLineMode: \"session\",\n      useWorker: \"session\",\n      useSoftTabs: \"session\",\n      navigateWithinSoftTabs: \"session\",\n      tabSize: \"session\",\n      wrap: \"session\",\n      indentedSoftWrap: \"session\",\n      foldStyle: \"session\",\n      mode: \"session\"\n    });\n\n    var relativeNumberRenderer = {\n      getText: function(session, row) {\n        return (\n          (Math.abs(session.selection.lead.row - row) ||\n            row + 1 + (row < 9 ? \"\\xb7\" : \"\")) + \"\"\n        );\n      },\n      getWidth: function(session, lastLineNumber, config) {\n        return (\n          Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n          ) * config.characterWidth\n        );\n      },\n      update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n      },\n      attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n      },\n      detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n          editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n      }\n    };\n\n    exports.Editor = Editor;\n  }\n);\n\nace.define(\n  \"ace/undomanager\",\n  [\"require\", \"exports\", \"module\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n    var UndoManager = function() {\n      this.$maxRev = 0;\n      this.$fromUndo = false;\n      this.reset();\n    };\n\n    (function() {\n      this.addSession = function(session) {\n        this.$session = session;\n      };\n      this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (allowMerge === false || !this.lastDeltas) {\n          this.lastDeltas = [];\n          this.$undoStack.push(this.lastDeltas);\n          delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n          this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n      };\n\n      this.addSelection = function(selection, rev) {\n        this.selections.push({\n          value: selection,\n          rev: rev || this.$rev\n        });\n      };\n\n      this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n      };\n\n      this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--; ) {\n          var delta = stack[i][0];\n          if (delta.id <= from) break;\n          if (delta.id < to) delta.ignore = true;\n        }\n        this.lastDeltas = null;\n      };\n\n      this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--; ) {\n          var selection = stack[i];\n          if (selection.rev < rev) {\n            if (after) selection = stack[i + 1];\n            return selection;\n          }\n        }\n      };\n\n      this.getRevision = function() {\n        return this.$rev;\n      };\n\n      this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null,\n          start = 0;\n        for (var i = stack.length; i--; ) {\n          var delta = stack[i][0];\n          if (delta.id < to && !end) end = i + 1;\n          if (delta.id <= from) {\n            start = i + 1;\n            break;\n          }\n        }\n        return stack.slice(start, end);\n      };\n\n      this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n      };\n\n      this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n      };\n      this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n\n        if (!rearrangeUndoStack(stack, stack.length)) return;\n\n        if (!session) session = this.$session;\n\n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n          this.$redoStack = [];\n\n        this.$fromUndo = true;\n\n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet && deltaSet.length) {\n          undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n          this.$redoStack.push(deltaSet);\n          this.$syncRev();\n        }\n\n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n      };\n      this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n\n        if (!session) session = this.$session;\n\n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n          var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n          rebaseRedoStack(this.$redoStack, diff);\n          this.$redoStackBaseRev = this.$rev;\n          this.$redoStack.forEach(function(x) {\n            x[0].id = ++this.$maxRev;\n          }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n\n        if (deltaSet) {\n          redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n          this.$undoStack.push(deltaSet);\n          this.$syncRev();\n        }\n        this.$fromUndo = false;\n\n        return redoSelectionRange;\n      };\n\n      this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = (nextDelta && nextDelta[0].id) || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n      };\n      this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n      };\n      this.canUndo = function() {\n        return this.$undoStack.length > 0;\n      };\n      this.canRedo = function() {\n        return this.$redoStack.length > 0;\n      };\n      this.bookmark = function(rev) {\n        if (rev == undefined) rev = this.$rev;\n        this.mark = rev;\n      };\n      this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n      };\n\n      this.toJSON = function() {};\n\n      this.fromJSON = function() {};\n\n      this.hasUndo = this.canUndo;\n      this.hasRedo = this.canRedo;\n      this.isClean = this.isAtBookmark;\n      this.markClean = this.bookmark;\n\n      this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return (\n          stringifyDelta(this.$undoStack) +\n          \"\\n---\\n\" +\n          stringifyDelta(this.$redoStack)\n        );\n      };\n    }.call(UndoManager.prototype));\n\n    function rearrangeUndoStack(stack, pos) {\n      for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n          while (i < pos - 1) {\n            var swapped = swapGroups(stack[i], stack[i + 1]);\n            stack[i] = swapped[0];\n            stack[i + 1] = swapped[1];\n            i++;\n          }\n          return true;\n        }\n      }\n    }\n\n    var Range = require(\"./range\").Range;\n    var cmp = Range.comparePoints;\n    var comparePoints = Range.comparePoints;\n\n    function $updateMarkers(delta) {\n      var isInsert = delta.action == \"insert\";\n      var start = delta.start;\n      var end = delta.end;\n      var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n      var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n      if (isInsert) end = start;\n\n      for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n          continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n          if (isInsert) {\n            if (point.bias == 1) {\n              cmp = 1;\n            } else {\n              point.bias == -1;\n              continue;\n            }\n          }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n          point.row += rowShift;\n          point.column += point.row == end.row ? colShift : 0;\n          continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n          point.row = start.row;\n          point.column = start.column;\n          if (cmp2 === 0) point.bias = 1;\n        }\n      }\n    }\n\n    function clonePos(pos) {\n      return { row: pos.row, column: pos.column };\n    }\n    function cloneDelta(d) {\n      return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n      };\n    }\n    function stringifyDelta(d) {\n      d = d || this;\n      if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n      }\n      var type = \"\";\n      if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n      } else if (d.value) {\n        if (Array.isArray(d.value)) {\n          type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n          type = stringifyRange(d.value);\n        }\n      }\n      if (d.start) {\n        type += stringifyRange(d);\n      }\n      if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n      }\n      return type;\n    }\n    function stringifyRange(r) {\n      return (\n        r.start.row +\n        \":\" +\n        r.start.column +\n        \"=>\" +\n        r.end.row +\n        \":\" +\n        r.end.column\n      );\n    }\n\n    function swap(d1, d2) {\n      var i1 = d1.action == \"insert\";\n      var i2 = d2.action == \"insert\";\n\n      if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n          shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n          shift(d1, d2, +1);\n        } else {\n          return null;\n        }\n      } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n          shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n          shift(d1, d2, -1);\n        } else {\n          return null;\n        }\n      } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n          shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n          shift(d1, d2, +1);\n        } else {\n          return null;\n        }\n      } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n          shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n          shift(d1, d2, -1);\n        } else {\n          return null;\n        }\n      }\n      return [d2, d1];\n    }\n    function swapGroups(ds1, ds2) {\n      for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n          if (!swap(ds1[i], ds2[j])) {\n            while (i < ds1.length) {\n              while (j--) {\n                swap(ds2[j], ds1[i]);\n              }\n              j = ds2.length;\n              i++;\n            }\n            return [ds1, ds2];\n          }\n        }\n      }\n      ds1.selectionBefore = ds2.selectionBefore = ds1.selectionAfter = ds2.selectionAfter = null;\n      return [ds2, ds1];\n    }\n    function xform(d1, c1) {\n      var i1 = d1.action == \"insert\";\n      var i2 = c1.action == \"insert\";\n\n      if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n          shift(c1, d1, 1);\n        } else {\n          shift(d1, c1, 1);\n        }\n      } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n          shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n          shift(c1, d1, +1);\n        } else {\n          shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n          shift(c1, d1, +1);\n        }\n      } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n          shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n          shift(d1, c1, +1);\n        } else {\n          shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n          shift(d1, c1, +1);\n        }\n      } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n          shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n          shift(d1, c1, -1);\n        } else {\n          var before, after;\n          if (cmp(d1.start, c1.start) < 0) {\n            before = d1;\n            d1 = splitDelta(d1, c1.start);\n          }\n          if (cmp(d1.end, c1.end) > 0) {\n            after = splitDelta(d1, c1.end);\n          }\n\n          shiftPos(c1.end, d1.start, d1.end, -1);\n          if (after && !before) {\n            d1.lines = after.lines;\n            d1.start = after.start;\n            d1.end = after.end;\n            after = d1;\n          }\n\n          return [c1, before, after].filter(Boolean);\n        }\n      }\n      return [c1, d1];\n    }\n\n    function shift(d1, d2, dir) {\n      shiftPos(d1.start, d2.start, d2.end, dir);\n      shiftPos(d1.end, d2.start, d2.end, dir);\n    }\n    function shiftPos(pos, start, end, dir) {\n      if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n      }\n      pos.row += dir * (end.row - start.row);\n    }\n    function splitDelta(c, pos) {\n      var lines = c.lines;\n      var end = c.end;\n      c.end = clonePos(pos);\n      var rowsBefore = c.end.row - c.start.row;\n      var otherLines = lines.splice(rowsBefore, lines.length);\n\n      var col = rowsBefore ? pos.column : pos.column - c.start.column;\n      lines.push(otherLines[0].substring(0, col));\n      otherLines[0] = otherLines[0].substr(col);\n      var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n      };\n      return rest;\n    }\n\n    function moveDeltasByOne(redoStack, d) {\n      d = cloneDelta(d);\n      for (var j = redoStack.length; j--; ) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n          var x = deltaSet[i];\n          var xformed = xform(x, d);\n          d = xformed[0];\n          if (xformed.length != 2) {\n            if (xformed[2]) {\n              deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n              i++;\n            } else if (!xformed[1]) {\n              deltaSet.splice(i, 1);\n              i--;\n            }\n          }\n        }\n        if (!deltaSet.length) {\n          redoStack.splice(j, 1);\n        }\n      }\n      return redoStack;\n    }\n    function rebaseRedoStack(redoStack, deltaSets) {\n      for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n          moveDeltasByOne(redoStack, deltas[j]);\n        }\n      }\n    }\n\n    exports.UndoManager = UndoManager;\n  }\n);\n\nace.define(\n  \"ace/layer/lines\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var dom = require(\"../lib/dom\");\n\n    var Lines = function(element, canvasHeight) {\n      this.element = element;\n      this.canvasHeight = canvasHeight || 500000;\n      this.element.style.height = this.canvasHeight * 2 + \"px\";\n\n      this.cells = [];\n      this.cellCache = [];\n      this.$offsetCoefficient = 0;\n    };\n\n    (function() {\n      this.moveContainer = function(config) {\n        dom.translate(\n          this.element,\n          0,\n          -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) -\n            config.offset * this.$offsetCoefficient\n        );\n      };\n\n      this.pageChanged = function(oldConfig, newConfig) {\n        return (\n          Math.floor(\n            (oldConfig.firstRowScreen * oldConfig.lineHeight) /\n              this.canvasHeight\n          ) !==\n          Math.floor(\n            (newConfig.firstRowScreen * newConfig.lineHeight) /\n              this.canvasHeight\n          )\n        );\n      };\n\n      this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - screenPage * this.canvasHeight;\n      };\n\n      this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLength(row);\n      };\n\n      this.getLength = function() {\n        return this.cells.length;\n      };\n\n      this.get = function(index) {\n        return this.cells[index];\n      };\n\n      this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n      };\n\n      this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n      };\n\n      this.push = function(cell) {\n        if (Array.isArray(cell)) {\n          this.cells.push.apply(this.cells, cell);\n          var fragment = dom.createFragment(this.element);\n          for (var i = 0; i < cell.length; i++) {\n            fragment.appendChild(cell[i].element);\n          }\n          this.element.appendChild(fragment);\n        } else {\n          this.cells.push(cell);\n          this.element.appendChild(cell.element);\n        }\n      };\n\n      this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n          this.cells.unshift.apply(this.cells, cell);\n          var fragment = dom.createFragment(this.element);\n          for (var i = 0; i < cell.length; i++) {\n            fragment.appendChild(cell[i].element);\n          }\n          if (this.element.firstChild)\n            this.element.insertBefore(fragment, this.element.firstChild);\n          else this.element.appendChild(fragment);\n        } else {\n          this.cells.unshift(cell);\n          this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n      };\n\n      this.last = function() {\n        if (this.cells.length) return this.cells[this.cells.length - 1];\n        else return null;\n      };\n\n      this.$cacheCell = function(cell) {\n        if (!cell) return;\n\n        cell.element.remove();\n        this.cellCache.push(cell);\n      };\n\n      this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n          var element = dom.createElement(\"div\");\n          if (initElement) initElement(element);\n\n          this.element.appendChild(element);\n\n          cell = {\n            element: element,\n            text: \"\",\n            row: row\n          };\n        }\n        cell.row = row;\n\n        return cell;\n      };\n    }.call(Lines.prototype));\n\n    exports.Lines = Lines;\n  }\n);\n\nace.define(\n  \"ace/layer/gutter\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/dom\",\n    \"ace/lib/oop\",\n    \"ace/lib/lang\",\n    \"ace/lib/event_emitter\",\n    \"ace/layer/lines\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var dom = require(\"../lib/dom\");\n    var oop = require(\"../lib/oop\");\n    var lang = require(\"../lib/lang\");\n    var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n    var Lines = require(\"./lines\").Lines;\n\n    var Gutter = function(parentEl) {\n      this.element = dom.createElement(\"div\");\n      this.element.className = \"ace_layer ace_gutter-layer\";\n      parentEl.appendChild(this.element);\n      this.setShowFoldWidgets(this.$showFoldWidgets);\n\n      this.gutterWidth = 0;\n\n      this.$annotations = [];\n      this.$updateAnnotations = this.$updateAnnotations.bind(this);\n\n      this.$lines = new Lines(this.element);\n      this.$lines.$offsetCoefficient = 1;\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.setSession = function(session) {\n        if (this.session)\n          this.session.removeEventListener(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session) session.on(\"change\", this.$updateAnnotations);\n      };\n\n      this.addGutterDecoration = function(row, className) {\n        if (window.console)\n          console.warn &&\n            console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n      };\n\n      this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n          console.warn &&\n            console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n      };\n\n      this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n          var annotation = annotations[i];\n          var row = annotation.row;\n          var rowInfo = this.$annotations[row];\n          if (!rowInfo) rowInfo = this.$annotations[row] = { text: [] };\n\n          var annoText = annotation.text;\n          annoText = annoText\n            ? lang.escapeHTML(annoText)\n            : annotation.html || \"\";\n\n          if (rowInfo.text.indexOf(annoText) === -1)\n            rowInfo.text.push(annoText);\n\n          var type = annotation.type;\n          if (type == \"error\") rowInfo.className = \" ace_error\";\n          else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n            rowInfo.className = \" ace_warning\";\n          else if (type == \"info\" && !rowInfo.className)\n            rowInfo.className = \" ace_info\";\n        }\n      };\n\n      this.$updateAnnotations = function(delta) {\n        if (!this.$annotations.length) return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n          this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n          var args = new Array(len + 1);\n          args.unshift(firstRow, 1);\n          this.$annotations.splice.apply(this.$annotations, args);\n        }\n      };\n\n      this.update = function(config) {\n        this.config = config;\n\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(\n          config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n          session.getLength() - 1\n        );\n\n        this.oldLastRow = lastRow;\n        this.config = config;\n\n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n\n        while (true) {\n          if (row > foldStart) {\n            row = fold.end.row + 1;\n            fold = session.getNextFoldLine(row, fold);\n            foldStart = fold ? fold.start.row : Infinity;\n          }\n          if (row > lastRow) {\n            while (this.$lines.getLength() > index + 1) this.$lines.pop();\n\n            break;\n          }\n\n          cell = this.$lines.get(++index);\n          if (cell) {\n            cell.row = row;\n          } else {\n            cell = this.$lines.createCell(\n              row,\n              config,\n              this.session,\n              onCreateCell\n            );\n            this.$lines.push(cell);\n          }\n\n          this.$renderCell(cell, config, fold, row);\n          row++;\n        }\n\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n      };\n\n      this.$updateGutterWidth = function(config) {\n        var session = this.session;\n\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n\n        if (this.$fixedWidth || session.$useWrapMode)\n          lastLineText = session.getLength() + firstLineNumber;\n\n        var gutterWidth = gutterRenderer\n          ? gutterRenderer.getWidth(session, lastLineText, config)\n          : lastLineText.toString().length * config.characterWidth;\n\n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n          this.gutterWidth = gutterWidth;\n          this.element.parentNode.style.width = this.element.style.width =\n            Math.ceil(this.gutterWidth) + \"px\";\n          this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n      };\n\n      this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine) return;\n\n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row) return;\n\n        this.$cursorRow = position.row;\n      };\n\n      this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine) return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row) return;\n        if (this.$cursorCell)\n          this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\n            \"ace_gutter-active-line \",\n            \"\"\n          );\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n          var cell = cells[i];\n          if (cell.row >= this.$cursorRow) {\n            if (cell.row > this.$cursorRow) {\n              var fold = this.session.getFoldLine(this.$cursorRow);\n              if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                cell = cells[i - 1];\n              else break;\n            }\n            cell.element.className =\n              \"ace_gutter-active-line \" + cell.element.className;\n            this.$cursorCell = cell;\n            break;\n          }\n        }\n      };\n\n      this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n          return this.update(config);\n\n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(\n          config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n          this.session.getLength() - 1\n        );\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n          return this.update(config);\n\n        if (lastRow < oldConfig.firstRow) return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n          for (\n            var row = this.session.getFoldedRowCount(\n              oldConfig.firstRow,\n              config.firstRow - 1\n            );\n            row > 0;\n            row--\n          )\n            this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n          for (\n            var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow);\n            row > 0;\n            row--\n          )\n            this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n          this.$lines.unshift(\n            this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1)\n          );\n        }\n\n        if (lastRow > oldLastRow) {\n          this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n\n        this.updateLineHighlight();\n\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n      };\n\n      this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n          if (row > foldStart) {\n            row = foldLine.end.row + 1;\n            foldLine = this.session.getNextFoldLine(row, foldLine);\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n          if (row > lastRow) break;\n\n          var cell = this.$lines.createCell(\n            row,\n            config,\n            this.session,\n            onCreateCell\n          );\n          this.$renderCell(cell, config, foldLine, row);\n          fragment.push(cell);\n\n          row++;\n        }\n        return fragment;\n      };\n\n      this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n\n        var session = this.session;\n\n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n\n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n          if (\n            row == this.$cursorRow ||\n            (fold &&\n              row < this.$cursorRow &&\n              row >= foldStart &&\n              this.$cursorRow <= fold.end.row)\n          ) {\n            className += \"ace_gutter-active-line \";\n            if (this.$cursorCell != cell) {\n              if (this.$cursorCell)\n                this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\n                  \"ace_gutter-active-line \",\n                  \"\"\n                );\n              this.$cursorCell = cell;\n            }\n          }\n        }\n\n        if (breakpoints[row]) className += breakpoints[row];\n        if (decorations[row]) className += decorations[row];\n        if (this.$annotations[row])\n          className += this.$annotations[row].className;\n        if (element.className != className) element.className = className;\n\n        if (foldWidgets) {\n          var c = foldWidgets[row];\n          if (c == null) c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n          var className = \"ace_fold-widget ace_\" + c;\n          if (c == \"start\" && row == foldStart && row < fold.end.row)\n            className += \" ace_closed\";\n          else className += \" ace_open\";\n          if (foldWidget.className != className)\n            foldWidget.className = className;\n\n          var foldHeight = config.lineHeight + \"px\";\n          dom.setStyle(foldWidget.style, \"height\", foldHeight);\n          dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n          if (foldWidget) {\n            dom.setStyle(foldWidget.style, \"display\", \"none\");\n          }\n        }\n\n        var text = (gutterRenderer\n          ? gutterRenderer.getText(session, row)\n          : row + firstLineNumber\n        ).toString();\n\n        if (text !== textNode.data) {\n          textNode.data = text;\n        }\n\n        dom.setStyle(\n          cell.element.style,\n          \"height\",\n          this.$lines.computeLineHeight(row, config, session) + \"px\"\n        );\n        dom.setStyle(\n          cell.element.style,\n          \"top\",\n          this.$lines.computeLineTop(row, config, session) + \"px\"\n        );\n\n        cell.text = text;\n        return cell;\n      };\n\n      this.$fixedWidth = false;\n\n      this.$highlightGutterLine = true;\n      this.$renderer = \"\";\n      this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n      };\n\n      this.$showLineNumbers = true;\n      this.$renderer = \"\";\n      this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n          getWidth: function() {\n            return \"\";\n          },\n          getText: function() {\n            return \"\";\n          }\n        };\n      };\n\n      this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n      };\n\n      this.$showFoldWidgets = true;\n      this.setShowFoldWidgets = function(show) {\n        if (show) dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n      };\n\n      this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n      };\n\n      this.$computePadding = function() {\n        if (!this.element.firstChild) return { left: 0, right: 0 };\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left =\n          (parseInt(style.borderLeftWidth) || 0) +\n          (parseInt(style.paddingLeft) || 0) +\n          1;\n        this.$padding.right =\n          (parseInt(style.borderRightWidth) || 0) +\n          (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n      };\n\n      this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left) return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n          return \"foldWidgets\";\n      };\n    }.call(Gutter.prototype));\n\n    function onCreateCell(element) {\n      var textNode = document.createTextNode(\"\");\n      element.appendChild(textNode);\n\n      var foldWidget = dom.createElement(\"span\");\n      element.appendChild(foldWidget);\n\n      return element;\n    }\n\n    exports.Gutter = Gutter;\n  }\n);\n\nace.define(\n  \"ace/layer/marker\",\n  [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"../range\").Range;\n    var dom = require(\"../lib/dom\");\n\n    var Marker = function(parentEl) {\n      this.element = dom.createElement(\"div\");\n      this.element.className = \"ace_layer ace_marker-layer\";\n      parentEl.appendChild(this.element);\n    };\n\n    (function() {\n      this.$padding = 0;\n\n      this.setPadding = function(padding) {\n        this.$padding = padding;\n      };\n      this.setSession = function(session) {\n        this.session = session;\n      };\n\n      this.setMarkers = function(markers) {\n        this.markers = markers;\n      };\n\n      this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n          x = document.createElement(\"div\");\n          this.element.appendChild(x);\n          this.i = -1;\n        } else {\n          this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n      };\n\n      this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n          var marker = this.markers[key];\n\n          if (!marker.range) {\n            marker.update(html, this, this.session, config);\n            continue;\n          }\n\n          var range = marker.range.clipRows(config.firstRow, config.lastRow);\n          if (range.isEmpty()) continue;\n\n          range = range.toScreenRange(this.session);\n          if (marker.renderer) {\n            var top = this.$getTop(range.start.row, config);\n            var left =\n              this.$padding + range.start.column * config.characterWidth;\n            marker.renderer(html, range, left, top, config);\n          } else if (marker.type == \"fullLine\") {\n            this.drawFullLineMarker(html, range, marker.clazz, config);\n          } else if (marker.type == \"screenLine\") {\n            this.drawScreenLineMarker(html, range, marker.clazz, config);\n          } else if (range.isMultiLine()) {\n            if (marker.type == \"text\")\n              this.drawTextMarker(html, range, marker.clazz, config);\n            else this.drawMultiLineMarker(html, range, marker.clazz, config);\n          } else {\n            this.drawSingleLineMarker(\n              html,\n              range,\n              marker.clazz + \" ace_start\" + \" ace_br15\",\n              config\n            );\n          }\n        }\n        if (this.i != -1) {\n          while (this.i < this.element.childElementCount)\n            this.element.removeChild(this.element.lastChild);\n        }\n      };\n\n      this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n      };\n\n      function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n      }\n      this.drawTextMarker = function(\n        stringBuilder,\n        range,\n        clazz,\n        layerConfig,\n        extraStyle\n      ) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0;\n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n          lineRange.start.row = lineRange.end.row = row;\n          lineRange.start.column =\n            row == start ? range.start.column : session.getRowWrapIndent(row);\n          lineRange.end.column = next;\n          prev = curr;\n          curr = next;\n          next =\n            row + 1 < end\n              ? session.getScreenLastRowColumn(row + 1)\n              : row == end\n              ? 0\n              : range.end.column;\n          this.drawSingleLineMarker(\n            stringBuilder,\n            lineRange,\n            clazz +\n              (row == start ? \" ace_start\" : \"\") +\n              \" ace_br\" +\n              getBorderClass(\n                row == start || (row == start + 1 && range.start.column),\n                prev < curr,\n                curr > next,\n                row == end\n              ),\n            layerConfig,\n            row == end ? 0 : 1,\n            extraStyle\n          );\n        }\n      };\n      this.drawMultiLineMarker = function(\n        stringBuilder,\n        range,\n        clazz,\n        config,\n        extraStyle\n      ) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n          var range1 = range.clone();\n          range1.end.row = range1.start.row;\n          range1.end.column = this.session.getLine(range1.start.row).length;\n          this.drawBidiSingleLineMarker(\n            stringBuilder,\n            range1,\n            clazz + \" ace_br1 ace_start\",\n            config,\n            null,\n            extraStyle\n          );\n        } else {\n          this.elt(\n            clazz + \" ace_br1 ace_start\",\n            \"height:\" +\n              height +\n              \"px;\" +\n              \"right:0;\" +\n              \"top:\" +\n              top +\n              \"px;left:\" +\n              left +\n              \"px;\" +\n              (extraStyle || \"\")\n          );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n          var range1 = range.clone();\n          range1.start.row = range1.end.row;\n          range1.start.column = 0;\n          this.drawBidiSingleLineMarker(\n            stringBuilder,\n            range1,\n            clazz + \" ace_br12\",\n            config,\n            null,\n            extraStyle\n          );\n        } else {\n          top = this.$getTop(range.end.row, config);\n          var width = range.end.column * config.characterWidth;\n\n          this.elt(\n            clazz + \" ace_br12\",\n            \"height:\" +\n              height +\n              \"px;\" +\n              \"width:\" +\n              width +\n              \"px;\" +\n              \"top:\" +\n              top +\n              \"px;\" +\n              \"left:\" +\n              padding +\n              \"px;\" +\n              (extraStyle || \"\")\n          );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0) return;\n        top = this.$getTop(range.start.row + 1, config);\n\n        var radiusClass =\n          (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n          clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n          \"height:\" +\n            height +\n            \"px;\" +\n            \"right:0;\" +\n            \"top:\" +\n            top +\n            \"px;\" +\n            \"left:\" +\n            padding +\n            \"px;\" +\n            (extraStyle || \"\")\n        );\n      };\n      this.drawSingleLineMarker = function(\n        stringBuilder,\n        range,\n        clazz,\n        config,\n        extraLength,\n        extraStyle\n      ) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n          return this.drawBidiSingleLineMarker(\n            stringBuilder,\n            range,\n            clazz,\n            config,\n            extraLength,\n            extraStyle\n          );\n        var height = config.lineHeight;\n        var width =\n          (range.end.column + (extraLength || 0) - range.start.column) *\n          config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n          clazz,\n          \"height:\" +\n            height +\n            \"px;\" +\n            \"width:\" +\n            width +\n            \"px;\" +\n            \"top:\" +\n            top +\n            \"px;\" +\n            \"left:\" +\n            left +\n            \"px;\" +\n            (extraStyle || \"\")\n        );\n      };\n      this.drawBidiSingleLineMarker = function(\n        stringBuilder,\n        range,\n        clazz,\n        config,\n        extraLength,\n        extraStyle\n      ) {\n        var height = config.lineHeight,\n          top = this.$getTop(range.start.row, config),\n          padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(\n          range.start.column,\n          range.end.column\n        );\n\n        selections.forEach(function(selection) {\n          this.elt(\n            clazz,\n            \"height:\" +\n              height +\n              \"px;\" +\n              \"width:\" +\n              selection.width +\n              (extraLength || 0) +\n              \"px;\" +\n              \"top:\" +\n              top +\n              \"px;\" +\n              \"left:\" +\n              (padding + selection.left) +\n              \"px;\" +\n              (extraStyle || \"\")\n          );\n        }, this);\n      };\n\n      this.drawFullLineMarker = function(\n        stringBuilder,\n        range,\n        clazz,\n        config,\n        extraStyle\n      ) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n          height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n          clazz,\n          \"height:\" +\n            height +\n            \"px;\" +\n            \"top:\" +\n            top +\n            \"px;\" +\n            \"left:0;right:0;\" +\n            (extraStyle || \"\")\n        );\n      };\n\n      this.drawScreenLineMarker = function(\n        stringBuilder,\n        range,\n        clazz,\n        config,\n        extraStyle\n      ) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n          clazz,\n          \"height:\" +\n            height +\n            \"px;\" +\n            \"top:\" +\n            top +\n            \"px;\" +\n            \"left:0;right:0;\" +\n            (extraStyle || \"\")\n        );\n      };\n    }.call(Marker.prototype));\n\n    exports.Marker = Marker;\n  }\n);\n\nace.define(\n  \"ace/layer/text\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/dom\",\n    \"ace/lib/lang\",\n    \"ace/layer/lines\",\n    \"ace/lib/event_emitter\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"../lib/oop\");\n    var dom = require(\"../lib/dom\");\n    var lang = require(\"../lib/lang\");\n    var Lines = require(\"./lines\").Lines;\n    var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n    var Text = function(parentEl) {\n      this.dom = dom;\n      this.element = this.dom.createElement(\"div\");\n      this.element.className = \"ace_layer ace_text-layer\";\n      parentEl.appendChild(this.element);\n      this.$updateEolChar = this.$updateEolChar.bind(this);\n      this.$lines = new Lines(this.element);\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.EOF_CHAR = \"\\xB6\";\n      this.EOL_CHAR_LF = \"\\xAC\";\n      this.EOL_CHAR_CRLF = \"\\xa4\";\n      this.EOL_CHAR = this.EOL_CHAR_LF;\n      this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n      this.SPACE_CHAR = \"\\xB7\";\n      this.$padding = 0;\n      this.MAX_LINE_LENGTH = 10000;\n\n      this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode =\n          doc.getNewLineCharacter() == \"\\n\" &&\n          doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n          this.EOL_CHAR = EOL_CHAR;\n          return true;\n        }\n      };\n\n      this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n      };\n\n      this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n      };\n\n      this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n      };\n\n      this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\n          \"changeCharacterSize\",\n          function(e) {\n            this._signal(\"changeCharacterSize\", e);\n          }.bind(this)\n        );\n        this.$pollSizeChanges();\n      };\n\n      this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n      };\n      this.$pollSizeChanges = function() {\n        return (this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges());\n      };\n      this.setSession = function(session) {\n        this.session = session;\n        if (session) this.$computeTabString();\n      };\n\n      this.showInvisibles = false;\n      this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles) return false;\n\n        this.showInvisibles = showInvisibles;\n        this.$computeTabString();\n        return true;\n      };\n\n      this.displayIndentGuides = true;\n      this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display) return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n      };\n\n      this.$tabStrings = [];\n      this.onChangeTabSize = this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = (this.$tabStrings = [0]);\n        for (var i = 1; i < tabSize + 1; i++) {\n          if (this.showInvisibles) {\n            var span = this.dom.createElement(\"span\");\n            span.className = \"ace_invisible ace_invisible_tab\";\n            span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n            tabStr.push(span);\n          } else {\n            tabStr.push(\n              this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element)\n            );\n          }\n        }\n        if (this.displayIndentGuides) {\n          this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n          var className = \"ace_indent-guide\";\n          var spaceClass = \"\";\n          var tabClass = \"\";\n          if (this.showInvisibles) {\n            className += \" ace_invisible\";\n            spaceClass = \" ace_invisible_space\";\n            tabClass = \" ace_invisible_tab\";\n            var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n            var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n          } else {\n            var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n            var tabContent = spaceContent;\n          }\n\n          var span = this.dom.createElement(\"span\");\n          span.className = className + spaceClass;\n          span.textContent = spaceContent;\n          this.$tabStrings[\" \"] = span;\n\n          var span = this.dom.createElement(\"span\");\n          span.className = className + tabClass;\n          span.textContent = tabContent;\n          this.$tabStrings[\"\\t\"] = span;\n        }\n      };\n\n      this.updateLines = function(config, firstRow, lastRow) {\n        if (\n          this.config.lastRow != config.lastRow ||\n          this.config.firstRow != config.firstRow\n        ) {\n          return this.update(config);\n        }\n\n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n          var foldLine = this.session.getFoldLine(row);\n          if (foldLine) {\n            if (foldLine.containsRow(first)) {\n              first = foldLine.start.row;\n              break;\n            } else {\n              row = foldLine.end.row;\n            }\n          }\n          lineElementsIdx++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n          if (row > foldStart) {\n            row = foldLine.end.row + 1;\n            foldLine = this.session.getNextFoldLine(row, foldLine);\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n          if (row > last) break;\n\n          var lineElement = lineElements[lineElementsIdx++];\n          if (lineElement) {\n            this.dom.removeChildren(lineElement);\n            this.$renderLine(\n              lineElement,\n              row,\n              row == foldStart ? foldLine : false\n            );\n            var height =\n              config.lineHeight * this.session.getRowLength(row) + \"px\";\n            if (lineElement.style.height != height) {\n              heightChanged = true;\n              lineElement.style.height = height;\n            }\n          }\n          row++;\n        }\n        if (heightChanged) {\n          while (lineElementsIdx < this.$lines.cells.length) {\n            var cell = this.$lines.cells[lineElementsIdx++];\n            cell.element.style.top =\n              this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n          }\n        }\n      };\n\n      this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n          return this.update(config);\n\n        this.$lines.moveContainer(config);\n\n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n          return this.update(config);\n\n        if (lastRow < oldConfig.firstRow) return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n          return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow) return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n          for (\n            var row = this.session.getFoldedRowCount(\n              oldConfig.firstRow,\n              config.firstRow - 1\n            );\n            row > 0;\n            row--\n          )\n            this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n          for (\n            var row = this.session.getFoldedRowCount(\n              config.lastRow + 1,\n              oldConfig.lastRow\n            );\n            row > 0;\n            row--\n          )\n            this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n          this.$lines.unshift(\n            this.$renderLinesFragment(\n              config,\n              config.firstRow,\n              oldConfig.firstRow - 1\n            )\n          );\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n          this.$lines.push(\n            this.$renderLinesFragment(\n              config,\n              oldConfig.lastRow + 1,\n              config.lastRow\n            )\n          );\n        }\n      };\n\n      this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n          if (row > foldStart) {\n            row = foldLine.end.row + 1;\n            foldLine = this.session.getNextFoldLine(row, foldLine);\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n          if (row > lastRow) break;\n\n          var line = this.$lines.createCell(row, config, this.session);\n\n          var lineEl = line.element;\n          this.dom.removeChildren(lineEl);\n          dom.setStyle(\n            lineEl.style,\n            \"height\",\n            this.$lines.computeLineHeight(row, config, this.session) + \"px\"\n          );\n          dom.setStyle(\n            lineEl.style,\n            \"top\",\n            this.$lines.computeLineTop(row, config, this.session) + \"px\"\n          );\n          this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n          if (this.$useLineGroups()) {\n            lineEl.className = \"ace_line_group\";\n          } else {\n            lineEl.className = \"ace_line\";\n          }\n          fragment.push(line);\n\n          row++;\n        }\n        return fragment;\n      };\n\n      this.update = function(config) {\n        this.$lines.moveContainer(config);\n\n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength()) lines.pop();\n\n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n      };\n\n      this.$textToken = {\n        text: true,\n        rparen: true,\n        lparen: true\n      };\n\n      this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n\n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while ((m = re.exec(value))) {\n          var tab = m[1];\n          var simpleSpace = m[2];\n          var controlCharacter = m[3];\n          var cjkSpace = m[4];\n          var cjk = m[5];\n\n          if (!self.showInvisibles && simpleSpace) continue;\n\n          var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n          i = m.index + m[0].length;\n\n          if (before) {\n            valueFragment.appendChild(\n              this.dom.createTextNode(before, this.element)\n            );\n          }\n\n          if (tab) {\n            var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n            valueFragment.appendChild(\n              self.$tabStrings[tabSize].cloneNode(true)\n            );\n            screenColumn += tabSize - 1;\n          } else if (simpleSpace) {\n            if (self.showInvisibles) {\n              var span = this.dom.createElement(\"span\");\n              span.className = \"ace_invisible ace_invisible_space\";\n              span.textContent = lang.stringRepeat(\n                self.SPACE_CHAR,\n                simpleSpace.length\n              );\n              valueFragment.appendChild(span);\n            } else {\n              valueFragment.appendChild(\n                this.com.createTextNode(simpleSpace, this.element)\n              );\n            }\n          } else if (controlCharacter) {\n            var span = this.dom.createElement(\"span\");\n            span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n            span.textContent = lang.stringRepeat(\n              self.SPACE_CHAR,\n              controlCharacter.length\n            );\n            valueFragment.appendChild(span);\n          } else if (cjkSpace) {\n            var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n            screenColumn += 1;\n\n            var span = this.dom.createElement(\"span\");\n            span.style.width = self.config.characterWidth * 2 + \"px\";\n            span.className = self.showInvisibles\n              ? \"ace_cjk ace_invisible ace_invisible_space\"\n              : \"ace_cjk\";\n            span.textContent = self.showInvisibles ? self.SPACE_CHAR : \"\";\n            valueFragment.appendChild(span);\n          } else if (cjk) {\n            screenColumn += 1;\n            var span = dom.createElement(\"span\");\n            span.style.width = self.config.characterWidth * 2 + \"px\";\n            span.className = \"ace_cjk\";\n            span.textContent = cjk;\n            valueFragment.appendChild(span);\n          }\n        }\n\n        valueFragment.appendChild(\n          this.dom.createTextNode(i ? value.slice(i) : value, this.element)\n        );\n\n        if (!this.$textToken[token.type]) {\n          var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n          var span = this.dom.createElement(\"span\");\n          if (token.type == \"fold\")\n            span.style.width =\n              token.value.length * this.config.characterWidth + \"px\";\n\n          span.className = classes;\n          span.appendChild(valueFragment);\n\n          parent.appendChild(span);\n        } else {\n          parent.appendChild(valueFragment);\n        }\n\n        return screenColumn + value.length;\n      };\n\n      this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max) return value;\n        if (value[0] == \" \") {\n          cols -= cols % this.tabSize;\n          var count = cols / this.tabSize;\n          for (var i = 0; i < count; i++) {\n            parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n          }\n          return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n          for (var i = 0; i < cols; i++) {\n            parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n          }\n          return value.substr(cols);\n        }\n        return value;\n      };\n\n      this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n\n        return lineEl;\n      };\n\n      this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n\n        for (var i = 0; i < tokens.length; i++) {\n          var token = tokens[i];\n          var value = token.value;\n          if (i == 0 && this.displayIndentGuides) {\n            chars = value.length;\n            value = this.renderIndentGuide(lineEl, value, splitChars);\n            if (!value) continue;\n            chars -= value.length;\n          }\n\n          if (chars + value.length < splitChars) {\n            screenColumn = this.$renderToken(\n              lineEl,\n              screenColumn,\n              token,\n              value\n            );\n            chars += value.length;\n          } else {\n            while (chars + value.length >= splitChars) {\n              screenColumn = this.$renderToken(\n                lineEl,\n                screenColumn,\n                token,\n                value.substring(0, splitChars - chars)\n              );\n              value = value.substring(splitChars - chars);\n              chars = splitChars;\n\n              lineEl = this.$createLineElement();\n              parent.appendChild(lineEl);\n\n              lineEl.appendChild(\n                this.dom.createTextNode(\n                  lang.stringRepeat(\"\\xa0\", splits.indent),\n                  this.element\n                )\n              );\n\n              split++;\n              screenColumn = 0;\n              splitChars = splits[split] || Number.MAX_VALUE;\n            }\n            if (value.length != 0) {\n              chars += value.length;\n              screenColumn = this.$renderToken(\n                lineEl,\n                screenColumn,\n                token,\n                value\n              );\n            }\n          }\n        }\n      };\n\n      this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n          value = this.renderIndentGuide(parent, value);\n        if (value)\n          screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n          token = tokens[i];\n          value = token.value;\n          if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n            return this.$renderOverflowMessage(\n              parent,\n              screenColumn,\n              token,\n              value\n            );\n          screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n      };\n\n      this.$renderOverflowMessage = function(\n        parent,\n        screenColumn,\n        token,\n        value\n      ) {\n        this.$renderToken(\n          parent,\n          screenColumn,\n          token,\n          value.slice(0, this.MAX_LINE_LENGTH - screenColumn)\n        );\n\n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.style.position = \"absolute\";\n        overflowEl.style.right = \"0\";\n        overflowEl.textContent = \"<click to see more...>\";\n\n        parent.appendChild(overflowEl);\n      };\n      this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n          foldLine = this.session.getFoldLine(row);\n\n        if (foldLine) var tokens = this.$getFoldLineTokens(row, foldLine);\n        else var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n          var splits = this.session.getRowSplitData(row);\n          if (splits && splits.length) {\n            this.$renderWrappedLine(parent, tokens, splits);\n            var lastLineEl = parent.lastChild;\n          } else {\n            var lastLineEl = parent;\n            if (this.$useLineGroups()) {\n              lastLineEl = this.$createLineElement();\n              parent.appendChild(lastLineEl);\n            }\n            this.$renderSimpleLine(lastLineEl, tokens);\n          }\n        } else if (this.$useLineGroups()) {\n          lastLineEl = this.$createLineElement();\n          parent.appendChild(lastLineEl);\n        }\n\n        if (this.showInvisibles && lastLineEl) {\n          if (foldLine) row = foldLine.end.row;\n\n          var invisibleEl = this.dom.createElement(\"span\");\n          invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n          invisibleEl.textContent =\n            row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n\n          lastLineEl.appendChild(invisibleEl);\n        }\n      };\n\n      this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n          var idx = 0,\n            col = 0;\n          while (col + tokens[idx].value.length < from) {\n            col += tokens[idx].value.length;\n            idx++;\n\n            if (idx == tokens.length) return;\n          }\n          if (col != from) {\n            var value = tokens[idx].value.substring(from - col);\n            if (value.length > to - from) value = value.substring(0, to - from);\n\n            renderTokens.push({\n              type: tokens[idx].type,\n              value: value\n            });\n\n            col = from + value.length;\n            idx += 1;\n          }\n\n          while (col < to && idx < tokens.length) {\n            var value = tokens[idx].value;\n            if (value.length + col > to) {\n              renderTokens.push({\n                type: tokens[idx].type,\n                value: value.substring(0, to - col)\n              });\n            } else renderTokens.push(tokens[idx]);\n            col += value.length;\n            idx += 1;\n          }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(\n          function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n              renderTokens.push({\n                type: \"fold\",\n                value: placeholder\n              });\n            } else {\n              if (isNewRow) tokens = session.getTokens(row);\n\n              if (tokens.length) addTokens(tokens, lastColumn, column);\n            }\n          },\n          foldLine.end.row,\n          this.session.getLine(foldLine.end.row).length\n        );\n\n        return renderTokens;\n      };\n\n      this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n      };\n\n      this.destroy = function() {};\n    }.call(Text.prototype));\n\n    exports.Text = Text;\n  }\n);\n\nace.define(\n  \"ace/layer/cursor\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var dom = require(\"../lib/dom\");\n\n    var Cursor = function(parentEl) {\n      this.element = dom.createElement(\"div\");\n      this.element.className = \"ace_layer ace_cursor-layer\";\n      parentEl.appendChild(this.element);\n\n      this.isVisible = false;\n      this.isBlinking = true;\n      this.blinkInterval = 1000;\n      this.smoothBlinking = false;\n\n      this.cursors = [];\n      this.cursor = this.addCursor();\n      dom.addCssClass(this.element, \"ace_hidden-cursors\");\n      this.$updateCursors = this.$updateOpacity.bind(this);\n    };\n\n    (function() {\n      this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n          dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n      };\n\n      this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n          cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(\n          function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n          }.bind(this)\n        );\n      };\n\n      this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n      };\n\n      this.$padding = 0;\n      this.setPadding = function(padding) {\n        this.$padding = padding;\n      };\n\n      this.setSession = function(session) {\n        this.session = session;\n      };\n\n      this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n          this.isBlinking = blinking;\n          this.restartTimer();\n        }\n      };\n\n      this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n          this.blinkInterval = blinkInterval;\n          this.restartTimer();\n        }\n      };\n\n      this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n          this.smoothBlinking = smoothBlinking;\n          dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n          this.$updateCursors(true);\n          this.restartTimer();\n        }\n      };\n\n      this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n      };\n\n      this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n          var el = this.cursors.pop();\n          el.parentNode.removeChild(el);\n          return el;\n        }\n      };\n\n      this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n      };\n\n      this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n      };\n\n      this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n          dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n\n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n          this.$stopCssAnimation();\n          return;\n        }\n\n        if (this.smoothBlinking) {\n          setTimeout(\n            function() {\n              dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this)\n          );\n        }\n\n        if (dom.HAS_CSS_ANIMATION) {\n          this.$startCssAnimation();\n        } else {\n          var blink = function() {\n            this.timeoutId = setTimeout(function() {\n              update(false);\n            }, 0.6 * this.blinkInterval);\n          }.bind(this);\n\n          this.intervalId = setInterval(function() {\n            update(true);\n            blink();\n          }, this.blinkInterval);\n          blink();\n        }\n      };\n\n      this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session) return { left: 0, top: 0 };\n\n        if (!position) position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft =\n          this.$padding +\n          (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop =\n          (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n          this.config.lineHeight;\n\n        return { left: cursorLeft, top: cursorTop };\n      };\n\n      this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n      };\n\n      this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0,\n          cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0) {\n          selections = [{ cursor: null }];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n          var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n          if (\n            (pixelPos.top > config.height + config.offset ||\n              pixelPos.top < 0) &&\n            i > 1\n          ) {\n            continue;\n          }\n\n          var element = this.cursors[cursorIndex++] || this.addCursor();\n          var style = element.style;\n\n          if (!this.drawCursor) {\n            if (!this.isCursorInView(pixelPos, config)) {\n              dom.setStyle(style, \"display\", \"none\");\n            } else {\n              dom.setStyle(style, \"display\", \"block\");\n              dom.translate(element, pixelPos.left, pixelPos.top);\n              dom.setStyle(\n                style,\n                \"width\",\n                Math.round(config.characterWidth) + \"px\"\n              );\n              dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n            }\n          } else {\n            this.drawCursor(\n              element,\n              pixelPos,\n              config,\n              selections[i],\n              this.session\n            );\n          }\n        }\n        while (this.cursors.length > cursorIndex) this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n      };\n\n      this.drawCursor = null;\n\n      this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n          this.overwrite = overwrite;\n          if (overwrite) dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n          else dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n      };\n\n      this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n      };\n    }.call(Cursor.prototype));\n\n    exports.Cursor = Cursor;\n  }\n);\n\nace.define(\n  \"ace/scrollbar\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/dom\",\n    \"ace/lib/event\",\n    \"ace/lib/event_emitter\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var dom = require(\"./lib/dom\");\n    var event = require(\"./lib/event\");\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var MAX_SCROLL_H = 0x8000;\n    var ScrollBar = function(parent) {\n      this.element = dom.createElement(\"div\");\n      this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n      this.inner = dom.createElement(\"div\");\n      this.inner.className = \"ace_scrollbar-inner\";\n      this.element.appendChild(this.inner);\n\n      parent.appendChild(this.element);\n\n      this.setVisible(false);\n      this.skipEvent = false;\n\n      event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n      event.addListener(this.element, \"mousedown\", event.preventDefault);\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n      };\n    }.call(ScrollBar.prototype));\n    var VScrollBar = function(parent, renderer) {\n      ScrollBar.call(this, parent);\n      this.scrollTop = 0;\n      this.scrollHeight = 0;\n      renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(\n        parent.ownerDocument\n      );\n      this.inner.style.width = this.element.style.width =\n        (this.width || 15) + 5 + \"px\";\n      this.$minWidth = 0;\n    };\n\n    oop.inherits(VScrollBar, ScrollBar);\n\n    (function() {\n      this.classSuffix = \"-v\";\n      this.onScroll = function() {\n        if (!this.skipEvent) {\n          this.scrollTop = this.element.scrollTop;\n          if (this.coeff != 1) {\n            var h = this.element.clientHeight / this.scrollHeight;\n            this.scrollTop = (this.scrollTop * (1 - h)) / (this.coeff - h);\n          }\n          this._emit(\"scroll\", { data: this.scrollTop });\n        }\n        this.skipEvent = false;\n      };\n      this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n      };\n      this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n      };\n      this.setInnerHeight = this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n          this.coeff = MAX_SCROLL_H / height;\n          height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n          this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n      };\n      this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n          this.skipEvent = true;\n          this.scrollTop = scrollTop;\n          this.element.scrollTop = scrollTop * this.coeff;\n        }\n      };\n    }.call(VScrollBar.prototype));\n    var HScrollBar = function(parent, renderer) {\n      ScrollBar.call(this, parent);\n      this.scrollLeft = 0;\n      this.height = renderer.$scrollbarWidth;\n      this.inner.style.height = this.element.style.height =\n        (this.height || 15) + 5 + \"px\";\n    };\n\n    oop.inherits(HScrollBar, ScrollBar);\n\n    (function() {\n      this.classSuffix = \"-h\";\n      this.onScroll = function() {\n        if (!this.skipEvent) {\n          this.scrollLeft = this.element.scrollLeft;\n          this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n        this.skipEvent = false;\n      };\n      this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n      };\n      this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n      };\n      this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n      };\n      this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n      };\n      this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n          this.skipEvent = true;\n          this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n      };\n    }.call(HScrollBar.prototype));\n\n    exports.ScrollBar = VScrollBar; // backward compatibility\n    exports.ScrollBarV = VScrollBar; // backward compatibility\n    exports.ScrollBarH = HScrollBar; // backward compatibility\n\n    exports.VScrollBar = VScrollBar;\n    exports.HScrollBar = HScrollBar;\n  }\n);\n\nace.define(\n  \"ace/renderloop\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/event\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var event = require(\"./lib/event\");\n\n    var RenderLoop = function(onRender, win) {\n      this.onRender = onRender;\n      this.pending = false;\n      this.changes = 0;\n      this.window = win || window;\n      var _self = this;\n      this._flush = function(ts) {\n        var changes = _self.changes;\n\n        if (changes) {\n          event.blockIdle(100);\n          _self.changes = 0;\n          _self.onRender(changes);\n        }\n\n        if (_self.changes) _self.schedule();\n      };\n    };\n\n    (function() {\n      this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes) {\n          event.nextFrame(this._flush);\n        }\n      };\n    }.call(RenderLoop.prototype));\n\n    exports.RenderLoop = RenderLoop;\n  }\n);\n\nace.define(\n  \"ace/layer/font_metrics\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/dom\",\n    \"ace/lib/lang\",\n    \"ace/lib/event\",\n    \"ace/lib/useragent\",\n    \"ace/lib/event_emitter\"\n  ],\n  function(require, exports, module) {\n    var oop = require(\"../lib/oop\");\n    var dom = require(\"../lib/dom\");\n    var lang = require(\"../lib/lang\");\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n    var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n    var CHAR_COUNT = 256;\n    var USE_OBSERVER = typeof ResizeObserver == \"function\";\n    var L = 200;\n\n    var FontMetrics = (exports.FontMetrics = function(parentEl) {\n      this.el = dom.createElement(\"div\");\n      this.$setMeasureNodeStyles(this.el.style, true);\n\n      this.$main = dom.createElement(\"div\");\n      this.$setMeasureNodeStyles(this.$main.style);\n\n      this.$measureNode = dom.createElement(\"div\");\n      this.$setMeasureNodeStyles(this.$measureNode.style);\n\n      this.el.appendChild(this.$main);\n      this.el.appendChild(this.$measureNode);\n      parentEl.appendChild(this.el);\n\n      this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n\n      this.$characterSize = { width: 0, height: 0 };\n\n      if (USE_OBSERVER) this.$addObserver();\n      else this.checkForSizeChanges();\n    });\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.$characterSize = { width: 0, height: 0 };\n\n      this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n          style[\"font-family\"] = \"inherit\";\n        } else {\n          style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n      };\n\n      this.checkForSizeChanges = function(size) {\n        if (size === undefined) size = this.$measureSizes();\n        if (\n          size &&\n          (this.$characterSize.width !== size.width ||\n            this.$characterSize.height !== size.height)\n        ) {\n          this.$measureNode.style.fontWeight = \"bold\";\n          var boldSize = this.$measureSizes();\n          this.$measureNode.style.fontWeight = \"\";\n          this.$characterSize = size;\n          this.charSizes = Object.create(null);\n          this.allowBoldFonts =\n            boldSize &&\n            boldSize.width === size.width &&\n            boldSize.height === size.height;\n          this._emit(\"changeCharacterSize\", { data: size });\n        }\n      };\n\n      this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n          var rect = e[0].contentRect;\n          self.checkForSizeChanges({\n            height: rect.height,\n            width: rect.width / CHAR_COUNT\n          });\n        });\n        this.$observer.observe(this.$measureNode);\n      };\n\n      this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n          return this.$pollSizeChangesTimer;\n        var self = this;\n\n        return (this.$pollSizeChangesTimer = event.onIdle(function cb() {\n          self.checkForSizeChanges();\n          event.onIdle(cb, 500);\n        }, 500));\n      };\n\n      this.setPolling = function(val) {\n        if (val) {\n          this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n          clearInterval(this.$pollSizeChangesTimer);\n          this.$pollSizeChangesTimer = 0;\n        }\n      };\n\n      this.$measureSizes = function(node) {\n        var size = {\n          height: (node || this.$measureNode).clientHeight,\n          width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0) return null;\n        return size;\n      };\n\n      this.$measureCharWidth = function(ch) {\n        this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n      };\n\n      this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n          w = this.charSizes[ch] =\n            this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n      };\n\n      this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer) this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n          this.el.parentNode.removeChild(this.el);\n      };\n\n      this.$getZoom = function getZoom(element) {\n        if (!element) return 1;\n        return (\n          (window.getComputedStyle(element).zoom || 1) *\n          getZoom(element.parentElement)\n        );\n      };\n      this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n          return [\n            \"div\",\n            {\n              style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }\n          ];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n      };\n      this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n          var zoom = this.$getZoom(this.el);\n          clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n          var det = l1[1] * l2[0] - l1[0] * l2[1];\n          return [\n            (-l2[1] * r[0] + l2[0] * r[1]) / det,\n            (+l1[1] * r[0] - l1[0] * r[1]) / det\n          ];\n        }\n        function sub(a, b) {\n          return [a[0] - b[0], a[1] - b[1]];\n        }\n        function add(a, b) {\n          return [a[0] + b[0], a[1] + b[1]];\n        }\n        function mul(a, b) {\n          return [a * b[0], a * b[1]];\n        }\n\n        if (!this.els) this.$initTransformMeasureNodes();\n\n        function p(el) {\n          var r = el.getBoundingClientRect();\n          return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n\n        if (elPos) {\n          var x = elPos;\n          var k = (h[0] * x[0]) / L + (h[1] * x[1]) / L + 1;\n          var ut = add(mul(x[0], m1), mul(x[1], m2));\n          return add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n      };\n    }.call(FontMetrics.prototype));\n  }\n);\n\nace.define(\n  \"ace/virtual_renderer\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/dom\",\n    \"ace/config\",\n    \"ace/layer/gutter\",\n    \"ace/layer/marker\",\n    \"ace/layer/text\",\n    \"ace/layer/cursor\",\n    \"ace/scrollbar\",\n    \"ace/scrollbar\",\n    \"ace/renderloop\",\n    \"ace/layer/font_metrics\",\n    \"ace/lib/event_emitter\",\n    \"ace/lib/useragent\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var dom = require(\"./lib/dom\");\n    var config = require(\"./config\");\n    var GutterLayer = require(\"./layer/gutter\").Gutter;\n    var MarkerLayer = require(\"./layer/marker\").Marker;\n    var TextLayer = require(\"./layer/text\").Text;\n    var CursorLayer = require(\"./layer/cursor\").Cursor;\n    var HScrollBar = require(\"./scrollbar\").HScrollBar;\n    var VScrollBar = require(\"./scrollbar\").VScrollBar;\n    var RenderLoop = require(\"./renderloop\").RenderLoop;\n    var FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var editorCss =\n      '.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal \\'Monaco\\', \\'Menlo\\', \\'Ubuntu Mono\\', \\'Consolas\\', \\'source-code-pro\\', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: \\'\\';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 8px;\\\nheight: 16px;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nperspective: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\\\nurl(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\\\nurl(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_text-input-ios {\\\nposition: absolute !important;\\\ntop: -100000px !important;\\\nleft: -100000px !important;\\\n}\\\n';\n\n    var useragent = require(\"./lib/useragent\");\n    var HIDE_TEXTAREA = useragent.isIE;\n\n    dom.importCssString(editorCss, \"ace_editor.css\");\n\n    var VirtualRenderer = function(container, theme) {\n      var _self = this;\n\n      this.container = container || dom.createElement(\"div\");\n\n      dom.addCssClass(this.container, \"ace_editor\");\n      if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n      this.setTheme(theme);\n\n      this.$gutter = dom.createElement(\"div\");\n      this.$gutter.className = \"ace_gutter\";\n      this.container.appendChild(this.$gutter);\n      this.$gutter.setAttribute(\"aria-hidden\", true);\n\n      this.scroller = dom.createElement(\"div\");\n      this.scroller.className = \"ace_scroller\";\n\n      this.container.appendChild(this.scroller);\n\n      this.content = dom.createElement(\"div\");\n      this.content.className = \"ace_content\";\n      this.scroller.appendChild(this.content);\n\n      this.$gutterLayer = new GutterLayer(this.$gutter);\n      this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n      this.$markerBack = new MarkerLayer(this.content);\n\n      var textLayer = (this.$textLayer = new TextLayer(this.content));\n      this.canvas = textLayer.element;\n\n      this.$markerFront = new MarkerLayer(this.content);\n\n      this.$cursorLayer = new CursorLayer(this.content);\n      this.$horizScroll = false;\n      this.$vScroll = false;\n\n      this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);\n      this.scrollBarH = new HScrollBar(this.container, this);\n      this.scrollBarV.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n          _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n      });\n      this.scrollBarH.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n          _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n      });\n\n      this.scrollTop = 0;\n      this.scrollLeft = 0;\n\n      this.cursorPos = {\n        row: 0,\n        column: 0\n      };\n\n      this.$fontMetrics = new FontMetrics(this.container);\n      this.$textLayer.$setFontMetrics(this.$fontMetrics);\n      this.$textLayer.addEventListener(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(\n          true,\n          _self.gutterWidth,\n          _self.$size.width,\n          _self.$size.height\n        );\n        _self._signal(\"changeCharacterSize\", e);\n      });\n\n      this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n      };\n\n      this.layerConfig = {\n        width: 1,\n        padding: 0,\n        firstRow: 0,\n        firstRowScreen: 0,\n        lastRow: 0,\n        lineHeight: 0,\n        characterWidth: 0,\n        minHeight: 1,\n        maxHeight: 1,\n        offset: 0,\n        height: 1,\n        gutterOffset: 1\n      };\n\n      this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n      };\n\n      this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n      };\n\n      this.$keepTextAreaAtCursor = true;\n\n      this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n      );\n      this.$loop.schedule(this.CHANGE_FULL);\n\n      this.updateCharacterSize();\n      this.setPadding(4);\n      config.resetOptions(this);\n      config._emit(\"renderer\", this);\n    };\n\n    (function() {\n      this.CHANGE_CURSOR = 1;\n      this.CHANGE_MARKER = 2;\n      this.CHANGE_GUTTER = 4;\n      this.CHANGE_SCROLL = 8;\n      this.CHANGE_LINES = 16;\n      this.CHANGE_TEXT = 32;\n      this.CHANGE_SIZE = 64;\n      this.CHANGE_MARKER_BACK = 128;\n      this.CHANGE_MARKER_FRONT = 256;\n      this.CHANGE_FULL = 512;\n      this.CHANGE_H_SCROLL = 1024;\n      oop.implement(this, EventEmitter);\n\n      this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n          this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n          this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n      };\n      this.setSession = function(session) {\n        if (this.session)\n          this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n\n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n          session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session) return;\n\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n\n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n      };\n      this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined) lastRow = Infinity;\n\n        if (!this.$changedLines) {\n          this.$changedLines = {\n            firstRow: firstRow,\n            lastRow: lastRow\n          };\n        } else {\n          if (this.$changedLines.firstRow > firstRow)\n            this.$changedLines.firstRow = firstRow;\n\n          if (this.$changedLines.lastRow < lastRow)\n            this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n          if (force) this.$changedLines.lastRow = this.layerConfig.lastRow;\n          else return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow) return;\n        this.$loop.schedule(this.CHANGE_LINES);\n      };\n\n      this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n      };\n\n      this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n      };\n      this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n      };\n      this.updateFull = function(force) {\n        if (force) this.$renderChanges(this.CHANGE_FULL, true);\n        else this.$loop.schedule(this.CHANGE_FULL);\n      };\n      this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n      };\n\n      this.$changes = 0;\n      this.$updateSizeAsync = function() {\n        if (this.$loop.pending) this.$size.$dirty = true;\n        else this.onResize();\n      };\n      this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2) return;\n        else if (this.resizing > 0) this.resizing++;\n        else this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height) height = el.clientHeight || el.scrollHeight;\n        if (!width) width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        if (!this.$size.scrollerHeight || (!width && !height))\n          return (this.resizing = 0);\n\n        if (force) this.$gutterLayer.$padding = null;\n\n        if (force) this.$renderChanges(changes | this.$changes, true);\n        else this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing) this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n      };\n\n      this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= this.$extraHeight || 0;\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n          width: size.width,\n          height: size.height,\n          scrollerHeight: size.scrollerHeight,\n          scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n          size.height = height;\n          changes |= this.CHANGE_SIZE;\n\n          size.scrollerHeight = size.height;\n          if (this.$horizScroll)\n            size.scrollerHeight -= this.scrollBarH.getHeight();\n          this.scrollBarV.element.style.bottom =\n            this.scrollBarH.getHeight() + \"px\";\n\n          changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n          changes |= this.CHANGE_SIZE;\n          size.width = width;\n\n          if (gutterWidth == null)\n            gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n\n          this.gutterWidth = gutterWidth;\n\n          dom.setStyle(\n            this.scrollBarH.element.style,\n            \"left\",\n            gutterWidth + \"px\"\n          );\n          dom.setStyle(\n            this.scroller.style,\n            \"left\",\n            gutterWidth + this.margin.left + \"px\"\n          );\n          size.scrollerWidth = Math.max(\n            0,\n            width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h\n          );\n          dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n\n          var right = this.scrollBarV.getWidth() + \"px\";\n          dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n          dom.setStyle(this.scroller.style, \"right\", right);\n          dom.setStyle(\n            this.scroller.style,\n            \"bottom\",\n            this.scrollBarH.getHeight()\n          );\n          if (\n            (this.session &&\n              this.session.getUseWrapMode() &&\n              this.adjustWrapLimit()) ||\n            force\n          ) {\n            changes |= this.CHANGE_FULL;\n          }\n        }\n\n        size.$dirty = !width || !height;\n\n        if (changes) this._signal(\"resize\", oldSize);\n\n        return changes;\n      };\n\n      this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n          this.$changes |= this.$updateCachedSize(\n            true,\n            gutterWidth,\n            this.$size.width,\n            this.$size.height\n          );\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n          this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n          this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n          this.$computeLayerConfig();\n        }\n      };\n      this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(\n          limit,\n          this.$showPrintMargin && this.$printMarginColumn\n        );\n      };\n      this.setAnimatedScroll = function(shouldAnimate) {\n        this.setOption(\"animatedScroll\", shouldAnimate);\n      };\n      this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n      };\n      this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n      };\n      this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n      };\n      this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n      };\n\n      this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n      };\n      this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n      };\n      this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n      };\n      this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n      };\n      this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n      };\n      this.getShowGutter = function() {\n        return this.getOption(\"showGutter\");\n      };\n      this.setShowGutter = function(show) {\n        return this.setOption(\"showGutter\", show);\n      };\n\n      this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n      };\n\n      this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n      };\n\n      this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n      };\n\n      this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n      };\n\n      this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl) return;\n\n        if (!this.$printMarginEl) {\n          var containerEl = dom.createElement(\"div\");\n          containerEl.className = \"ace_layer ace_print-margin-layer\";\n          this.$printMarginEl = dom.createElement(\"div\");\n          this.$printMarginEl.className = \"ace_print-margin\";\n          containerEl.appendChild(this.$printMarginEl);\n          this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left =\n          Math.round(\n            this.characterWidth * this.$printMarginColumn + this.$padding\n          ) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n\n        if (this.session && this.session.$wrap == -1) this.adjustWrapLimit();\n      };\n      this.getContainerElement = function() {\n        return this.container;\n      };\n      this.getMouseEventTarget = function() {\n        return this.scroller;\n      };\n      this.getTextAreaContainer = function() {\n        return this.container;\n      };\n      this.$moveTextAreaToCursor = function() {\n        var style = this.textarea.style;\n        if (!this.$keepTextAreaAtCursor) {\n          dom.translate(this.textarea, -100, 0);\n          return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos) return;\n        var composition = this.$composition;\n        if (composition && composition.markerRange)\n          pixelPos = this.$cursorLayer.getPixelPosition(\n            composition.markerRange.start,\n            true\n          );\n\n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h =\n          composition && composition.useTextareaForIME\n            ? this.lineHeight\n            : HIDE_TEXTAREA\n            ? 0\n            : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n          dom.translate(this.textarea, 0, 0);\n          return;\n        }\n\n        var w = 1;\n        if (!composition) {\n          posTop += this.lineHeight;\n        } else {\n          if (composition.useTextareaForIME) {\n            var val = this.textarea.value;\n            w =\n              this.characterWidth * this.session.$getStringScreenWidth(val)[0];\n            h += 2;\n          } else {\n            posTop += this.lineHeight + 2;\n          }\n        }\n\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n          posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(\n          this.textarea,\n          Math.min(posLeft, this.$size.scrollerWidth - w),\n          Math.min(posTop, this.$size.height - h)\n        );\n      };\n      this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n      };\n      this.getFirstFullyVisibleRow = function() {\n        return (\n          this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1)\n        );\n      };\n      this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top =\n          this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (\n          top - this.session.getScrollTop() >\n          config.height - config.lineHeight\n        )\n          return lastRow - 1;\n        return lastRow;\n      };\n      this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n      };\n\n      this.$padding = null;\n      this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n      };\n\n      this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n          this.session.setScrollTop(-sm.top);\n        this.updateFull();\n      };\n\n      this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(\n          true,\n          this.gutterWidth,\n          this.$size.width,\n          this.$size.height\n        );\n        this.updateFull();\n      };\n      this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n      };\n      this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n      };\n      this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n      };\n      this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n      };\n\n      this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n          scrollHeight -=\n            (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n          if (this.scrollTop > scrollHeight - scrollerHeight) {\n            scrollHeight = this.scrollTop + scrollerHeight;\n            this.scrollBarV.scrollTop = null;\n          }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n      };\n      this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(\n          this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h\n        );\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n      };\n\n      this.$frozen = false;\n      this.freeze = function() {\n        this.$frozen = true;\n      };\n\n      this.unfreeze = function() {\n        this.$frozen = false;\n      };\n\n      this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n          changes |= this.$changes;\n          this.$changes = 0;\n        }\n        if (\n          !this.session ||\n          !this.container.offsetWidth ||\n          this.$frozen ||\n          (!changes && !force)\n        ) {\n          this.$changes |= changes;\n          return;\n        }\n        if (this.$size.$dirty) {\n          this.$changes |= changes;\n          return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n          this.$textLayer.checkForSizeChanges();\n        }\n        this._signal(\"beforeRender\");\n\n        if (this.session && this.session.$bidiHandler)\n          this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (\n          changes & this.CHANGE_FULL ||\n          changes & this.CHANGE_SIZE ||\n          changes & this.CHANGE_TEXT ||\n          changes & this.CHANGE_LINES ||\n          changes & this.CHANGE_SCROLL ||\n          changes & this.CHANGE_H_SCROLL\n        ) {\n          changes |= this.$computeLayerConfig();\n          if (\n            config.firstRow != this.layerConfig.firstRow &&\n            config.firstRowScreen == this.layerConfig.firstRowScreen\n          ) {\n            var st =\n              this.scrollTop +\n              (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n            if (st > 0) {\n              this.scrollTop = st;\n              changes = changes | this.CHANGE_SCROLL;\n              changes |= this.$computeLayerConfig();\n            }\n          }\n          config = this.layerConfig;\n          this.$updateScrollBarV();\n          if (changes & this.CHANGE_H_SCROLL) this.$updateScrollBarH();\n\n          dom.translate(this.content, -this.scrollLeft, -config.offset);\n\n          var width = config.width + 2 * this.$padding + \"px\";\n          var height = config.minHeight + \"px\";\n\n          dom.setStyle(this.content.style, \"width\", width);\n          dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n          dom.translate(this.content, -this.scrollLeft, -config.offset);\n          this.scroller.className =\n            this.scrollLeft <= 0\n              ? \"ace_scroller\"\n              : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n          this.$textLayer.update(config);\n          if (this.$showGutter) this.$gutterLayer.update(config);\n          this.$markerBack.update(config);\n          this.$markerFront.update(config);\n          this.$cursorLayer.update(config);\n          this.$moveTextAreaToCursor();\n          this._signal(\"afterRender\");\n          return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n          if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n            this.$textLayer.update(config);\n          else this.$textLayer.scrollLines(config);\n\n          if (this.$showGutter) {\n            if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n              this.$gutterLayer.update(config);\n            else this.$gutterLayer.scrollLines(config);\n          }\n          this.$markerBack.update(config);\n          this.$markerFront.update(config);\n          this.$cursorLayer.update(config);\n          this.$moveTextAreaToCursor();\n          this._signal(\"afterRender\");\n          return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n          this.$textLayer.update(config);\n          if (this.$showGutter) this.$gutterLayer.update(config);\n        } else if (changes & this.CHANGE_LINES) {\n          if (\n            this.$updateLines() ||\n            (changes & this.CHANGE_GUTTER && this.$showGutter)\n          )\n            this.$gutterLayer.update(config);\n        } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n          if (this.$showGutter) this.$gutterLayer.update(config);\n        } else if (changes & this.CHANGE_CURSOR) {\n          if (this.$highlightGutterLine)\n            this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n          this.$cursorLayer.update(config);\n          this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n          this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n          this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\");\n      };\n\n      this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight =\n          Math.min(\n            maxHeight,\n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n          ) +\n          this.scrollMargin.v +\n          (this.$extraHeight || 0);\n        if (this.$horizScroll) desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n          desiredHeight = this.$maxPixelHeight;\n\n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n\n        if (\n          desiredHeight != this.desiredHeight ||\n          this.$size.height != this.desiredHeight ||\n          vScroll != this.$vScroll\n        ) {\n          if (vScroll != this.$vScroll) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n          }\n\n          var w = this.container.clientWidth;\n          this.container.style.height = desiredHeight + \"px\";\n          this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n          this.desiredHeight = desiredHeight;\n\n          this._signal(\"autosize\");\n        }\n      };\n\n      this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n\n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n\n        var horizScroll =\n          !hideScrollbars &&\n          (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n          this.$horizScroll = horizScroll;\n          this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1) this.$autosize();\n\n        var offset = this.scrollTop % this.lineHeight;\n        var minHeight = size.scrollerHeight + this.lineHeight;\n\n        var scrollPastEnd =\n          !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n\n        var sm = this.scrollMargin;\n        this.session.setScrollTop(\n          Math.max(\n            -sm.top,\n            Math.min(\n              this.scrollTop,\n              maxHeight - size.scrollerHeight + sm.bottom\n            )\n          )\n        );\n\n        this.session.setScrollLeft(\n          Math.max(\n            -sm.left,\n            Math.min(\n              this.scrollLeft,\n              longestLine + 2 * this.$padding - size.scrollerWidth + sm.right\n            )\n          )\n        );\n\n        var vScroll =\n          !hideScrollbars &&\n          (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 ||\n            this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n          this.$vScroll = vScroll;\n          this.scrollBarV.setVisible(vScroll);\n        }\n\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(\n          0,\n          Math.round((this.scrollTop - offset) / this.lineHeight)\n        );\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n          firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(\n          session.screenToDocumentRow(lastRow, 0),\n          session.getLength() - 1\n        );\n        minHeight =\n          size.scrollerHeight +\n          session.getRowLength(lastRow) * lineHeight +\n          firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged)\n          changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n          changes = this.$updateCachedSize(\n            true,\n            this.gutterWidth,\n            size.width,\n            size.height\n          );\n          this._signal(\"scrollbarVisibilityChanged\");\n          if (vScrollChanged) longestLine = this.$getLongestLine();\n        }\n\n        this.layerConfig = {\n          width: longestLine,\n          padding: this.$padding,\n          firstRow: firstRow,\n          firstRowScreen: firstRowScreen,\n          lastRow: lastRow,\n          lineHeight: lineHeight,\n          characterWidth: this.characterWidth,\n          minHeight: minHeight,\n          maxHeight: maxHeight,\n          offset: offset,\n          gutterOffset: lineHeight\n            ? Math.max(\n                0,\n                Math.ceil(\n                  (offset + size.height - size.scrollerHeight) / lineHeight\n                )\n              )\n            : 0,\n          height: this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n          this.session.$bidiHandler.setContentWidth(\n            longestLine - this.$padding\n          );\n        return changes;\n      };\n\n      this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) {\n          return;\n        }\n        if (lastRow < layerConfig.firstRow) {\n          return;\n        }\n        if (lastRow === Infinity) {\n          if (this.$showGutter) this.$gutterLayer.update(layerConfig);\n          this.$textLayer.update(layerConfig);\n          return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n      };\n\n      this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode) charCount += 1;\n\n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n          charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(\n          this.$size.scrollerWidth - 2 * this.$padding,\n          Math.round(charCount * this.characterWidth)\n        );\n      };\n      this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n      };\n      this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n      };\n      this.addGutterDecoration = function(row, className) {\n        this.$gutterLayer.addGutterDecoration(row, className);\n      };\n      this.removeGutterDecoration = function(row, className) {\n        this.$gutterLayer.removeGutterDecoration(row, className);\n      };\n      this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      };\n      this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      };\n      this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n      };\n      this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n      };\n      this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n      };\n\n      this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n      };\n      this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0) return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n\n        var topMargin = ($viewMargin && $viewMargin.top) || 0;\n        var bottomMargin = ($viewMargin && $viewMargin.bottom) || 0;\n\n        var scrollTop = this.$scrollAnimation\n          ? this.session.getScrollTop()\n          : this.scrollTop;\n\n        if (scrollTop + topMargin > top) {\n          if (offset && scrollTop + topMargin > top + this.lineHeight)\n            top -= offset * this.$size.scrollerHeight;\n          if (top === 0) top = -this.scrollMargin.top;\n          this.session.setScrollTop(top);\n        } else if (\n          scrollTop + this.$size.scrollerHeight - bottomMargin <\n          top + this.lineHeight\n        ) {\n          if (\n            offset &&\n            scrollTop + this.$size.scrollerHeight - bottomMargin <\n              top - this.lineHeight\n          )\n            top += offset * this.$size.scrollerHeight;\n          this.session.setScrollTop(\n            top + this.lineHeight - this.$size.scrollerHeight\n          );\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n          if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n            left = -this.scrollMargin.left;\n          this.session.setScrollLeft(left);\n        } else if (\n          scrollLeft + this.$size.scrollerWidth <\n          left + this.characterWidth\n        ) {\n          this.session.setScrollLeft(\n            Math.round(left + this.characterWidth - this.$size.scrollerWidth)\n          );\n        } else if (\n          scrollLeft <= this.$padding &&\n          left - scrollLeft < this.characterWidth\n        ) {\n          this.session.setScrollLeft(0);\n        }\n      };\n      this.getScrollTop = function() {\n        return this.session.getScrollTop();\n      };\n      this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n      };\n      this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n      };\n      this.getScrollBottomRow = function() {\n        return Math.max(\n          0,\n          Math.floor(\n            (this.scrollTop + this.$size.scrollerHeight) / this.lineHeight\n          ) - 1\n        );\n      };\n      this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n      };\n\n      this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\") cursor = { row: cursor, column: 0 };\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n      };\n\n      this.STEPS = 8;\n      this.$calcSteps = function(fromValue, toValue) {\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func = function(t, x_min, dx) {\n          return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n          steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n      };\n      this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n        var offset = pos.top;\n        if (center) offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false) this.animateScrolling(initialScroll, callback);\n      };\n\n      this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll) return;\n        var _self = this;\n\n        if (fromValue == toValue) return;\n\n        if (this.$scrollAnimation) {\n          var oldSteps = this.$scrollAnimation.steps;\n          if (oldSteps.length) {\n            fromValue = oldSteps[0];\n            if (fromValue == toValue) return;\n          }\n        }\n\n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n          if (steps.length) {\n            _self.session.setScrollTop(steps.shift());\n            _self.session.$scrollTop = toValue;\n          } else if (toValue != null) {\n            _self.session.$scrollTop = -1;\n            _self.session.setScrollTop(toValue);\n            toValue = null;\n          } else {\n            _self.$timer = clearInterval(_self.$timer);\n            _self.$scrollAnimation = null;\n            callback && callback();\n          }\n        }, 10);\n      };\n      this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n          this.$loop.schedule(this.CHANGE_SCROLL);\n          this.scrollTop = scrollTop;\n        }\n      };\n      this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft) this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n      };\n      this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n      };\n      this.scrollBy = function(deltaX, deltaY) {\n        deltaY &&\n          this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX &&\n          this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n      };\n      this.isScrollableBy = function(deltaX, deltaY) {\n        if (\n          deltaY < 0 &&\n          this.session.getScrollTop() >= 1 - this.scrollMargin.top\n        )\n          return true;\n        if (\n          deltaY > 0 &&\n          this.session.getScrollTop() +\n            this.$size.scrollerHeight -\n            this.layerConfig.maxHeight <\n            -1 + this.scrollMargin.bottom\n        )\n          return true;\n        if (\n          deltaX < 0 &&\n          this.session.getScrollLeft() >= 1 - this.scrollMargin.left\n        )\n          return true;\n        if (\n          deltaX > 0 &&\n          this.session.getScrollLeft() +\n            this.$size.scrollerWidth -\n            this.layerConfig.width <\n            -1 + this.scrollMargin.right\n        )\n          return true;\n      };\n\n      this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n          canvasPos = { top: 0, left: 0 };\n          var p = this.$fontMetrics.transformCoordinates([x, y]);\n          x = p[1] - this.gutterWidth - this.margin.left;\n          y = p[0];\n        } else {\n          canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor(\n          (y + this.scrollTop - canvasPos.top) / this.lineHeight\n        );\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {\n          row: row,\n          column: col,\n          side: offset - col > 0 ? 1 : -1,\n          offsetX: offsetX\n        };\n      };\n\n      this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n          canvasPos = { top: 0, left: 0 };\n          var p = this.$fontMetrics.transformCoordinates([x, y]);\n          x = p[1] - this.gutterWidth - this.margin.left;\n          y = p[0];\n        } else {\n          canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor(\n          (y + this.scrollTop - canvasPos.top) / this.lineHeight\n        );\n\n        return this.session.screenToDocumentPosition(\n          row,\n          Math.max(col, 0),\n          offsetX\n        );\n      };\n      this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x =\n          this.$padding +\n          (this.session.$bidiHandler.isBidiRow(pos.row, row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : Math.round(pos.column * this.characterWidth));\n\n        var y = pos.row * this.lineHeight;\n\n        return {\n          pageX: canvasPos.left + x - this.scrollLeft,\n          pageY: canvasPos.top + y - this.scrollTop\n        };\n      };\n      this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n      };\n      this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n      };\n      this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n          composition.cssText = this.textarea.style.cssText;\n          composition.keepTextAreaAtCursor = this.$keepTextAreaAtCursor;\n        }\n        composition.useTextareaForIME = this.$useTextareaForIME;\n\n        if (this.$useTextareaForIME) {\n          this.$keepTextAreaAtCursor = true;\n          dom.addCssClass(this.textarea, \"ace_composition\");\n          this.textarea.style.cssText = \"\";\n          this.$moveTextAreaToCursor();\n          this.$cursorLayer.element.style.display = \"none\";\n        } else {\n          composition.markerId = this.session.addMarker(\n            composition.markerRange,\n            \"ace_composition_marker\",\n            \"text\"\n          );\n        }\n      };\n      this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(\n          text,\n          \"composition_placeholder\",\n          cursor.row,\n          cursor.column\n        );\n        this.$moveTextAreaToCursor();\n      };\n      this.hideComposition = function() {\n        if (!this.$composition) return;\n\n        if (this.$composition.markerId)\n          this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n        this.textarea.style.cssText = this.$composition.cssText;\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n      };\n\n      this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = { type: type, value: text };\n        var tokens = session.getTokens(row);\n        if (column == null) {\n          tokens.push(newToken);\n        } else {\n          var l = 0;\n          for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            l += token.value.length;\n            if (column <= l) {\n              var diff = token.value.length - (l - column);\n              var before = token.value.slice(0, diff);\n              var after = token.value.slice(diff);\n\n              tokens.splice(\n                i,\n                1,\n                { type: token.type, value: before },\n                newToken,\n                { type: token.type, value: after }\n              );\n              break;\n            }\n          }\n        }\n        this.updateLines(row, row);\n      };\n      this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent(\"themeChange\", { theme: theme });\n\n        if (!theme || typeof theme == \"string\") {\n          var moduleName = theme || this.$options.theme.initialValue;\n          config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n          afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n          if (_self.$themeId != theme) return cb && cb();\n          if (!module || !module.cssClass)\n            throw new Error(\n              \"couldn't load module \" + theme + \" or it didn't call define\"\n            );\n          if (module.$id) _self.$themeId = module.$id;\n          dom.importCssString(module.cssText, module.cssClass, _self.container);\n\n          if (_self.theme)\n            dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n          var padding =\n            \"padding\" in module\n              ? module.padding\n              : \"padding\" in (_self.theme || {})\n              ? 4\n              : _self.$padding;\n          if (_self.$padding && padding != _self.$padding)\n            _self.setPadding(padding);\n          _self.$theme = module.cssClass;\n\n          _self.theme = module;\n          dom.addCssClass(_self.container, module.cssClass);\n          dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n          if (_self.$size) {\n            _self.$size.width = 0;\n            _self.$updateSizeAsync();\n          }\n\n          _self._dispatchEvent(\"themeLoaded\", { theme: module });\n          cb && cb();\n        }\n      };\n      this.getTheme = function() {\n        return this.$themeId;\n      };\n      this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n      };\n      this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n      };\n\n      this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n      };\n      this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n      };\n\n      this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n      };\n      this.destroy = function() {\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n      };\n    }.call(VirtualRenderer.prototype));\n\n    config.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n      animatedScroll: { initialValue: false },\n      showInvisibles: {\n        set: function(value) {\n          if (this.$textLayer.setShowInvisibles(value))\n            this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n      },\n      showPrintMargin: {\n        set: function() {\n          this.$updatePrintMargin();\n        },\n        initialValue: true\n      },\n      printMarginColumn: {\n        set: function() {\n          this.$updatePrintMargin();\n        },\n        initialValue: 80\n      },\n      printMargin: {\n        set: function(val) {\n          if (typeof val == \"number\") this.$printMarginColumn = val;\n          this.$showPrintMargin = !!val;\n          this.$updatePrintMargin();\n        },\n        get: function() {\n          return this.$showPrintMargin && this.$printMarginColumn;\n        }\n      },\n      showGutter: {\n        set: function(show) {\n          this.$gutter.style.display = show ? \"block\" : \"none\";\n          this.$loop.schedule(this.CHANGE_FULL);\n          this.onGutterResize();\n        },\n        initialValue: true\n      },\n      fadeFoldWidgets: {\n        set: function(show) {\n          dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n      },\n      showFoldWidgets: {\n        set: function(show) {\n          this.$gutterLayer.setShowFoldWidgets(show);\n          this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n      },\n      displayIndentGuides: {\n        set: function(show) {\n          if (this.$textLayer.setDisplayIndentGuides(show))\n            this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n      },\n      highlightGutterLine: {\n        set: function(shouldHighlight) {\n          this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n          this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n      },\n      hScrollBarAlwaysVisible: {\n        set: function(val) {\n          if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n      },\n      vScrollBarAlwaysVisible: {\n        set: function(val) {\n          if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n      },\n      fontSize: {\n        set: function(size) {\n          if (typeof size == \"number\") size = size + \"px\";\n          this.container.style.fontSize = size;\n          this.updateFontSize();\n        },\n        initialValue: 12\n      },\n      fontFamily: {\n        set: function(name) {\n          this.container.style.fontFamily = name;\n          this.updateFontSize();\n        }\n      },\n      maxLines: {\n        set: function(val) {\n          this.updateFull();\n        }\n      },\n      minLines: {\n        set: function(val) {\n          if (!(this.$minLines < 0x1ffffffffffff)) this.$minLines = 0;\n          this.updateFull();\n        }\n      },\n      maxPixelHeight: {\n        set: function(val) {\n          this.updateFull();\n        },\n        initialValue: 0\n      },\n      scrollPastEnd: {\n        set: function(val) {\n          val = +val || 0;\n          if (this.$scrollPastEnd == val) return;\n          this.$scrollPastEnd = val;\n          this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n      },\n      fixedWidthGutter: {\n        set: function(val) {\n          this.$gutterLayer.$fixedWidth = !!val;\n          this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n      },\n      theme: {\n        set: function(val) {\n          this.setTheme(val);\n        },\n        get: function() {\n          return this.$themeId || this.theme;\n        },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n      },\n      hasCssTransforms: {},\n      useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n      }\n    });\n\n    exports.VirtualRenderer = VirtualRenderer;\n  }\n);\n\nace.define(\n  \"ace/worker/worker_client\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/oop\",\n    \"ace/lib/net\",\n    \"ace/lib/event_emitter\",\n    \"ace/config\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"../lib/oop\");\n    var net = require(\"../lib/net\");\n    var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n    var config = require(\"../config\");\n\n    function $workerBlob(workerUrl) {\n      var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n      try {\n        return new Blob([script], { type: \"application/javascript\" });\n      } catch (e) {\n        // Backwards-compatibility\n        var BlobBuilder =\n          window.BlobBuilder ||\n          window.WebKitBlobBuilder ||\n          window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n      }\n    }\n\n    function createWorker(workerUrl) {\n      if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n      var blob = $workerBlob(workerUrl);\n      var URL = window.URL || window.webkitURL;\n      var blobURL = URL.createObjectURL(blob);\n      return new Worker(blobURL);\n    }\n\n    var WorkerClient = function(\n      topLevelNamespaces,\n      mod,\n      classname,\n      workerUrl,\n      importScripts\n    ) {\n      this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.onMessage = this.onMessage.bind(this);\n      if (require.nameToUrl && !require.toUrl)\n        require.toUrl = require.nameToUrl;\n\n      if (config.get(\"packaged\") || !require.toUrl) {\n        workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n      } else {\n        var normalizePath = this.$normalizePath;\n        workerUrl =\n          workerUrl ||\n          normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n        var tlns = {};\n        topLevelNamespaces.forEach(function(ns) {\n          tlns[ns] = normalizePath(\n            require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\")\n          );\n        });\n      }\n\n      this.$worker = createWorker(workerUrl);\n      if (importScripts) {\n        this.send(\"importScripts\", importScripts);\n      }\n      this.$worker.postMessage({\n        init: true,\n        tlns: tlns,\n        module: mod,\n        classname: classname\n      });\n\n      this.callbackId = 1;\n      this.callbacks = {};\n\n      this.$worker.onmessage = this.onMessage;\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n\n      this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n          case \"event\":\n            this._signal(msg.name, { data: msg.data });\n            break;\n          case \"call\":\n            var callback = this.callbacks[msg.id];\n            if (callback) {\n              callback(msg.data);\n              delete this.callbacks[msg.id];\n            }\n            break;\n          case \"error\":\n            this.reportError(msg.data);\n            break;\n          case \"log\":\n            window.console &&\n              console.log &&\n              console.log.apply(console, msg.data);\n            break;\n        }\n      };\n\n      this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n      };\n\n      this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n      };\n\n      this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc) this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n      };\n\n      this.send = function(cmd, args) {\n        this.$worker.postMessage({ command: cmd, args: args });\n      };\n\n      this.call = function(cmd, args, callback) {\n        if (callback) {\n          var id = this.callbackId++;\n          this.callbacks[id] = callback;\n          args.push(id);\n        }\n        this.send(cmd, args);\n      };\n\n      this.emit = function(event, data) {\n        try {\n          if (data.data && data.data.err)\n            data.data.err = {\n              message: data.data.err.message,\n              stack: data.data.err.stack,\n              code: data.data.err.code\n            };\n          this.$worker.postMessage({ event: event, data: { data: data.data } });\n        } catch (ex) {\n          console.error(ex.stack);\n        }\n      };\n\n      this.attachToDocument = function(doc) {\n        if (this.$doc) this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n      };\n\n      this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n          this.deltaQueue = [];\n          setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n          this.deltaQueue.push(delta.start, delta.lines);\n        else this.deltaQueue.push(delta.start, delta.end);\n      };\n\n      this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n          this.call(\"setValue\", [this.$doc.getValue()]);\n        } else this.emit(\"change\", { data: q });\n      };\n    }.call(WorkerClient.prototype));\n\n    var UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n      this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.callbackId = 1;\n      this.callbacks = {};\n      this.messageBuffer = [];\n\n      var main = null;\n      var emitSync = false;\n      var sender = Object.create(EventEmitter);\n      var _self = this;\n\n      this.$worker = {};\n      this.$worker.terminate = function() {};\n      this.$worker.postMessage = function(e) {\n        _self.messageBuffer.push(e);\n        if (main) {\n          if (emitSync) setTimeout(processNext);\n          else processNext();\n        }\n      };\n      this.setEmitSync = function(val) {\n        emitSync = val;\n      };\n\n      var processNext = function() {\n        var msg = _self.messageBuffer.shift();\n        if (msg.command) main[msg.command].apply(main, msg.args);\n        else if (msg.event) sender._signal(msg.event, msg.data);\n      };\n\n      sender.postMessage = function(msg) {\n        _self.onMessage({ data: msg });\n      };\n      sender.callback = function(data, callbackId) {\n        this.postMessage({ type: \"call\", id: callbackId, data: data });\n      };\n      sender.emit = function(name, data) {\n        this.postMessage({ type: \"event\", name: name, data: data });\n      };\n\n      config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (_self.messageBuffer.length) processNext();\n      });\n    };\n\n    UIWorkerClient.prototype = WorkerClient.prototype;\n\n    exports.UIWorkerClient = UIWorkerClient;\n    exports.WorkerClient = WorkerClient;\n    exports.createWorker = createWorker;\n  }\n);\n\nace.define(\n  \"ace/placeholder\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/range\",\n    \"ace/lib/event_emitter\",\n    \"ace/lib/oop\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"./range\").Range;\n    var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n    var oop = require(\"./lib/oop\");\n\n    var PlaceHolder = function(\n      session,\n      length,\n      pos,\n      others,\n      mainClass,\n      othersClass\n    ) {\n      var _self = this;\n      this.length = length;\n      this.session = session;\n      this.doc = session.getDocument();\n      this.mainClass = mainClass;\n      this.othersClass = othersClass;\n      this.$onUpdate = this.onUpdate.bind(this);\n      this.doc.on(\"change\", this.$onUpdate);\n      this.$others = others;\n\n      this.$onCursorChange = function() {\n        setTimeout(function() {\n          _self.onCursorChange();\n        });\n      };\n\n      this.$pos = pos;\n      var undoStack = session.getUndoManager().$undoStack ||\n        session.getUndoManager().$undostack || { length: -1 };\n      this.$undoStackDepth = undoStack.length;\n      this.setup();\n\n      session.selection.on(\"changeCursor\", this.$onCursorChange);\n    };\n\n    (function() {\n      oop.implement(this, EventEmitter);\n      this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n\n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n          session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(\n          new Range(pos.row, pos.column, pos.row, pos.column + this.length),\n          this.mainClass,\n          null,\n          false\n        );\n        this.others = [];\n        this.$others.forEach(function(other) {\n          var anchor = doc.createAnchor(other.row, other.column);\n          anchor.$insertRight = true;\n          anchor.detach();\n          _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n      };\n      this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n          anchor.markerId = session.addMarker(\n            new Range(\n              anchor.row,\n              anchor.column,\n              anchor.row,\n              anchor.column + _self.length\n            ),\n            _self.othersClass,\n            null,\n            false\n          );\n        });\n      };\n      this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n          this.session.removeMarker(this.others[i].markerId);\n        }\n      };\n      this.onUpdate = function(delta) {\n        if (this.$updating) return this.updateAnchors(delta);\n\n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff =\n          delta.action === \"insert\"\n            ? range.end.column - range.start.column\n            : range.start.column - range.end.column;\n        var inMainRange =\n          range.start.column >= this.pos.column &&\n          range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n\n        this.updateAnchors(delta);\n\n        if (inMainRange) this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n          if (delta.action === \"insert\") {\n            for (var i = this.others.length - 1; i >= 0; i--) {\n              var otherPos = this.others[i];\n              var newPos = {\n                row: otherPos.row,\n                column: otherPos.column + distanceFromStart\n              };\n              this.doc.insertMergedLines(newPos, delta.lines);\n            }\n          } else if (delta.action === \"remove\") {\n            for (var i = this.others.length - 1; i >= 0; i--) {\n              var otherPos = this.others[i];\n              var newPos = {\n                row: otherPos.row,\n                column: otherPos.column + distanceFromStart\n              };\n              this.doc.remove(\n                new Range(\n                  newPos.row,\n                  newPos.column,\n                  newPos.row,\n                  newPos.column - lengthDiff\n                )\n              );\n            }\n          }\n        }\n\n        this.$updating = false;\n        this.updateMarkers();\n      };\n\n      this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--; ) this.others[i].onChange(delta);\n        this.updateMarkers();\n      };\n\n      this.updateMarkers = function() {\n        if (this.$updating) return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n          session.removeMarker(pos.markerId);\n          pos.markerId = session.addMarker(\n            new Range(pos.row, pos.column, pos.row, pos.column + _self.length),\n            className,\n            null,\n            false\n          );\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--; )\n          updateMarker(this.others[i], this.othersClass);\n      };\n\n      this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (\n          pos.row === this.pos.row &&\n          pos.column >= this.pos.column &&\n          pos.column <= this.pos.column + this.length\n        ) {\n          this.showOtherMarkers();\n          this._emit(\"cursorEnter\", event);\n        } else {\n          this.hideOtherMarkers();\n          this._emit(\"cursorLeave\", event);\n        }\n      };\n      this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.removeEventListener(\"change\", this.$onUpdate);\n        this.session.selection.removeEventListener(\n          \"changeCursor\",\n          this.$onCursorChange\n        );\n        this.session.setUndoSelect(true);\n        this.session = null;\n      };\n      this.cancel = function() {\n        if (this.$undoStackDepth === -1) return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired =\n          (undoManager.$undoStack || undoManager.$undostack).length -\n          this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n          undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n          this.session.selection.fromJSON(this.selectionBefore);\n      };\n    }.call(PlaceHolder.prototype));\n\n    exports.PlaceHolder = PlaceHolder;\n  }\n);\n\nace.define(\n  \"ace/mouse/multi_select_handler\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"],\n  function(require, exports, module) {\n    var event = require(\"../lib/event\");\n    var useragent = require(\"../lib/useragent\");\n    function isSamePoint(p1, p2) {\n      return p1.row == p2.row && p1.column == p2.column;\n    }\n\n    function onMouseDown(e) {\n      var ev = e.domEvent;\n      var alt = ev.altKey;\n      var shift = ev.shiftKey;\n      var ctrl = ev.ctrlKey;\n      var accel = e.getAccelKey();\n      var button = e.getButton();\n\n      if (ctrl && useragent.isMac) button = ev.button;\n\n      if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n      }\n\n      if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n          e.editor.exitMultiSelectMode();\n        return;\n      }\n\n      if (button !== 0) return;\n\n      var editor = e.editor;\n      var selection = editor.selection;\n      var isMultiSelect = editor.inMultiSelectMode;\n      var pos = e.getDocumentPosition();\n      var cursor = selection.getCursor();\n      var inSelection =\n        e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n      var mouseX = e.x,\n        mouseY = e.y;\n      var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n      };\n\n      var session = editor.session;\n      var screenAnchor = editor.renderer.pixelToScreenCoordinates(\n        mouseX,\n        mouseY\n      );\n      var screenCursor = screenAnchor;\n\n      var selectionMode;\n      if (editor.$mouseHandler.$enableJumpToDef) {\n        if ((ctrl && alt) || (accel && alt))\n          selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled) selectionMode = \"block\";\n      } else {\n        if (accel && !alt) {\n          selectionMode = \"add\";\n          if (!isMultiSelect && shift) return;\n        } else if (alt && editor.$blockSelectEnabled) {\n          selectionMode = \"block\";\n        }\n      }\n\n      if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n      }\n\n      if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection) return; // dragging\n\n        if (!isMultiSelect) {\n          var range = selection.toOrientedRange();\n          editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n\n        editor.inVirtualSelectionMode = true;\n\n        if (shift) {\n          oldRange = null;\n          range = selection.ranges[0] || range;\n          editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n          var tmpSel = selection.toOrientedRange();\n\n          if (\n            oldRange &&\n            tmpSel.isEmpty() &&\n            isSamePoint(oldRange.cursor, tmpSel.cursor)\n          )\n            selection.substractPoint(tmpSel.cursor);\n          else {\n            if (shift) {\n              selection.substractPoint(range.cursor);\n            } else if (range) {\n              editor.removeSelectionMarker(range);\n              selection.addRange(range);\n            }\n            selection.addRange(tmpSel);\n          }\n          editor.inVirtualSelectionMode = false;\n        });\n      } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;\n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n          var newCursor = editor.renderer.pixelToScreenCoordinates(\n            mouseX,\n            mouseY\n          );\n          var cursor = session.screenToDocumentPosition(\n            newCursor.row,\n            newCursor.column,\n            newCursor.offsetX\n          );\n\n          if (\n            isSamePoint(screenCursor, newCursor) &&\n            isSamePoint(cursor, selection.lead)\n          )\n            return;\n          screenCursor = newCursor;\n\n          editor.selection.moveToPosition(cursor);\n          editor.renderer.scrollCursorIntoView();\n\n          editor.removeSelectionMarkers(rectSel);\n          rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n          if (\n            editor.$mouseHandler.$clickSelection &&\n            rectSel.length == 1 &&\n            rectSel[0].isEmpty()\n          )\n            rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n          rectSel.forEach(editor.addSelectionMarker, editor);\n          editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n          selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n          initialRange = selection.toOrientedRange();\n          editor.addSelectionMarker(initialRange);\n        }\n\n        if (shift)\n          screenAnchor = session.documentToScreenPosition(selection.lead);\n        else selection.moveToPosition(pos);\n\n        screenCursor = { row: -1, column: -1 };\n\n        var onMouseSelectionEnd = function(e) {\n          blockSelect();\n          clearInterval(timerId);\n          editor.removeSelectionMarkers(rectSel);\n          if (!rectSel.length) rectSel = [selection.toOrientedRange()];\n          if (initialRange) {\n            editor.removeSelectionMarker(initialRange);\n            selection.toSingleRange(initialRange);\n          }\n          for (var i = 0; i < rectSel.length; i++)\n            selection.addRange(rectSel[i]);\n          editor.inVirtualSelectionMode = false;\n          editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {\n          onSelectionInterval();\n        }, 20);\n\n        return e.preventDefault();\n      }\n    }\n\n    exports.onMouseDown = onMouseDown;\n  }\n);\n\nace.define(\n  \"ace/commands/multi_select_commands\",\n  [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\"],\n  function(require, exports, module) {\n    exports.defaultCommands = [\n      {\n        name: \"addCursorAbove\",\n        exec: function(editor) {\n          editor.selectMoreLines(-1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"addCursorBelow\",\n        exec: function(editor) {\n          editor.selectMoreLines(1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"addCursorAboveSkipCurrent\",\n        exec: function(editor) {\n          editor.selectMoreLines(-1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"addCursorBelowSkipCurrent\",\n        exec: function(editor) {\n          editor.selectMoreLines(1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectMoreBefore\",\n        exec: function(editor) {\n          editor.selectMore(-1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectMoreAfter\",\n        exec: function(editor) {\n          editor.selectMore(1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectNextBefore\",\n        exec: function(editor) {\n          editor.selectMore(-1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"selectNextAfter\",\n        exec: function(editor) {\n          editor.selectMore(1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      },\n      {\n        name: \"splitIntoLines\",\n        exec: function(editor) {\n          editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n      },\n      {\n        name: \"alignCursors\",\n        exec: function(editor) {\n          editor.alignCursors();\n        },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n      },\n      {\n        name: \"findAll\",\n        exec: function(editor) {\n          editor.findAll();\n        },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n      }\n    ];\n    exports.multiSelectCommands = [\n      {\n        name: \"singleSelection\",\n        bindKey: \"esc\",\n        exec: function(editor) {\n          editor.exitMultiSelectMode();\n        },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function(editor) {\n          return editor && editor.inMultiSelectMode;\n        }\n      }\n    ];\n\n    var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n    exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n  }\n);\n\nace.define(\n  \"ace/multi_select\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/range_list\",\n    \"ace/range\",\n    \"ace/selection\",\n    \"ace/mouse/multi_select_handler\",\n    \"ace/lib/event\",\n    \"ace/lib/lang\",\n    \"ace/commands/multi_select_commands\",\n    \"ace/search\",\n    \"ace/edit_session\",\n    \"ace/editor\",\n    \"ace/config\"\n  ],\n  function(require, exports, module) {\n    var RangeList = require(\"./range_list\").RangeList;\n    var Range = require(\"./range\").Range;\n    var Selection = require(\"./selection\").Selection;\n    var onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\n    var event = require(\"./lib/event\");\n    var lang = require(\"./lib/lang\");\n    var commands = require(\"./commands/multi_select_commands\");\n    exports.commands = commands.defaultCommands.concat(\n      commands.multiSelectCommands\n    );\n    var Search = require(\"./search\").Search;\n    var search = new Search();\n\n    function find(session, needle, dir) {\n      search.$options.wrap = true;\n      search.$options.needle = needle;\n      search.$options.backwards = dir == -1;\n      return search.find(session);\n    }\n    var EditSession = require(\"./edit_session\").EditSession;\n    (function() {\n      this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n      };\n    }.call(EditSession.prototype));\n    (function() {\n      this.ranges = null;\n      this.rangeList = null;\n      this.addRange = function(range, $blockChangeEvents) {\n        if (!range) return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n          var oldRange = this.toOrientedRange();\n          this.rangeList.add(oldRange);\n          this.rangeList.add(range);\n          if (this.rangeList.ranges.length != 2) {\n            this.rangeList.removeAll();\n            return $blockChangeEvents || this.fromOrientedRange(range);\n          }\n          this.rangeList.removeAll();\n          this.rangeList.add(oldRange);\n          this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor) range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length) this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n          this._signal(\"multiSelect\");\n          this.inMultiSelectMode = true;\n          this.session.$undoSelect = false;\n          this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n      };\n\n      this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length) this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n      };\n      this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n          this.$onRemoveRange(removed);\n          return removed[0];\n        }\n      };\n      this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length) this.$onRemoveRange(removed);\n      };\n\n      this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", { range: range });\n      };\n\n      this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n          var lastRange = this.rangeList.ranges.pop();\n          removed.push(lastRange);\n          this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n          var index = this.ranges.indexOf(removed[i]);\n          this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", { ranges: removed });\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n          this.inMultiSelectMode = false;\n          this._signal(\"singleSelect\");\n          this.session.$undoSelect = true;\n          this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n          this.fromOrientedRange(lastRange);\n      };\n      this.$initRangeList = function() {\n        if (this.rangeList) return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n      };\n      this.getAllRanges = function() {\n        return this.rangeCount\n          ? this.rangeList.ranges.concat()\n          : [this.getRange()];\n      };\n\n      this.splitIntoLines = function() {\n        if (this.rangeCount > 1) {\n          var ranges = this.rangeList.ranges;\n          var lastRange = ranges[ranges.length - 1];\n          var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n          this.toSingleRange();\n          this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n          var range = this.getRange();\n          var isBackwards = this.isBackwards();\n          var startRow = range.start.row;\n          var endRow = range.end.row;\n          if (startRow == endRow) {\n            if (isBackwards)\n              var start = range.end,\n                end = range.start;\n            else\n              var start = range.start,\n                end = range.end;\n\n            this.addRange(Range.fromPoints(end, end));\n            this.addRange(Range.fromPoints(start, start));\n            return;\n          }\n\n          var rectSel = [];\n          var r = this.getLineRange(startRow, true);\n          r.start.column = range.start.column;\n          rectSel.push(r);\n\n          for (var i = startRow + 1; i < endRow; i++)\n            rectSel.push(this.getLineRange(i, true));\n\n          r = this.getLineRange(endRow, true);\n          r.end.column = range.end.column;\n          rectSel.push(r);\n\n          rectSel.forEach(this.addRange, this);\n        }\n      };\n      this.toggleBlockSelection = function() {\n        if (this.rangeCount > 1) {\n          var ranges = this.rangeList.ranges;\n          var lastRange = ranges[ranges.length - 1];\n          var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n          this.toSingleRange();\n          this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n          var cursor = this.session.documentToScreenPosition(this.cursor);\n          var anchor = this.session.documentToScreenPosition(this.anchor);\n\n          var rectSel = this.rectangularRangeBlock(cursor, anchor);\n          rectSel.forEach(this.addRange, this);\n        }\n      };\n      this.rectangularRangeBlock = function(\n        screenCursor,\n        screenAnchor,\n        includeEmptyLines\n      ) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n          var startColumn = screenCursor.column;\n          var endColumn = screenAnchor.column;\n          var startOffsetX = screenCursor.offsetX;\n          var endOffsetX = screenAnchor.offsetX;\n        } else {\n          var startColumn = screenAnchor.column;\n          var endColumn = screenCursor.column;\n          var startOffsetX = screenAnchor.offsetX;\n          var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n          var startRow = screenCursor.row;\n          var endRow = screenAnchor.row;\n        } else {\n          var startRow = screenAnchor.row;\n          var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0) startColumn = 0;\n        if (startRow < 0) startRow = 0;\n\n        if (startRow == endRow) includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n          var range = Range.fromPoints(\n            this.session.screenToDocumentPosition(\n              row,\n              startColumn,\n              startOffsetX\n            ),\n            this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n          );\n          if (range.isEmpty()) {\n            if (docEnd && isSamePoint(range.end, docEnd)) break;\n            docEnd = range.end;\n          }\n          range.cursor = xBackwards ? range.start : range.end;\n          rectSel.push(range);\n        }\n\n        if (yBackwards) rectSel.reverse();\n\n        if (!includeEmptyLines) {\n          var end = rectSel.length - 1;\n          while (rectSel[end].isEmpty() && end > 0) end--;\n          if (end > 0) {\n            var start = 0;\n            while (rectSel[start].isEmpty()) start++;\n          }\n          for (var i = end; i >= start; i--) {\n            if (rectSel[i].isEmpty()) rectSel.splice(i, 1);\n          }\n        }\n\n        return rectSel;\n      };\n    }.call(Selection.prototype));\n    var Editor = require(\"./editor\").Editor;\n    (function() {\n      this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n      };\n      this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor) orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(\n          orientedRange,\n          \"ace_selection\",\n          style\n        );\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n      };\n      this.removeSelectionMarker = function(range) {\n        if (!range.marker) return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1) this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n      };\n\n      this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n          var range = ranges[i];\n          if (!range.marker) continue;\n          this.session.removeMarker(range.marker);\n          var index = markerList.indexOf(range);\n          if (index != -1) markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n      };\n\n      this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n      };\n\n      this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n      };\n\n      this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode) return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n      };\n\n      this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode) return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n      };\n\n      this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect) return;\n        if (!command.multiSelectAction) {\n          var result = command.exec(editor, e.args || {});\n          editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n          editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n          result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n          result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n          editor.exitMultiSelectMode();\n          result = command.exec(editor, e.args || {});\n        } else {\n          result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n      };\n      this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode) return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || (options && options.$byLines);\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n\n        if (!ranges.length)\n          return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n\n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--; ) {\n          if ($byLines) {\n            while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row) i--;\n          }\n          tmpSel.fromOrientedRange(ranges[i]);\n          tmpSel.index = i;\n          this.selection = session.selection = tmpSel;\n          var cmdResult = cmd.exec\n            ? cmd.exec(this, args || {})\n            : cmd(this, args || {});\n          if (!result && cmdResult !== undefined) result = cmdResult;\n          tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n          selection.fromOrientedRange(selection.ranges[0]);\n\n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n          this.renderer.animateScrolling(anim.from);\n\n        return result;\n      };\n      this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) return;\n        this.multiSelect.toSingleRange();\n      };\n\n      this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n          var ranges = this.multiSelect.rangeList.ranges;\n          var buf = [];\n          for (var i = 0; i < ranges.length; i++) {\n            buf.push(this.session.getTextRange(ranges[i]));\n          }\n          var nl = this.session.getDocument().getNewLineCharacter();\n          text = buf.join(nl);\n          if (text.length == (buf.length - 1) * nl.length) text = \"\";\n        } else if (!this.selection.isEmpty()) {\n          text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n      };\n\n      this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n          var range = this.multiSelect.ranges[0];\n          if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n            return;\n          var pos =\n            anchor == this.multiSelect.anchor\n              ? range.cursor == range.start\n                ? range.end\n                : range.start\n              : range.cursor;\n          if (\n            pos.row != anchor.row ||\n            this.session.$clipPositionToDocument(pos.row, pos.column).column !=\n              anchor.column\n          )\n            this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n          else this.multiSelect.mergeOverlappingRanges();\n        }\n      };\n      this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n          var range = this.selection.isEmpty()\n            ? this.selection.getWordRange()\n            : this.selection.getRange();\n          options.needle = this.session.getTextRange(range);\n        }\n        this.$search.set(options);\n\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length) return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive) selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; ) selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n          selection.addRange(range, true);\n\n        return ranges.length;\n      };\n      this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n          screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(\n          screenLead.row + dir,\n          screenLead.column\n        );\n\n        if (!range.isEmpty()) {\n          var screenAnchor = this.session.documentToScreenPosition(\n            isBackwards ? range.end : range.start\n          );\n          var anchor = this.session.screenToDocumentPosition(\n            screenAnchor.row + dir,\n            screenAnchor.column\n          );\n        } else {\n          var anchor = lead;\n        }\n\n        if (isBackwards) {\n          var newRange = Range.fromPoints(lead, anchor);\n          newRange.cursor = newRange.start;\n        } else {\n          var newRange = Range.fromPoints(anchor, lead);\n          newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n          this.selection.addRange(range);\n        } else {\n          if (skip) var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove) this.selection.substractPoint(toRemove);\n      };\n      this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n          var range = all[i];\n          if (range.isEmpty()) {\n            var tmp = session.getWordRange(range.start.row, range.start.column);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n            range.end.row = tmp.end.row;\n            range.end.column = tmp.end.column;\n          }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n          var range = all[i];\n          words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0) words.unshift(words.pop());\n        else words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n          var range = all[i];\n          var tmp = range.clone();\n          session.replace(range, words[i]);\n          range.start.row = tmp.start.row;\n          range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n      };\n      this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n          range = session.getWordRange(range.start.row, range.start.column);\n          range.cursor = dir == -1 ? range.start : range.end;\n          this.multiSelect.addRange(range);\n          if (stopAtFirst) return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n          newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n          this.session.unfold(newRange);\n          this.multiSelect.addRange(newRange);\n          this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip) this.multiSelect.substractPoint(range.cursor);\n      };\n      this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n          if (r.cursor.row == row) return true;\n          row = r.cursor.row;\n        });\n\n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n          var range = this.selection.getRange();\n          var fr = range.start.row,\n            lr = range.end.row;\n          var guessRange = fr == lr;\n          if (guessRange) {\n            var max = this.session.getLength();\n            var line;\n            do {\n              line = this.session.getLine(lr);\n            } while (/[=:]/.test(line) && ++lr < max);\n            do {\n              line = this.session.getLine(fr);\n            } while (/[=:]/.test(line) && --fr > 0);\n\n            if (fr < 0) fr = 0;\n            if (lr >= max) lr = max - 1;\n          }\n          var lines = this.session.removeFullLines(fr, lr);\n          lines = this.$reAlignText(lines, guessRange);\n          this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n          if (!guessRange) {\n            range.start.column = 0;\n            range.end.column = lines[lines.length - 1].length;\n          }\n          this.selection.setRange(range);\n        } else {\n          sameRowRanges.forEach(function(r) {\n            sel.substractPoint(r.cursor);\n          });\n\n          var maxCol = 0;\n          var minSpace = Infinity;\n          var spaceOffsets = ranges.map(function(r) {\n            var p = r.cursor;\n            var line = session.getLine(p.row);\n            var spaceOffset = line.substr(p.column).search(/\\S/g);\n            if (spaceOffset == -1) spaceOffset = 0;\n\n            if (p.column > maxCol) maxCol = p.column;\n            if (spaceOffset < minSpace) minSpace = spaceOffset;\n            return spaceOffset;\n          });\n          ranges.forEach(function(r, i) {\n            var p = r.cursor;\n            var l = maxCol - p.column;\n            var d = spaceOffsets[i] - minSpace;\n            if (l > d) session.insert(p, lang.stringRepeat(\" \", l - d));\n            else\n              session.remove(\n                new Range(p.row, p.column, p.row, p.column - l + d)\n              );\n\n            r.start.column = r.end.column = maxCol;\n            r.start.row = r.end.row = p.row;\n            r.cursor = r.end;\n          });\n          sel.fromOrientedRange(ranges[0]);\n          this.renderer.updateCursor();\n          this.renderer.updateBackMarkers();\n        }\n      };\n\n      this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true,\n          isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines\n          .map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m) return [line];\n\n            if (startW == null) {\n              startW = m[1].length;\n              textW = m[2].length;\n              endW = m[3].length;\n              return m;\n            }\n\n            if (\n              startW + textW + endW !=\n              m[1].length + m[2].length + m[3].length\n            )\n              isRightAligned = false;\n            if (startW != m[1].length) isLeftAligned = false;\n\n            if (startW > m[1].length) startW = m[1].length;\n            if (textW < m[2].length) textW = m[2].length;\n            if (endW > m[3].length) endW = m[3].length;\n\n            return m;\n          })\n          .map(\n            forceLeft\n              ? alignLeft\n              : isLeftAligned\n              ? isRightAligned\n                ? alignRight\n                : alignLeft\n              : unAlign\n          );\n\n        function spaces(n) {\n          return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n          return !m[2]\n            ? m[0]\n            : spaces(startW) +\n                m[2] +\n                spaces(textW - m[2].length + endW) +\n                m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n          return !m[2]\n            ? m[0]\n            : spaces(startW + textW - m[2].length) +\n                m[2] +\n                spaces(endW) +\n                m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n          return !m[2]\n            ? m[0]\n            : spaces(startW) +\n                m[2] +\n                spaces(endW) +\n                m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n      };\n    }.call(Editor.prototype));\n\n    function isSamePoint(p1, p2) {\n      return p1.row == p2.row && p1.column == p2.column;\n    }\n    exports.onSessionChange = function(e) {\n      var session = e.session;\n      if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n      }\n      this.multiSelect = session && session.multiSelect;\n\n      var oldSession = e.oldSession;\n      if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\n          \"change\",\n          this.$checkMultiselectChange\n        );\n      }\n\n      if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n      }\n\n      if (\n        session &&\n        this.inMultiSelectMode != session.selection.inMultiSelectMode\n      ) {\n        if (session.selection.inMultiSelectMode) this.$onMultiSelect();\n        else this.$onSingleSelect();\n      }\n    };\n    function MultiSelect(editor) {\n      if (editor.$multiselectOnSessionChange) return;\n      editor.$onAddRange = editor.$onAddRange.bind(editor);\n      editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n      editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n      editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n      editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n      editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(\n        editor\n      );\n\n      editor.$multiselectOnSessionChange(editor);\n      editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n      editor.on(\"mousedown\", onMouseDown);\n      editor.commands.addCommands(commands.defaultCommands);\n\n      addAltCursorListeners(editor);\n    }\n\n    function addAltCursorListeners(editor) {\n      var el = editor.textInput.getElement();\n      var altCursor = false;\n      event.addListener(el, \"keydown\", function(e) {\n        var altDown =\n          e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n          if (!altCursor) {\n            editor.renderer.setMouseCursor(\"crosshair\");\n            altCursor = true;\n          }\n        } else if (altCursor) {\n          reset();\n        }\n      });\n\n      event.addListener(el, \"keyup\", reset);\n      event.addListener(el, \"blur\", reset);\n      function reset(e) {\n        if (altCursor) {\n          editor.renderer.setMouseCursor(\"\");\n          altCursor = false;\n        }\n      }\n    }\n\n    exports.MultiSelect = MultiSelect;\n\n    require(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n      enableMultiselect: {\n        set: function(val) {\n          MultiSelect(this);\n          if (val) {\n            this.on(\"changeSession\", this.$multiselectOnSessionChange);\n            this.on(\"mousedown\", onMouseDown);\n          } else {\n            this.off(\"changeSession\", this.$multiselectOnSessionChange);\n            this.off(\"mousedown\", onMouseDown);\n          }\n        },\n        value: true\n      },\n      enableBlockSelect: {\n        set: function(val) {\n          this.$blockSelectEnabled = val;\n        },\n        value: true\n      }\n    });\n  }\n);\n\nace.define(\n  \"ace/mode/folding/fold_mode\",\n  [\"require\", \"exports\", \"module\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var Range = require(\"../../range\").Range;\n\n    var FoldMode = (exports.FoldMode = function() {});\n\n    (function() {\n      this.foldingStartMarker = null;\n      this.foldingStopMarker = null;\n      this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line)) return \"start\";\n        if (\n          foldStyle == \"markbeginend\" &&\n          this.foldingStopMarker &&\n          this.foldingStopMarker.test(line)\n        )\n          return \"end\";\n        return \"\";\n      };\n\n      this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n      };\n\n      this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1) return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n          var level = session.getLine(row).search(re);\n\n          if (level == -1) continue;\n\n          if (level <= startLevel) break;\n\n          endRow = row;\n        }\n\n        if (endRow > startRow) {\n          var endColumn = session.getLine(endRow).length;\n          return new Range(startRow, startColumn, endRow, endColumn);\n        }\n      };\n\n      this.openingBracketBlock = function(\n        session,\n        bracket,\n        row,\n        column,\n        typeRe\n      ) {\n        var start = { row: row, column: column + 1 };\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end) return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null) fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n          end.row--;\n          end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n      };\n\n      this.closingBracketBlock = function(\n        session,\n        bracket,\n        row,\n        column,\n        typeRe\n      ) {\n        var end = { row: row, column: column };\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start) return;\n\n        start.column++;\n        end.column--;\n\n        return Range.fromPoints(start, end);\n      };\n    }.call(FoldMode.prototype));\n  }\n);\n\nace.define(\n  \"ace/theme/textmate\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/dom\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    exports.isDark = false;\n    exports.cssClass = \"ace-tm\";\n    exports.cssText =\n      '.ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;\\\n}\\\n';\n    exports.$id = \"ace/theme/textmate\";\n\n    var dom = require(\"../lib/dom\");\n    dom.importCssString(exports.cssText, exports.cssClass);\n  }\n);\n\nace.define(\n  \"ace/line_widgets\",\n  [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/range\"],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var oop = require(\"./lib/oop\");\n    var dom = require(\"./lib/dom\");\n    var Range = require(\"./range\").Range;\n\n    function LineWidgets(session) {\n      this.session = session;\n      this.session.widgetManager = this;\n      this.session.getRowLength = this.getRowLength;\n      this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n      this.updateOnChange = this.updateOnChange.bind(this);\n      this.renderWidgets = this.renderWidgets.bind(this);\n      this.measureWidgets = this.measureWidgets.bind(this);\n      this.session._changedWidgets = [];\n      this.$onChangeEditor = this.$onChangeEditor.bind(this);\n\n      this.session.on(\"change\", this.updateOnChange);\n      this.session.on(\"changeFold\", this.updateOnFold);\n      this.session.on(\"changeEditor\", this.$onChangeEditor);\n    }\n\n    (function() {\n      this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n          h = (this.lineWidgets[row] && this.lineWidgets[row].rowCount) || 0;\n        else h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n          return 1 + h;\n        } else {\n          return this.$wrapData[row].length + 1 + h;\n        }\n      };\n\n      this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w) {\n          if (w && w.rowCount && !w.hidden) screenRows += w.rowCount;\n        });\n        return screenRows;\n      };\n\n      this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n      };\n\n      this.attach = function(editor) {\n        if (editor && editor.widgetManager && editor.widgetManager != this)\n          editor.widgetManager.detach();\n\n        if (this.editor == editor) return;\n\n        this.detach();\n        this.editor = editor;\n\n        if (editor) {\n          editor.widgetManager = this;\n          editor.renderer.on(\"beforeRender\", this.measureWidgets);\n          editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n      };\n      this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor) return;\n\n        this.editor = null;\n        editor.widgetManager = null;\n\n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets &&\n          lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n              w._inDocument = false;\n              w.el.parentNode.removeChild(w.el);\n            }\n          });\n      };\n\n      this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action) return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n          if (lineWidgets[i]) lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n          if (hide) {\n            if (!lineWidgets[start]) lineWidgets[start] = lineWidgets[end];\n            else lineWidgets[end].hidden = hide;\n          } else {\n            if (lineWidgets[start] == lineWidgets[end])\n              lineWidgets[start] = undefined;\n            lineWidgets[end].hidden = hide;\n          }\n        }\n      };\n\n      this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n          var removed = lineWidgets.splice(startRow + 1, len);\n          removed.forEach(function(w) {\n            w && this.removeLineWidget(w);\n          }, this);\n          this.$updateRows();\n        } else {\n          var args = new Array(len);\n          args.unshift(startRow, 0);\n          lineWidgets.splice.apply(lineWidgets, args);\n          this.$updateRows();\n        }\n      };\n\n      this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n          if (w) {\n            noWidgets = false;\n            w.row = i;\n            while (w.$oldWidget) {\n              w.$oldWidget.row = i;\n              w = w.$oldWidget;\n            }\n          }\n        });\n        if (noWidgets) this.session.lineWidgets = null;\n      };\n\n      this.addLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n          this.session.lineWidgets = new Array(this.session.getLength());\n\n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n          w.$oldWidget = old;\n          if (old.el && old.el.parentNode) {\n            old.el.parentNode.removeChild(old.el);\n            old._inDocument = false;\n          }\n        }\n\n        this.session.lineWidgets[w.row] = w;\n\n        w.session = this.session;\n\n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n          w.el = dom.createElement(\"div\");\n          w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n          dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n          w.el.style.position = \"absolute\";\n          w.el.style.zIndex = 5;\n          renderer.container.appendChild(w.el);\n          w._inDocument = true;\n        }\n\n        if (!w.coverGutter) {\n          w.el.style.zIndex = 3;\n        }\n        if (w.pixelHeight == null) {\n          w.pixelHeight = w.el.offsetHeight;\n        }\n        if (w.rowCount == null) {\n          w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n\n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n          var lineWidgets = this.session.lineWidgets;\n          if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n            lineWidgets[fold.start.row] = w;\n          else w.hidden = true;\n        }\n\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n\n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n      };\n\n      this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode) w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy)\n          try {\n            w.editor.destroy();\n          } catch (e) {}\n        if (this.session.lineWidgets) {\n          var w1 = this.session.lineWidgets[w.row];\n          if (w1 == w) {\n            this.session.lineWidgets[w.row] = w.$oldWidget;\n            if (w.$oldWidget) this.onWidgetChanged(w.$oldWidget);\n          } else {\n            while (w1) {\n              if (w1.$oldWidget == w) {\n                w1.$oldWidget = w.$oldWidget;\n                break;\n              }\n              w1 = w1.$oldWidget;\n            }\n          }\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n      };\n\n      this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n          list.push(w);\n          w = w.$oldWidget;\n        }\n        return list;\n      };\n\n      this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n      };\n\n      this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n\n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n          var w = changedWidgets[i];\n          if (!w || !w.el) continue;\n          if (w.session != this.session) continue;\n          if (!w._inDocument) {\n            if (this.session.lineWidgets[w.row] != w) continue;\n            w._inDocument = true;\n            renderer.container.appendChild(w.el);\n          }\n\n          w.h = w.el.offsetHeight;\n\n          if (!w.fixedWidth) {\n            w.w = w.el.offsetWidth;\n            w.screenWidth = Math.ceil(w.w / config.characterWidth);\n          }\n\n          var rowCount = w.h / config.lineHeight;\n          if (w.coverLine) {\n            rowCount -= this.session.getRowLineCount(w.row);\n            if (rowCount < 0) rowCount = 0;\n          }\n          if (w.rowCount != rowCount) {\n            w.rowCount = rowCount;\n            if (w.row < min) min = w.row;\n          }\n        }\n        if (min != Infinity) {\n          this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n          this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n      };\n\n      this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n\n        while (first > 0 && !lineWidgets[first]) first--;\n\n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n          var w = lineWidgets[i];\n          if (!w || !w.el) continue;\n          if (w.hidden) {\n            w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n            continue;\n          }\n          if (!w._inDocument) {\n            w._inDocument = true;\n            renderer.container.appendChild(w.el);\n          }\n          var top = renderer.$cursorLayer.getPixelPosition(\n            { row: i, column: 0 },\n            true\n          ).top;\n          if (!w.coverLine)\n            top += config.lineHeight * this.session.getRowLineCount(w.row);\n          w.el.style.top = top - config.offset + \"px\";\n\n          var left = w.coverGutter ? 0 : renderer.gutterWidth;\n          if (!w.fixedWidth) left -= renderer.scrollLeft;\n          w.el.style.left = left + \"px\";\n\n          if (w.fullWidth && w.screenWidth) {\n            w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n          }\n\n          if (w.fixedWidth) {\n            w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n          } else {\n            w.el.style.right = \"\";\n          }\n        }\n      };\n    }.call(LineWidgets.prototype));\n\n    exports.LineWidgets = LineWidgets;\n  }\n);\n\nace.define(\n  \"ace/ext/error_marker\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/line_widgets\",\n    \"ace/lib/dom\",\n    \"ace/range\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n    var LineWidgets = require(\"../line_widgets\").LineWidgets;\n    var dom = require(\"../lib/dom\");\n    var Range = require(\"../range\").Range;\n\n    function binarySearch(array, needle, comparator) {\n      var first = 0;\n      var last = array.length - 1;\n\n      while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0) first = mid + 1;\n        else if (c < 0) last = mid - 1;\n        else return mid;\n      }\n      return -(first + 1);\n    }\n\n    function findAnnotations(session, row, dir) {\n      var annotations = session.getAnnotations().sort(Range.comparePoints);\n      if (!annotations.length) return;\n\n      var i = binarySearch(\n        annotations,\n        { row: row, column: -1 },\n        Range.comparePoints\n      );\n      if (i < 0) i = -i - 1;\n\n      if (i >= annotations.length) i = dir > 0 ? 0 : annotations.length - 1;\n      else if (i === 0 && dir < 0) i = annotations.length - 1;\n\n      var annotation = annotations[i];\n      if (!annotation || !dir) return;\n\n      if (annotation.row === row) {\n        do {\n          annotation = annotations[(i += dir)];\n        } while (annotation && annotation.row === row);\n        if (!annotation) return annotations.slice();\n      }\n\n      var matched = [];\n      row = annotation.row;\n      do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[(i += dir)];\n      } while (annotation && annotation.row == row);\n      return matched.length && matched;\n    }\n\n    exports.showErrorMarker = function(editor, dir) {\n      var session = editor.session;\n      if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n      }\n\n      var pos = editor.getCursorPosition();\n      var row = pos.row;\n      var oldWidget = session.widgetManager\n        .getWidgetsAtRow(row)\n        .filter(function(w) {\n          return w.type == \"errorMarker\";\n        })[0];\n      if (oldWidget) {\n        oldWidget.destroy();\n      } else {\n        row -= dir;\n      }\n      var annotations = findAnnotations(session, row, dir);\n      var gutterAnno;\n      if (annotations) {\n        var annotation = annotations[0];\n        pos.column =\n          (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n      } else if (oldWidget) {\n        return;\n      } else {\n        gutterAnno = {\n          text: [\"Looks good!\"],\n          className: \"ace_ok\"\n        };\n      }\n      editor.session.unfold(pos.row);\n      editor.selection.moveToPosition(pos);\n\n      var w = {\n        row: pos.row,\n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n      };\n      var el = w.el.appendChild(dom.createElement(\"div\"));\n      var arrow = w.el.appendChild(dom.createElement(\"div\"));\n      arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n\n      var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;\n      arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n\n      w.el.className = \"error_widget_wrapper\";\n      el.className = \"error_widget \" + gutterAnno.className;\n      el.innerHTML = gutterAnno.text.join(\"<br>\");\n\n      el.appendChild(dom.createElement(\"div\"));\n\n      var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n          w.destroy();\n          return { command: \"null\" };\n        }\n      };\n\n      w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed) return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n      };\n\n      editor.keyBinding.addKeyboardHandler(kb);\n      editor.on(\"changeSelection\", w.destroy);\n      editor.on(\"changeSession\", w.destroy);\n      editor.on(\"mouseup\", w.destroy);\n      editor.on(\"change\", w.destroy);\n\n      editor.session.widgetManager.addLineWidget(w);\n\n      w.el.onmousedown = editor.focus.bind(editor);\n\n      editor.renderer.scrollCursorIntoView(null, 0.5, {\n        bottom: w.el.offsetHeight\n      });\n    };\n\n    dom.importCssString(\n      \"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\",\n      \"\"\n    );\n  }\n);\n\nace.define(\n  \"ace/ace\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/fixoldbrowsers\",\n    \"ace/lib/dom\",\n    \"ace/lib/event\",\n    \"ace/range\",\n    \"ace/editor\",\n    \"ace/edit_session\",\n    \"ace/undomanager\",\n    \"ace/virtual_renderer\",\n    \"ace/worker/worker_client\",\n    \"ace/keyboard/hash_handler\",\n    \"ace/placeholder\",\n    \"ace/multi_select\",\n    \"ace/mode/folding/fold_mode\",\n    \"ace/theme/textmate\",\n    \"ace/ext/error_marker\",\n    \"ace/config\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    require(\"./lib/fixoldbrowsers\");\n\n    var dom = require(\"./lib/dom\");\n    var event = require(\"./lib/event\");\n\n    var Range = require(\"./range\").Range;\n    var Editor = require(\"./editor\").Editor;\n    var EditSession = require(\"./edit_session\").EditSession;\n    var UndoManager = require(\"./undomanager\").UndoManager;\n    var Renderer = require(\"./virtual_renderer\").VirtualRenderer;\n    require(\"./worker/worker_client\");\n    require(\"./keyboard/hash_handler\");\n    require(\"./placeholder\");\n    require(\"./multi_select\");\n    require(\"./mode/folding/fold_mode\");\n    require(\"./theme/textmate\");\n    require(\"./ext/error_marker\");\n\n    exports.config = require(\"./config\");\n    exports.require = require;\n\n    if (typeof define === \"function\") exports.define = define;\n    exports.edit = function(el, options) {\n      if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el) throw new Error(\"ace.edit can't find div #\" + _id);\n      }\n\n      if (el && el.env && el.env.editor instanceof Editor) return el.env.editor;\n\n      var value = \"\";\n      if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n      } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n      }\n\n      var doc = exports.createEditSession(value);\n\n      var editor = new Editor(new Renderer(el), doc, options);\n\n      var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n      };\n      if (oldNode) env.textarea = oldNode;\n      event.addListener(window, \"resize\", env.onResize);\n      editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n      });\n      editor.container.env = editor.env = env;\n      return editor;\n    };\n    exports.createEditSession = function(text, mode) {\n      var doc = new EditSession(text, mode);\n      doc.setUndoManager(new UndoManager());\n      return doc;\n    };\n    exports.Range = Range;\n    exports.EditSession = EditSession;\n    exports.UndoManager = UndoManager;\n    exports.VirtualRenderer = Renderer;\n    exports.version = \"1.4.1\";\n  }\n);\n(function() {\n  ace.require([\"ace/ace\"], function(a) {\n    if (a) {\n      a.config.init(true);\n      a.define = ace.define;\n    }\n    if (!window.ace) window.ace = a;\n    for (var key in a) if (a.hasOwnProperty(key)) window.ace[key] = a[key];\n    window.ace[\"default\"] = window.ace;\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = window.ace;\n    }\n  });\n})();\n","ace.define(\n  \"ace/ext/searchbox\",\n  [\n    \"require\",\n    \"exports\",\n    \"module\",\n    \"ace/lib/dom\",\n    \"ace/lib/lang\",\n    \"ace/lib/event\",\n    \"ace/keyboard/hash_handler\",\n    \"ace/lib/keys\"\n  ],\n  function(require, exports, module) {\n    \"use strict\";\n\n    var dom = require(\"../lib/dom\");\n    var lang = require(\"../lib/lang\");\n    var event = require(\"../lib/event\");\n    var searchboxCss =\n      '.ace_search {\\\nbackground-color: #ddd;\\\ncolor: #666;\\\nborder: 1px solid #cbcbcb;\\\nborder-top: 0 none;\\\noverflow: hidden;\\\nmargin: 0;\\\npadding: 4px 6px 0 4px;\\\nposition: absolute;\\\ntop: 0;\\\nz-index: 99;\\\nwhite-space: normal;\\\n}\\\n.ace_search.left {\\\nborder-left: 0 none;\\\nborder-radius: 0px 0px 5px 0px;\\\nleft: 0;\\\n}\\\n.ace_search.right {\\\nborder-radius: 0px 0px 0px 5px;\\\nborder-right: 0 none;\\\nright: 0;\\\n}\\\n.ace_search_form, .ace_replace_form {\\\nmargin: 0 20px 4px 0;\\\noverflow: hidden;\\\nline-height: 1.9;\\\n}\\\n.ace_replace_form {\\\nmargin-right: 0;\\\n}\\\n.ace_search_form.ace_nomatch {\\\noutline: 1px solid red;\\\n}\\\n.ace_search_field {\\\nborder-radius: 3px 0 0 3px;\\\nbackground-color: white;\\\ncolor: black;\\\nborder: 1px solid #cbcbcb;\\\nborder-right: 0 none;\\\noutline: 0;\\\npadding: 0;\\\nfont-size: inherit;\\\nmargin: 0;\\\nline-height: inherit;\\\npadding: 0 6px;\\\nmin-width: 272px;\\\nvertical-align: top;\\\nmin-height: 28.8px;\\\nbox-sizing: content-box;\\\n}\\\n.ace_searchbtn {\\\nborder: 1px solid #cbcbcb;\\\nline-height: inherit;\\\ndisplay: inline-block;\\\npadding: 0 6px;\\\nbackground: #fff;\\\nborder-right: 0 none;\\\nborder-left: 1px solid #dcdcdc;\\\ncursor: pointer;\\\nmargin: 0;\\\nposition: relative;\\\ncolor: #666;\\\n}\\\n.ace_searchbtn:last-child {\\\nborder-radius: 0 3px 3px 0;\\\nborder-right: 1px solid #cbcbcb;\\\n}\\\n.ace_searchbtn:disabled {\\\nbackground: none;\\\ncursor: default;\\\n}\\\n.ace_searchbtn:hover {\\\nbackground-color: #eef1f6;\\\n}\\\n.ace_searchbtn.prev, .ace_searchbtn.next {\\\npadding: 0px 11.2px\\\n}\\\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\\\ncontent: \"\";\\\nborder: solid 2px #888;\\\nwidth: 8px;\\\nheight: 8px;\\\nborder-width:  2px 0 0 2px;\\\ndisplay:inline-block;\\\ntransform: rotate(-45deg);\\\n}\\\n.ace_searchbtn.next:after {\\\nborder-width: 0 2px 2px 0 ;\\\n}\\\n.ace_searchbtn_close {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\\\nborder-radius: 50%;\\\nborder: 0 none;\\\ncolor: #656565;\\\ncursor: pointer;\\\nfont: 16px/16px Arial;\\\npadding: 0;\\\nheight: 14px;\\\nwidth: 14px;\\\ntop: 9px;\\\nright: 7px;\\\nposition: absolute;\\\n}\\\n.ace_searchbtn_close:hover {\\\nbackground-color: #656565;\\\nbackground-position: 50% 100%;\\\ncolor: white;\\\n}\\\n.ace_button {\\\nmargin-left: 2px;\\\ncursor: pointer;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\noverflow: hidden;\\\nopacity: 0.7;\\\nborder: 1px solid rgba(100,100,100,0.23);\\\npadding: 1px;\\\nbox-sizing:    border-box!important;\\\ncolor: black;\\\n}\\\n.ace_button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_button.checked {\\\nborder-color: #3399ff;\\\nopacity:1;\\\n}\\\n.ace_search_options{\\\nmargin-bottom: 3px;\\\ntext-align: right;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\nclear: both;\\\n}\\\n.ace_search_counter {\\\nfloat: left;\\\nfont-family: arial;\\\npadding: 0 8px;\\\n}';\n    var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n    var keyUtil = require(\"../lib/keys\");\n\n    var MAX_COUNT = 999;\n\n    dom.importCssString(searchboxCss, \"ace_searchbox\");\n\n    var html = '<div class=\"ace_search right\">\\\n    <span action=\"hide\" class=\"ace_searchbtn_close\"></span>\\\n    <div class=\"ace_search_form\">\\\n        <input class=\"ace_search_field\" placeholder=\"Search for\" spellcheck=\"false\"></input>\\\n        <span action=\"findPrev\" class=\"ace_searchbtn prev\"></span>\\\n        <span action=\"findNext\" class=\"ace_searchbtn next\"></span>\\\n        <span action=\"findAll\" class=\"ace_searchbtn\" title=\"Alt-Enter\">All</span>\\\n    </div>\\\n    <div class=\"ace_replace_form\">\\\n        <input class=\"ace_search_field\" placeholder=\"Replace with\" spellcheck=\"false\"></input>\\\n        <span action=\"replaceAndFindNext\" class=\"ace_searchbtn\">Replace</span>\\\n        <span action=\"replaceAll\" class=\"ace_searchbtn\">All</span>\\\n    </div>\\\n    <div class=\"ace_search_options\">\\\n        <span action=\"toggleReplace\" class=\"ace_button\" title=\"Toggle Replace mode\"\\\n            style=\"float:left;margin-top:-2px;padding:0 5px;\">+</span>\\\n        <span class=\"ace_search_counter\"></span>\\\n        <span action=\"toggleRegexpMode\" class=\"ace_button\" title=\"RegExp Search\">.*</span>\\\n        <span action=\"toggleCaseSensitive\" class=\"ace_button\" title=\"CaseSensitive Search\">Aa</span>\\\n        <span action=\"toggleWholeWords\" class=\"ace_button\" title=\"Whole Word Search\">\\\\b</span>\\\n        <span action=\"searchInSelection\" class=\"ace_button\" title=\"Search In Selection\">S</span>\\\n    </div>\\\n</div>'.replace(\n      /> +/g,\n      \">\"\n    );\n\n    var SearchBox = function(editor, range, showReplaceForm) {\n      var div = dom.createElement(\"div\");\n      div.innerHTML = html;\n      this.element = div.firstChild;\n\n      this.setSession = this.setSession.bind(this);\n\n      this.$init();\n      this.setEditor(editor);\n      dom.importCssString(searchboxCss, \"ace_searchbox\", editor.container);\n    };\n\n    (function() {\n      this.setEditor = function(editor) {\n        editor.searchBox = this;\n        editor.renderer.scroller.appendChild(this.element);\n        this.editor = editor;\n      };\n\n      this.setSession = function(e) {\n        this.searchRange = null;\n        this.$syncOptions(true);\n      };\n\n      this.$initElements = function(sb) {\n        this.searchBox = sb.querySelector(\".ace_search_form\");\n        this.replaceBox = sb.querySelector(\".ace_replace_form\");\n        this.searchOption = sb.querySelector(\"[action=searchInSelection]\");\n        this.replaceOption = sb.querySelector(\"[action=toggleReplace]\");\n        this.regExpOption = sb.querySelector(\"[action=toggleRegexpMode]\");\n        this.caseSensitiveOption = sb.querySelector(\n          \"[action=toggleCaseSensitive]\"\n        );\n        this.wholeWordOption = sb.querySelector(\"[action=toggleWholeWords]\");\n        this.searchInput = this.searchBox.querySelector(\".ace_search_field\");\n        this.replaceInput = this.replaceBox.querySelector(\".ace_search_field\");\n        this.searchCounter = sb.querySelector(\".ace_search_counter\");\n      };\n\n      this.$init = function() {\n        var sb = this.element;\n\n        this.$initElements(sb);\n\n        var _this = this;\n        event.addListener(sb, \"mousedown\", function(e) {\n          setTimeout(function() {\n            _this.activeInput.focus();\n          }, 0);\n          event.stopPropagation(e);\n        });\n        event.addListener(sb, \"click\", function(e) {\n          var t = e.target || e.srcElement;\n          var action = t.getAttribute(\"action\");\n          if (action && _this[action]) _this[action]();\n          else if (_this.$searchBarKb.commands[action])\n            _this.$searchBarKb.commands[action].exec(_this);\n          event.stopPropagation(e);\n        });\n\n        event.addCommandKeyListener(sb, function(e, hashId, keyCode) {\n          var keyString = keyUtil.keyCodeToString(keyCode);\n          var command = _this.$searchBarKb.findKeyCommand(hashId, keyString);\n          if (command && command.exec) {\n            command.exec(_this);\n            event.stopEvent(e);\n          }\n        });\n\n        this.$onChange = lang.delayedCall(function() {\n          _this.find(false, false);\n        });\n\n        event.addListener(this.searchInput, \"input\", function() {\n          _this.$onChange.schedule(20);\n        });\n        event.addListener(this.searchInput, \"focus\", function() {\n          _this.activeInput = _this.searchInput;\n          _this.searchInput.value && _this.highlight();\n        });\n        event.addListener(this.replaceInput, \"focus\", function() {\n          _this.activeInput = _this.replaceInput;\n          _this.searchInput.value && _this.highlight();\n        });\n      };\n      this.$closeSearchBarKb = new HashHandler([\n        {\n          bindKey: \"Esc\",\n          name: \"closeSearchBar\",\n          exec: function(editor) {\n            editor.searchBox.hide();\n          }\n        }\n      ]);\n      this.$searchBarKb = new HashHandler();\n      this.$searchBarKb.bindKeys({\n        \"Ctrl-f|Command-f\": function(sb) {\n          var isReplace = (sb.isReplace = !sb.isReplace);\n          sb.replaceBox.style.display = isReplace ? \"\" : \"none\";\n          sb.replaceOption.checked = false;\n          sb.$syncOptions();\n          sb.searchInput.focus();\n        },\n        \"Ctrl-H|Command-Option-F\": function(sb) {\n          sb.replaceOption.checked = true;\n          sb.$syncOptions();\n          sb.replaceInput.focus();\n        },\n        \"Ctrl-G|Command-G\": function(sb) {\n          sb.findNext();\n        },\n        \"Ctrl-Shift-G|Command-Shift-G\": function(sb) {\n          sb.findPrev();\n        },\n        esc: function(sb) {\n          setTimeout(function() {\n            sb.hide();\n          });\n        },\n        Return: function(sb) {\n          if (sb.activeInput == sb.replaceInput) sb.replace();\n          sb.findNext();\n        },\n        \"Shift-Return\": function(sb) {\n          if (sb.activeInput == sb.replaceInput) sb.replace();\n          sb.findPrev();\n        },\n        \"Alt-Return\": function(sb) {\n          if (sb.activeInput == sb.replaceInput) sb.replaceAll();\n          sb.findAll();\n        },\n        Tab: function(sb) {\n          (sb.activeInput == sb.replaceInput\n            ? sb.searchInput\n            : sb.replaceInput\n          ).focus();\n        }\n      });\n\n      this.$searchBarKb.addCommands([\n        {\n          name: \"toggleRegexpMode\",\n          bindKey: { win: \"Alt-R|Alt-/\", mac: \"Ctrl-Alt-R|Ctrl-Alt-/\" },\n          exec: function(sb) {\n            sb.regExpOption.checked = !sb.regExpOption.checked;\n            sb.$syncOptions();\n          }\n        },\n        {\n          name: \"toggleCaseSensitive\",\n          bindKey: { win: \"Alt-C|Alt-I\", mac: \"Ctrl-Alt-R|Ctrl-Alt-I\" },\n          exec: function(sb) {\n            sb.caseSensitiveOption.checked = !sb.caseSensitiveOption.checked;\n            sb.$syncOptions();\n          }\n        },\n        {\n          name: \"toggleWholeWords\",\n          bindKey: { win: \"Alt-B|Alt-W\", mac: \"Ctrl-Alt-B|Ctrl-Alt-W\" },\n          exec: function(sb) {\n            sb.wholeWordOption.checked = !sb.wholeWordOption.checked;\n            sb.$syncOptions();\n          }\n        },\n        {\n          name: \"toggleReplace\",\n          exec: function(sb) {\n            sb.replaceOption.checked = !sb.replaceOption.checked;\n            sb.$syncOptions();\n          }\n        },\n        {\n          name: \"searchInSelection\",\n          exec: function(sb) {\n            sb.searchOption.checked = !sb.searchRange;\n            sb.setSearchRange(\n              sb.searchOption.checked && sb.editor.getSelectionRange()\n            );\n            sb.$syncOptions();\n          }\n        }\n      ]);\n\n      this.setSearchRange = function(range) {\n        this.searchRange = range;\n        if (range) {\n          this.searchRangeMarker = this.editor.session.addMarker(\n            range,\n            \"ace_active-line\"\n          );\n        } else if (this.searchRangeMarker) {\n          this.editor.session.removeMarker(this.searchRangeMarker);\n          this.searchRangeMarker = null;\n        }\n      };\n\n      this.$syncOptions = function(preventScroll) {\n        dom.setCssClass(this.replaceOption, \"checked\", this.searchRange);\n        dom.setCssClass(\n          this.searchOption,\n          \"checked\",\n          this.searchOption.checked\n        );\n        this.replaceOption.textContent = this.replaceOption.checked ? \"-\" : \"+\";\n        dom.setCssClass(\n          this.regExpOption,\n          \"checked\",\n          this.regExpOption.checked\n        );\n        dom.setCssClass(\n          this.wholeWordOption,\n          \"checked\",\n          this.wholeWordOption.checked\n        );\n        dom.setCssClass(\n          this.caseSensitiveOption,\n          \"checked\",\n          this.caseSensitiveOption.checked\n        );\n        this.replaceBox.style.display = this.replaceOption.checked\n          ? \"\"\n          : \"none\";\n        this.find(false, false, preventScroll);\n      };\n\n      this.highlight = function(re) {\n        this.editor.session.highlight(re || this.editor.$search.$options.re);\n        this.editor.renderer.updateBackMarkers();\n      };\n      this.find = function(skipCurrent, backwards, preventScroll) {\n        var range = this.editor.find(this.searchInput.value, {\n          skipCurrent: skipCurrent,\n          backwards: backwards,\n          wrap: true,\n          regExp: this.regExpOption.checked,\n          caseSensitive: this.caseSensitiveOption.checked,\n          wholeWord: this.wholeWordOption.checked,\n          preventScroll: preventScroll,\n          range: this.searchRange\n        });\n        var noMatch = !range && this.searchInput.value;\n        dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n        this.editor._emit(\"findSearchBox\", { match: !noMatch });\n        this.highlight();\n        this.updateCounter();\n      };\n      this.updateCounter = function() {\n        var editor = this.editor;\n        var regex = editor.$search.$options.re;\n        var all = 0;\n        var before = 0;\n        if (regex) {\n          var value = this.searchRange\n            ? editor.session.getTextRange(this.searchRange)\n            : editor.getValue();\n\n          var offset = editor.session.doc.positionToIndex(\n            editor.selection.anchor\n          );\n          if (this.searchRange)\n            offset -= editor.session.doc.positionToIndex(\n              this.searchRange.start\n            );\n\n          var last = (regex.lastIndex = 0);\n          var m;\n          while ((m = regex.exec(value))) {\n            all++;\n            last = m.index;\n            if (last <= offset) before++;\n            if (all > MAX_COUNT) break;\n            if (!m[0]) {\n              regex.lastIndex = last += 1;\n              if (last >= value.length) break;\n            }\n          }\n        }\n        this.searchCounter.textContent =\n          before + \" of \" + (all > MAX_COUNT ? MAX_COUNT + \"+\" : all);\n      };\n      this.findNext = function() {\n        this.find(true, false);\n      };\n      this.findPrev = function() {\n        this.find(true, true);\n      };\n      this.findAll = function() {\n        var range = this.editor.findAll(this.searchInput.value, {\n          regExp: this.regExpOption.checked,\n          caseSensitive: this.caseSensitiveOption.checked,\n          wholeWord: this.wholeWordOption.checked\n        });\n        var noMatch = !range && this.searchInput.value;\n        dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n        this.editor._emit(\"findSearchBox\", { match: !noMatch });\n        this.highlight();\n        this.hide();\n      };\n      this.replace = function() {\n        if (!this.editor.getReadOnly())\n          this.editor.replace(this.replaceInput.value);\n      };\n      this.replaceAndFindNext = function() {\n        if (!this.editor.getReadOnly()) {\n          this.editor.replace(this.replaceInput.value);\n          this.findNext();\n        }\n      };\n      this.replaceAll = function() {\n        if (!this.editor.getReadOnly())\n          this.editor.replaceAll(this.replaceInput.value);\n      };\n\n      this.hide = function() {\n        this.active = false;\n        this.setSearchRange(null);\n        this.editor.off(\"changeSession\", this.setSession);\n\n        this.element.style.display = \"none\";\n        this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);\n        this.editor.focus();\n      };\n      this.show = function(value, isReplace) {\n        this.active = true;\n        this.editor.on(\"changeSession\", this.setSession);\n        this.element.style.display = \"\";\n        this.replaceOption.checked = isReplace;\n\n        if (value) this.searchInput.value = value;\n\n        this.searchInput.focus();\n        this.searchInput.select();\n\n        this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);\n\n        this.$syncOptions(true);\n      };\n\n      this.isFocused = function() {\n        var el = document.activeElement;\n        return el == this.searchInput || el == this.replaceInput;\n      };\n    }.call(SearchBox.prototype));\n\n    exports.SearchBox = SearchBox;\n\n    exports.Search = function(editor, isReplace) {\n      var sb = editor.searchBox || new SearchBox(editor);\n      sb.show(editor.session.getTextRange(), isReplace);\n    };\n  }\n);\n(function() {\n  ace.require([\"ace/ext/searchbox\"], function(m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();\n","import \"./ace-builds/src-noconflict/ace.js\";\nimport \"./ace-builds/src-noconflict/ext-searchbox.js\";\nimport { pathFromUrl } from \"@polymer/polymer/lib/utils/resolve-url.js\";\n\n// Creates an object based in the HTML Element prototype\nclass LRNAceEditor extends HTMLElement {\n  // getter/setter for value property\n  get value() {\n    return (this.editor && this.editor.getValue()) || this.textContent;\n  }\n  set value(val) {\n    if (this.editor) {\n      this.editor.setValue(val, 1);\n    } else {\n      this.textContent = val;\n    }\n  }\n  // list of observable attributes\n  static get observedAttributes() {\n    return [\n      \"theme\",\n      \"mode\",\n      \"fontsize\",\n      \"softtabs\",\n      \"tabsize\",\n      \"readonly\",\n      \"wrapmode\"\n    ];\n  }\n\n  // Fires when an instance of the element is created\n  constructor(self) {\n    // Polyfill ceveat we need to fetch the right context;\n    // https://github.com/WebReflection/document-register-element/tree/master#v1-caveat\n    self = super(self);\n    // Creates the shadow root\n    var shadowRoot;\n    if (self.attachShadow && self.getRootNode) {\n      shadowRoot = self.attachShadow({ mode: \"open\" });\n    } else {\n      shadowRoot = self.createShadowRoot();\n    }\n    shadowRoot.innerHTML = `\n            <style>\n                :host{\n                    display: flex;\n                    min-height: 16px;\n                    flex-direction: column;\n                }\n                #juicy-ace-editor-container{\n                    flex: 1;\n                    height: 100%;\n                }\n            </style>\n            <div id=\"juicy-ace-editor-container\"></div>\n        `;\n    // getElementById may not be polyfilled yet\n    self.container = shadowRoot.querySelector(\"#juicy-ace-editor-container\");\n    return self;\n  }\n  connectedCallback() {\n    var text = this.childNodes[0];\n    var container = this.container;\n    var element = this;\n    var editor;\n\n    if (this.editor) {\n      editor = this.editor;\n    } else {\n      // container.appendChild(text);\n      container.textContent = this.value;\n      let basePath = pathFromUrl(import.meta.url);\n      ace.config.set(\"basePath\", `${basePath}ace-builds/src-min-noconflict`);\n      editor = ace.edit(container);\n      this.dispatchEvent(\n        new CustomEvent(\"editor-ready\", {\n          bubbles: true,\n          composed: true,\n          detail: editor\n        })\n      );\n      this.editor = editor;\n\n      // inject base editor styles\n      this.injectTheme(\"#ace_editor\\\\.css\");\n      this.injectTheme(\"#ace-tm\");\n      this.injectTheme(\"#ace_searchbox\");\n\n      editor.getSession().on(\"change\", function(event) {\n        element.dispatchEvent(\n          new CustomEvent(\"change\", {\n            bubbles: true,\n            composed: true,\n            detail: event\n          })\n        );\n      });\n    }\n\n    // handle theme changes\n    editor.renderer.addEventListener(\n      \"themeLoaded\",\n      this.onThemeLoaded.bind(this)\n    );\n\n    // initial attributes\n    editor.setTheme(this.getAttribute(\"theme\"));\n    editor.setFontSize(parseInt(this.getAttribute(\"fontsize\")) || 12);\n    editor.setReadOnly(this.hasAttribute(\"readonly\"));\n    var session = editor.getSession();\n    session.setMode(this.getAttribute(\"mode\"));\n    session.setUseSoftTabs(this.getAttribute(\"softtabs\"));\n    this.getAttribute(\"tabsize\") &&\n      session.setTabSize(this.getAttribute(\"tabsize\"));\n    session.setUseWrapMode(this.hasAttribute(\"wrapmode\"));\n\n    // Observe input textNode changes\n    // Could be buggy as editor was also added to Light DOM;\n    var observer = new MutationObserver(function(mutations) {\n      mutations.forEach(function(mutation) {\n        // console.log(\"observation\", mutation.type, arguments, mutations, editor, text);\n        if (mutation.type == \"characterData\") {\n          element.value = text.data;\n        }\n      });\n    });\n    text && observer.observe(text, { characterData: true });\n    // container.appendChild(text);\n    this._attached = true;\n  }\n  disconnectedCallback() {\n    this._attached = false;\n  }\n  attributeChangedCallback(attr, oldVal, newVal) {\n    if (!this._attached) {\n      return false;\n    }\n    switch (attr) {\n      case \"theme\":\n        this.editor.setTheme(newVal);\n        break;\n      case \"mode\":\n        this.editor.getSession().setMode(newVal);\n        break;\n      case \"fontsize\":\n        this.editor.setFontSize(newVal);\n        break;\n      case \"softtabs\":\n        this.editor.getSession().setUseSoftTabs(newVal);\n        break;\n      case \"tabsize\":\n        this.editor.getSession().setTabSize(newVal);\n        break;\n      case \"readonly\":\n        this.editor.setReadOnly(newVal === \"\" || newVal);\n        break;\n      case \"wrapmode\":\n        this.editor.getSession().setUseWrapMode(newVal !== null);\n        break;\n    }\n  }\n  onThemeLoaded(e) {\n    var themeId = \"#\" + e.theme.cssClass;\n    this.injectTheme(themeId);\n    // Workaround Chrome stable bug, force repaint\n    this.container.style.display = \"none\";\n    this.container.offsetHeight;\n    this.container.style.display = \"\";\n  }\n  injectTheme(themeId) {\n    var n = document.querySelector(themeId);\n    this.shadowRoot.appendChild(cloneStyle(n));\n  }\n}\n\n//helper function to clone a style\nfunction cloneStyle(style) {\n  var s = document.createElement(\"style\");\n  s.id = style.id;\n  s.textContent = style.textContent;\n  return s;\n}\n\nwindow.customElements.define(\"juicy-ace-editor\", LRNAceEditor);\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\n/**\n`code-pen-button`\nA LRN element to do a post of data to codepen\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <form action=\"[[endPoint]]\" method=\"POST\" target=\"_blank\">\n      <input type=\"hidden\" name=\"data\" value\\$=\"[[dataString]]\" />\n      <input\n        type=\"image\"\n        src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-1/cp-arrow-right.svg\"\n        width=\"40\"\n        height=\"40\"\n        value=\"Create New Pen with Prefilled Data\"\n        class=\"codepen-mover-button\"\n      />\n    </form>\n  `,\n\n  is: \"code-pen-button\",\n\n  properties: {\n    /**\n     * End point for posting should it change in the future.\n     */\n    endPoint: {\n      type: String,\n      value: \"https://codepen.io/pen/define\"\n    },\n    /**\n     * Data object as a JSON string for the POST data in page.\n     */\n    dataString: {\n      type: String,\n      computed: \"_getDataString(data)\"\n    },\n    /**\n     * Data object to post to code pen\n     */\n    data: {\n      type: Object,\n      value: {}\n    }\n  },\n\n  /**\n   * Return string from data object so it can be posted correctly.\n   */\n  _getDataString: function(data) {\n    return JSON.stringify(data)\n      .replace(/\"/g, \"&quot;\")\n      .replace(/'/g, \"&apos;\");\n  }\n});\n","/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport \"@lrnwebcomponents/materializecss-styles/materializecss-styles.js\";\nimport \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"./lib/juicy-ace-editor.js\";\nimport \"./lib/code-pen-button.js\";\n/**\n`code-editor`\nA LRN element\n\n@demo demo/index.html\n\n@microcopy - the mental model for this element\n -\n -\n\n*/\nlet CodeEditor = Polymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        padding: 16px;\n        --code-pen-button-color: #222222;\n        --code-pen-title-color: #222222;\n      }\n      .code-pen-container {\n        width: 100%;\n        display: block;\n        background-color: var(--code-pen-button-color);\n        height: 40px;\n      }\n      code-pen-button {\n        float: right;\n        height: 40px;\n      }\n      h3 {\n        color: var(--code-pen-title-color);\n      }\n    </style>\n    <h3>[[title]]</h3>\n    <juicy-ace-editor\n      id=\"codeeditor\"\n      theme\\$=\"[[theme]]\"\n      mode\\$=\"[[mode]]\"\n      font-size\\$=\"[[fontSize]]\"\n      readonly\\$=\"[[readOnly]]\"\n    ></juicy-ace-editor>\n    <div class=\"code-pen-container\" hidden\\$=\"[[!showCodePen]]\">\n      <code-pen-button data=\"[[codePenData]]\"></code-pen-button>\n    </div>\n  `,\n\n  is: \"code-editor\",\n\n  behaviors: [\n    HAXBehaviors.PropertiesBehaviors,\n    MaterializeCSSBehaviors.ColorBehaviors,\n    SchemaBehaviors.Schema\n  ],\n\n  listeners: {\n    change: \"_editorDataChanged\",\n    \"editor-ready\": \"_editorReady\"\n  },\n\n  properties: {\n    /**\n     * Title\n     */\n    title: {\n      type: String,\n      value: \"Code sample\"\n    },\n    /**\n     * Show codePen button to fork it to there to run\n     */\n    showCodePen: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    /**\n     * Readonly setting for the editor\n     */\n    readOnly: {\n      type: Boolean,\n      value: true,\n      reflectToAttribute: true\n    },\n    /**\n     * Code pen data, computed based on the HTML editor\n     */\n    codePenData: {\n      type: Object,\n      computed: \"_computeCodePenData(title, editorValue)\"\n    },\n    /**\n     * contents of the editor\n     */\n    editorValue: {\n      type: String,\n      value: \"\",\n      notify: true\n    },\n    /**\n     * Theme for the Ace editor.\n     */\n    theme: {\n      type: String,\n      value: \"ace/theme/monokai\"\n    },\n    /**\n     * Mode for the Ace editor.\n     */\n    mode: {\n      type: String,\n      value: \"ace/mode/html\"\n    },\n    /**\n     * font size for the Ace editor.\n     */\n    fontSize: {\n      type: String,\n      value: \"16px\"\n    },\n    /**\n     * Min lines of the editor to show\n     */\n    minLines: {\n      type: Number,\n      value: 10\n    },\n    /**\n     * Max lines of the editor to show\n     */\n    maxLines: {\n      type: Number,\n      value: 25\n    }\n  },\n\n  /**\n   * Update the post data whenever the editor has been updated\n   */\n  _computeCodePenData: function(title, editorValue) {\n    return {\n      title: title,\n      html: editorValue\n    };\n  },\n\n  /**\n   * Event for when the editor is ready so we can modify it.\n   */\n  _editorReady: function(e) {\n    this.__editorReady = true;\n    setTimeout(() => {\n      this.$.codeeditor.editor.setOptions({\n        maxLines: this.maxLines,\n        minLines: this.minLines\n      });\n      this.updateEditorValue();\n    }, 200);\n  },\n\n  /**\n   * Notice code editor changes and reflect them into this element\n   */\n  _editorDataChanged: function(e) {\n    this.editorValue = this.$.codeeditor.value;\n  },\n\n  /**\n   * Calculate what's in slot currently and then inject it into the editor.\n   */\n  updateEditorValue: function() {\n    let children = this.queryEffectiveChildren(\"template\");\n    if (!children) {\n      console.warn(\n        \"code-editor requires a template to be provided in light-dom\"\n      );\n    } else {\n      this.$.codeeditor.value = children.innerHTML;\n    }\n  },\n\n  /**\n   * Ready state to tee everything up.\n   */\n  ready: function() {\n    // mutation observer that ensures state of hax applied correctly\n    this._observer = new FlattenedNodesObserver(this, info => {\n      // if we've got new nodes, we have to react to that\n      if (info.addedNodes.length > 0) {\n        info.addedNodes.map(node => {\n          this.updateEditorValue();\n        });\n      }\n      // if we dropped nodes via the UI (delete event basically)\n      if (info.removedNodes.length > 0) {\n        // handle removing items... not sure we need to do anything here\n        info.removedNodes.map(node => {\n          this.updateEditorValue();\n        });\n      }\n    });\n  },\n\n  /**\n   * Attached to the DOM, now fire.\n   */\n  attached: function() {\n    // Establish hax property binding\n    let props = {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Code editor\",\n        description: \"Edit code in the browser with minor HTML validation\",\n        icon: \"icons:code\",\n        color: \"blue\",\n        groups: [\"Code\", \"Development\"],\n        handles: [\n          {\n            type: \"code\",\n            code: \"contents\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the element\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"showCodePen\",\n            title: \"Code pen button\",\n            description: \"Play with this on code pen\",\n            inputMethod: \"boolean\",\n            icon: \"icons:code\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the element\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"showCodePen\",\n            title: \"Code pen button\",\n            description: \"Play with this on code pen\",\n            inputMethod: \"boolean\",\n            icon: \"icons:code\"\n          },\n          // this is trippy but actually will work.\n          {\n            slot: \"\",\n            title: \"Code\",\n            description: \"The code to present to the user\",\n            inputMethod: \"code-editor\",\n            icon: \"editor:title\"\n          }\n        ],\n        advanced: []\n      }\n    };\n    this.setHaxProperties(props);\n  }\n});\nexport { CodeEditor };\n"],"names":["global","window","define","module","deps","payload","arguments","length","modules","payloads","original","apply","this","console","error","trace","ns","root","_require","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","require","push","packagedModule","moduleName","normalizeModule","indexOf","chunks","split","charAt","slice","join","previous","replace","exports","mod","id","uri","packaged","ace","x","real","exec","RegExp","test","match","String","compliantExecNpcg","compliantLastIndexIncrement","lastIndex","str","name","r2","regex","array","item","from","Array","source","ignoreCase","multiline","extended","sticky","index","_xregexp","captureNames","Empty","Function","bind","that","target","TypeError","args","bound","result","concat","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","hasOwnProperty","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","splice","makeArray","a","lengthBefore","array_splice","start","deleteCount","pos","removeCount","Math","max","removed","insert","add","remove","min","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","isArray","obj","createEmpty","freezeObject","boxedString","splitString","forEach","fun","object","toObject","self","thisp","map","filter","value","every","some","reduce","reduceRight","sought","toInteger","lastIndexOf","abs","getPrototypeOf","__proto__","constructor","getOwnPropertyDescriptor","property","_typeof","descriptor","enumerable","configurable","getter","setter","get","set","getOwnPropertyNames","keys","create","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","doesDefinePropertyWork","defineProperty","exception","definePropertyWorksOnObject","definePropertyWorksOnDom","document","createElement","definePropertyFallback","seal","freeze","preventExtensions","isSealed","isFrozen","isExtensible","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","key","ii","dontEnum","Date","now","getTime","ws","trim","trimBeginRegexp","trimEndRegexp","n","floor","o","Element","writable","parentNode","removeChild","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","navigator","os","platform","toLowerCase","ua","userAgent","isWin","isIE","appName","parseFloat","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isIPad","isAndroid","isChromeOS","isIOS","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","createTextNode","appendChild","els","ch","el","options","childIndex","val","className","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","cssText","container","getRootNode","style","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","width","minWidth","height","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","round","top","inherits","ctor","superCtor","super_","mixin","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","KEY_MODS","ctrl","alt","option","shift","super","meta","command","cmd","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","-13","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","pressedKeys","ts","addListener","elem","type","addEventListener","attachEvent","wrapper","event","_wrapper","removeListener","removeEventListener","detachEvent","stopEvent","e","stopPropagation","preventDefault","cancelBubble","getButton","ctrlKey","altKey","shiftKey","button","1","2","4","capture","eventHandler","releaseCaptureHandler","onMouseUp","addTouchMoveListener","startx","starty","touchObj","touches","clientX","clientY","wheelX","wheelY","addMouseWheelListener","wheelDeltaX","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","3","onMousedown","isNewClick","clearTimeout","setTimeout","_clicks","onDblclick","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","data","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","row","column","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","stringReverse","string","reverse","stringRepeat","count","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","arrayToMap","createMap","props","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","dom","lang","KEYS","MODS","BROKEN_SETDATA","USE_IE_MIME_TYPE","TextInput","host","text","isTouchPad","opacity","PLACEHOLDER","copied","cut","pasted","inComposition","tempStyle","isSelectionEmpty","isFocused","activeElement","onBlur","onFocus","resetSelection","focus","blur","syncSelection","syncValue","inputHandler","selectionStart","selectionEnd","setSelectionRange","resetValue","selection","setInputHandler","getInputHandler","afterContextMenu","sendText","onPaste","substr","execCommand","substring","onTextInput","onInput","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","closeTimeout","onCompositionUpdate","$readOnly","lastValue","undo","canUndo","r","getRange","markUndoGroup","setRange","clearSelection","onCompositionEnd","c","syncComposition","onContextMenuClose","renderer","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","$undoManager","on","getElement","setReadOnly","readOnly","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","rect","getBoundingClientRect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","up","home","right","down","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","TextInputIOS","sendingText","fontSize","commandMode","ignoreFocusEvents","lastSelectionStart","lastSelectionEnd","cursor","line","getLine","prevLine","nextLine","newValue","$focusScroll","preventScroll","isTransformed","ancestors","t","parentElement","nodeType","removeAttribute","curOp","fromInput","extendLeft","extendRight","inserted","restoreStart","restoreEnd","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","getSelectionRange","msGetInputContext","getInputContext","setCommandMode","setCopyWithEmptySelection","characterWidth","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","onTouchMove","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","destroy","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","_signal","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","isMousePressed","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","AUTOSCROLL_DELAY","SCROLL_CURSOR_DELAY","SCROLL_CURSOR_HYSTERESIS","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","getReadOnly","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","types","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","removeAllListeners","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","message","reportError","msg","Error","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","all","$modes","moduleUrl","component","parts","sep","base","re","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","getAttribute","attributes","j","attr","m","m1","toUpperCase","DefaultGutterHandler","config","MouseHandler","focusEditor","hasFocus","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","selectionChanged","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","commands","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","h","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","RTL","L","R","EN","AN","ON","B","S","AL","WS","CS","ES","ET","NSM","LRE","RLE","PDF","LRO","RLO","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","charCodeAt","ON_R","R_H","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","action","condPos","hasUBAT_AL","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","size","isFullWidth","getScreenTabSize","$main","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectWord","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","splitChar","keywords","list","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","mode","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","rowCount","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","\"","'","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","selected","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","iterator","$matchTokenType","iterator2","bracket","wordChars","code","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","scope","functionName","$delegator","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","pointIndex","excludeEdges","startIndex","endIndex","addList","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","colum","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","$brackets",")","(","]","[","{","}","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","mergeUndoDeltas","$informUndoManager","setUndoManager","getUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","$defaultUndoManager","redo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","getScrollTop","$scrollLeft","setScrollLeft","scrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","w","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","getUseWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","SPACE","TAB","TAB_SPACE","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","modifier","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","findKeyCommand","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","prompt","gotoLine","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","lineMode","defaultCommands","clipboard","Editor","getContainerElement","getTextAreaContainer","textarea","$mouseHandler","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","docChanged","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","cursorPos","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$bracketHighlight","$highlightPending","getMatching","$highlightTags","$highlightTagPending","$tagHighlight","prevToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","updateLines","$updateHighlightActiveLine","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","getBehavioursEnabled","d","lineState","shouldOutdent","lineIndent","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$resetCursorStyle","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","$redoStack","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canRedo","bookmark","isAtBookmark","hasUndo","hasRedo","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","tabClass","spaceContent","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","rparen","lparen","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderSimpleLine","$renderOverflowMessage","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","getPixelPosition","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","_flush","change","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","contentRect","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","k","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","content","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","$composition","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","textToScreenCoordinates","pageX","pageY","keepTextAreaAtCursor","$useTextareaForIME","addToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","topLevelNamespaces","classname","importScripts","$sendDeltaQueue","changeListener","onMessage","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","callbackId","callbacks","onmessage","err","deltaQueue","$doc","emit","ex","attachToDocument","q","UIWorkerClient","messageBuffer","main","emitSync","sender","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","replaceChild","createEditSession","version","searchboxCss","SearchBox","showReplaceForm","setEditor","searchRange","$syncOptions","$initElements","sb","querySelector","replaceBox","searchOption","replaceOption","regExpOption","caseSensitiveOption","wholeWordOption","searchInput","replaceInput","searchCounter","_this","activeInput","$searchBarKb","$closeSearchBarKb","isReplace","checked","findPrev","Return","Tab","setSearchRange","searchRangeMarker","noMatch","updateCounter","MAX_COUNT","replaceAndFindNext","active","LRNAceEditor","shadowRoot","attachShadow","createShadowRoot","HTMLElement","pathFromUrl","dispatchEvent","CustomEvent","bubbles","composed","injectTheme","onThemeLoaded","hasAttribute","observer","MutationObserver","mutations","mutation","characterData","_attached","oldVal","newVal","themeId","customElements","_template","is","dataString","computed","_getDataString","JSON","stringify","CodeEditor","Polymer","behaviors","HAXBehaviors","PropertiesBehaviors","MaterializeCSSBehaviors","ColorBehaviors","SchemaBehaviors","Schema","title","showCodePen","reflectToAttribute","codePenData","editorValue","notify","_computeCodePenData","_editorReady","__editorReady","$","codeeditor","updateEditorValue","_editorDataChanged","queryEffectiveChildren","ready","_observer","FlattenedNodesObserver","info","addedNodes","_this2","removedNodes","attached","setHaxProperties","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","author","settings","quick","inputMethod","configure","slot","advanced"],"mappings":"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AAG,EAAG,GAAM,EAAG,EAAG,GACtB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,GAAM,GAAM,EAAG,EAAG,GACzB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGjBC,EAAa,CACf,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,GAAM,EAAG,EAAG,IAItBC,EAAM,EAEJC,EAAI,EACJC,EAAI,EACJC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAI,EACJC,EAAI,EACJC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,GACLC,EAAK,GACLC,EAAM,GACNC,EAAM,GACNC,EAAM,GACNC,EAAM,GACNC,EAAM,GACNC,EAAM,GACNC,EAAK,GAELC,EAAe,CACjBD,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAZ,EACAD,EACAC,EACAE,EACAH,EACAa,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAb,EACAA,EACAA,EACAC,EACAE,EACAJ,EACAA,EACAO,EACAA,EACAA,EACAP,EACAA,EACAA,EACAA,EACAA,EACAM,EACAD,EACAC,EACAD,EACAA,EACAP,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAO,EACAL,EACAA,EACAA,EACAA,EACAA,EACAA,EACAJ,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAI,EACAA,EACAA,EACAA,EACAA,EACAA,EACAJ,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAI,EACAA,EACAA,EACAA,EACAc,EACAA,EACAA,EACAA,EACAA,EACAA,EACAb,EACAa,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAT,EACAL,EACAO,EACAA,EACAA,EACAA,EACAP,EACAA,EACAA,EACAA,EACAJ,EACAI,EACAA,EACAc,EACAd,EACAA,EACAO,EACAA,EACAT,EACAA,EACAE,EACAJ,EACAI,EACAA,EACAA,EACAF,EACAF,EACAI,EACAA,EACAA,EACAA,EACAA,GAGEgB,EAAe,CACjBZ,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAU,EACAA,EACAA,EACAlB,EACAC,EACAG,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAI,EACAH,EACAQ,EACAC,EACAC,EACAC,EACAC,EACAR,EACAE,EACAA,EACAA,EACAA,EACAA,EACAP,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAK,EACAL,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAI,GA6EF,SAASa,EAAaC,EAAKC,EAAQC,GACjC,KAAI/B,EAAU6B,GAGd,GAAW,GAAPA,GAAY9B,GAAOO,GAAQJ,EAU/B,IANA,IAEE/jB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BO,sBAAwB,SAAS3vB,EAAQC,EAAMoxB,GAC7D,OACE7vB,EAAQgtB,qBAAuB,GAC/BxuB,EAAOzL,MAAQiN,EAAQitB,iBACvB4C,IAAY7vB,EAAQktB,oBAAoB,IACxCzuB,EAAK5E,OAAO2E,EAAOxL,UAAYgN,EAAQktB,qBAI3CU,EAAgBS,uBAAyB,SAAS7vB,EAAQC,GACxD,OACEuB,EAAQmtB,sBAAwB,GAChC3uB,EAAOzL,MAAQiN,EAAQotB,kBACvB3uB,EAAK5E,OAAO2E,EAAOxL,UAAYgN,EAAQstB,sBACvC7uB,EAAK5E,OAAO,EAAG2E,EAAOxL,SAAWgN,EAAQqtB,wBAI7CO,EAAgBQ,uBAAyB,WACvCpuB,EAAQktB,oBAAsBltB,EAAQktB,oBAAoBrzB,OAAO,GACjEmG,EAAQgtB,wBAGVY,EAAgBU,0BAA4B,WACtCtuB,IACFA,EAAQmtB,sBAAwB,EAChCntB,EAAQotB,kBAAoB,IAIhCjpC,EAAIP,SAASgqC,EAAiB9C,GAE9Bl4C,EAAQg7C,gBAAkBA,IAI9B36C,IAAI/C,OAAO,cAAe,CAAC,UAAW,UAAW,UAAW,SAC1D6B,EACAa,EACAzC,GAw1BA,IAt1BA,IACI2/C,EAAY,CACd,GACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,IACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,IACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,GACA,EACA,IACA,GACA,GACA,EACA,EACA,EACA,GACA,IACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,IACA,EACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,EACA,GACA,EACA,GACA,EACA,GACA,EACA,EACA,GACA,EACA,GACA,GACA,EACA,EACA,GACA,EACA,GACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,GACA,GACA,IACA,GACA,IACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,GACA,EACA,GACA,EACA,GACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,KACA,GACA,EACA,GACA,EACA,IACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,IACA,KACA,GACA,MACA,GACA,KACA,GACA,GACA,EACA,IACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,EACA,EACA,GACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,IACA,EACA,EACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,GACA,EACA,IACA,GACA,EACA,EACA,EACA,EACA,EACA,MACA,GACA,GACA,EACA,GACA,KACA,IACA,EACA,GACA,EACA,IACA,GACA,EACA,GACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,GACA,IACA,GACA,GACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,EACA,GACA,EACA,G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"}