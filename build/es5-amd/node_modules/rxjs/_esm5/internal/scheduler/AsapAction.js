define(["exports","../../../../tslib/tslib.es6.js","../util/Immediate.js","./AsyncAction.js"],function(_exports,tslib_1,_Immediate,_AsyncAction){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.AsapAction=void 0;tslib_1=babelHelpers.interopRequireWildcard(tslib_1);var AsapAction=function(_super){tslib_1.__extends(AsapAction,_super);function AsapAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;_this.scheduler=scheduler;_this.work=work;return _this}AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){if(void 0===delay){delay=0}if(null!==delay&&0<delay){return _super.prototype.requestAsyncId.call(this,scheduler,id,delay)}scheduler.actions.push(this);return scheduler.scheduled||(scheduler.scheduled=_Immediate.Immediate.setImmediate(scheduler.flush.bind(scheduler,null)))};AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){if(void 0===delay){delay=0}if(null!==delay&&0<delay||null===delay&&0<this.delay){return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay)}if(0===scheduler.actions.length){_Immediate.Immediate.clearImmediate(id);scheduler.scheduled=void 0}};return AsapAction}(_AsyncAction.AsyncAction);_exports.AsapAction=AsapAction});