define(["exports","../Observable.js","../Subscription.js","../util/subscribeToPromise.js"],function(_exports,_Observable,_Subscription,_subscribeToPromise){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.fromPromise=function(input,scheduler){if(!scheduler){return new _Observable.Observable((0,_subscribeToPromise.subscribeToPromise)(input))}else{return new _Observable.Observable(function(subscriber){var sub=new _Subscription.Subscription;sub.add(scheduler.schedule(function(){return input.then(function(value){sub.add(scheduler.schedule(function(){subscriber.next(value);sub.add(scheduler.schedule(function(){return subscriber.complete()}))}))},function(err){sub.add(scheduler.schedule(function(){return subscriber.error(err)}))})}));return sub})}}});