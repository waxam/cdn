define(["exports","../../../../tslib/tslib.es6.js","../util/isArray.js","./fromArray.js","../OuterSubscriber.js","../util/subscribeToResult.js"],function(_exports,tslib_1,_isArray,_fromArray,_OuterSubscriber,_subscribeToResult){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.race=function(){for(var observables=[],_i=0;_i<arguments.length;_i++){observables[_i]=arguments[_i]}if(1===observables.length){if((0,_isArray.isArray)(observables[0])){observables=observables[0]}else{return observables[0]}}return(0,_fromArray.fromArray)(observables,void 0).lift(new RaceOperator)};_exports.RaceSubscriber=_exports.RaceOperator=void 0;tslib_1=babelHelpers.interopRequireWildcard(tslib_1);var RaceOperator=function(){function RaceOperator(){}RaceOperator.prototype.call=function(subscriber,source){return source.subscribe(new RaceSubscriber(subscriber))};return RaceOperator}();_exports.RaceOperator=RaceOperator;var RaceSubscriber=function(_super){tslib_1.__extends(RaceSubscriber,_super);function RaceSubscriber(destination){var _this=_super.call(this,destination)||this;_this.hasFirst=!1;_this.observables=[];_this.subscriptions=[];return _this}RaceSubscriber.prototype._next=function(observable){this.observables.push(observable)};RaceSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len){this.destination.complete()}else{for(var i=0;i<len&&!this.hasFirst;i++){var observable=observables[i],subscription=(0,_subscribeToResult.subscribeToResult)(this,observable,observable,i);if(this.subscriptions){this.subscriptions.push(subscription)}this.add(subscription)}this.observables=null}};RaceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++){if(i!==outerIndex){var subscription=this.subscriptions[i];subscription.unsubscribe();this.remove(subscription)}}this.subscriptions=null}this.destination.next(innerValue)};return RaceSubscriber}(_OuterSubscriber.OuterSubscriber);_exports.RaceSubscriber=RaceSubscriber});