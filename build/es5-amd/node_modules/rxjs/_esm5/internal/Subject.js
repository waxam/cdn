define(["exports","../../../tslib/tslib.es6.js","./Observable.js","./Subscriber.js","./Subscription.js","./util/ObjectUnsubscribedError.js","./SubjectSubscription.js","./symbol/rxSubscriber.js"],function(_exports,tslib_1,_Observable,_Subscriber,_Subscription,_ObjectUnsubscribedError,_SubjectSubscription,_rxSubscriber){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.AnonymousSubject=_exports.Subject=_exports.SubjectSubscriber=void 0;tslib_1=babelHelpers.interopRequireWildcard(tslib_1);var SubjectSubscriber=function(_super){tslib_1.__extends(SubjectSubscriber,_super);function SubjectSubscriber(destination){var _this=_super.call(this,destination)||this;_this.destination=destination;return _this}return SubjectSubscriber}(_Subscriber.Subscriber);_exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(_super){tslib_1.__extends(Subject,_super);function Subject(){var _this=_super.call(this)||this;_this.observers=[];_this.closed=!1;_this.isStopped=!1;_this.hasError=!1;_this.thrownError=null;return _this}Subject.prototype[_rxSubscriber.rxSubscriber]=function(){return new SubjectSubscriber(this)};Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);subject.operator=operator;return subject};Subject.prototype.next=function(value){if(this.closed){throw new _ObjectUnsubscribedError.ObjectUnsubscribedError}if(!this.isStopped){for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++){copy[i].next(value)}}};Subject.prototype.error=function(err){if(this.closed){throw new _ObjectUnsubscribedError.ObjectUnsubscribedError}this.hasError=!0;this.thrownError=err;this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++){copy[i].error(err)}this.observers.length=0};Subject.prototype.complete=function(){if(this.closed){throw new _ObjectUnsubscribedError.ObjectUnsubscribedError}this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++){copy[i].complete()}this.observers.length=0};Subject.prototype.unsubscribe=function(){this.isStopped=!0;this.closed=!0;this.observers=null};Subject.prototype._trySubscribe=function(subscriber){if(this.closed){throw new _ObjectUnsubscribedError.ObjectUnsubscribedError}else{return _super.prototype._trySubscribe.call(this,subscriber)}};Subject.prototype._subscribe=function(subscriber){if(this.closed){throw new _ObjectUnsubscribedError.ObjectUnsubscribedError}else if(this.hasError){subscriber.error(this.thrownError);return _Subscription.Subscription.EMPTY}else if(this.isStopped){subscriber.complete();return _Subscription.Subscription.EMPTY}else{this.observers.push(subscriber);return new _SubjectSubscription.SubjectSubscription(this,subscriber)}};Subject.prototype.asObservable=function(){var observable=new _Observable.Observable;observable.source=this;return observable};Subject.create=function(destination,source){return new AnonymousSubject(destination,source)};return Subject}(_Observable.Observable);_exports.Subject=Subject;var AnonymousSubject=function(_super){tslib_1.__extends(AnonymousSubject,_super);function AnonymousSubject(destination,source){var _this=_super.call(this)||this;_this.destination=destination;_this.source=source;return _this}AnonymousSubject.prototype.next=function(value){var destination=this.destination;if(destination&&destination.next){destination.next(value)}};AnonymousSubject.prototype.error=function(err){var destination=this.destination;if(destination&&destination.error){this.destination.error(err)}};AnonymousSubject.prototype.complete=function(){var destination=this.destination;if(destination&&destination.complete){this.destination.complete()}};AnonymousSubject.prototype._subscribe=function(subscriber){var source=this.source;if(source){return this.source.subscribe(subscriber)}else{return _Subscription.Subscription.EMPTY}};return AnonymousSubject}(Subject);_exports.AnonymousSubject=AnonymousSubject});