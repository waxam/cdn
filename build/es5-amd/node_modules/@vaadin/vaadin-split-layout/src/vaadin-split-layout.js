define(["exports","../../../@polymer/polymer/polymer-element.js","../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js","../../../@polymer/polymer/lib/utils/flattened-nodes-observer.js","../../../@polymer/iron-resizable-behavior/iron-resizable-behavior.js","../../vaadin-themable-mixin/vaadin-themable-mixin.js","../../vaadin-element-mixin/vaadin-element-mixin.js","../../../@polymer/polymer/lib/utils/html-tag.js","../../../@polymer/polymer/lib/legacy/class.js"],function(_exports,_polymerElement,_gestureEventListeners,_flattenedNodesObserver,_ironResizableBehavior,_vaadinThemableMixin,_vaadinElementMixin,_htmlTag,_class){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SplitLayoutElement=void 0;function _templateObject_2b94ce20490411e990ee3fd35bb8725b(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: flex;\n        overflow: hidden !important;\n        transform: translateZ(0);\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host([orientation=\"vertical\"]) {\n        flex-direction: column;\n      }\n\n      :host ::slotted(*) {\n        flex: 1 1 auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      [part=\"splitter\"] {\n        flex: none;\n        position: relative;\n        z-index: 1;\n        overflow: visible;\n        min-width: 8px;\n        min-height: 8px;\n      }\n\n      :host(:not([orientation=\"vertical\"])) > [part=\"splitter\"] {\n        cursor: ew-resize;\n      }\n\n      :host([orientation=\"vertical\"]) > [part=\"splitter\"] {\n        cursor: ns-resize;\n      }\n\n      [part=\"handle\"] {\n        width: 40px;\n        height: 40px;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate3d(-50%, -50%, 0);\n      }\n    </style>\n    <slot id=\"primary\" name=\"primary\"></slot>\n    <div part=\"splitter\" id=\"splitter\" on-track=\"_onHandleTrack\" on-down=\"_setPointerEventsNone\" on-up=\"_restorePointerEvents\">\n      <div part=\"handle\"></div>\n    </div>\n    <slot id=\"secondary\" name=\"secondary\"></slot>\n\n    <div hidden=\"\">\n      <!-- Workaround to fix a Shady style scoping issue caused by dynamic slot naming of the child elements (primary/secondary) -->\n      <slot></slot>\n    </div>\n"]);_templateObject_2b94ce20490411e990ee3fd35bb8725b=function(){return data};return data}var SplitLayoutElement=function(_ElementMixin){babelHelpers.inherits(SplitLayoutElement,_ElementMixin);function SplitLayoutElement(){babelHelpers.classCallCheck(this,SplitLayoutElement);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SplitLayoutElement).apply(this,arguments))}babelHelpers.createClass(SplitLayoutElement,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(SplitLayoutElement.prototype),"ready",this).call(this);new _flattenedNodesObserver.FlattenedNodesObserver(this,this._processChildren)}},{key:"_processChildren",value:function _processChildren(){var _this=this;this.getEffectiveChildren().forEach(function(child,i){if(0===i){_this._primaryChild=child;child.setAttribute("slot","primary")}else if(1==i){_this._secondaryChild=child;child.setAttribute("slot","secondary")}else{child.removeAttribute("slot")}})}},{key:"_setFlexBasis",value:function _setFlexBasis(element,flexBasis,containerSize){flexBasis=Math.max(0,Math.min(flexBasis,containerSize));if(0===flexBasis){flexBasis=1e-6}element.style.flex="1 1 "+flexBasis+"px"}},{key:"_setPointerEventsNone",value:function _setPointerEventsNone(event){this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents;this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents;this._primaryChild.style.pointerEvents="none";this._secondaryChild.style.pointerEvents="none";event.preventDefault()}},{key:"_restorePointerEvents",value:function _restorePointerEvents(){this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents;this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents}},{key:"_onHandleTrack",value:function _onHandleTrack(event){if(!this._primaryChild||!this._secondaryChild){return}var size="vertical"===this.orientation?"height":"width";if("start"===event.detail.state){this._startSize={container:this.getBoundingClientRect()[size]-this.$.splitter.getBoundingClientRect()[size],primary:this._primaryChild.getBoundingClientRect()[size],secondary:this._secondaryChild.getBoundingClientRect()[size]};return}var distance="vertical"===this.orientation?event.detail.dy:event.detail.dx;this._setFlexBasis(this._primaryChild,this._startSize.primary+distance,this._startSize.container);this._setFlexBasis(this._secondaryChild,this._startSize.secondary-distance,this._startSize.container);this.notifyResize();if("end"===event.detail.state){this.dispatchEvent(new CustomEvent("splitter-dragend"));delete this._startSize}}}],[{key:"template",get:function get(){return(0,_htmlTag.html)(_templateObject_2b94ce20490411e990ee3fd35bb8725b())}},{key:"is",get:function get(){return"vaadin-split-layout"}},{key:"version",get:function get(){return"4.1.0"}},{key:"properties",get:function get(){return{orientation:{type:String,reflectToAttribute:!0,value:"horizontal"},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}}]);return SplitLayoutElement}((0,_vaadinElementMixin.ElementMixin)((0,_vaadinThemableMixin.ThemableMixin)((0,_gestureEventListeners.GestureEventListeners)((0,_class.mixinBehaviors)([_ironResizableBehavior.IronResizableBehavior],_polymerElement.PolymerElement)))));_exports.SplitLayoutElement=SplitLayoutElement;customElements.define(SplitLayoutElement.is,SplitLayoutElement)});