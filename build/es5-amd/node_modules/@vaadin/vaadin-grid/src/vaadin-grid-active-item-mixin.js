define(["exports"],function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.ActiveItemMixin=void 0;_exports.ActiveItemMixin=function ActiveItemMixin(superClass){return function(_superClass){babelHelpers.inherits(ActiveItemMixin,_superClass);function ActiveItemMixin(){babelHelpers.classCallCheck(this,ActiveItemMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ActiveItemMixin).apply(this,arguments))}babelHelpers.createClass(ActiveItemMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ActiveItemMixin.prototype),"ready",this).call(this);this.$.scroller.addEventListener("click",this._onClick.bind(this));this.addEventListener("cell-activate",this._activateItem.bind(this))}},{key:"_activateItem",value:function _activateItem(e){var model=e.detail.model,clickedItem=model?model.item:null;if(clickedItem){this.activeItem=!this._itemsEqual(this.activeItem,clickedItem)?clickedItem:null}}},{key:"_onClick",value:function _onClick(e){if(e.defaultPrevented){return}var path=e.composedPath(),cell=path[path.indexOf(this.$.table)-3];if(!cell||-1<cell.getAttribute("part").indexOf("details-cell")){return}var cellContent=cell._content,activeElement=this.getRootNode().activeElement,cellContentHasFocus=cellContent.contains(activeElement)&&(!this._ie||this._isFocusable(activeElement));if(!cellContentHasFocus&&!this._isFocusable(e.target)){this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(cell.parentElement)}}))}}},{key:"_isFocusable",value:function _isFocusable(target){if(!target.parentNode){return!1}var focusables=Array.from(target.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter(function(element){return"cell body-cell"!==element.getAttribute("part")}),isFocusableElement=-1!==focusables.indexOf(target);return!target.disabled&&isFocusableElement}}],[{key:"properties",get:function get(){return{activeItem:{type:Object,notify:!0,value:null}}}}]);return ActiveItemMixin}(superClass)}});