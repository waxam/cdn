define(["exports","../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js","../../../@polymer/polymer/lib/utils/gestures.js"],function(_exports,_gestureEventListeners,_gestures){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.ColumnResizingMixin=void 0;_exports.ColumnResizingMixin=function ColumnResizingMixin(superClass){return function(_GestureEventListener){babelHelpers.inherits(ColumnResizingMixin,_GestureEventListener);function ColumnResizingMixin(){babelHelpers.classCallCheck(this,ColumnResizingMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ColumnResizingMixin).apply(this,arguments))}babelHelpers.createClass(ColumnResizingMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ColumnResizingMixin.prototype),"ready",this).call(this);var scroller=this.$.scroller;(0,_gestures.addListener)(scroller,"track",this._onHeaderTrack.bind(this));scroller.addEventListener("touchmove",function(e){return scroller.hasAttribute("column-resizing")&&e.preventDefault()});scroller.addEventListener("contextmenu",function(e){return"resize-handle"==e.target.getAttribute("part")&&e.preventDefault()});scroller.addEventListener("mousedown",function(e){return"resize-handle"===e.target.getAttribute("part")&&e.preventDefault()})}},{key:"_onHeaderTrack",value:function _onHeaderTrack(e){var handle=e.target;if("resize-handle"===handle.getAttribute("part")){var cell=handle.parentElement,column=cell._column;this._toggleAttribute("column-resizing",!0,this.$.scroller);while("vaadin-grid-column-group"===column.localName){column=Array.prototype.slice.call(column._childColumns,0).sort(function(a,b){return a._order-b._order}).filter(function(column){return!column.hidden}).pop()}var columnRowCells=Array.from(this.$.header.querySelectorAll("[part~=\"row\"]:last-child [part~=\"cell\"]")),targetCell=columnRowCells.filter(function(cell){return cell._column===column})[0];if(targetCell.offsetWidth){var style=window.getComputedStyle(targetCell),minWidth=10+parseInt(style.paddingLeft)+parseInt(style.paddingRight)+parseInt(style.borderLeftWidth)+parseInt(style.borderRightWidth)+parseInt(style.marginLeft)+parseInt(style.marginRight);column.width=Math.max(minWidth,targetCell.offsetWidth+e.detail.x-targetCell.getBoundingClientRect().right)+"px";column.flexGrow=0}columnRowCells.sort(function(a,b){return a._column._order-b._column._order}).forEach(function(cell,index,array){if(index<array.indexOf(targetCell)){cell._column.width=cell.offsetWidth+"px";cell._column.flexGrow=0}});if("end"===e.detail.state){this._toggleAttribute("column-resizing",!1,this.$.scroller)}this._resizeHandler()}}}]);return ColumnResizingMixin}((0,_gestureEventListeners.GestureEventListeners)(superClass))}});