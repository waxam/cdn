define(["exports","../../@polymer/polymer/lib/elements/dom-module.js"],function(_exports,_domModule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.ThemableMixin=void 0;_exports.ThemableMixin=function ThemableMixin(superClass){return function(_superClass){babelHelpers.inherits(VaadinThemableMixin,_superClass);function VaadinThemableMixin(){babelHelpers.classCallCheck(this,VaadinThemableMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(VaadinThemableMixin).apply(this,arguments))}babelHelpers.createClass(VaadinThemableMixin,null,[{key:"finalize",value:function finalize(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(VaadinThemableMixin),"finalize",this).call(this);var template=this.prototype._template,hasOwnTemplate=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,inheritedTemplate=Object.getPrototypeOf(this.prototype)._template;if(inheritedTemplate&&!hasOwnTemplate){Array.from(inheritedTemplate.content.querySelectorAll("style[include]")).forEach(function(s){_this._includeStyle(s.getAttribute("include"),template)})}this._includeMatchingThemes(template)}},{key:"_includeMatchingThemes",value:function _includeMatchingThemes(template){var _this2=this,domModule=_domModule.DomModule,modules=domModule.prototype.modules,hasThemes=!1,defaultModuleName=this.is+"-default-theme";Object.keys(modules).forEach(function(moduleName){if(moduleName!==defaultModuleName){var themeFor=modules[moduleName].getAttribute("theme-for");if(themeFor){themeFor.split(" ").forEach(function(themeForToken){if(new RegExp("^"+themeForToken.split("*").join(".*")+"$").test(_this2.is)){hasThemes=!0;_this2._includeStyle(moduleName,template)}})}}});if(!hasThemes&&modules[defaultModuleName]){this._includeStyle(defaultModuleName,template)}}},{key:"_includeStyle",value:function _includeStyle(moduleName,template){if(template&&!template.content.querySelector("style[include=".concat(moduleName,"]"))){var styleEl=document.createElement("style");styleEl.setAttribute("include",moduleName);template.content.appendChild(styleEl)}}}]);return VaadinThemableMixin}(superClass)}});