define(["exports","../../../@polymer/polymer/polymer-element.js","../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js","../../vaadin-themable-mixin/vaadin-themable-mixin.js","../../vaadin-control-state-mixin/vaadin-control-state-mixin.js","../../vaadin-element-mixin/vaadin-element-mixin.js","../../../@polymer/polymer/lib/utils/html-tag.js"],function(_exports,_polymerElement,_gestureEventListeners,_vaadinThemableMixin,_vaadinControlStateMixin,_vaadinElementMixin,_htmlTag){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.CheckboxElement=void 0;function _templateObject_800141a0516a11e9a13e4dc4d06a3506(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      label {\n        display: inline-flex;\n        align-items: baseline;\n        outline: none;\n      }\n\n      [part=\"checkbox\"] {\n        position: relative;\n        display: inline-block;\n        flex: none;\n      }\n\n      input[type=\"checkbox\"] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n        margin: 0;\n      }\n\n      :host([disabled]) {\n        -webkit-tap-highlight-color: transparent;\n      }\n    </style>\n\n    <label>\n      <span part=\"checkbox\">\n        <input type=\"checkbox\" checked=\"{{checked::change}}\" disabled$=\"[[disabled]]\" indeterminate=\"{{indeterminate::change}}\" role=\"presentation\" tabindex=\"-1\">\n      </span>\n\n      <span part=\"label\">\n        <slot></slot>\n      </span>\n    </label>\n"],["\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      label {\n        display: inline-flex;\n        align-items: baseline;\n        outline: none;\n      }\n\n      [part=\"checkbox\"] {\n        position: relative;\n        display: inline-block;\n        flex: none;\n      }\n\n      input[type=\"checkbox\"] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n        margin: 0;\n      }\n\n      :host([disabled]) {\n        -webkit-tap-highlight-color: transparent;\n      }\n    </style>\n\n    <label>\n      <span part=\"checkbox\">\n        <input type=\"checkbox\" checked=\"{{checked::change}}\" disabled\\$=\"[[disabled]]\" indeterminate=\"{{indeterminate::change}}\" role=\"presentation\" tabindex=\"-1\">\n      </span>\n\n      <span part=\"label\">\n        <slot></slot>\n      </span>\n    </label>\n"]);_templateObject_800141a0516a11e9a13e4dc4d06a3506=function(){return data};return data}var CheckboxElement=function(_ElementMixin){babelHelpers.inherits(CheckboxElement,_ElementMixin);babelHelpers.createClass(CheckboxElement,null,[{key:"template",get:function get(){return(0,_htmlTag.html)(_templateObject_800141a0516a11e9a13e4dc4d06a3506())}},{key:"is",get:function get(){return"vaadin-checkbox"}},{key:"version",get:function get(){return"2.2.4"}},{key:"properties",get:function get(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}}]);function CheckboxElement(){var _this;babelHelpers.classCallCheck(this,CheckboxElement);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(CheckboxElement).call(this));_this.name;return _this}babelHelpers.createClass(CheckboxElement,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(CheckboxElement.prototype),"ready",this).call(this);this.setAttribute("role","checkbox");this._nativeCheckbox=this.shadowRoot.querySelector("input[type=\"checkbox\"]");this.addEventListener("click",this._handleClick.bind(this));this._addActiveListeners();var attrName=this.getAttribute("name");if(attrName){this.name=attrName}this.shadowRoot.querySelector("[part~=\"label\"]").querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this));this._updateLabelAttribute()}},{key:"_updateLabelAttribute",value:function _updateLabelAttribute(){var label=this.shadowRoot.querySelector("[part~=\"label\"]"),assignedNodes=label.firstElementChild.assignedNodes();if(this._isAssignedNodesEmpty(assignedNodes)){label.setAttribute("empty","")}else{label.removeAttribute("empty")}}},{key:"_isAssignedNodesEmpty",value:function _isAssignedNodesEmpty(nodes){return 0===nodes.length||1==nodes.length&&nodes[0].nodeType==Node.TEXT_NODE&&""===nodes[0].textContent.trim()}},{key:"_checkedChanged",value:function _checkedChanged(checked){if(this.indeterminate){this.setAttribute("aria-checked","mixed")}else{this.setAttribute("aria-checked",checked)}}},{key:"_indeterminateChanged",value:function _indeterminateChanged(indeterminate){if(indeterminate){this.setAttribute("aria-checked","mixed")}else{this.setAttribute("aria-checked",this.checked)}}},{key:"_addActiveListeners",value:function _addActiveListeners(){var _this2=this;this._addEventListenerToNode(this,"down",function(e){if(_this2.__interactionsAllowed(e)){_this2.setAttribute("active","")}});this._addEventListenerToNode(this,"up",function(){return _this2.removeAttribute("active")});this.addEventListener("keydown",function(e){if(_this2.__interactionsAllowed(e)&&32===e.keyCode){e.preventDefault();_this2.setAttribute("active","")}});this.addEventListener("keyup",function(e){if(_this2.__interactionsAllowed(e)&&32===e.keyCode){e.preventDefault();_this2._toggleChecked();_this2.removeAttribute("active");if(_this2.indeterminate){_this2.indeterminate=!1}}})}},{key:"__interactionsAllowed",value:function __interactionsAllowed(e){if(this.disabled){return!1}if("a"===e.target.localName){return!1}return!0}},{key:"_handleClick",value:function _handleClick(e){if(this.__interactionsAllowed(e)){if(!this.indeterminate){if(e.composedPath()[0]!==this._nativeCheckbox){e.preventDefault();this._toggleChecked()}}else{this.indeterminate=!1;e.preventDefault();this._toggleChecked()}}}},{key:"_toggleChecked",value:function _toggleChecked(){this.checked=!this.checked;this.dispatchEvent(new CustomEvent("change",{composed:!0,bubbles:!0}))}},{key:"name",get:function get(){return this.checked?this._storedName:""},set:function set(name){this._storedName=name}},{key:"focusElement",get:function get(){return this.shadowRoot.querySelector("label")}}]);return CheckboxElement}((0,_vaadinElementMixin.ElementMixin)((0,_vaadinControlStateMixin.ControlStateMixin)((0,_vaadinThemableMixin.ThemableMixin)((0,_gestureEventListeners.GestureEventListeners)(_polymerElement.PolymerElement)))));_exports.CheckboxElement=CheckboxElement;customElements.define(CheckboxElement.is,CheckboxElement)});