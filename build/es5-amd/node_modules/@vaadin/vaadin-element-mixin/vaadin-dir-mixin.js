define(["exports"],function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.DirMixin=void 0;/**
 * Array of Vaadin custom element classes that have been subscribed to the dir changes.
 */var directionSubscribers=[],directionUpdater=function directionUpdater(){var documentDir=getDocumentDir();directionSubscribers.forEach(function(element){alignDirs(element,documentDir)})},directionObserver=new MutationObserver(directionUpdater);directionObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});var alignDirs=function alignDirs(element,documentDir){if(documentDir){element.setAttribute("dir",documentDir)}else{element.removeAttribute("dir")}},getDocumentDir=function getDocumentDir(){return document.documentElement.getAttribute("dir")},DirMixin=function DirMixin(superClass){return(/*#__PURE__*/function(_superClass){babelHelpers.inherits(VaadinDirMixin,_superClass);function VaadinDirMixin(){babelHelpers.classCallCheck(this,VaadinDirMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(VaadinDirMixin).apply(this,arguments))}babelHelpers.createClass(VaadinDirMixin,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(VaadinDirMixin.prototype),"connectedCallback",this).call(this);if(!this.hasAttribute("dir")){this.__subscribe();alignDirs(this,getDocumentDir())}}/** @protected */},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){babelHelpers.get(babelHelpers.getPrototypeOf(VaadinDirMixin.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue);if("dir"!==name){return}// New value equals to the document direction and the element is not subscribed to the changes
var newValueEqlDocDir=newValue===getDocumentDir()&&-1===directionSubscribers.indexOf(this),newValueEmptied=!newValue&&oldValue&&-1===directionSubscribers.indexOf(this),newDiffValue=newValue!==getDocumentDir()&&oldValue===getDocumentDir();// Value was emptied and the element is not subscribed to the changes
if(newValueEqlDocDir||newValueEmptied){this.__subscribe();alignDirs(this,getDocumentDir())}else if(newDiffValue){this.__subscribe(!1)}}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(VaadinDirMixin.prototype),"disconnectedCallback",this).call(this);this.__subscribe(!1)}},{key:"__subscribe",value:function __subscribe(){var push=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0;if(push){-1===directionSubscribers.indexOf(this)&&directionSubscribers.push(this)}else{-1<directionSubscribers.indexOf(this)&&directionSubscribers.splice(directionSubscribers.indexOf(this),1)}}}],[{key:"properties",get:function get(){return{/**
       * @protected
       */dir:{type:String,readOnly:!0}}}}]);return VaadinDirMixin}(superClass))};_exports.DirMixin=DirMixin});