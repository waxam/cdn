define(["exports","../utils/boot.js","../utils/settings.js","../utils/mixin.js","../utils/style-gather.js","../utils/resolve-url.js","../elements/dom-module.js","./property-effects.js","./properties-mixin.js"],function(_exports,_boot,_settings,_mixin,_styleGather,_resolveUrl2,_domModule,_propertyEffects,_propertiesMixin){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.register=register;_exports.dumpRegistrations=function(){registrations.forEach(_regLog)};_exports.updateStyles=_exports.registrations=_exports.instanceCount=_exports.ElementMixin=_exports.version=void 0;var version="3.0.5";_exports.version=version;var ElementMixin=(0,_mixin.dedupingMixin)(function(base){var polymerElementBase=(0,_propertiesMixin.PropertiesMixin)((0,_propertyEffects.PropertyEffects)(base));function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",constructor))){constructor.__propertyDefaults=null;var props=constructor._properties;for(var p in props){var info=props[p];if("value"in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty("observers",constructor))?constructor.observers:null}return constructor.__ownObservers}function createPropertyFromConfig(proto,name,info,allProps){if(info.computed){info.readOnly=!0}if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}proto._addPropertyToAttributeMap(name)}function processElementStyles(klass,template,is,baseURI){for(var templateStyles=template.content.querySelectorAll("style"),stylesWithImports=(0,_styleGather.stylesFromTemplate)(template),linkedStyles=(0,_styleGather.stylesFromModuleImports)(is),firstTemplateChild=template.content.firstElementChild,idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}for(var templateStyleIndex=0,i=0;i<stylesWithImports.length;i++){var _s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];if(templateStyle!==_s){_s=_s.cloneNode(!0);templateStyle.parentNode.insertBefore(_s,templateStyle)}else{templateStyleIndex++}_s.textContent=klass._processStyleText(_s.textContent,baseURI)}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}function getTemplateFromDomModule(is){var template=null;if(is&&(!_settings.strictTemplatePolicy||_settings.allowTemplateFromDomModule)){template=_domModule.DomModule.import(is,"template");if(_settings.strictTemplatePolicy&&!template){throw new Error("strictTemplatePolicy: expecting dom-module or null template for ".concat(is))}}return template}var PolymerElement=function(_polymerElementBase){babelHelpers.inherits(PolymerElement,_polymerElementBase);babelHelpers.createClass(PolymerElement,null,[{key:"_finalizeClass",value:function _finalizeClass(){babelHelpers.get(babelHelpers.getPrototypeOf(PolymerElement),"_finalizeClass",this).call(this);if(this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&this.is){register(this.prototype)}var observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}var template=this.template;if(template){if("string"===typeof template){console.error("template getter must return HTMLTemplateElement");template=null}else{template=template.cloneNode(!0)}}this.prototype._template=template}},{key:"createProperties",value:function createProperties(props){for(var p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}},{key:"createObservers",value:function createObservers(observers,dynamicFns){for(var proto=this.prototype,i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}},{key:"polymerElementVersion",get:function get(){return version}},{key:"template",get:function get(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:getTemplateFromDomModule(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template},set:function set(value){this._template=value}},{key:"importPath",get:function get(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){var meta=this.importMeta;if(meta){this._importPath=(0,_resolveUrl2.pathFromUrl)(meta.url)}else{var module=_domModule.DomModule.import(this.is);this._importPath=module&&module.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}}]);function PolymerElement(){var _this;babelHelpers.classCallCheck(this,PolymerElement);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(PolymerElement).call(this));_this._template;_this._importPath;_this.rootPath;_this.importPath;_this.root;_this.$;return _this}babelHelpers.createClass(PolymerElement,[{key:"_initializeProperties",value:function _initializeProperties(){_exports.instanceCount=instanceCount=instanceCount+1;this.constructor.finalize();this.constructor._finalizeTemplate(this.localName);babelHelpers.get(babelHelpers.getPrototypeOf(PolymerElement.prototype),"_initializeProperties",this).call(this);this.rootPath=_settings.rootPath;this.importPath=this.constructor.importPath;var p$=propertyDefaults(this.constructor);if(!p$){return}for(var p in p$){var info=p$[p];if(!this.hasOwnProperty(p)){var value="function"==typeof info.value?info.value.call(this):info.value;if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}},{key:"connectedCallback",value:function connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(this)}babelHelpers.get(babelHelpers.getPrototypeOf(PolymerElement.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}babelHelpers.get(babelHelpers.getPrototypeOf(PolymerElement.prototype),"ready",this).call(this)}},{key:"_readyClients",value:function _readyClients(){if(this._template){this.root=this._attachDom(this.root)}babelHelpers.get(babelHelpers.getPrototypeOf(PolymerElement.prototype),"_readyClients",this).call(this)}},{key:"_attachDom",value:function _attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:"open"})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error("ShadowDOM not available. "+"PolymerElement can create dom as children instead of in "+"ShadowDOM by setting `this.root = this;` before `ready`.")}}},{key:"updateStyles",value:function updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(this,properties)}}},{key:"resolveUrl",value:function resolveUrl(url,base){if(!base&&this.importPath){base=(0,_resolveUrl2.resolveUrl)(this.importPath)}return(0,_resolveUrl2.resolveUrl)(url,base)}}],[{key:"_processStyleText",value:function _processStyleText(cssText,baseURI){return(0,_resolveUrl2.resolveCss)(cssText,baseURI)}},{key:"_finalizeTemplate",value:function _finalizeTemplate(is){var template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;var importPath=this.importPath,baseURI=importPath?(0,_resolveUrl2.resolveUrl)(importPath):"";processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}},{key:"_parseTemplateContent",value:function _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return babelHelpers.get(babelHelpers.getPrototypeOf(PolymerElement),"_parseTemplateContent",this).call(this,template,templateInfo,nodeInfo)}}]);return PolymerElement}(polymerElementBase);return PolymerElement});_exports.ElementMixin=ElementMixin;var instanceCount=0;_exports.instanceCount=instanceCount;var registrations=[];_exports.registrations=registrations;function _regLog(prototype){console.log("["+prototype.is+"]: registered")}function register(prototype){registrations.push(prototype)}_exports.updateStyles=function updateStyles(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}}});