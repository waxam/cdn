define(["exports","../utils/boot.js","../mixins/property-effects.js","../mixins/mutable-data.js","../mixins/gesture-event-listeners.js","../utils/settings.js"],function(_exports,_boot,_propertyEffects,_mutableData,_gestureEventListeners,_settings){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.DomBind=void 0;var domBindBase=(0,_gestureEventListeners.GestureEventListeners)((0,_mutableData.OptionalMutableData)((0,_propertyEffects.PropertyEffects)(HTMLElement))),DomBind=function(_domBindBase){babelHelpers.inherits(DomBind,_domBindBase);babelHelpers.createClass(DomBind,null,[{key:"observedAttributes",get:function get(){return["mutable-data"]}}]);function DomBind(){var _this;babelHelpers.classCallCheck(this,DomBind);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(DomBind).call(this));if(_settings.strictTemplatePolicy){throw new Error("strictTemplatePolicy: dom-bind not allowed")}_this.root=null;_this.$=null;_this.__children=null;return _this}babelHelpers.createClass(DomBind,[{key:"attributeChangedCallback",value:function attributeChangedCallback(){this.mutableData=!0}},{key:"connectedCallback",value:function connectedCallback(){this.style.display="none";this.render()}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.__removeChildren()}},{key:"__insertChildren",value:function __insertChildren(){this.parentNode.insertBefore(this.root,this)}},{key:"__removeChildren",value:function __removeChildren(){if(this.__children){for(var i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}},{key:"render",value:function render(){var _this2=this,template;if(!this.__children){template=template||this.querySelector("template");if(!template){var observer=new MutationObserver(function(){template=_this2.querySelector("template");if(template){observer.disconnect();_this2.render()}else{throw new Error("dom-bind requires a <template> child")}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(var n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}]);return DomBind}(domBindBase);_exports.DomBind=DomBind;customElements.define("dom-bind",DomBind)});