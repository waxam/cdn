define(["../../polymer/polymer-legacy.js","../../polymer/lib/legacy/polymer-fn.js","../neon-shared-element-animation-behavior.js"],function(_polymerLegacy,_polymerFn,_neonSharedElementAnimationBehavior){"use strict";(0,_polymerFn.Polymer)({is:"ripple-animation",behaviors:[_neonSharedElementAnimationBehavior.NeonSharedElementAnimationBehavior],configure:function configure(config){var _Mathabs=Math.abs,shared=this.findSharedElements(config);if(!shared){return null}var translateX,translateY,toRect=shared.to.getBoundingClientRect();if(config.gesture){translateX=config.gesture.x-(toRect.left+toRect.width/2);translateY=config.gesture.y-(toRect.top+toRect.height/2)}else{var fromRect=shared.from.getBoundingClientRect();translateX=fromRect.left+fromRect.width/2-(toRect.left+toRect.width/2);translateY=fromRect.top+fromRect.height/2-(toRect.top+toRect.height/2)}var translate="translate("+translateX+"px,"+translateY+"px)",size=Math.max(toRect.width+2*_Mathabs(translateX),toRect.height+2*_Mathabs(translateY)),diameter=Math.sqrt(2*size*size),scaleX=diameter/toRect.width,scaleY=diameter/toRect.height;this._effect=new KeyframeEffect(shared.to,[{transform:translate+" scale(0)"},{transform:translate+" "+("scale("+scaleX+","+scaleY+")")}],this.timingFromConfig(config));this.setPrefixedProperty(shared.to,"transformOrigin","50% 50%");shared.to.style.borderRadius="50%";return this._effect},complete:function complete(){if(this.sharedElements){this.setPrefixedProperty(this.sharedElements.to,"transformOrigin","");this.sharedElements.to.style.borderRadius=""}}})});