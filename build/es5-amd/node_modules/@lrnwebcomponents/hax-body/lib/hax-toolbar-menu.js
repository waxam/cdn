define(["exports", "../../../lit-element/lit-element.js", "../../../@polymer/iron-icon/iron-icon.js", "../../../@polymer/paper-item/paper-item.js", "../../../@polymer/paper-listbox/paper-listbox.js", "../../../@polymer/paper-menu-button/paper-menu-button.js", "./hax-toolbar-item.js"], function (_exports, _litElement, _ironIcon, _paperItem, _paperListbox, _paperMenuButton, _haxToolbarItem) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.HaxToolbarMenu = void 0;

  function _templateObject2_8fc42250c96f11ea8be5e1d5fe7ec787() {
    var data = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n          box-sizing: border-box;\n        }\n        iron-icon {\n          width: 10px;\n        }\n        paper-menu-button {\n          margin: 0;\n          padding: 0;\n          text-transform: none;\n          display: flex;\n          min-width: unset;\n        }\n        paper-menu-button .label {\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        paper-menu-button .button-inner {\n          padding-top: 8px;\n          text-align: center;\n        }\n\n        .flip-icon {\n          transform: rotateY(180deg);\n        }\n\n        simple-tooltip {\n          pointer-events: none;\n        }\n        paper-listbox {\n          padding: 0;\n        }\n      "]);

    _templateObject2_8fc42250c96f11ea8be5e1d5fe7ec787 = function _templateObject2_8fc42250c96f11ea8be5e1d5fe7ec787() {
      return data;
    };

    return data;
  }

  function _templateObject_8fc42250c96f11ea8be5e1d5fe7ec787() {
    var data = babelHelpers.taggedTemplateLiteral(["\n      <paper-menu-button>\n        <hax-toolbar-item\n          id=\"button\"\n          ?mini=\"", "\"\n          ?action=\"", "\"\n          slot=\"dropdown-trigger\"\n          icon=\"", "\"\n          .hidden=\"", "\"\n          .class=\"", "\"\n          tooltip=\"", "\"\n        >\n          <iron-icon icon=\"icons:expand-more\"></iron-icon>\n        </hax-toolbar-item>\n        <paper-listbox\n          id=\"listbox\"\n          slot=\"dropdown-content\"\n          .selected=\"", "\"\n          @selected-changed=\"", "\"\n        >\n          <slot></slot>\n        </paper-listbox>\n      </paper-menu-button>\n    "]);

    _templateObject_8fc42250c96f11ea8be5e1d5fe7ec787 = function _templateObject_8fc42250c96f11ea8be5e1d5fe7ec787() {
      return data;
    };

    return data;
  }

  var HaxToolbarMenu =
  /*#__PURE__*/
  function (_LitElement) {
    babelHelpers.inherits(HaxToolbarMenu, _LitElement);
    babelHelpers.createClass(HaxToolbarMenu, [{
      key: "render",
      value: function render() {
        return (0, _litElement.html)(_templateObject_8fc42250c96f11ea8be5e1d5fe7ec787(), this.mini, this.action, this.icon, !this.icon, this.iconClass, this.tooltip, this.selected, this.selectedChanged);
      }
    }, {
      key: "selectedChanged",
      value: function selectedChanged(e) {
        this.selected = e.detail.value;
      }
    }], [{
      key: "styles",
      get: function get() {
        return [(0, _litElement.css)(_templateObject2_8fc42250c96f11ea8be5e1d5fe7ec787())];
      }
    }, {
      key: "tag",
      get: function get() {
        return "hax-toolbar-menu";
      }
    }]);

    function HaxToolbarMenu() {
      var _this;

      babelHelpers.classCallCheck(this, HaxToolbarMenu);
      _this = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(HaxToolbarMenu).call(this));
      _this.corner = "";
      _this.action = false;
      _this.tooltip = "";
      _this.tooltipDirection = "";
      _this.selected = 0;
      setTimeout(function () {
        _this.addEventListener("click", _this._menubuttonTap.bind(babelHelpers.assertThisInitialized(_this)));
      }, 0);
      return _this;
    }

    babelHelpers.createClass(HaxToolbarMenu, [{
      key: "updated",

      /**
       * property changed callback
       */
      value: function updated(changedProperties) {
        var _this2 = this;

        changedProperties.forEach(function (oldValue, propName) {
          if (propName == "selected") {
            _this2.shadowRoot.querySelector("#button").focus(); // fire an event that this is a core piece of the system


            _this2.dispatchEvent(new CustomEvent("selected-changed", {
              detail: _this2[propName]
            }));
          }
        });
      }
      /**
       * Ensure menu is visible / default'ed.
       */

    }, {
      key: "_menubuttonTap",
      value: function _menubuttonTap(e) {
        this.shadowRoot.querySelector("#listbox").style.display = "inherit";
        this.selected = "";
      }
      /**
       * Ensure menu is hidden.
       */

    }, {
      key: "hideMenu",
      value: function hideMenu() {
        this.shadowRoot.querySelector("#listbox").style.display = "none";
        this.selected = "";
      }
    }], [{
      key: "properties",
      get: function get() {
        return {
          /**
           * corner
           */
          corner: {
            type: String,
            reflect: true
          },
          mini: {
            type: Boolean,
            reflect: true
          },
          action: {
            type: Boolean
          },
          icon: {
            type: String
          },
          tooltip: {
            type: String
          },
          tooltipDirection: {
            type: String,
            attribute: "tooltip-direction"
          },
          selected: {
            type: Number
          }
        };
      }
    }]);
    return HaxToolbarMenu;
  }(_litElement.LitElement);

  _exports.HaxToolbarMenu = HaxToolbarMenu;
  window.customElements.define(HaxToolbarMenu.tag, HaxToolbarMenu);
});