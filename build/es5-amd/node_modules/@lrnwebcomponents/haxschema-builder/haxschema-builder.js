define(["exports","../../@polymer/polymer/polymer-element.js","../hax-body-behaviors/lib/HAXWiring.js","../json-editor/json-editor.js","../code-editor/code-editor.js","../../@vaadin/vaadin-split-layout/vaadin-split-layout.js","../../@polymer/paper-button/paper-button.js","../hax-body/lib/hax-schema-form.js"],function(_exports,_polymerElement,_HAXWiring){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.HaxschemaBuilder=void 0;function _templateObject_e406a040598611e9be72c76822165544(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: block;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n        code-editor {\n          height: 500px;\n        }\n      </style>\n      <vaadin-split-layout>\n        <div>\n          <paper-button raised=\"\" noink=\"\">Add to configure</paper-button>\n          <paper-button raised=\"\" noink=\"\">Add to advanced</paper-button>\n          <code-editor\n            id=\"code\"\n            on-value-changed=\"_editorDataChanged\"\n            language=\"json\"\n          ></code-editor>\n          <json-editor\n            id=\"json\"\n            label=\"JSON\"\n            value=\"{{haxSchema}}\"\n          ></json-editor>\n        </div>\n        <div>\n          <hax-schema-form\n            id=\"form\"\n            configure-schema=\"[[configureSchema]]\"\n            advanced-schema=\"[[advancedSchema]]\"\n            value=\"{{value}}\"\n          ></hax-schema-form>\n        </div>\n      </vaadin-split-layout>\n    "]);_templateObject_e406a040598611e9be72c76822165544=function(){return data};return data}var HaxschemaBuilder=function(_PolymerElement){babelHelpers.inherits(HaxschemaBuilder,_PolymerElement);function HaxschemaBuilder(){babelHelpers.classCallCheck(this,HaxschemaBuilder);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(HaxschemaBuilder).apply(this,arguments))}babelHelpers.createClass(HaxschemaBuilder,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(HaxschemaBuilder.prototype),"connectedCallback",this).call(this);this.HAXWiring=new _HAXWiring.HAXWiring;this.HAXWiring.setup(HaxschemaBuilder.haxProperties,HaxschemaBuilder.tag,this);if(!this.source){this.haxSchema=JSON.stringify(this.HAXWiring.prototypeHaxProperties(),null,2)}this.$.form.modeTab="advanced";setTimeout(function(){_this.$.form.modeTab="configure"},2e3)}},{key:"_haxSchemaChanged",value:function _haxSchemaChanged(newValue){if(newValue){this.$.code.editorValue=newValue}}},{key:"_editorDataChanged",value:function _editorDataChanged(e){this.haxSchema=e.detail.value;var hs=JSON.parse(this.haxSchema);for(var key in hs.settings){var schema=this.HAXWiring.getHaxJSONSchema(key,hs);this.set(key+"Schema",schema)}}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_e406a040598611e9be72c76822165544())}},{key:"haxProperties",get:function get(){return{canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"Haxschema builder",description:"dynamically build and visualize HAXschema",icon:"icons:android",color:"green",groups:["Builder"],handles:[{type:"todo:read-the-docs-for-usage"}],meta:{author:"btopro",owner:"The Pennsylvania State University"}},settings:{quick:[{property:"source",description:"",inputMethod:"textfield",required:!0,icon:"icons:link",validationType:"url"}],configure:[{property:"haxSchema",description:"",inputMethod:"array",required:!1,icon:"icons:android"},{property:"source",description:"",inputMethod:"textfield",required:!0,icon:"icons:link",validationType:"url"}],advanced:[]}}}},{key:"properties",get:function get(){return{haxSchema:{name:"haxSchema",type:"String",notify:!0,observer:"_haxSchemaChanged"},configureSchema:{name:"configureSchema",type:"Object",value:{}},advancedSchema:{name:"advancedSchema",type:"Object",value:{}},source:{name:"source",type:"String"},value:{name:"value",type:"String"}}}},{key:"tag",get:function get(){return"haxschema-builder"}}]);return HaxschemaBuilder}(_polymerElement.PolymerElement);_exports.HaxschemaBuilder=HaxschemaBuilder;window.customElements.define(HaxschemaBuilder.tag,HaxschemaBuilder)});