define(["exports","../../lit-element/lit-element.js","./lib/lrndesign-gallery-behaviors.js","../responsive-utility/responsive-utility.js","./lib/lrndesign-gallery-carousel.js","./lib/lrndesign-gallery-grid.js"],function(_exports,_litElement,_lrndesignGalleryBehaviors,_responsiveUtility,_lrndesignGalleryCarousel,_lrndesignGalleryGrid){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.LrndesignGallery=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){babelHelpers.defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _templateObject4_60d0c4807a2311ea877d9d791dd38f76(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject4_60d0c4807a2311ea877d9d791dd38f76=function _templateObject4_60d0c4807a2311ea877d9d791dd38f76(){return data};return data}function _templateObject3_60d0c4807a2311ea877d9d791dd38f76(){var data=babelHelpers.taggedTemplateLiteral(["\n              <lrndesign-gallery-carousel\n                accent-color=\"","\"\n                .aspect-ratio=\"","\"\n                .extra-wide=\"","\"\n                ?dark=\"","\"\n                .gallery-id=\"","\"\n                @item-changed=\"","\"\n                responsive-size=\"","\"\n                .selected=\"","\"\n                sizing=\"","\"\n                .sources=\"","\"\n                gallery-title=\"","\"\n              >\n                <slot></slot>\n              </lrndesign-gallery-carousel>\n            "]);_templateObject3_60d0c4807a2311ea877d9d791dd38f76=function _templateObject3_60d0c4807a2311ea877d9d791dd38f76(){return data};return data}function _templateObject2_60d0c4807a2311ea877d9d791dd38f76(){var data=babelHelpers.taggedTemplateLiteral(["\n              <lrndesign-gallery-grid\n                accent-color=\"","\"\n                .aspect-ratio=\"","\"\n                .extra-wide=\"","\"\n                ?dark=\"","\"\n                .gallery-id=\"","\"\n                @item-changed=\"","\"\n                responsive-size=\"","\"\n                .selected=\"","\"\n                sizing=\"","\"\n                .sources=\"","\"\n                gallery-title=\"","\"\n              >\n                <slot></slot>\n              </lrndesign-gallery-grid>\n            "]);_templateObject2_60d0c4807a2311ea877d9d791dd38f76=function _templateObject2_60d0c4807a2311ea877d9d791dd38f76(){return data};return data}function _templateObject_60d0c4807a2311ea877d9d791dd38f76(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div id=\"gallery\">\n        ","\n      </div>\n    "]);_templateObject_60d0c4807a2311ea877d9d791dd38f76=function _templateObject_60d0c4807a2311ea877d9d791dd38f76(){return data};return data}/**
 * `lrndesign-gallery`
 * displays images as a carousel or grid with the ability to zoom
 *
 * @element lrndesign-gallery
 * @lit-html
 * @lit-element
 * @demo demo/index.html
 */var LrndesignGallery=/*#__PURE__*/function(_LrndesignGalleryBeha){babelHelpers.inherits(LrndesignGallery,_LrndesignGalleryBeha);babelHelpers.createClass(LrndesignGallery,[{key:"render",// render function
value:function render(){var _this=this;return(0,_litElement.html)(_templateObject_60d0c4807a2311ea877d9d791dd38f76(),this.grid?(0,_litElement.html)(_templateObject2_60d0c4807a2311ea877d9d791dd38f76(),this.accentColor,this.aspect,this.extra,this.dark,this.id,function(e){return _this.goToItem(e.detail)},this.responsiveSize,this.selected,this.sizing,this.items,this.galleryTitle):(0,_litElement.html)(_templateObject3_60d0c4807a2311ea877d9d791dd38f76(),this.accentColor,this.aspect,this.extra,this.dark,this.id,function(e){return _this.goToItem(e.detail)},this.responsiveSize,this.selected,this.sizing,this.items,this.galleryTitle))}// properties available to the custom element for data binding
},{key:"tag",/**
   * Store the tag name to make it easier to obtain directly.
   * @notice function name must be here for tooling to operate correctly
   */value:function tag(){return"lrndesign-gallery"}// life cycle
}],[{key:"styles",//styles function
get:function get(){return[(0,_litElement.css)(_templateObject4_60d0c4807a2311ea877d9d791dd38f76())]}},{key:"properties",get:function get(){return _objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignGallery),"properties",this),{id:{type:String,reflect:!0,attribute:"id"}})}}]);function LrndesignGallery(){babelHelpers.classCallCheck(this,LrndesignGallery);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(LrndesignGallery).call(this))}/**
   * life cycle, element is afixed to the DOM
   */babelHelpers.createClass(LrndesignGallery,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignGallery.prototype),"connectedCallback",this).call(this);window.ResponsiveUtility.requestAvailability();window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",relativeToParent:!0}}))}},{key:"firstUpdated",value:function firstUpdated(){babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignGallery.prototype),"firstUpdated",this).call(this);this.anchorData=this._getAnchorData();if(this.anchorData.gallery===this.id){this.goToItem(this.anchorData.id)}else{this.goToItem()}}/**
   * handle updates
   */},{key:"updated",value:function updated(changedProperties){var _this2=this;babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignGallery.prototype),"updated",this).call(this,changedProperties);changedProperties.forEach(function(oldValue,propName){if("id"===propName&&!_this2.id)_this2.id="gallery-".concat(_this2._generateUUID())})}/**
   * gets aspect ratio of images
   *
   * @readonly
   * @memberof LrndesignGallery
   */},{key:"goToItem",/**
   * go to item by id, or index
   *
   * @param {string} query
   */value:function goToItem(query){var start=this.items[0]||{};if("number"===typeof query&&0<=query&&query<this.items.length){this.selected=this.items[query]||start}else{var matches=this.items.filter(function(item){return item.id===query});this.selected=0<matches.length?matches[0]:start}}/**
   * gets aspect ratio of an image and
   * determine if aspect ratio is extra wide
   *
   * @param {array}
   */},{key:"_getAnchorData",value:function _getAnchorData(){var hash=null!==window.location.hash&&""!==window.location.hash?window.location.hash.replace("#",""):!1,data=hash?hash.split("---"):[];return{id:1<data.length?data[1]:-1,gallery:0<data.length?data[0]:-1,zoom:scroll&&2<data.length&&"zoom"===data[2]}}},{key:"aspect",get:function get(){var items=(this.items||[]).filter(function(item){return item.src&&""!=item.src}),src=items&&items[0]?items[0].src:!1;if(src){var img=new Image;img.src=src;return 0<img.naturalWidth&&0<img.naturalHeight?img.naturalWidth/img.naturalHeight:1.33333333}else{return 1.33333333}}/**
   * gets aspect ratio of an image and
   * determine if aspect ratio is extra wide
   *
   * @readonly
   * @memberof LrndesignGallery
   */},{key:"extra",get:function get(){var ew=2<this.aspect;return ew}/**
   * gets items array
   *
   * @readonly
   * @memberof LrndesignGalleryBehaviors
   */},{key:"items",get:function get(){var _this3=this,sources=this.sources||[],items="string"===typeof sources?JSON.parse(sources):sources,total=items.length,itemData=(items||[]).map(function(item,i){return{details:item.details,index:i,id:item.id||"gallery-".concat(_this3.id,"-item-").concat(i),src:item.src,large:item.large&&""!==item.large?item.large:item.src,thumbnail:item.thumbnail&&""!=item.thumbnail?item.thumbnail:item.src,xofy:"".concat(i+1," of ").concat(total),next:i+1<total?i+1:-1,prev:-1<i-1?i-1:-1,sizing:item.sizing&&""!=item.sizing?item.sizing:_this3.sizing,title:item.title,tooltip:"".concat(item.title||"Image ".concat(i)," (Zoom In)"),heading:"".concat(item.title||"Image ".concat(i)," (Full-Sized)")}});return itemData}}]);return LrndesignGallery}(_lrndesignGalleryBehaviors.LrndesignGalleryBehaviors);_exports.LrndesignGallery=LrndesignGallery;customElements.define("lrndesign-gallery",LrndesignGallery)});