define(["exports","../../../@polymer/polymer/polymer-element.js","../../simple-colors/simple-colors.js","../../responsive-utility/responsive-utility.js","../../../@polymer/iron-image/iron-image.js","../../../@polymer/iron-icons/iron-icons.js","../../../@polymer/paper-button/paper-button.js","../../../@polymer/paper-tooltip/paper-tooltip.js","./lrndesign-gallery-shared-styles.js"],function(_exports,_polymerElement,_simpleColors){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.LrndesignGalleryBehaviors=void 0;var LrndesignGalleryBehaviors=function(_SimpleColors){babelHelpers.inherits(LrndesignGalleryBehaviors,_SimpleColors);function LrndesignGalleryBehaviors(){babelHelpers.classCallCheck(this,LrndesignGalleryBehaviors);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(LrndesignGalleryBehaviors).apply(this,arguments))}babelHelpers.createClass(LrndesignGalleryBehaviors,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignGalleryBehaviors.prototype),"connectedCallback",this).call(this)}},{key:"_addResponsiveUtility",value:function _addResponsiveUtility(options){var root=this;window.ResponsiveUtility.requestAvailability();window.dispatchEvent(new CustomEvent("responsive-element",{detail:options!==void 0?options:{element:root,attribute:"responsive-size",relativeToParent:!0}}))}},{key:"_getAnchorData",value:function _getAnchorData(){var temp=window.location.hash.replace("#","").split("---"),anchorGallery=0<temp.length?temp[0]:-1,selectedItemId=1<temp.length?temp[1]:-1,selectedItemIndex=this.sources.findIndex(function(i){return i.id===selectedItemId}),selectedGallery=anchorGallery===this.id,zoom=scroll&&2<temp.length&&"zoom"===temp[2];return{selectedItemId:selectedItemId,selectedItemIndex:0<selectedItemIndex?selectedItemIndex:0,selectedGallery:selectedGallery,zoom:zoom}}},{key:"_getItemData",value:function _getItemData(item,index){var anchorData=this._getAnchorData();item.index=index;item.id=this._selfOrDefault(item.id,this.id+index);item.large=this._selfOrDefault(item.large,item.src);item.next=index+1<this.sources.length?index+1:-1;item.prev=-1<index-1?index-1:-1;item.sizing=this._selfOrDefault(item.sizing,this.sizing);item.tooltip=this._selfOrDefault(item.title,"Full-Sized Image"," (Full-Sized)");item.thumbnail=this._selfOrDefault(item.thumbnail,item.src);item.zoom=anchorData.zoom&&anchorData.selectedItemId===item.id;item.scroll=anchorData.selectedGallery&&anchorData.selectedItemId===item.id;item.heading=this._selfOrDefault(item.title,"Full-Sized Image"," (Full-Sized)");item.tooltip=this._selfOrDefault(item.title,"Zoom In"," Zoom");if(anchorData.selectedItemIndex===index){this.selected=item}return item}},{key:"_getParentOffset",value:function _getParentOffset(node){var parent=node.parentNode;if(parent!==void 0&&null!==parent&&parent.nodeType===Node.DOCUMENT_FRAGMENT_NODE){parent=parent.host}return parent.offsetTop}},{key:"_scrollIntoView",value:function _scrollIntoView(){var offsets=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[0];window.scrollTo({top:offsets.reduce(function(total,num){return total+num}),behavior:"smooth"})}},{key:"_isAttrSet",value:function _isAttrSet(){var attr=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;return null!==attr}},{key:"_isSelected",value:function _isSelected(){var selected=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},item=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return selected.id===item.id}},{key:"_itemsLoaded",value:function _itemsLoaded(sources){var root=this,img=new Image,temp=sources.slice();if(sources!==void 0&&0<sources.length){this._setAspectProperties(sources[0].src);for(var i in temp){temp[i]=this._getItemData(temp[i],parseInt(i))}}return temp}},{key:"_selfOrDefault",value:function _selfOrDefault(val1){var val2=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1,append=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"";return val1!==void 0?val1+append:val2}},{key:"_setAspectProperties",value:function _setAspectProperties(imgSrc){var img=new Image;img.src=imgSrc;this.aspectRatio=0<img.naturalWidth&&0<img.naturalHeight?img.naturalWidth/img.naturalHeight:1.33333333;this.extraWide=2<this.aspectRatio}},{key:"_testAttribute",value:function _testAttribute(){var attr=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,val=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1;return attr===val}}],[{key:"tag",get:function get(){return"lrndesign-gallery-behaviors"}},{key:"properties",get:function get(){return{anchorData:{type:Object,computed:"_getAnchorData()"},aspectRatio:{type:Number,value:"1.33333333"},extraWide:{type:Boolean,value:!1,reflectToAttribute:!0},galleryId:{type:String,value:null},grid:{type:Boolean,value:!1},id:{type:String,value:null},items:{type:Array,computed:"_itemsLoaded(sources,sizing)"},responsiveSize:{type:String,value:"xs",reflectToAttribute:!0},selected:{type:Object,value:{},notify:!0},sizing:{type:String,value:"cover"},sources:{type:Array,value:[],reflectToAttribute:!1},title:{type:String,value:null}}}}]);return LrndesignGalleryBehaviors}(_simpleColors.SimpleColors);_exports.LrndesignGalleryBehaviors=LrndesignGalleryBehaviors;window.customElements.define(LrndesignGalleryBehaviors.tag,LrndesignGalleryBehaviors)});