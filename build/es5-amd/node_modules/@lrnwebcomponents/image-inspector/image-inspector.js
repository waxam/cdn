define(["exports", "../../lit-element/lit-element.js", "../exif-data/exif-data.js", "../lrnsys-button/lrnsys-button.js", "../../@polymer/iron-icons/iron-icons.js", "../../@polymer/iron-icons/image-icons.js", "../img-pan-zoom/img-pan-zoom.js"], function (_exports, _litElement, _exifData, _lrnsysButton, _ironIcons, _imageIcons, _imgPanZoom) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.ImageInspector = void 0;

  function _templateObject2_5c594c00d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n      <div style=\"border-bottom: 1px solid black;\">\n        <lrnsys-button\n          alt=\"Zoom in\"\n          icon=\"zoom-in\"\n          @click=\"", "\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Zoom out\"\n          icon=\"zoom-out\"\n          @click=\"", "\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Rotate right\"\n          icon=\"image:rotate-right\"\n          @click=\"", "\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Rotate left\"\n          icon=\"image:rotate-left\"\n          @click=\"", "\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Mirror image\"\n          icon=\"image:flip\"\n          @click=\"", "\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"Open in new window\"\n          icon=\"launch\"\n          href=\"", "\"\n          target=\"_blank\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <lrnsys-button\n          alt=\"EXIF Data\"\n          icon=\"image:camera-roll\"\n          @click=\"", "\"\n          hover-class=\"", "\"\n        ></lrnsys-button>\n        <slot name=\"toolbar\"></slot>\n      </div>\n      <exif-data\n        id=\"exif\"\n        @click=", "\n        no-events\n        ?no-left=\"", "\"\n        ><img src=\"", "\"\n      /></exif-data>\n      <img-pan-zoom id=\"img\" src=\"", "\"></img-pan-zoom>\n      <slot></slot>\n    "]);

    _templateObject2_5c594c00d34d11ea880ba1e93364c49c = function _templateObject2_5c594c00d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  function _templateObject_5c594c00d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n          overflow: hidden;\n          --image-inspector-background: #dddddd;\n        }\n\n        app-toolbar {\n          width: 100%;\n          background: var(--image-inspector-background);\n          margin: 0 auto;\n          padding: 0;\n          z-index: 1;\n          display: flex;\n          text-align: center;\n          justify-content: space-evenly;\n        }\n\n        lrnsys-button {\n          display: inline-flex;\n        }\n\n        .top-rotated {\n          top: 150px;\n          pointer-events: none; /** disable pointer events when rotated bc of HTML canvas issue */\n        }\n        .showData {\n          display: block;\n          z-index: 2;\n        }\n        exif-data {\n          margin: 0 auto;\n          justify-content: space-evenly;\n          position: absolute;\n          display: none;\n          margin: 0;\n          padding: 0;\n        }\n        exif-data img {\n          margin: 0;\n          opacity: 0;\n          padding: 0;\n          height: 500px;\n          pointer-events: none;\n        }\n      "]);

    _templateObject_5c594c00d34d11ea880ba1e93364c49c = function _templateObject_5c594c00d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  /**
   * `image-inspector`
   * `Zoom, Rotate, Mirror, Download, and View image`
   * @demo demo/index.html
   * @element image-inspector
   */
  var ImageInspector =
  /*#__PURE__*/
  function (_LitElement) {
    babelHelpers.inherits(ImageInspector, _LitElement);
    babelHelpers.createClass(ImageInspector, null, [{
      key: "styles",

      /**
       * LitElement constructable styles enhancement
       */
      get: function get() {
        return [(0, _litElement.css)(_templateObject_5c594c00d34d11ea880ba1e93364c49c())];
      }
    }]);

    function ImageInspector() {
      var _this;

      babelHelpers.classCallCheck(this, ImageInspector);
      _this = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(ImageInspector).call(this));
      _this.noLeft = false;
      _this.degrees = 0;
      _this.hoverClass = "blue white-text";
      _this.src = "";
      return _this;
    }

    babelHelpers.createClass(ImageInspector, [{
      key: "render",
      value: function render() {
        return (0, _litElement.html)(_templateObject2_5c594c00d34d11ea880ba1e93364c49c(), this.zoomIn, this.hoverClass, this.zoomOut, this.hoverClass, this.rotateRight, this.hoverClass, this.rotateLeft, this.hoverClass, this.mirrorImage, this.hoverClass, this.src, this.hoverClass, this.exifDataEvent, this.hoverClass, this.hideData, this.noLeft, this.src, this.src);
      }
    }, {
      key: "exifDataEvent",
      value: function exifDataEvent(e) {
        if (this.shadowRoot.querySelector("#exif").classList.contains("showData")) {
          this.shadowRoot.querySelector("#exif").classList.remove("showData");
        } else {
          this.shadowRoot.querySelector("#exif").updateExif(true);
          this.shadowRoot.querySelector("#exif").classList.add("showData");
        }
      }
    }, {
      key: "hideData",
      value: function hideData(e) {
        this.shadowRoot.querySelector("#exif").classList.remove("showData");
      }
    }, {
      key: "firstUpdated",
      value: function firstUpdated() {
        this.__img = this.shadowRoot.querySelector("#img");
        this.shadowRoot.querySelector("#exif").alignTarget = this.__img;
        this.shadowRoot.querySelector("#exif").alignTargetTop = "0px";
      }
      /**
       * Rotate the image to the right.
       */

    }, {
      key: "rotateRight",
      value: function rotateRight() {
        // spin 90
        this.degrees += 90;
        this.__img.style.transform = "rotate(" + this.degrees + "deg)";

        if (this.__img.classList.contains("top-rotated")) {
          this.__img.classList.remove("top-rotated");
        } else {
          this.__img.classList.add("top-rotated");
        }
      }
      /**
       * Rotate the image to the left.
       */

    }, {
      key: "rotateLeft",
      value: function rotateLeft() {
        // go back 90
        this.degrees += -90;
        this.__img.style.transform = "rotate(" + this.degrees + "deg)";

        if (this.__img.classList.contains("top-rotated")) {
          this.__img.classList.remove("top-rotated");
        } else {
          this.__img.classList.add("top-rotated");
        }
      }
      /**
       * Flip the image.
       */

    }, {
      key: "mirrorImage",
      value: function mirrorImage() {
        if (this.__img.style.transform === "scaleX(1)") {
          this.__img.style.transform = "scaleX(-1)";
        } else {
          this.__img.style.transform = "scaleX(1)";
        }
      }
      /**
       * Zoom in by calling  downstream function.
       */

    }, {
      key: "zoomIn",
      value: function zoomIn() {
        this.__img.zoomIn();
      }
      /**
       * Zoom out by calling downstream function.
       */

    }, {
      key: "zoomOut",
      value: function zoomOut() {
        this.__img.zoomOut();
      }
    }], [{
      key: "tag",
      get: function get() {
        return "image-inspector";
      }
    }, {
      key: "properties",
      get: function get() {
        return {
          noLeft: {
            type: Boolean,
            attribute: "no-left"
          },

          /**
           * Image rotation
           */
          degrees: {
            type: Number,
            reflect: true
          },

          /**
           * Image source.
           */
          src: {
            type: String
          },

          /**
           * Hover class for button styling
           */
          hoverClass: {
            type: String,
            attribute: "hover-class"
          }
        };
      }
    }]);
    return ImageInspector;
  }(_litElement.LitElement);

  _exports.ImageInspector = ImageInspector;
  window.customElements.define(ImageInspector.tag, ImageInspector);
});