define(["exports","../../../lit-element/lit-element.js","../simple-fields.js","./simple-fields-form-lite.js"],function(_exports,_litElement,_simpleFields,_simpleFieldsFormLite){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SimpleFieldsForm=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){babelHelpers.defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _templateObject_6ae8f64079e711eab35db364a2893409(){var data=babelHelpers.taggedTemplateLiteral(["\n      <form>\n        <slot name=\"before\"></slot>\n        <simple-fields id=\"sf\" autofocus></simple-fields>\n        <slot></slot>\n      </form>\n    "]);_templateObject_6ae8f64079e711eab35db364a2893409=function _templateObject_6ae8f64079e711eab35db364a2893409(){return data};return data}/**
 * `simple-fields-form`
 * binding and submission capabilities on top of simple-fields
 *
 * @group simple-fields
 * @element simple-fields-form
 * @demo ./demo/form.html
 */var SimpleFieldsForm=/*#__PURE__*/function(_SimpleFieldsFormLite){babelHelpers.inherits(SimpleFieldsForm,_SimpleFieldsFormLite);function SimpleFieldsForm(){babelHelpers.classCallCheck(this,SimpleFieldsForm);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SimpleFieldsForm).apply(this,arguments))}babelHelpers.createClass(SimpleFieldsForm,[{key:"render",// render function
value:function render(){return(0,_litElement.html)(_templateObject_6ae8f64079e711eab35db364a2893409())}},{key:"updated",value:function updated(changedProperties){var _this=this;changedProperties.forEach(function(oldValue,propName){if(_this.autoload&&!_this.loadResponse&&!_this.loading){if("loadEndpoint"===propName||"autoload"===propName){_this.loadData()}}// we have response data from an end point this should create the form
if("loadResponse"===propName&&_this.loadResponse.data){_this._applyLoadedData();/**
         * fires event for things to react to about the response
         * @event response
         */_this.dispatchEvent(new CustomEvent("response",{bubbles:!0,composed:!0,cancelable:!1,detail:_this.loadResponse}))}})}/**
   * applies loaded datda to simple-fields-lite
   *
   * @memberof SimpleFieldsFormLite
   */},{key:"_applyLoadedData",value:function _applyLoadedData(){var sf=this.shadowRoot.querySelector("#sf");//console.log(this.loadResponse.data.schema, this.loadResponse.data.fields);
if(this.loadResponse.data.schema){sf.schema=this.loadResponse.data.schema}else if(this.loadResponse.data.fields){sf.fields=this.loadResponse.data.fields}if(this.loadResponse.data.value)sf.value=this.loadResponse.data.value}/**
   * Props down
   */}],[{key:"tag",get:function get(){return"simple-fields-form"}},{key:"properties",get:function get(){return _objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(SimpleFieldsForm),"properties",this),{},_simpleFields.SimpleFields.properties)}}]);return SimpleFieldsForm}(_simpleFieldsFormLite.SimpleFieldsFormLite);_exports.SimpleFieldsForm=SimpleFieldsForm;window.customElements.define(SimpleFieldsForm.tag,SimpleFieldsForm)});