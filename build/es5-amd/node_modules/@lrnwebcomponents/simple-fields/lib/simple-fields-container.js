define(["exports","../../../lit-element/lit-element.js"],function(_exports,_litElement){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SimpleFieldsContainer=void 0;function _templateObject10_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <slot name=\"suffix\"></slot>\n      ","\n    "]);_templateObject10_a47e55206d7711eabc05594818a06afe=function _templateObject10_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject9_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <slot name=\"prefix\"></slot>\n      ","\n    "]);_templateObject9_a47e55206d7711eabc05594818a06afe=function _templateObject9_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject8_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <label for=\"","\" class=\"label-main\">\n        <slot name=\"label\"></slot>\n        ","","\n      </label>\n    "]);_templateObject8_a47e55206d7711eabc05594818a06afe=function _templateObject8_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject7_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div id=\"fieldmeta\" aria-live=\"polite\">\n        <slot name=\"field-meta\"></slot>\n      </div>\n    "]);_templateObject7_a47e55206d7711eabc05594818a06afe=function _templateObject7_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject6_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div\n        class=\"","\"\n      >\n        ","\n        <div>\n          ","\n          <slot name=\"field\"></slot>\n          ","\n        </div>\n      </div>\n    "]);_templateObject6_a47e55206d7711eabc05594818a06afe=function _templateObject6_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject5_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div class=\"border-bottom blur\"></div>\n      <div class=\"border-bottom focus\"></div>\n      <div id=\"field-bottom\">\n        <div id=\"error-desc\">\n          "," ","\n        </div>\n        ","\n      </div>\n    "]);_templateObject5_a47e55206d7711eabc05594818a06afe=function _templateObject5_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject4_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div id=\"error-message\" ?hidden=\"","\" role=\"alert\">\n        ","\n      </div>\n    "]);_templateObject4_a47e55206d7711eabc05594818a06afe=function _templateObject4_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject3_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div id=\"description\">\n        <slot name=\"description\"></slot>\n        ","\n      </div>\n    "]);_templateObject3_a47e55206d7711eabc05594818a06afe=function _templateObject3_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject2_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          font-size: var(--simple-fields-detail-font-size, 12px);\n          font-family: var(--simple-fields-detail-font-family, sans-serif);\n          line-height: var(--simple-fields-detail-line-height, 22px);\n          transition: color 0.3s ease-in-out;\n          margin: var(--simple-fields-margin, 16px) 0;\n        }\n        :host([hidden]),\n        :host([type=\"hidden\"]) {\n          display: none;\n        }\n        :host([error]) {\n          color: var(--simple-fields-error-color, #dd2c00);\n          transition: color 0.3s ease-in-out;\n        }\n        :host([disabled]) {\n          color: var(--simple-fields-disabled-color, #999);\n        }\n        .field-main.inline,\n        .field-main > div,\n        #field-bottom {\n          display: flex;\n          align-items: stretch;\n          justify-content: flex-start;\n        }\n        * {\n          flex: 1 1 auto;\n        }\n        #fieldmeta {\n          text-align: right;\n        }\n        :host(:focus-within) .label-main {\n          color: var(--simple-fields-accent-color, #3f51b5);\n          transition: color 0.3s ease-in-out;\n        }\n        .inline label {\n          margin: 0 var(--simple-fields-margin-small, 8px) 0 0;\n          flex: 0 1 auto;\n        }\n        .inline label,\n        .field-main > div,\n        .field,\n        ::slotted([slot=\"field\"]) {\n          font-size: var(--simple-fields-font-size, 16px);\n          font-family: var(--simple-fields-font-family, sans-serif);\n          line-height: var(--simple-fields-line-height, 22px);\n        }\n        .field,\n        ::slotted([slot=\"field\"]) {\n          width: auto;\n          border: none;\n          color: var(--simple-fields-color, black);\n          transition: opacity ease-in-out;\n          flex: 1 0 auto;\n        }\n        .field-main.inline .field,\n        .field-main.inline ::slotted([slot=\"field\"]) {\n          min-width: var(--simple-fields-detail-line-height, 22px);\n          height: var(--simple-fields-detail-line-height, 22px);\n          margin: 0 var(--simple-fields-margin-small, 8px) 0 0;\n        }\n        .field[disabled],\n        :host([readonly]) ::slotted([slot=\"field\"]) {\n          opacity: var(--simple-fields-disabled-opacity, 0.7);\n          transition: opacity ease-in-out;\n        }\n        .field[readonly],\n        .field[disabled],\n        :host([readonly]) ::slotted([slot=\"field\"]),\n        :host([disabled]) ::slotted([slot=\"field\"]) {\n          cursor: not-allowed;\n        }\n        .border-bottom {\n          height: 0;\n        }\n        :host([type=\"checkbox\"]) .border-bottom,\n        :host([type=\"color\"]) .border-bottom,\n        :host([type=\"file\"]) .border-bottom,\n        :host([type=\"radio\"]) .border-bottom,\n        :host([type=\"range\"]) .border-bottom {\n          display: none;\n        }\n        :host([disabled]) .border-bottom {\n          border-bottom: 1px dashed var(--simple-fields-border-color, #999);\n        }\n        .border-bottom.blur {\n          border-bottom: 1px solid var(--simple-fields-border-color, #999);\n          width: 100%;\n        }\n        .border-bottom.focus {\n          margin: -1px auto 0;\n          width: 0;\n          border-bottom: 2px solid var(--simple-fields-accent-color, #3f51b5);\n          transition: width 0.5s ease-in-out;\n        }\n        :host(:focus-within) .border-bottom.focus {\n          width: 100%;\n          transition: width 0.5s ease-in-out;\n        }\n      "]);_templateObject2_a47e55206d7711eabc05594818a06afe=function _templateObject2_a47e55206d7711eabc05594818a06afe(){return data};return data}function _templateObject_a47e55206d7711eabc05594818a06afe(){var data=babelHelpers.taggedTemplateLiteral(["\n      "," ","\n    "]);_templateObject_a47e55206d7711eabc05594818a06afe=function _templateObject_a47e55206d7711eabc05594818a06afe(){return data};return data}/**
 *`simple-fields-container`
 * Progressive enhanced container HTML fields
 * with label, description, error massage,
 * and aria-invalid functionality if needed.
 *
 * @group simple-fields
 * @customElement simple-fields-container
 * @demo ./demo/container.html
 */var SimpleFieldsContainer=/*#__PURE__*/function(_LitElement){babelHelpers.inherits(SimpleFieldsContainer,_LitElement);babelHelpers.createClass(SimpleFieldsContainer,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject_a47e55206d7711eabc05594818a06afe(),this.fieldMainTemplate,this.fieldBottom)}}],[{key:"tag",get:function get(){return"simple-fields-container"}},{key:"styles",get:function get(){return[(0,_litElement.css)(_templateObject2_a47e55206d7711eabc05594818a06afe())]}},{key:"properties",get:function get(){return{/**
       * Automatically validate field
       */autovalidate:{type:Boolean},/**
       * Optional description of the field (or use slot="description")
       */description:{type:String},/**
       * Whether the form control is disabled
       */disabled:{type:Boolean,reflect:!0},/**
       * Optional validation error message to display
       */defaultErrorMessage:{type:String},/**
       * Optional required validation error message to display
       */defaultRequiredMessage:{type:String},/**
       * Whether field has errors
       */error:{type:Boolean,reflect:!0},/**
       * Validation error message to display
       */errorMessage:{type:String},/**
       * Whether the field is hidden
       */hidden:{type:Boolean,reflect:!0},/**
       * Field element
       */field:{type:Object},/**
       * Unique id
       */id:{type:String,reflect:!0},/**
       * Whether field and label should be inline
       */inline:{type:Boolean,reflect:!0},/**
       * Label for the field (or use slot="label")
       */label:{type:String},/**
       * Name of the input form control. Submitted with the form as part of a name/value pair.
       */name:{type:String,reflect:!0},/**
       * Optional prefix string (or use slot="prefix")
       */prefix:{type:String},/**
       * Value is not editable
       */readonly:{type:Boolean,reflect:!0},/**
       * Whether field is required
       */required:{type:Boolean,reflect:!0},/**
       * Optional suffix string (or use slot="suffix")
       */suffix:{type:String},/**
       * Current value of the form control. Submitted with the form as part of a name/value pair.
       */value:{reflect:!0},/**
       * Type of input form control
       */type:{type:String,reflect:!0},/**
       * List of valid field types
       */validTypes:{type:Array}}}}]);function SimpleFieldsContainer(){var _this;babelHelpers.classCallCheck(this,SimpleFieldsContainer);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SimpleFieldsContainer).call(this));_this.autovalidate=!1;_this.disabled=!1;_this.hidden=!1;_this.error=!1;_this.inline=!1;_this.validTypes=["checkbox","color","date","datetime-local","email","file","hidden","month","number","password","radio","range","search","select","tel","text","textarea","time","url","week"];_this._observeAndListen();_this.addEventListener("click",function(e){return _this.focus()});return _this}babelHelpers.createClass(SimpleFieldsContainer,[{key:"disconnectedCallback",value:function disconnectedCallback(){var _this2=this;this.removeEventListener("click",function(e){return _this2.focus()});babelHelpers.get(babelHelpers.getPrototypeOf(SimpleFieldsContainer.prototype),"disconnectedCallback",this).call(this)}/**
   * makes a field autogrow
   *
   * @memberof SimpleFieldsContainer
   */},{key:"autoGrow",value:function autoGrow(field){if(field)return;this._updateCount();if(field){field.style.height="auto";field.style.height="".concat(field.scrollHeight,"px");field.style.overflowY="hidden"}}/**
   * updates slotted field
   *
   * @memberof SimpleFieldsContainer
   */},{key:"firstUpdated",value:function firstUpdated(){this._updateField()}/**
   * updates for slotted input
   * overrride for shadow DOM
   *
   * @param {*} changedProperties
   * @memberof SimpleFieldsContainer
   */},{key:"updated",value:function updated(changedProperties){var _this3=this,errorChanged=!1;changedProperties.forEach(function(oldValue,propName){if("error"===propName&&_this3.error!==oldValue)errorChanged=!0;if("errorMessage"===propName&&_this3.errorMessage!==oldValue)errorChanged=!0;if("error"===propName&&_this3.field){_this3.field.setAttribute("aria-invalid",_this3.error?"true":"false")}});if(errorChanged)this._fireErrorChanged()}/**
   * template for slotted or shadow DOM description
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"focus",/**
   * focuses on field
   * @memberof SimpleFieldsContainer
   */value:function focus(){if(this.field)this.field.focus()}/**
   * selects all text
   * @memberof SimpleFieldsContainer
   */},{key:"select",value:function select(){if(this.field&&("text"===this.type||"textarea"===this.type))this.field.select()}/**
   * replaces a range of text
   * @param {string} replacement string to insert
   * @param {number=selectionStart} start 0-based index first character to replace
   * @param {number=selectionEnd} end 0-based index after last character to replace
   * @param {selectMode} after the text has been replaced:
   * "select" selects the newly inserted text,
   * "start" moves the selection to just before the inserted text,
   * "end" moves the selection to just after the inserted text, and
   * "preserve" attempts to preserve the selection. This is the default.
   * @memberof SimpleFieldsContainer
   */},{key:"setRangeText",value:function setRangeText(replacement,start,end,selectMode){if(this.field&&("text"===this.type||"textarea"===this.type))this.field.setRangeText(replacement,start,end,selectMode)}/**
   * selects a range of text
   * @param {string} replacement string to insert
   * @param {selectionStart} start 0-based index first character
   * @param {selectionEnd} end 0-based index after last character
   * @param {selectMode} selection direction: "forward", "backward", or default "none"
   * @memberof SimpleFieldsContainer
   */},{key:"setSelectionRange",value:function setSelectionRange(selectionStart,selectionEnd,selectionDirection){if(this.field&&("text"===this.type||"textarea"===this.type))this.field.setSelectionRange(selectionStart,selectionEnd,selectionDirection)}/**
   * decrements by a multiple of step
   *
   * @param {number} [n=1]
   * @memberof SimpleFieldsContainer
   */},{key:"stepDown",value:function stepDown(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;if(this.field&&this.numeric)this.field.stepDown()}/**
   * increments by a multiple of step
   *
   * @param {number} [n=1]
   * @memberof SimpleFieldsContainer
   */},{key:"stepUp",value:function stepUp(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;if(this.field&&this.numeric)this.field.stepUp()}/**
   * checks validation constraints and returns error data (for slotted field)
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"validate",value:function validate(){var value=this.field.value,pattern=this.field.pattern,requiredError=!value&&this.required?this.defaultRequiredMessage||this.defaultErrorMessage:!1,patternError=""!==pattern&&value&&!value.match(pattern)?this.defaultErrorMessage:!1;this.errorMessage=requiredError||patternError;this.error=!1!==this.errorMessage}/**
   * fires when error changes
   * @event error-changed
   */},{key:"_fireErrorChanged",value:function _fireErrorChanged(){this.dispatchEvent(new CustomEvent("error-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}/**
   * gets a valid version of a given type
   *
   * @param {string} type
   * @returns {string}
   * @memberof SimpleFieldsContainer
   */},{key:"_getValidType",value:function _getValidType(type){if("datetime"===type&&this.validTypes.includes(type)){return"datetime-local"}else if(this.validTypes.includes(type)){return type}return"text"}/**
   * observes slotted field and listens for focusout
   * override for fields in shadow DOM
   *
   * @param {boolean} [init=true] whether to start observing or disconnect observer
   * @memberof SimpleFieldsContainer
   */},{key:"_observeAndListen",value:function _observeAndListen(){var init=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0;if(init){this.slottedFieldObserver.observe(this,{attributeFilter:["disabled","readonly","required","slot"],childlist:!0});this._updateField();this.addEventListener("click",this.focus);this.addEventListener("focusout",this._onFocusout);this.addEventListener("focusin",this._onFocusin)}else{this.slottedFieldObserver.disconnect();this.removeEventListener("click",this.focus);this.removeEventListener("focusout",this._onFocusout);this.removeEventListener("focusin",this._onFocusin)}}/**
   * handles focusout validation
   *
   * @memberof SimpleFieldsContainer
   */},{key:"_onFocusin",value:function _onFocusin(){this.error=!1}/**
   * handles focusout validation
   *
   * @memberof SimpleFieldsContainer
   */},{key:"_onFocusout",value:function _onFocusout(){if(this.autovalidate)this.validate()}/**
   * updates field an type
   *
   * @memberof SimpleFieldsContainer
   */},{key:"_updateField",value:function _updateField(){this.field=this.querySelector&&this.querySelector("[slot=field]")?this.querySelector("[slot=field]"):void 0;this.id="".concat(this.fieldId||"","-wrapper");if(this.field){var tag=this.field.tagName.toLowerCase(),type=this.field.type||this.field.getAttribute("type")||"text";this.type=this._getValidType("input"===tag?type:tag);this.required=this.field.required;this.disabled=this.field.disabled;this.readonly=this.field.readonly;this.field.setAttribute("aria-describedby","field-bottom")}else{this.disabled=!1;this.readonly=!1;this.required=!1;this.type=void 0}}},{key:"descriptionTemplate",get:function get(){return(0,_litElement.html)(_templateObject3_a47e55206d7711eabc05594818a06afe(),this.description)}/**
   * template for slotted or shadow DOM error message
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"errorTemplate",get:function get(){return(0,_litElement.html)(_templateObject4_a47e55206d7711eabc05594818a06afe(),!this.error,this.errorMessage)}/**
   *
   * gets bottom (metadata, description, and error message) of a field
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"fieldBottom",get:function get(){return(0,_litElement.html)(_templateObject5_a47e55206d7711eabc05594818a06afe(),this.descriptionTemplate,this.errorTemplate,this.fieldMeta)}/**
   * gets field element tag in shadow DOM
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"fieldElementTag",get:function get(){return"select"===this.type?"select":"textarea"===this.type?"textarea":this.hasFieldSet?"fieldset":"input"}/**
   * gets field's id
   *
   * @readonly
   * @returns {string}
   * @memberof SimpleFieldsContainer
   */},{key:"fieldId",get:function get(){return"".concat(this.id||"field",".input")}/**
   * template for slotted or shadow DOM label
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"fieldMainTemplate",get:function get(){return(0,_litElement.html)(_templateObject6_a47e55206d7711eabc05594818a06afe(),this.inline||["checkbox","color","radio"].includes(this.type||"text")?"field-main inline":"field-main",this.labelTemplate,this.prefixTemplate,this.suffixTemplate)}/**
   *
   * gets field metadata
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"fieldMeta",get:function get(){return(0,_litElement.html)(_templateObject7_a47e55206d7711eabc05594818a06afe())}/**
   * template for slotted or shadow DOM label
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"labelTemplate",get:function get(){return(0,_litElement.html)(_templateObject8_a47e55206d7711eabc05594818a06afe(),this.fieldId,this.label,this.error||this.required?"*":"")}/**
   * determines if field is numeric
   *
   * @readonly
   * @returns {boolean}
   * @memberof SimpleFieldsContainer
   */},{key:"numeric",get:function get(){return["date","month","week","time","datetime-local","number","range"].includes(this.type)}/**
   * template for slotted or shadow DOM prefix
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"prefixTemplate",get:function get(){return(0,_litElement.html)(_templateObject9_a47e55206d7711eabc05594818a06afe(),this.prefix)}/**
   * mutation observer that updates field property with slotted field
   * override for shadow DOM field
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"slottedFieldObserver",get:function get(){return new MutationObserver(this._updateField)}/**
   * template for slotted or shadow DOM suffix
   *
   * @readonly
   * @returns {object}
   * @memberof SimpleFieldsContainer
   */},{key:"suffixTemplate",get:function get(){return(0,_litElement.html)(_templateObject10_a47e55206d7711eabc05594818a06afe(),this.suffix)}}]);return SimpleFieldsContainer}(_litElement.LitElement);_exports.SimpleFieldsContainer=SimpleFieldsContainer;window.customElements.define(SimpleFieldsContainer.tag,SimpleFieldsContainer)});