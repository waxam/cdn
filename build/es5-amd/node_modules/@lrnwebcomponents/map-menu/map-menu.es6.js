var _templateObject=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        --map-menu-active-color: rgba(0, 0, 0, 0.1);\n        display: block;\n        overflow-y: scroll;\n        position: relative;\n        height: 100%;\n      }\n\n      #activeIndicator {\n        background: var(--map-menu-active-color);\n        transition: all 0.3s ease-in-out;\n        position: absolute;\n      }\n\n      map-menu-container {\n        padding: 32px;\n        @apply --map-menu-container;\n      }\n\n      /* turn default active color if indicator is on */\n      :host([active-indicator]) map-menu-builder {\n        --map-menu-active-color: transparent;\n      }\n    </style>\n    <div id=\"itemslist\">\n      <map-menu-container>\n        <div id=\"activeIndicator\"></div>\n        <map-menu-builder id=\"builder\" items=\"[[items]]\"></map-menu-builder>\n      </map-menu-container>\n    </div>\n    <smooth-scroll id=\"smoothScroll\"></smooth-scroll>\n  "],["\n    <style>\n      :host {\n        --map-menu-active-color: rgba(0, 0, 0, 0.1);\n        display: block;\n        overflow-y: scroll;\n        position: relative;\n        height: 100%;\n      }\n\n      #activeIndicator {\n        background: var(--map-menu-active-color);\n        transition: all 0.3s ease-in-out;\n        position: absolute;\n      }\n\n      map-menu-container {\n        padding: 32px;\n        @apply --map-menu-container;\n      }\n\n      /* turn default active color if indicator is on */\n      :host([active-indicator]) map-menu-builder {\n        --map-menu-active-color: transparent;\n      }\n    </style>\n    <div id=\"itemslist\">\n      <map-menu-container>\n        <div id=\"activeIndicator\"></div>\n        <map-menu-builder id=\"builder\" items=\"[[items]]\"></map-menu-builder>\n      </map-menu-container>\n    </div>\n    <smooth-scroll id=\"smoothScroll\"></smooth-scroll>\n  "]);import{html,Polymer}from"./node_modules/@polymer/polymer/polymer-legacy.js";import"./node_modules/@lrnwebcomponents/smooth-scroll/smooth-scroll.js";import"./lib/map-menu-container.js";import"./lib/map-menu-builder.js";var MapMenu=Polymer({_template:html(_templateObject),is:"map-menu",properties:{title:{type:String,value:"Content Outline"},data:{type:Array,value:null},items:{type:Array,value:null,notify:!0},selected:{type:String,notify:!0,observer:"__selectedChanged"},autoScroll:{type:Boolean,value:!1},activeIndicator:{type:Boolean,value:!1}},observers:["_dataChanged(data)"],listeners:{"link-clicked":"__linkClickedHandler","child-attached":"__childAttached","toggle-updated":"__toggleUpdated"},__selectedChanged:function(b,c){b!==c&&this.refreshActiveChildren(b)},refreshActiveChildren:function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:100,f=this.querySelector("[active]");if(b&&""!==b){var g=this.querySelector("#"+b);g&&(g.setAttribute("active",!0),this.activeIndicator&&this.__updateActiveIndicator(g,c),this.autoScroll&&this.$.smoothScroll.scroll(g,{duration:300,scrollElement:this}))}f&&f.removeAttribute("active")},setData:function(b){this.set("data",[]),this.set("data",b)},_dataChanged:function(b){var c=this,f=[];b&&(b.forEach(function(g){g.parent||f.push(g)}),f.forEach(function(g){c._setChildren(g,b)}),this.set("items",[]),this.set("items",f))},_setChildren:function(b,c){var f=this,g=c.filter(function(h){return b.id===h.parent});b.children=g,0<b.children.length&&b.children.forEach(function(h){f._setChildren(h,c)})},__hasChildren:function(b){return 0<b.children.length},__linkClickedHandler:function(b){this.selected=b.detail.id,this.fire("selected",b.detail.id)},__childAttached:function(b){var c=b.detail.id;c===this.selected&&this.refreshActiveChildren(this.selected)},__toggleUpdated:function(){this.refreshActiveChildren(this.selected,300)},__isInViewport:function(b){var c=this.__getScrollParent(b);if(!c)return!1;var f=b.offsetTop,g=f+b.offsetHeight,h=c.offsetTop,j=h+c.offsetHeight;return g>h&&f<j},__getScrollParent:function(b){return null==b?null:b.scrollHeight>b.clientHeight?b:this.__getScrollParent(b.parentNode)},__updateActiveIndicator:function(b){var c=this,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:100;setTimeout(function(){var g=c.$.activeIndicator,h=c.__parentsHidden(b),j=b.offsetLeft,k=b.offsetBottom,l=b.offsetTop,m=b.offsetWidth,n=h?0:b.offsetHeight;f=0<n?f:10,g.setAttribute("style","width:"+m+"px;height:"+n+"px;top:"+l+"px;left:"+j+"px")},f)},__parentsHidden:function(b){var c=b.parentNode;return null==c?null:"MAP-MENU-SUBMENU"!==c.tagName||c.opened?"MAP-MENU"!==c.tagName&&this.__parentsHidden(c):!0}});export{MapMenu};