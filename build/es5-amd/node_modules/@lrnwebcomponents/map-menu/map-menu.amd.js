define(["exports","./node_modules/@polymer/polymer/polymer-legacy.js","./node_modules/@lrnwebcomponents/smooth-scroll/smooth-scroll.js","./lib/map-menu-container.js","./lib/map-menu-builder.js"],function(a,b){"use strict";function h(){var k=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        --map-menu-active-color: rgba(0, 0, 0, 0.1);\n        display: block;\n        overflow-y: scroll;\n        position: relative;\n        height: 100%;\n      }\n\n      #activeIndicator {\n        background: var(--map-menu-active-color);\n        transition: all 0.3s ease-in-out;\n        position: absolute;\n      }\n\n      map-menu-container {\n        padding: 32px;\n        @apply --map-menu-container;\n      }\n\n      /* turn default active color if indicator is on */\n      :host([active-indicator]) map-menu-builder {\n        --map-menu-active-color: transparent;\n      }\n    </style>\n    <div id=\"itemslist\">\n      <map-menu-container>\n        <div id=\"activeIndicator\"></div>\n        <map-menu-builder id=\"builder\" items=\"[[items]]\"></map-menu-builder>\n      </map-menu-container>\n    </div>\n    <smooth-scroll id=\"smoothScroll\"></smooth-scroll>\n  "]);return h=function(){return k},k}Object.defineProperty(a,"__esModule",{value:!0}),a.MapMenu=void 0;var j=(0,b.Polymer)({_template:(0,b.html)(h()),is:"map-menu",properties:{title:{type:String,value:"Content Outline"},data:{type:Array,value:null},items:{type:Array,value:null,notify:!0},selected:{type:String,notify:!0,observer:"__selectedChanged"},autoScroll:{type:Boolean,value:!1},activeIndicator:{type:Boolean,value:!1}},observers:["_dataChanged(data)"],listeners:{"link-clicked":"__linkClickedHandler","child-attached":"__childAttached","toggle-updated":"__toggleUpdated"},__selectedChanged:function(l,m){l!==m&&this.refreshActiveChildren(l)},refreshActiveChildren:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=this.querySelector("[active]");if(l&&""!==l){var o=this.querySelector("#".concat(l));o&&(o.setAttribute("active",!0),this.activeIndicator&&this.__updateActiveIndicator(o,m),this.autoScroll&&this.$.smoothScroll.scroll(o,{duration:300,scrollElement:this}))}n&&n.removeAttribute("active")},setData:function(l){this.set("data",[]),this.set("data",l)},_dataChanged:function(l){var m=this,n=[];l&&(l.forEach(function(o){o.parent||n.push(o)}),n.forEach(function(o){m._setChildren(o,l)}),this.set("items",[]),this.set("items",n))},_setChildren:function(l,m){var n=this,o=m.filter(function(p){return l.id===p.parent});l.children=o,0<l.children.length&&l.children.forEach(function(p){n._setChildren(p,m)})},__hasChildren:function(l){return 0<l.children.length},__linkClickedHandler:function(l){this.selected=l.detail.id,this.fire("selected",l.detail.id)},__childAttached:function(l){var m=l.detail.id;m===this.selected&&this.refreshActiveChildren(this.selected)},__toggleUpdated:function(){this.refreshActiveChildren(this.selected,300)},__isInViewport:function(l){var m=this.__getScrollParent(l);if(!m)return!1;var n=l.offsetTop,o=n+l.offsetHeight,p=m.offsetTop,q=p+m.offsetHeight;return o>p&&n<q},__getScrollParent:function(l){return null==l?null:l.scrollHeight>l.clientHeight?l:this.__getScrollParent(l.parentNode)},__updateActiveIndicator:function(l){var m=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;setTimeout(function(){var o=m.$.activeIndicator,p=m.__parentsHidden(l),q=l.offsetLeft,r=l.offsetBottom,s=l.offsetTop,t=l.offsetWidth,u=p?0:l.offsetHeight;n=0<u?n:10,o.setAttribute("style","width:".concat(t,"px;height:").concat(u,"px;top:").concat(s,"px;left:").concat(q,"px"))},n)},__parentsHidden:function(l){var m=l.parentNode;return null==m?null:"MAP-MENU-SUBMENU"!==m.tagName||m.opened?"MAP-MENU"!==m.tagName&&this.__parentsHidden(m):!0}});a.MapMenu=j});