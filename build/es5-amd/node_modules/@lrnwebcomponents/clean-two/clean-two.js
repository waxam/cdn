define(["exports", "require", "../../lit-element/lit-element.js", "../haxcms-elements/lib/core/HAXCMSLitElementTheme.js", "../haxcms-elements/lib/core/utils/HAXCMSThemeParts.js", "../haxcms-elements/lib/core/utils/HAXCMSMobileMenu.js", "../haxcms-elements/lib/core/haxcms-site-store.js", "../../mobx/lib/mobx.module.js", "../../@polymer/paper-icon-button/paper-icon-button.js"], function (_exports, _require, _litElement, _HAXCMSLitElementTheme, _HAXCMSThemeParts2, _HAXCMSMobileMenu, _haxcmsSiteStore, _mobxModule, _paperIconButton) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.CleanTwo = void 0;
  _require = babelHelpers.interopRequireWildcard(_require);

  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { babelHelpers.defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

  function _templateObject4_766b7c90c96f11ea8be5e1d5fe7ec787() {
    var data = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n          font-size: 16px;\n          --haxcms-base-styles-body-font-size:16px;\n          --hax-base-styles-a-font-size: 16px;\n          --hax-base-styles-p-font-size: 16px;\n          --hax-base-styles-list-font-size: 16px;\n          --haxcms-base-styles-body-font-family: \"Helvetica Neue\",Helvetica,Arial,sans-serif\n          --haxcms-base-styles-body-line-height: 1.7;\n          --hax-base-styles-list-line-height: 1.7;\n          --hax-base-styles-p-line-height: 1.7;\n          --hax-base-styles-p-letter-spacing: .2px;\n          --haxcms-base-styles-body-letter-spacing : .2px;\n          --hax-base-styles-p-min-height: auto;\n          --hax-base-styles-list-max-width: auto;\n          --haxcms-base-styles-p-min-height: auto;\n          --hax-base-styles-list-padding-bottom: auto;\n          --hax-base-styles-h1-font-size: inherit;\n          --hax-base-styles-h2-font-size: inherit;\n          --hax-base-styles-h3-font-size: inherit;\n          --hax-base-styles-h4-font-size: inherit;\n          --hax-base-styles-h5-font-size: inherit;\n          --hax-base-styles-h6-font-size: inherit;\n          --simple-tooltip-background: #000000;\n          --simple-tooltip-opacity: 1;\n          --simple-tooltip-text-color: #ffffff;\n          --simple-tooltip-delay-in: 0;\n          --simple-tooltip-border-radius: 0;\n          --hax-base-styles-a-color-visited:  var(--haxcms-color, var(--simple-colors-default-theme-purple-7));\n          --hax-base-styles-a-color: var(--haxcms-color, var(--simple-colors-default-theme-purple-7));\n          --hax-base-styles-a-color-active: #000000;\n          --site-search-result-background-color: transparent;\n          --site-search-result-background-color-hover: #F5F5F5;\n          --site-search-link-color-hover: #252737;\n          --site-search-link-text-color: #252737;\n          --site-search-link-color: #252737;\n          --site-search-result-color: #252737;\n        }\n        .link-actions {\n          margin: 0;\n          display: block;\n          padding: 0;\n          border-top: 2px solid #E6ECF1;\n          margin-top: 24px;\n          align-items: center;\n          padding-top: 24px;\n          flex-direction: row;\n          -webkit-box-align: center;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n        }\n        .link-actions .inner {\n          width: auto;\n          margin: 0;\n          display: grid;\n          padding: 0;\n          -ms-grid-rows: auto;\n          grid-column-gap: 24px;\n          -ms-grid-columns: 1fr 1fr;\n          grid-template-rows: auto;\n          grid-template-areas: \"previous next\";\n          grid-template-columns: 1fr 1fr;\n        }\n        site-menu-button {\n          --site-menu-button-link-decoration: none;\n          --site-menu-button-button-hover-color: var(--haxcms-color, var(--simple-colors-default-theme-purple-7));\n          color: #242A31;\n          border: 1px solid #E6ECF1;\n          margin: 0;\n          display: block;\n          padding: 0;\n          position: relative;\n          align-self: stretch;\n          box-shadow: 0 3px 8px 0 rgba(116, 129, 141, 0.1);\n          transition: border 250ms ease;\n          align-items: center;\n          justify-self: stretch;\n          text-overflow: ellipsis;\n          border-radius: 3px;\n          flex-direction: row;\n          -moz-transition: border 250ms ease;\n          text-decoration: none;\n          background-color: #FFFFFF;\n          -webkit-box-align: center;\n          page-break-inside: avoid;\n          -ms-grid-row-align: stretch;\n          -webkit-box-orient: horizontal;\n          -webkit-transition: border 250ms ease;\n          -ms-grid-column-align: stretch;\n          -webkit-box-direction: normal;\n        }\n        site-git-corner {\n          height: 40px;\n          width: 40px;\n          margin:0;\n          padding:0;\n          --site-git-corner-color: black;\n          --site-git-corner-background: transparent;\n        }\n        site-menu-button[edit-mode][disabled] {\n          display: block;\n        }\n        site-menu-button[disabled] {\n          display: none;\n        }\n        site-menu-button[type=\"prev\"] {\n          grid-area: previous;\n        }\n        site-menu-button[type=\"next\"] {\n          grid-area: next;\n        }\n        site-menu-button div.wrapper {\n          flex: 1;\n          margin: 0;\n          display: block;\n          padding: 16px;\n          text-overflow: ellipsis;\n          text-decoration: none;\n          font-size: 16px;\n          font-family: Content-font, Roboto, sans-serif;\n          font-weight: 500;\n          line-height: 1.5;\n          text-transform: none;\n        }\n        site-menu-button div .top {\n          font-size: 12px;\n          font-family: Content-font, Roboto, sans-serif;\n          font-weight: 400;\n          line-height: 1.625;\n          color: #9DAAB6;\n        }\n        site-menu-button div .bottom {\n          font-size: 16px;\n          font-family: Content-font, Roboto, sans-serif;\n          font-weight: 500;\n          line-height: 1.5;\n        }\n        site-menu-button[type=\"next\"] div {\n         text-align: left; \n        }\n        site-menu-button[type=\"prev\"] div {\n         text-align: right; \n        }\n        site-active-title {\n          flex-wrap: wrap;\n          align-items: baseline;\n          flex-direction: row;\n          -webkit-box-align: baseline;\n          -webkit-box-lines: multiple;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n          flex: auto;\n          margin: 0;\n          display: flex;\n        }\n\n        .body-wrapper {\n          flex: 1;\n          height: auto;\n          min-height: 100vh;\n          font-size: 16px;\n          color: #3B454E;\n          background-color: #ffffff;\n          width: auto;\n          margin: 0 auto;\n          display: flex;\n          padding: 0;\n          transition: margin-bottom 250ms ease;\n          align-items: stretch;\n          -moz-transition: margin-bottom 250ms ease;\n          -webkit-box-align: stretch;\n          -webkit-transition: margin-bottom 250ms ease;\n        }\n        :host([is-logged-in][menu-open]) .body-wrapper {\n          margin-left: 48px;\n        }\n        :host([menu-open]) .body-wrapper .left-col {\n          display: -webkit-box;\n          display: -moz-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          display: flex;\n        }\n\n          :host([is-logged-in][menu-open]) .body-wrapper nav {\n            margin-left: 48px;\n          }\n          :host([is-logged-in][menu-open]) .body-wrapper .content-wrapper {\n            margin-left: 0;\n          }\n          :host([is-logged-in]) .body-wrapper .content-wrapper {\n            margin-left: 48px;\n            width: auto;\n          }\n          .body-wrapper .content-wrapper .content {\n            width: auto;\n            margin: 0;\n            padding: 32px 64px;\n          }\n        \n        nav {\n          display: -webkit-box;\n          display: -moz-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          flex: 0 0 auto;\n          padding-left: calc((100vw - 1448px) / 3);\n          display: flex;\n          z-index: 15;\n          min-width: 300px;\n          background: #F5F7F9;\n          align-items: stretch;\n          border-right: 1px solid #E6ECF1;\n          flex-direction: column;\n          -webkit-box-align: stretch;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n        }\n        .left-col {\n          flex: 1;\n          margin: 0;\n          padding: 0;\n          display: none;\n          background-color: #F5F7F9;\n        }\n        @media screen and (min-width: 1024px){\n          .left-col {\n            flex: 0 0 auto;\n            width: auto;\n            z-index: 15;\n            min-width: 300px;\n            align-items: stretch;\n            border-right: 1px solid #E6ECF1;\n            flex-direction: column;\n            -webkit-box-align: stretch;\n            -webkit-box-orient: vertical;\n            -webkit-box-direction: normal;\n          }\n        }\n        site-menu {\n          --site-menu-font-size: 15px;\n          --site-menu-active-color: #E6ECF1;\n          --site-menu-item-active-item-color: var(--haxcms-color, var(--simple-colors-default-theme-purple-7));\n          overflow-y: auto;\n          flex: 1 1 auto;\n          width: 300px;\n          margin: 32px 0 32px 0;\n          display: block;\n          padding: 0;\n          position: fixed;\n          font-size: 15px;\n          overflow-x: hidden;\n          -webkit-overflow-scrolling: touch;\n        }\n\n        .content-wrapper {\n          max-width: 100%;\n          flex: 1 1 auto;\n          margin: 0;\n          display: flex;\n          padding: 0;\n          background-color: #ffffff;\n          flex-direction: column;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n        }\n        .header {\n          position: sticky;\n          top: 0;\n          width: 100%;\n          padding: 0;\n          margin: 0;\n          z-index: 2;\n          height: 40px;\n        }\n        .header #haxcmsmobilemenubutton {\n          float: left;\n          margin-left: -52px\n        }\n        .header site-menu-content {\n          display: inline-flex;\n          float: right;\n          color: black;\n          font-size: 1.5em;\n          margin-right: -52px;\n        }\n        @media screen and (max-width: 600px) {\n          .header site-menu-content {\n            margin-right: -40px;\n          }\n          .link-actions .inner {\n            display: block;\n          }\n          site-menu-button {\n            margin: 10px 0;\n          }\n          #slot ::slotted(iframe) {\n            width: auto;\n          }\n        }\n        @media screen and (min-width: 1024px) {\n          .content-wrapper {\n            margin: 0px 88px;\n          }\n        }\n        @media screen and (min-width: 1514px) {\n          .body-wrapper .content-wrapper .content {\n            padding: 32px 64px;\n          }\n        }\n        .content {\n          flex: 1 1 auto;\n          margin: 0px 16px;\n          display: block;\n          padding: 0;\n          width: 750px;\n        }\n        .right-col {\n          margin: 0;\n          padding: 0;\n          position: relative;\n          margin-right: auto;\n          max-width: 100%;\n          background-color: #ffffff;\n          flex-direction: column;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n          min-height: 100%;\n          color: #3B454E;\n        }\n        .site-menu-content-wrapper {\n          display: -webkit-box;\n          display: -moz-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          flex: 0 0 auto;\n          min-width: 300px;\n          padding-right: calc((100vw - 1448px) / 3);\n          flex: 1;\n          margin: 0;\n          display: block;\n          max-width: 100%;\n          max-height: 976px;\n          z-index: 1;\n          display: -webkit-box;\n          display: -moz-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          height: 100%;\n          margin: 0;\n          display: flex;\n          padding-top: 40px;\n          flex-direction: column;\n          padding-bottom: 40px;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n        }\n        .right-col site-menu-content {\n          flex: 1;\n          margin: 0;\n          display: flex;\n          padding: 0;\n          overflow: hidden;\n          position: fixed;\n          min-width: 224px;\n          counter-reset: toc;\n          flex-direction: column;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n        }\n        .right-col site-menu-content::before {\n          top: 0;\n          left: 0;\n          height: 100%;\n          content: \" \";\n          position: absolute;\n          border-left: 1px solid #E6ECF1;\n        }\n        .footer {\n          margin: 0;\n          display: flex;\n          padding: 0;\n          border-top: 2px solid #E6ECF1;\n          margin-top: 24px;\n          align-items: center;\n          padding-top: 24px;\n          flex-direction: row;\n          -webkit-box-align: center;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n        }\n        .footer-left {\n          flex: 1;\n          margin: 0;\n          display: block;\n          padding: 0;\n          font-size: 12px;\n          color: #888888;\n        }\n        .footer-right {\n          display: flex;\n          align-items: center;\n          flex-direction: row;\n          -webkit-box-align: center;\n          -webkit-box-orient: horizontal;\n          -webkit-box-direction: normal;\n          margin: 0px;\n          padding: 0px;\n        }\n        paper-icon-button,\n        site-rss-button,\n        site-print-button {\n          --iron-icon-fill-color: black;\n          --haxcms-tooltip-color: #F5F5F5;\n          --haxcms-tooltip-background-color: #252737;\n        }\n      "]);

    _templateObject4_766b7c90c96f11ea8be5e1d5fe7ec787 = function _templateObject4_766b7c90c96f11ea8be5e1d5fe7ec787() {
      return data;
    };

    return data;
  }

  function _templateObject3_766b7c90c96f11ea8be5e1d5fe7ec787() {
    var data = babelHelpers.taggedTemplateLiteral(["\n              <div class=\"right-col\">\n                <div class=\"site-menu-content-wrapper\">\n                  <site-menu-content\n                    .part=\"", "\"\n                  ></site-menu-content>\n                </div>\n              </div>\n            "]);

    _templateObject3_766b7c90c96f11ea8be5e1d5fe7ec787 = function _templateObject3_766b7c90c96f11ea8be5e1d5fe7ec787() {
      return data;
    };

    return data;
  }

  function _templateObject2_766b7c90c96f11ea8be5e1d5fe7ec787() {
    var data = babelHelpers.taggedTemplateLiteral(["\n                    <site-menu-content\n                      .part=\"", "\"\n                      mobile\n                    ></site-menu-content>\n                  "]);

    _templateObject2_766b7c90c96f11ea8be5e1d5fe7ec787 = function _templateObject2_766b7c90c96f11ea8be5e1d5fe7ec787() {
      return data;
    };

    return data;
  }

  function _templateObject_766b7c90c96f11ea8be5e1d5fe7ec787() {
    var data = babelHelpers.taggedTemplateLiteral(["\n      <div class=\"body-wrapper\">\n        <div class=\"left-col\">\n          ", "\n        </div>\n        <div class=\"content-wrapper\">\n          <div class=\"content\">\n            <div class=\"header\">\n              ", "\n              ", "\n            </div>\n            <site-active-title></site-active-title>\n            <site-search\n              hide-input\n              search=\"", "\"\n              @search-item-selected=\"", "\"\n              ?hidden=\"", "\"\n            ></site-search>\n            <div\n              id=\"contentcontainer\"\n              ?hidden=\"", "\"\n            >\n              <div id=\"slot\">\n                <slot></slot>\n              </div>\n            </div>\n            <div class=\"link-actions\">\n              <div class=\"inner\">\n                <site-menu-button\n                  hide-label\n                  type=\"prev\"\n                  position=\"right\"\n                  class=\"navigation\"\n                  @label-changed=\"", "\"\n                >\n                  <div slot=\"suffix\" class=\"wrapper\">\n                    <div class=\"top\">Previous</div>\n                    <div class=\"bottom\">", "</div>\n                  </div>\n                </site-menu-button>\n                <site-menu-button\n                  hide-label\n                  type=\"next\"\n                  position=\"left\"\n                  class=\"navigation\"\n                  @label-changed=\"", "\"\n                >\n                  <div slot=\"prefix\" class=\"wrapper\">\n                    <div class=\"top\">Next</div>\n                    <div class=\"bottom\">", "</div>\n                  </div>\n                </site-menu-button>\n              </div>\n            </div>\n            <div class=\"footer\">\n              <div class=\"footer-left\">\n                Last updated\n                <simple-datetime\n                  unix\n                  .timestamp=\"", "\"\n                ></simple-datetime>\n              </div>\n              <div class=\"footer-right\">\n                <site-print-button\n                  class=\"btn js-toolbar-action\"\n                ></site-print-button>\n                <site-rss-button type=\"rss\"></site-rss-button>\n                <site-git-corner size=\"small\" circle></site-git-corner>\n              </div>\n            </div>\n          </div>\n        </div>\n        ", "\n      </div>\n    "]);

    _templateObject_766b7c90c96f11ea8be5e1d5fe7ec787 = function _templateObject_766b7c90c96f11ea8be5e1d5fe7ec787() {
      return data;
    };

    return data;
  }

  /**
   * `clean-two`
   * `A 2nd clean theme`
   *
   * @microcopy - language worth noting:
   *  - HAXcms - A headless content management system
   *  - HAXCMSTheme - A super class that provides correct baseline wiring to build a new theme
   *
   * @demo demo/index.html
   * @element clean-two
   */
  var CleanTwo =
  /*#__PURE__*/
  function (_HAXCMSThemeParts) {
    babelHelpers.inherits(CleanTwo, _HAXCMSThemeParts);
    babelHelpers.createClass(CleanTwo, [{
      key: "searchItemSelected",
      value: function searchItemSelected(e) {
        // an item was picked, let's just make the UI jump to that item
        this.searchTerm = "";
      }
    }, {
      key: "searchChanged",
      value: function searchChanged(e) {
        var _this2 = this;

        var target = null;

        if (e.path && e.path[0]) {
          target = e.path[0];
        } else if (e.originalTarget) {
          target = e.originalTarget;
        } else {
          target = e.target;
        }

        if (target.value) {
          new Promise(function (res, rej) {
            return _require.default(["../haxcms-elements/lib/ui-components/site/site-search.js"], res, rej);
          }).then(function () {
            _this2.searchTerm = target.value;
          });
        } else {
          this.searchTerm = "";
        }
      } // render function

    }, {
      key: "render",
      value: function render() {
        return (0, _litElement.html)(_templateObject_766b7c90c96f11ea8be5e1d5fe7ec787(), this.HAXCMSMobileMenu(), this.HAXCMSMobileMenuButton(), this.responsiveSize != "xl" ? (0, _litElement.html)(_templateObject2_766b7c90c96f11ea8be5e1d5fe7ec787(), this.editMode ? "edit-mode-active" : "") : "", this.searchTerm, this.searchItemSelected, this.searchTerm != "" ? false : true, this.searchTerm != "" ? true : false, this.__prevPageLabelChanged, this.prevPage, this.__nextPageLabelChanged, this.nextPage, this.pageTimestamp, this.responsiveSize == "xl" ? (0, _litElement.html)(_templateObject3_766b7c90c96f11ea8be5e1d5fe7ec787(), this.editMode ? "edit-mode-active" : "") : "");
      }
    }, {
      key: "__prevPageLabelChanged",
      value: function __prevPageLabelChanged(e) {
        this.prevPage = e.detail.value;
      }
    }, {
      key: "__nextPageLabelChanged",
      value: function __nextPageLabelChanged(e) {
        this.nextPage = e.detail.value;
      } // properties available to the custom element for data binding

    }], [{
      key: "styles",
      //styles function
      get: function get() {
        return [].concat(babelHelpers.toConsumableArray(babelHelpers.get(babelHelpers.getPrototypeOf(CleanTwo), "styles", this)), [(0, _litElement.css)(_templateObject4_766b7c90c96f11ea8be5e1d5fe7ec787())]);
      }
    }, {
      key: "properties",
      get: function get() {
        return _objectSpread({}, babelHelpers.get(babelHelpers.getPrototypeOf(CleanTwo), "properties", this), {
          searchTerm: {
            type: String
          },
          prevPage: {
            type: String
          },
          nextPage: {
            type: String
          },
          pageTimestamp: {
            type: Number
          }
        });
      }
      /**
       * Store the tag name to make it easier to obtain directly.
       * @notice function name must be here for tooling to operate correctly
       */

    }, {
      key: "tag",
      get: function get() {
        return "clean-two";
      }
      /**
       * Add elements to cheat on initial paint here
       */

    }]);

    function CleanTwo() {
      var _this;

      babelHelpers.classCallCheck(this, CleanTwo);
      _this = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(CleanTwo).call(this));
      _this.HAXCMSThemeSettings.autoScroll = true;
      _this.searchTerm = "";
      _this.__disposer = _this.__disposer ? _this.__disposer : [];
      (0, _mobxModule.autorun)(function (reaction) {
        _this.activeManifestIndex = (0, _mobxModule.toJS)(_haxcmsSiteStore.store.activeManifestIndex);

        _this.__disposer.push(reaction);
      });
      (0, _mobxModule.autorun)(function (reaction) {
        if (_haxcmsSiteStore.store.activeItem && _haxcmsSiteStore.store.activeItem.metadata && _haxcmsSiteStore.store.activeItem.metadata.updated) {
          _this.pageTimestamp = (0, _mobxModule.toJS)(_haxcmsSiteStore.store.activeItem.metadata.updated);
        }

        _this.__disposer.push(reaction);
      });
      new Promise(function (res, rej) {
        return _require.default(["../simple-datetime/simple-datetime.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/active-item/site-active-title.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/navigation/site-menu.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/navigation/site-menu-content.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/navigation/site-menu-button.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/site/site-print-button.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/site/site-rss-button.js"], res, rej);
      });
      new Promise(function (res, rej) {
        return _require.default(["../haxcms-elements/lib/ui-components/active-item/site-git-corner.js"], res, rej);
      });
      return _this;
    }
    /**
     * life cycle, element is removed from the DOM
     */


    babelHelpers.createClass(CleanTwo, [{
      key: "disconnectedCallback",
      value: function disconnectedCallback() {
        for (var i in this.__disposer) {
          this.__disposer[i].dispose();
        }

        babelHelpers.get(babelHelpers.getPrototypeOf(CleanTwo.prototype), "disconnectedCallback", this).call(this);
      }
    }]);
    return CleanTwo;
  }((0, _HAXCMSThemeParts2.HAXCMSThemeParts)((0, _HAXCMSMobileMenu.HAXCMSMobileMenuMixin)(_HAXCMSLitElementTheme.HAXCMSLitElementTheme)));

  _exports.CleanTwo = CleanTwo;
  window.customElements.define(CleanTwo.tag, CleanTwo);
});