define(["../../../@polymer/polymer/polymer-legacy.js","../../../@polymer/paper-button/paper-button.js","../../simple-datetime/simple-datetime.js","../../haxcms-elements/lib/haxcms-site-store.js","../../../mobx/lib/mobx.module.js"],function(_polymerLegacy,_paperButton,_simpleDatetime,_haxcmsSiteStore,_mobxModule){"use strict";function _templateObject_4f0a35f03c4511e9a62bc38461e84786(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n      :host *[hidden] {\n        display: none;\n      }\n      .background-closer-image {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n        opacity: 0.4;\n        transition: all 0.6s linear;\n      }\n      .background-closer-image-wrap {\n        position: absolute;\n        background-color: rgba(0, 0, 0, 0.9);\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        transition: all 0.6s linear;\n        opacity: 1;\n      }\n      :host([active]) .background-closer-image {\n        opacity: 0.8;\n      }\n      :host([active]) .background-closer-image-wrap {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      .inner {\n        width: 100%;\n        position: relative;\n        z-index: 99;\n        max-width: 640px;\n        padding: 32px 0;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .blog-title {\n        margin: 0;\n        padding: 0 0 10px;\n        font-size: 50px;\n        text-align: center;\n        font-weight: 700;\n        letter-spacing: -2px;\n        outline: 0;\n        line-height: 50px;\n        word-break: break-word;\n        color: white;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      .blog-description {\n        margin: 0 0 50px;\n        padding: 0 32px;\n        font-size: 18px;\n        line-height: 1.5;\n        color: white;\n        text-align: center;\n        font-weight: 400;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      paper-button:not([disabled]) {\n        display: block;\n        text-align: center;\n        letter-spacing: -0.32px;\n        font-size: 15px;\n        font-weight: 400;\n        font-style: normal;\n        text-decoration: none;\n        cursor: pointer;\n        height: 44px;\n        background-color: var(--haxcms-color);\n        color: black;\n        vertical-align: middle;\n        box-sizing: border-box;\n        border-radius: none;\n        line-height: 44px;\n        margin: 16px 0;\n        padding: 0;\n      }\n      paper-button:focus,\n      paper-button:active,\n      paper-button:hover {\n        outline: 2px solid var(--haxcms-color);\n        outline-offset: 8px;\n      }\n      simple-datetime {\n        letter-spacing: -0.32px;\n        font-weight: 300;\n        font-style: normal;\n        font-size: 16px;\n        line-height: 1.3;\n        color: black;\n        display: inline-flex;\n      }\n    </style>\n    <div class=\"background-closer-image-wrap\">\n      <div\n        class=\"background-closer-image\"\n        style$=\"background-image: url([[manifest.metadata.image]])\"\n      ></div>\n    </div>\n    <div class=\"inner\">\n      <paper-button\n        disabled=\"[[disableNextPage(activeManifestIndex)]]\"\n        on-click=\"nextPage\"\n        raised=\"[[!disableNextPage(activeManifestIndex)]]\"\n      >\n        <simple-datetime\n          hidden$=\"[[disableNextPage(activeManifestIndex)]]\"\n          format=\"M jS\"\n          timestamp=\"[[nextChanged]]\"\n          unix\n        ></simple-datetime>\n        [[nextTitle]]\n      </paper-button>\n      <paper-button\n        disabled=\"[[disablePrevPage(activeManifestIndex)]]\"\n        on-click=\"prevPage\"\n        raised=\"[[!disablePrevPage(activeManifestIndex)]]\"\n      >\n        <simple-datetime\n          hidden$=\"[[disablePrevPage(activeManifestIndex)]]\"\n          format=\"M jS\"\n          timestamp=\"[[prevChanged]]\"\n          unix\n        ></simple-datetime>\n        [[prevTitle]]\n      </paper-button>\n      <paper-button raised on-tap=\"_backButtonTap\">Back to list</paper-button>\n      <h2 class=\"blog-title\">[[manifest.title]]</h2>\n      <h3 class=\"blog-description\">[[manifest.description]]</h3>\n    </div>\n  "],["\n    <style>\n      :host {\n        display: block;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n      :host *[hidden] {\n        display: none;\n      }\n      .background-closer-image {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n        opacity: 0.4;\n        transition: all 0.6s linear;\n      }\n      .background-closer-image-wrap {\n        position: absolute;\n        background-color: rgba(0, 0, 0, 0.9);\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        text-indent: -9999px;\n        transition: all 0.6s linear;\n        opacity: 1;\n      }\n      :host([active]) .background-closer-image {\n        opacity: 0.8;\n      }\n      :host([active]) .background-closer-image-wrap {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      .inner {\n        width: 100%;\n        position: relative;\n        z-index: 99;\n        max-width: 640px;\n        padding: 32px 0;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .blog-title {\n        margin: 0;\n        padding: 0 0 10px;\n        font-size: 50px;\n        text-align: center;\n        font-weight: 700;\n        letter-spacing: -2px;\n        outline: 0;\n        line-height: 50px;\n        word-break: break-word;\n        color: white;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      .blog-description {\n        margin: 0 0 50px;\n        padding: 0 32px;\n        font-size: 18px;\n        line-height: 1.5;\n        color: white;\n        text-align: center;\n        font-weight: 400;\n        text-shadow: 0 1px 16px rgba(0, 0, 0, 0.5), 0 0 1px rgba(0, 0, 0, 0.5);\n      }\n      paper-button:not([disabled]) {\n        display: block;\n        text-align: center;\n        letter-spacing: -0.32px;\n        font-size: 15px;\n        font-weight: 400;\n        font-style: normal;\n        text-decoration: none;\n        cursor: pointer;\n        height: 44px;\n        background-color: var(--haxcms-color);\n        color: black;\n        vertical-align: middle;\n        box-sizing: border-box;\n        border-radius: none;\n        line-height: 44px;\n        margin: 16px 0;\n        padding: 0;\n      }\n      paper-button:focus,\n      paper-button:active,\n      paper-button:hover {\n        outline: 2px solid var(--haxcms-color);\n        outline-offset: 8px;\n      }\n      simple-datetime {\n        letter-spacing: -0.32px;\n        font-weight: 300;\n        font-style: normal;\n        font-size: 16px;\n        line-height: 1.3;\n        color: black;\n        display: inline-flex;\n      }\n    </style>\n    <div class=\"background-closer-image-wrap\">\n      <div\n        class=\"background-closer-image\"\n        style\\$=\"background-image: url([[manifest.metadata.image]])\"\n      ></div>\n    </div>\n    <div class=\"inner\">\n      <paper-button\n        disabled=\"[[disableNextPage(activeManifestIndex)]]\"\n        on-click=\"nextPage\"\n        raised=\"[[!disableNextPage(activeManifestIndex)]]\"\n      >\n        <simple-datetime\n          hidden$=\"[[disableNextPage(activeManifestIndex)]]\"\n          format=\"M jS\"\n          timestamp=\"[[nextChanged]]\"\n          unix\n        ></simple-datetime>\n        [[nextTitle]]\n      </paper-button>\n      <paper-button\n        disabled=\"[[disablePrevPage(activeManifestIndex)]]\"\n        on-click=\"prevPage\"\n        raised=\"[[!disablePrevPage(activeManifestIndex)]]\"\n      >\n        <simple-datetime\n          hidden$=\"[[disablePrevPage(activeManifestIndex)]]\"\n          format=\"M jS\"\n          timestamp=\"[[prevChanged]]\"\n          unix\n        ></simple-datetime>\n        [[prevTitle]]\n      </paper-button>\n      <paper-button raised on-tap=\"_backButtonTap\">Back to list</paper-button>\n      <h2 class=\"blog-title\">[[manifest.title]]</h2>\n      <h3 class=\"blog-description\">[[manifest.description]]</h3>\n    </div>\n  "]);_templateObject_4f0a35f03c4511e9a62bc38461e84786=function(){return data};return data}(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_4f0a35f03c4511e9a62bc38461e84786()),is:"simple-blog-footer",properties:{activeManifestIndex:{type:Number,value:-1},manifest:{type:Object},activeItemId:{type:String,observer:"_activeItemIdChanged"}},_activeItemIdChanged:function _activeItemIdChanged(newValue){var _this=this,item=this.manifest.items.filter(function(d,i){if(newValue===d.id){_this.activeManifestIndex=i;return d}}).pop();if(!this.disablePrevPage(this.activeManifestIndex)){this.prevTitle=" - "+this.manifest.items[this.activeManifestIndex-1].title;this.prevChanged=this.manifest.items[this.activeManifestIndex-1].metadata.created}else{this.prevTitle="";this.prevChanged=""}if(!this.disableNextPage(this.activeManifestIndex)){this.nextTitle=" - "+this.manifest.items[this.activeManifestIndex+1].title;this.nextChanged=this.manifest.items[this.activeManifestIndex+1].metadata.created}else{this.nextTitle="";this.nextChanged=""}},attached:function attached(){var _this2=this;this.__disposer=(0,_mobxModule.autorun)(function(){_this2.manifest=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.routerManifest)});this.__disposer2=(0,_mobxModule.autorun)(function(){_this2.activeItemId=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeItem)})},detached:function detached(){this.__disposer();this.__disposer2()},disablePrevPage:function disablePrevPage(index){if(0===index||-1===index){return!0}return!1},disableNextPage:function disableNextPage(index){if(index>=this.manifest.items.length-1){return!0}return!1},prevPage:function prevPage(){this.changePage("previous")},nextPage:function nextPage(){this.changePage("next")},changePage:function changePage(direction){if("next"==direction&&this.activeManifestIndex<this.manifest.items.length-1){window.history.pushState({},null,this.manifest.items[this.activeManifestIndex+1].location);window.dispatchEvent(new PopStateEvent("popstate"));this.dispatchEvent(new CustomEvent("haxcms-active-item-changed",{bubbles:!0,cancelable:!0,detail:this.manifest.items[this.activeManifestIndex+1]}))}else if("previous"==direction&&0<this.activeManifestIndex){window.history.pushState({},null,this.manifest.items[this.activeManifestIndex-1].location);window.dispatchEvent(new PopStateEvent("popstate"));this.dispatchEvent(new CustomEvent("haxcms-active-item-changed",{bubbles:!0,cancelable:!0,detail:this.manifest.items[this.activeManifestIndex-1]}))}},_backButtonTap:function _backButtonTap(){window.history.pushState(null,null,_haxcmsSiteStore.store.location.baseUrl);window.dispatchEvent(new PopStateEvent("popstate"))}})});