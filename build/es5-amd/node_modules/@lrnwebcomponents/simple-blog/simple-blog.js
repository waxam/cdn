define(["exports","../../@polymer/polymer/polymer-legacy.js","../haxcms-elements/lib/core/HAXCMSThemeWiring.js","../haxcms-elements/lib/core/haxcms-site-store.js","../../mobx/lib/mobx.module.js","../schema-behaviors/schema-behaviors.js","../simple-colors/simple-colors.js","../../@polymer/iron-pages/iron-pages.js","../../@polymer/paper-icon-button/paper-icon-button.js","./lib/simple-blog-listing.js","./lib/simple-blog-header.js","./lib/simple-blog-footer.js","./lib/simple-blog-post.js"],function(_exports,_polymerLegacy,_HAXCMSThemeWiring,_haxcmsSiteStore,_mobxModule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SimpleBlog=void 0;function _templateObject_2fd18d70490411e990ee3fd35bb8725b(){var data=babelHelpers.taggedTemplateLiteral(["\n    <custom-style>\n      <style>\n        html,\n        body {\n          background-color: #fafafa;\n        }\n      </style>\n    </custom-style>\n    <style include=\"simple-colors\">\n      :host {\n        display: block;\n        font-family: \"Roboto\", \"Noto\", sans-serif;\n        -webkit-font-smoothing: antialiased;\n        font-size: 14px;\n        background-color: #fafafa;\n        font-family: \"Open Sans\", \"MundoSans\", helvetica neue, Arial, Helvetica,\n          sans-serif;\n        margin: 0;\n        padding: 0;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n        -moz-font-feature-settings: \"liga=1, dlig=1\";\n        -ms-font-feature-settings: \"liga\", \"dlig\";\n        -webkit-font-feature-settings: \"liga\", \"dlig\";\n        -o-font-feature-settings: \"liga\", \"dlig\";\n        font-feature-settings: \"liga\", \"dlig\";\n      }\n      #backbutton {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        padding: 2px;\n        width: 40px;\n        height: 40px;\n        margin: 8px;\n        z-index: 1000;\n        color: black;\n        background-color: rgba(250, 250, 250, 0.5);\n        opacity: 0.5;\n        border-radius: 50%;\n        transition: all 0.6s linear;\n      }\n      #backbutton:focus,\n      #backbutton:hover {\n        opacity: 1;\n        color: white;\n        background-color: var(--haxcms-color, black);\n      }\n      iron-pages,\n      iron-pages section {\n        width: 100vw;\n        height: 100vh;\n      }\n      #post {\n        transition: all 0.6s ease-in-out;\n        visibility: hidden;\n      }\n      :host([selected-page=\"0\"]) #post {\n        visibility: visible;\n        opacity: 0;\n        visibility: hidden;\n      }\n      :host([selected-page=\"1\"]) #post {\n        visibility: visible;\n        opacity: 1;\n      }\n      a, a:* {\n        color: inherit;\n      }\n    </style>\n    <iron-pages selected=\"[[selectedPage]]\">\n      <section>\n        <simple-blog-header></simple-blog-header>\n        <simple-blog-listing\n          id=\"listing\"\n          items=\"[[manifest.items]]\"\n        ></simple-blog-listing>\n      </section>\n      <section>\n        <paper-icon-button\n          id=\"backbutton\"\n          icon=\"icons:arrow-back\"\n          on-tap=\"_goBack\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"backbutton\"\n          position=\"right\"\n          offset=\"14\"\n          animation-delay=\"100\"\n          >Back to listing\n        </paper-tooltip>\n        <simple-blog-post\n          id=\"post\"\n          active-item=\"[[activeItem]]\"\n          edit-mode=\"[[editMode]]\"\n          ><slot></slot\n        ></simple-blog-post>\n        <simple-blog-footer\n          id=\"footer\"\n          manifest=\"[[manifest]]\"\n        ></simple-blog-footer>\n      </section>\n    </iron-pages>\n  "]);_templateObject_2fd18d70490411e990ee3fd35bb8725b=function(){return data};return data}var SimpleBlog=(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_2fd18d70490411e990ee3fd35bb8725b()),is:"simple-blog",behaviors:[SchemaBehaviors.Schema],properties:{selectedPage:{type:Number,reflectToAttribute:!0,value:0},editMode:{type:Boolean,reflectToAttribute:!0},activeItem:{type:Object},activeItemId:{type:String},manifest:{type:Object}},created:function created(){this.HAXCMSThemeWiring=new _HAXCMSThemeWiring.HAXCMSThemeWiring(this)},ready:function ready(){this.HAXCMSThemeWiring.connect(this,this.$.post.$.contentcontainer)},attached:function attached(){var _this=this;this.__disposer=(0,_mobxModule.autorun)(function(){_this.manifest=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.routerManifest)});this.__disposer2=(0,_mobxModule.autorun)(function(){_this.activeItem=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeItem)});this.__disposer3=(0,_mobxModule.autorun)(function(){_this.activeId=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeId)});this.__disposer4=(0,_mobxModule.autorun)(function(){_this._locationChanged(_haxcmsSiteStore.store.location)})},detached:function detached(){this.HAXCMSThemeWiring.disconnect(this);this.__disposer();this.__disposer2();this.__disposer3();this.__disposer4()},_locationChanged:function _locationChanged(location){if(!location||"undefined"===typeof location.route)return;var name=location.route.name;if("home"===name||"404"===name){this.selectedPage=0}else{this.selectedPage=1;window.scrollTo({top:0,left:0,behavior:"smooth"})}},_goBack:function _goBack(){var _this2=this,prevActiveItemId=this.activeItemId;window.history.pushState(null,null,_haxcmsSiteStore.store.location.baseUrl);window.dispatchEvent(new PopStateEvent("popstate"));if(prevActiveItemId){setTimeout(function(){var active=_this2.$.listing.shadowRoot.querySelector("simple-blog-overview[item-id=\""+prevActiveItemId+"\"]");active.scrollIntoView(!0);active.focus()},100)}else{window.scrollTo({top:0,left:0})}this.fire("json-outline-schema-active-item-changed",{});this.selectedPage=0}});_exports.SimpleBlog=SimpleBlog});