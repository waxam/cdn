define(["exports","require","../../@polymer/polymer/polymer-element.js","../haxcms-elements/lib/core/HAXCMSThemeWiring.js","../haxcms-elements/lib/core/haxcms-site-store.js","../../mobx/lib/mobx.module.js","../../@polymer/polymer/lib/utils/render-status.js","../simple-colors/simple-colors.js","./lib/simple-blog-listing.js","./lib/simple-blog-post.js","../../@polymer/iron-pages/iron-pages.js"],function(_exports,_require,_polymerElement,_HAXCMSThemeWiring,_haxcmsSiteStore,_mobxModule,_renderStatus,_simpleColors,_simpleBlogListing,_simpleBlogPost,_ironPages){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SimpleBlog=void 0;_require=babelHelpers.interopRequireWildcard(_require);function _templateObject_e86ea9d0984611e9810e6d9eee9273ff(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        html,\n        body {\n          background-color: #fafafa;\n        }\n      </style>\n\n      <style>\n        :host {\n          display: block;\n          font-family: \"Roboto\", \"Noto\", sans-serif;\n          -webkit-font-smoothing: antialiased;\n          font-size: 14px;\n          background-color: #fafafa;\n          font-family: \"Open Sans\", \"MundoSans\", helvetica neue, Arial,\n            Helvetica, sans-serif;\n          margin: 0;\n          padding: 0;\n          text-rendering: optimizeLegibility;\n          -webkit-font-smoothing: antialiased;\n          -moz-font-feature-settings: \"liga=1, dlig=1\";\n          -ms-font-feature-settings: \"liga\", \"dlig\";\n          -webkit-font-feature-settings: \"liga\", \"dlig\";\n          -o-font-feature-settings: \"liga\", \"dlig\";\n          font-feature-settings: \"liga\", \"dlig\";\n        }\n        #backbutton {\n          position: fixed;\n          top: 0px;\n          left: 0px;\n          padding: 2px;\n          width: 40px;\n          height: 40px;\n          margin: 8px;\n          z-index: 1000;\n          color: black;\n          background-color: rgba(250, 250, 250, 0.5);\n          opacity: 0.5;\n          border-radius: 50%;\n          transition: all 0.6s linear;\n        }\n        #backbutton:focus,\n        #backbutton:hover {\n          opacity: 1;\n          color: white;\n          background-color: var(--haxcms-color, black);\n        }\n        iron-pages,\n        iron-pages section {\n          width: 100vw;\n          height: 100vh;\n        }\n        simple-blog-post {\n          transition: all 0.6s ease-in-out;\n          visibility: hidden;\n        }\n        :host([selected-page=\"0\"]) simple-blog-post {\n          visibility: visible;\n          opacity: 0;\n          visibility: hidden;\n        }\n        :host([selected-page=\"1\"]) simple-blog-post {\n          visibility: visible;\n          opacity: 1;\n        }\n        a,\n        a:active,\n        a:hover,\n        a:focus {\n          color: inherit;\n        }\n      </style>\n      <iron-pages selected=\"[[selectedPage]]\">\n        <section>\n          <simple-blog-header></simple-blog-header>\n          <simple-blog-listing></simple-blog-listing>\n        </section>\n        <section>\n          <paper-icon-button\n            id=\"backbutton\"\n            icon=\"icons:arrow-back\"\n            on-click=\"_goBack\"\n          ></paper-icon-button>\n          <paper-tooltip\n            for=\"backbutton\"\n            position=\"right\"\n            offset=\"14\"\n            animation-delay=\"100\"\n            >Back to listing\n          </paper-tooltip>\n          <simple-blog-post edit-mode=\"[[editMode]]\"\n            ><slot></slot\n          ></simple-blog-post>\n          <simple-blog-footer id=\"footer\"></simple-blog-footer>\n        </section>\n      </iron-pages>\n    "]);_templateObject_e86ea9d0984611e9810e6d9eee9273ff=function _templateObject_e86ea9d0984611e9810e6d9eee9273ff(){return data};return data}/**
 * `simple-blog`
 * `A simple blog and associated elements`
 * @demo demo/index.html
 */var SimpleBlog=/*#__PURE__*/function(_HAXCMSTheme){babelHelpers.inherits(SimpleBlog,_HAXCMSTheme);babelHelpers.createClass(SimpleBlog,null,[{key:"tag",/**
   * Store the tag name to make it easier to obtain directly.
   * @notice function name must be here for tooling to operate correctly
   */get:function get(){return"simple-blog"}// render function
},{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_e86ea9d0984611e9810e6d9eee9273ff())}/**
   * Mix in an opened status
   */},{key:"properties",get:function get(){var props=babelHelpers.get(babelHelpers.getPrototypeOf(SimpleBlog),"properties",this);props.selectedPage={type:Number,reflectToAttribute:!0,value:0};return props}}]);function SimpleBlog(){var _this;babelHelpers.classCallCheck(this,SimpleBlog);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SimpleBlog).call(this));new Promise(function(res,rej){return _require.default(["./lib/simple-blog-header.js"],res,rej)});new Promise(function(res,rej){return _require.default(["../../@polymer/paper-icon-button/paper-icon-button.js"],res,rej)});new Promise(function(res,rej){return _require.default(["./lib/simple-blog-footer.js"],res,rej)});_this.__disposer=[];(0,_mobxModule.autorun)(function(reaction){_this.activeId=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeId);_this.__disposer.push(reaction)});(0,_mobxModule.autorun)(function(reaction){_this._locationChanged(_haxcmsSiteStore.store.location);_this.__disposer.push(reaction)});return _this}/**
   * attached life cycle
   */babelHelpers.createClass(SimpleBlog,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this;babelHelpers.get(babelHelpers.getPrototypeOf(SimpleBlog.prototype),"connectedCallback",this).call(this);(0,_renderStatus.afterNextRender)(this,function(){_this2.contentContainer=_this2.shadowRoot.querySelector("simple-blog-post").$.contentcontainer})}/**
   * detatched life cycle
   */},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(SimpleBlog.prototype),"disconnectedCallback",this).call(this);// clean up state
for(var i in this.__disposer){this.__disposer[i].dispose()}}/**
   * Listen for router location changes
   * @param {event} e
   */},{key:"_locationChanged",value:function _locationChanged(location){if(!location||"undefined"===typeof location.route)return;var name=location.route.name;if("home"===name||"404"===name){this.selectedPage=0}else{window.scrollTo({top:0,left:0});this.selectedPage=1}}/**
   * Reset the active item to reset state
   */},{key:"_goBack",value:function _goBack(e){var _this3=this,prevActiveItemId=_haxcmsSiteStore.store.activeId;window.history.pushState(null,null,_haxcmsSiteStore.store.location.baseUrl);window.dispatchEvent(new PopStateEvent("popstate"));// should help account for starting on a page where popstate isn't set
// and also generate data model mirroring
if(prevActiveItemId){setTimeout(function(){var active=_this3.shadowRoot.querySelector("simple-blog-listing").shadowRoot.querySelector("simple-blog-overview[item-id=\""+prevActiveItemId+"\"]");if(active){active.scrollIntoView(!0);active.focus()}},100)}else{window.scrollTo({top:0,left:0})}var evt=new CustomEvent("json-outline-schema-active-item-changed",{bubbles:!0,cancelable:!0,detail:{}});this.dispatchEvent(evt);this.selectedPage=0}}]);return SimpleBlog}((0,_HAXCMSThemeWiring.HAXCMSTheme)(_polymerElement.PolymerElement));_exports.SimpleBlog=SimpleBlog;window.customElements.define(SimpleBlog.tag,SimpleBlog)});