define(["exports", "../../lit-element/lit-element.js", "../simple-colors/simple-colors.js", "../../@polymer/paper-progress/paper-progress.js", "../simple-fields/lib/simple-fields-field.js", "../../@material/mwc-button/mwc-button.js"], function (_exports, _litElement, _simpleColors, _paperProgress, _simpleFieldsField, _mwcButton) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.SimpleLogin = void 0;

  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { babelHelpers.defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

  function _templateObject2_64f74290d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n\n        #loginform {\n          width: var(--login-form-width, 450px);\n          height: var(--login-form-height, auto);\n          --simple-camera-snap-color: var(--login-form-color, #36bed4);\n          --simple-camera-snap-error: var(--login-form-error, red);\n          --simple-camera-snap-width: var(--login-form-image-width, 200px);\n          --simple-camera-snap-height: var(--login-form-image-height, 200px);\n          --simple-camera-snap-background: var(--login-form-background, white);\n          --simple-camera-snap-border-radius: var(\n            --login-form-image-bnorder-radius,\n            100%\n          );\n          box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),\n            0 4px 22px 3px rgba(0, 0, 0, 0.12),\n            0 6px 7px -4px rgba(0, 0, 0, 0.4);\n        }\n\n        #loginformcontent {\n          padding: var(--login-form-padding, 48px);\n        }\n\n        #loginformcontent > * {\n          margin-top: var(\n            --login-form-margin-top,\n            var(--login-form-margin, 8px)\n          );\n          margin-bottom: var(\n            --login-form-margin-bottom,\n            var(--login-form-margin, 8px)\n          );\n        }\n\n        #loginbtn,\n        #buttons ::slotted(mwc-button) {\n          width: var(--login-btn-width, auto);\n          margin: var(--login-btn-margin, 24px auto 0);\n          display: var(--login-btn-display, inline-flex);\n        }\n\n        #loginbtn[disabled] {\n          background-color: var(\n            --login-btn-disabled-background-color,\n            var(--simple-colors-default-theme-accent-12, #000000)\n          );\n        }\n\n        h1 {\n          margin: 0;\n        }\n\n        h2 {\n          margin: 0;\n        }\n\n        paper-progress {\n          width: 100%;\n        }\n\n        ::slotted(simple-login-avatar) {\n          margin: 0 auto;\n        }\n\n        #errormsg {\n          margin-top: 16px;\n          color: var(--login-error-label-color, var(--error-color));\n        }\n      "]);

    _templateObject2_64f74290d34d11ea880ba1e93364c49c = function _templateObject2_64f74290d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  function _templateObject_64f74290d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n      <div id=\"loginform\">\n        <paper-progress\n          ?disabled=\"", "\"\n          indeterminate\n        ></paper-progress>\n        <div id=\"loginformcontent\">\n          <h1>", "</h1>\n          <h2>", "</h2>\n          <div id=\"errormsg\">", "</div>\n          <slot></slot>\n          <simple-fields-field\n            id=\"userinput\"\n            value=\"", "\"\n            @value-changed=\"", "\"\n            type=\"text\"\n            ?disabled=\"", "\"\n            label=\"", "\"\n            required\n            error-message=\"", "\"\n          ></simple-fields-field>\n          <simple-fields-field\n            id=\"passinput\"\n            required\n            value=\"", "\"\n            @value-changed=\"", "\"\n            ?disabled=\"", "\"\n            type=\"password\"\n            label=\"", "\"\n            error-message=\"", "\"\n          ></simple-fields-field>\n          <mwc-button\n            @click=\"", "\"\n            ?disabled=\"", "\"\n            id=\"loginbtn\"\n            raised\n            >", "\n          </mwc-button>\n          <span id=\"buttons\"><slot name=\"buttons\"></slot></span>\n        </div>\n      </div>\n    "]);

    _templateObject_64f74290d34d11ea880ba1e93364c49c = function _templateObject_64f74290d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  /**
   * `simple-login`
   * @element simple-login
   * `a simple login form`
   *
   * @microcopy - language worth noting:
   * @demo demo/index.html
   */
  var SimpleLogin =
  /*#__PURE__*/
  function (_SimpleColors) {
    babelHelpers.inherits(SimpleLogin, _SimpleColors);
    babelHelpers.createClass(SimpleLogin, [{
      key: "render",
      // render function
      value: function render() {
        return (0, _litElement.html)(_templateObject_64f74290d34d11ea880ba1e93364c49c(), !this.loading, this.title, this.subtitle, this.errorMsg, this.username, this._usernameChanged, this.loading, this.userInputLabel, this.userInputErrMsg, this.password, this._passwordChanged, this.loading, this.passwordInputLabel, this.passwordInputErrMsg, this._login, this.loading, this.loginBtnText);
      } // properties available to the custom element for data binding

    }], [{
      key: "styles",
      //styles function
      get: function get() {
        return [(0, _litElement.css)(_templateObject2_64f74290d34d11ea880ba1e93364c49c())];
      }
    }, {
      key: "properties",
      get: function get() {
        return _objectSpread({}, babelHelpers.get(babelHelpers.getPrototypeOf(SimpleLogin), "properties", this), {
          /**
           * Title of the loginscreen
           */
          title: String,

          /**
           * Subtitle of the loginscreen
           */
          subtitle: String,

          /**
           * Error message to show (example : "Invalid username")
           */
          errorMsg: String,

          /**
           * Content of the username field
           */
          username: {
            type: String
          },

          /**
           * Content of the password field
           */
          password: {
            type: String
          },

          /**
           * When true, all fields are disabled and the progress bar is visible
           */
          loading: {
            type: Boolean
          },

          /**
           * Placeholder of the username field
           */
          userInputLabel: {
            type: String,
            attribute: "user-input-label"
          },

          /**
           * Error message of the username field
           */
          userInputErrMsg: {
            type: String
          },

          /**
           * Placeholder of the password field
           */
          passwordInputLabel: {
            type: String,
            attribute: "password-input-label"
          },

          /**
           * Error message of the password field
           */
          passwordInputErrMsg: {
            type: String
          },

          /**
           * Login button label
           */
          loginBtnText: {
            type: String,
            attribute: "login-btn-text"
          }
        });
      }
      /**
       * Store the tag name to make it easier to obtain directly.
       * @notice function name must be here for tooling to operate correctly
       */

    }, {
      key: "tag",
      get: function get() {
        return "simple-login";
      }
      /**
       * constructor
       */

    }]);

    function SimpleLogin() {
      var _this;

      babelHelpers.classCallCheck(this, SimpleLogin);
      _this = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(SimpleLogin).call(this));
      _this.password = "";
      _this.username = "";
      _this.loading = false;
      _this.userInputLabel = "User name";
      _this.userInputErrMsg = "User name required";
      _this.passwordInputLabel = "Password";
      _this.passwordInputErrMsg = "Password required";
      _this.loginBtnText = "Login";
      return _this;
    }

    babelHelpers.createClass(SimpleLogin, [{
      key: "updated",
      value: function updated(changedProperties) {
        var _this2 = this;

        babelHelpers.get(babelHelpers.getPrototypeOf(SimpleLogin.prototype), "updated", this).call(this);
        changedProperties.forEach(function (oldValue, propName) {
          // notify
          if (["username", "password"].includes(propName)) {
            _this2.dispatchEvent(new CustomEvent("".concat(propName, "-changed"), {
              detail: {
                value: _this2[propName]
              }
            }));
          }
        });
      }
    }, {
      key: "firstUpdated",
      value: function firstUpdated() {
        var _this3 = this;

        setTimeout(function () {
          _this3.shadowRoot.querySelector("#loginform").addEventListener("keypress", _this3._keyPressLogin.bind(_this3));
        }, 0);
      }
      /**
       * Key pressed for the login
       */

    }, {
      key: "_keyPressLogin",
      value: function _keyPressLogin(e) {
        if (e.keyCode == 13) {
          //Enter
          this._login();

          return false;
        }
      }
    }, {
      key: "_passwordChanged",
      value: function _passwordChanged(e) {
        this.password = e.detail.value;
      }
    }, {
      key: "_usernameChanged",
      value: function _usernameChanged(e) {
        this.username = e.detail.value;
      }
      /**
       * Login
       */

    }, {
      key: "_login",
      value: function _login() {
        if (this.shadowRoot.querySelector("#userinput").validate() && this.shadowRoot.querySelector("#passinput").validate()) {
          this.dispatchEvent(new CustomEvent("simple-login-login", {
            cancelable: true,
            bubbles: true,
            composed: true,
            detail: {
              u: this.shadowRoot.querySelector("#userinput").value,
              p: this.shadowRoot.querySelector("#passinput").value
            }
          }));
        }
      }
    }]);
    return SimpleLogin;
  }(_simpleColors.SimpleColors);

  _exports.SimpleLogin = SimpleLogin;
  window.customElements.define(SimpleLogin.tag, SimpleLogin);
});