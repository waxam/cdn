define(["../../../../@polymer/polymer/polymer-legacy.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/paper-toast/paper-toast.js","../../../lrnsys-button/lrnsys-button.js"],function(_polymerLegacy){"use strict";function _templateObject_420dfaa0490411e990ee3fd35bb8725b(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <template is=\"dom-if\" if=\"[[createProjectsUrl]]\">\n      <lrnsys-button\n        raised=\"\"\n        class$=\"[[classes]]\"\n        button-class$=\"[[classes]]\"\n        icon=\"[[icon]]\"\n        on-tap=\"_createProject\"\n        label=\"Create project\"\n      ></lrnsys-button>\n      <iron-ajax\n        id=\"ajaxCreateStub\"\n        url=\"[[createProjectsUrl]]\"\n        method=\"POST\"\n        handle-as=\"json\"\n        on-response=\"_ajaxCreateStubHandler\"\n      ></iron-ajax>\n    </template>\n    <template is=\"dom-if\" if=\"[[displayErrors]]\">\n      <paper-toast id=\"toast\"></paper-toast>\n    </template>\n  "],["\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <template is=\"dom-if\" if=\"[[createProjectsUrl]]\">\n      <lrnsys-button\n        raised=\"\"\n        class\\$=\"[[classes]]\"\n        button-class\\$=\"[[classes]]\"\n        icon=\"[[icon]]\"\n        on-tap=\"_createProject\"\n        label=\"Create project\"\n      ></lrnsys-button>\n      <iron-ajax\n        id=\"ajaxCreateStub\"\n        url=\"[[createProjectsUrl]]\"\n        method=\"POST\"\n        handle-as=\"json\"\n        on-response=\"_ajaxCreateStubHandler\"\n      ></iron-ajax>\n    </template>\n    <template is=\"dom-if\" if=\"[[displayErrors]]\">\n      <paper-toast id=\"toast\"></paper-toast>\n    </template>\n  "]);_templateObject_420dfaa0490411e990ee3fd35bb8725b=function(){return data};return data}(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_420dfaa0490411e990ee3fd35bb8725b()),is:"lrnapp-studio-project-button",properties:{auto:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0},displayErrors:{type:Boolean,value:!0},createProjectsUrl:{type:String,value:null},classes:{type:String,value:""},icon:{type:String,value:""}},ready:function ready(){this.createProjectsUrl=this.endPoint+"/api/projects/create-stub?token="+this.csrfToken},_createProject:function _createProject(){this.shadowRoot.querySelector("#ajaxCreateStub").generateRequest()},_ajaxCreateStubHandler:function _ajaxCreateStubHandler(e){var status=e.detail.response.status,response=e.detail.response;if(201===status){var project=e.detail.response.data;if(project){this.fire("project-created",{project:project})}}if("undefined"!==typeof response.errors){var ul=document.createElement("ul"),text="";response.errors.forEach(function(error){text=text+" "+error});this.shadowRoot.querySelector("#toast").show(text)}}})});