define(["exports","../../../../@polymer/polymer/polymer-element.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/paper-item/paper-item.js","../../../../@polymer/polymer/lib/elements/dom-repeat.js","../../../elmsln-loading/elmsln-loading.js","./lrnapp-block-recent-comments-comment.js"],function(_exports,_polymerElement,_ironAjax,_paperItem,_domRepeat,_elmslnLoading,_lrnappBlockRecentCommentsComment){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.LrnappBlockRecentComments=void 0;function _templateObject_2c816bd0984711e9810e6d9eee9273ff(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"paper-item-styles\">\n        :host {\n          display: block;\n        }\n      </style>\n      <div id=\"loading\">\n        <h3>Loading..</h3>\n        <elmsln-loading color=\"grey-text\" size=\"large\"></elmsln-loading>\n      </div>\n      <iron-ajax\n        auto=\"\"\n        url=\"{{sourcePath}}\"\n        handle-as=\"json\"\n        last-response=\"{{response}}\"\n        on-response=\"handleResponse\"\n      ></iron-ajax>\n      <template\n        is=\"dom-repeat\"\n        items=\"[[_toArray(response.data)]]\"\n        as=\"comment\"\n      >\n        <lrnapp-block-recent-comments-comment\n          comment-user=\"{{comment.relationships.author.data}}\"\n          comment-title=\"{{comment.attributes.subject}}\"\n          action-view=\"{{_getViewLink(comment.relationships.node.data.id)}}\"\n          date-updated=\"{{comment.attributes.changed}}\"\n          class=\"ferpa-protect\"\n        >\n          [[comment.attributes.body]]\n        </lrnapp-block-recent-comments-comment>\n      </template>\n    "]);_templateObject_2c816bd0984711e9810e6d9eee9273ff=function _templateObject_2c816bd0984711e9810e6d9eee9273ff(){return data};return data}var LrnappBlockRecentComments=/*#__PURE__*/function(_PolymerElement){babelHelpers.inherits(LrnappBlockRecentComments,_PolymerElement);function LrnappBlockRecentComments(){babelHelpers.classCallCheck(this,LrnappBlockRecentComments);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(LrnappBlockRecentComments).apply(this,arguments))}babelHelpers.createClass(LrnappBlockRecentComments,[{key:"handleResponse",value:function handleResponse(e){this.$.loading.hidden=!0}},{key:"_getViewLink",value:function _getViewLink(nid){return this.basePath+"lrnapp-studio-submission/submissions/"+nid}},{key:"_toArray",value:function _toArray(obj){if(null==obj){return[]}return Object.keys(obj).map(function(key){return obj[key]})}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_2c816bd0984711e9810e6d9eee9273ff())}},{key:"tag",get:function get(){return"lrnapp-block-recent-comments"}},{key:"properties",get:function get(){return{elmslnCourse:{type:String},elmslnSection:{type:String},basePath:{type:String},csrfToken:{type:String},endPoint:{type:String},sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}}}}]);return LrnappBlockRecentComments}(_polymerElement.PolymerElement);_exports.LrnappBlockRecentComments=LrnappBlockRecentComments;window.customElements.define(LrnappBlockRecentComments.tag,LrnappBlockRecentComments)});