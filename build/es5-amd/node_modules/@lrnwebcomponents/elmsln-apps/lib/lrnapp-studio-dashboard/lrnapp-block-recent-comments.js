define(["exports","../../../../@polymer/polymer/polymer-element.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/paper-item/paper-item.js","../../../../@polymer/polymer/lib/elements/dom-repeat.js","../../../elmsln-loading/elmsln-loading.js","./lrnapp-block-recent-comments-comment.js"],function(_exports,_polymerElement,_ironAjax,_paperItem,_domRepeat,_elmslnLoading,_lrnappBlockRecentCommentsComment){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.LrnappBlockRecentComments=void 0;function _templateObject_8a40fcd06daf11e98b2b231443c29fcf(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"paper-item-styles\">\n      :host {\n        display: block;\n      }\n    </style>\n    <div id=\"loading\">\n      <h3>Loading..</h3>\n      <elmsln-loading color=\"grey-text\" size=\"large\"></elmsln-loading>\n    </div>\n    <iron-ajax\n      auto=\"\"\n      url=\"{{sourcePath}}\"\n      handle-as=\"json\"\n      last-response=\"{{response}}\"\n      on-response=\"handleResponse\"\n    ></iron-ajax>\n    <template is=\"dom-repeat\" items=\"[[_toArray(response.data)]]\" as=\"comment\">\n      <lrnapp-block-recent-comments-comment\n        comment-user=\"{{comment.relationships.author.data}}\"\n        comment-title=\"{{comment.attributes.subject}}\"\n        action-view=\"{{_getViewLink(comment.relationships.node.data.id)}}\"\n        date-updated=\"{{comment.attributes.changed}}\"\n        class=\"ferpa-protect\"\n      >\n        [[comment.attributes.body]]\n      </lrnapp-block-recent-comments-comment>\n    </template>"]);_templateObject_8a40fcd06daf11e98b2b231443c29fcf=function _templateObject_8a40fcd06daf11e98b2b231443c29fcf(){return data};return data}var LrnappBlockRecentComments=/*#__PURE__*/function(_PolymerElement){babelHelpers.inherits(LrnappBlockRecentComments,_PolymerElement);function LrnappBlockRecentComments(){babelHelpers.classCallCheck(this,LrnappBlockRecentComments);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(LrnappBlockRecentComments).apply(this,arguments))}babelHelpers.createClass(LrnappBlockRecentComments,[{key:"handleResponse",value:function handleResponse(e){this.$.loading.hidden=!0}},{key:"_getViewLink",value:function _getViewLink(nid){return this.basePath+"lrnapp-studio-submission/submissions/"+nid}},{key:"_toArray",value:function _toArray(obj){return Object.keys(obj).map(function(key){return obj[key]})}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_8a40fcd06daf11e98b2b231443c29fcf())}},{key:"tag",get:function get(){return"lrnapp-block-recent-comments"}},{key:"properties",get:function get(){return{sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}}}}]);return LrnappBlockRecentComments}(_polymerElement.PolymerElement);_exports.LrnappBlockRecentComments=LrnappBlockRecentComments;window.customElements.define(LrnappBlockRecentComments.tag,LrnappBlockRecentComments)});