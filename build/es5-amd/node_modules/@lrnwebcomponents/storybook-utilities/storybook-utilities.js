define(["exports","../../@storybook/polymer/dist/client/index.js","../../@storybook/addon-knobs/polymer.js"],function(_exports,_index,storybookBridge){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.StorybookUtilities=void 0;storybookBridge=babelHelpers.interopRequireWildcard(storybookBridge);var StorybookUtilities=function(){function StorybookUtilities(){babelHelpers.classCallCheck(this,StorybookUtilities)}babelHelpers.createClass(StorybookUtilities,[{key:"cleanHTML",value:function cleanHTML(template){var replacements=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],pattern=/<body[^>]*>((.|[\n\r])*)<\/body>/im,array_matches=pattern.exec(template);template=array_matches[1];replacements.forEach(function(replacement){template=template.replace(new RegExp(replacement.find,"g"),replacement.replace)});template=template.replace(/=\\"\\"/g,"").replace(/\\"/g,"\"");return template}},{key:"addPattern",value:function addPattern(story){var template=this.cleanHTML(story.file,story.replacements);story.demo=(0,_index.storiesOf)(story.of,module);story.demo.add(story.name,function(){return"".concat(template)})}},{key:"getBindings",value:function getBindings(props){var binding={};for(var key in props){if(!props.hasOwnProperty(key))continue;var editable=!1===key.startsWith("__")&&(props[key].computed===void 0||"undefined"===props[key].computed)&&!0!==props[key].readOnly;if(editable){var val="".concat(props[key].value),keyType=props[key].type.name||props[key].type;if(keyType){var method=keyType.toLowerCase(),kebab=key.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(match){return"-"+match.toLowerCase()});binding[key]={id:kebab,value:"select"===method?storybookBridge.select(key,props[key].options||[],props[key].value):"number"===method?storybookBridge.number(key,parseFloat(props[key].value)):"boolean"===method?storybookBridge.boolean(key,!1):"date"===method?storybookBridge.date(key,new Date(props[key].value)):"files"===method?storybookBridge.files(key,props[key].options||{},props[key].value||""):"radios"===method?storybookBridge.radios(key,props[key].options||{},props[key].value):"object"===method?storybookBridge.text(key,JSON.stringify(props[key].value||{})):"array"===method?storybookBridge.text(key,JSON.stringify(props[key].value||{})):"options"===method?storybookBridge.radios(key,props[key].valuesObj||{},props[key].value,props[key].options||{}):storybookBridge.text(key,props[key].value||"")}}}}return binding}},{key:"addLiveDemo",value:function addLiveDemo(story){var _this=this;story.demo=(0,_index.storiesOf)(story.of,module);story.demo.addDecorator(storybookBridge.withKnobs);story.demo.add(story.name,function(){story.slotted2="";Object.values(_this.getBindings(story.slots)).forEach(function(slot){story.slotted2+="slot"!==slot.id?"<div slot=\"".concat(slot.id,"\">").concat(slot.value,"</div>"):"".concat(slot.value)});story.attr2="";Object.values(_this.getBindings(story.props)).forEach(function(prop){if(!1!==prop.value&&""!==prop.value)story.attr2+=" ".concat(prop.id,"=\"").concat(prop.value,"\"")});return"\n        <h1>".concat(story.name,"</h1>\n        <").concat(story.name).concat(story.attr2).concat(story.attr,">\n          ").concat(story.slotted2,"\n          ").concat(story.slotted,"\n        </").concat(story.name,">\n      ")},{knobs:{escapeHTML:!1}})}}]);return StorybookUtilities}();_exports.StorybookUtilities=StorybookUtilities;window.StorybookUtilities=window.StorybookUtilities||{};window.StorybookUtilities.requestAvailability=function(){if(!window.StorybookUtilities.instance){window.StorybookUtilities.instance=new StorybookUtilities}}});