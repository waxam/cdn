define(["exports","../../../lit-element/lit-element.js"],function(_exports,_litElement){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.ImgLoader=void 0;function _templateObject_14456cd0783711eabb30eb9f481c23a6(){var data=babelHelpers.taggedTemplateLiteral(["\n      <img loading=\"lazy\" id=\"img\" hidden=\"\" src=\"","\" />\n    "]);_templateObject_14456cd0783711eabb30eb9f481c23a6=function _templateObject_14456cd0783711eabb30eb9f481c23a6(){return data};return data}/*
`img-loader` preloads images
*/var ImgLoader=/*#__PURE__*/function(_LitElement){babelHelpers.inherits(ImgLoader,_LitElement);babelHelpers.createClass(ImgLoader,[{key:"render",/**
   * LitElement render
   */value:function render(){return(0,_litElement.html)(_templateObject_14456cd0783711eabb30eb9f481c23a6(),this.src)}/**
   * convention
   */}],[{key:"tag",get:function get(){return"img-loader"}/**
   * LitElement / popular convention
   */},{key:"properties",get:function get(){return{src:{type:String},/**
       * Read-only value that is true when the image is loaded.
       */loaded:{type:Boolean},/**
       * Read-only value that tracks the loading state of the image when the `preload`
       * option is used.
       */loading:{type:Boolean},/**
       * Read-only value that indicates that the last set `src` failed to load.
       */error:{type:Boolean}}}/**
   * HTMLElement
   */}]);function ImgLoader(){var _this;babelHelpers.classCallCheck(this,ImgLoader);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ImgLoader).call(this));_this.loaded=!1;_this.error=!1;_this.loading=!1;return _this}/**
   * LitElement properties changed
   */babelHelpers.createClass(ImgLoader,[{key:"updated",value:function updated(changedProperties){var _this2=this;changedProperties.forEach(function(oldValue,propName){if("src"==propName){_this2._srcChanged(_this2[propName],oldValue)}if(["error","loaded","loading"].includes(propName)){// notify
_this2.dispatchEvent(new CustomEvent("".concat(propName,"-changed"),{detail:{value:_this2[propName]}}))}})}/**
   * LitElement ready
   */},{key:"firstUpdated",value:function firstUpdated(){var _this3=this,img=this.shadowRoot.querySelector("#img");img.onload=function(){_this3.loading=!1;_this3.loaded=!0;_this3.error=!1};img.onerror=function(){_this3._reset();_this3.loading=!1;_this3.loaded=!1;_this3.error=!0};this._resolvedSrc=""}},{key:"_srcChanged",value:function _srcChanged(newSrc,oldSrc){this._resolvedSrc=newSrc;this._reset();this._load(newSrc)}},{key:"_load",value:function _load(src){if(src){this.shadowRoot.querySelector("#img").src=src}else{this.shadowRoot.querySelector("#img").removeAttribute("src")}this.loading=!!src;this.loaded=!1;this.error=!1}},{key:"_reset",value:function _reset(){this.shadowRoot.querySelector("#img").removeAttribute("src");this.loading=!1;this.loaded=!1;this.error=!1}}]);return ImgLoader}(_litElement.LitElement);_exports.ImgLoader=ImgLoader;window.customElements.define(ImgLoader.tag,ImgLoader)});