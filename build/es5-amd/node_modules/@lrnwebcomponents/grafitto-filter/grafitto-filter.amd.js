define(["exports","./node_modules/@polymer/polymer/polymer-legacy.js","./node_modules/@polymer/polymer/lib/legacy/polymer.dom.js","./node_modules/@polymer/polymer/lib/legacy/templatizer-behavior.js","./node_modules/@polymer/polymer/lib/legacy/mutable-data-behavior.js"],function(c,d,e,f,g){"use strict";function h(){var j=babelHelpers.taggedTemplateLiteral(["\n    <div id=\"dom\"><slot></slot></div>\n  "]);return h=function(){return j},j}Object.defineProperty(c,"__esModule",{value:!0}),c.GrafittoFilter=void 0;var i=(0,d.Polymer)({_template:(0,d.html)(h()),is:"grafitto-filter",behaviors:[f.Templatizer,g.OptionalMutableDataBehavior],properties:{items:{type:Array,value:[]},like:{type:String,value:""},where:{type:String,value:"name"},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:"items"},filtered:{type:Array,computed:"_computeFiltered(items, where, like, caseSensitive)",observer:"_onFilter"},f:{type:Function,notify:!0}},observers:["_populateUserTemplate(filtered)"],filter:function(){this.where=""},_computeFiltered:function(k,l,m,n){var o=null;o=n?new RegExp(m):new RegExp(m,"i");var p=[];if(this.f){var q=this.f.bind(this);p=k.filter(q)}else{var r=this._decomposeWhere.bind(this);p=k.filter(function(s){if("object"==babelHelpers.typeof(s)){var t=r(l,s);return"undefined"==typeof t&&""!=l&&console.warn("grafitto-filter was unable to find a property in '"+l+"'"),o.test(t)}return"string"==typeof s?o.test(s):"number"==typeof s?o.test(s.toString()):void 0})}return p},_populateUserTemplate:function(k){return this.ctor?void(this.__clone[this.as]=k):void(this._userTemplate=this.querySelector("template"),!this._userTemplate&&console.warn("grafitto-filter requires a template to be provided in light-dom"),this.templatize(this._userTemplate),this.__clone=this.stamp(null),this.__clone[this.as]=k,(0,e.dom)(this).appendChild(this.__clone.root))},_decomposeWhere:function(k,l){return k.split(".").reduce(function(m,n){return m&&m[n]},l)},_onFilter:function(){this.fire("filter")}});c.GrafittoFilter=i});