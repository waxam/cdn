define(["exports", "require", "../../lit-element/lit-element.js", "../haxcms-elements/lib/core/HAXCMSLitElementTheme.js", "../haxcms-elements/lib/core/haxcms-site-store.js", "../../mobx/lib/mobx.module.js", "../utils/utils.js", "../anchor-behaviors/anchor-behaviors.js"], function (_exports, _require, _litElement, _HAXCMSLitElementTheme, _haxcmsSiteStore, _mobxModule, _utils, _anchorBehaviors) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.HaxorSlevin = void 0;
  _require = babelHelpers.interopRequireWildcard(_require);

  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { babelHelpers.defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

  function _templateObject5_5a843de0d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n          background-color: #ffffff;\n          color: rgba(0, 0, 0, 0.84);\n          --hax-base-styles-a-color: var(--haxcms-color, #2196f3);\n          --hax-base-styles-a-color-visited: var(--haxcms-color, #2196f3);\n          --hax-base-styles-a-color-active: var(--haxcms-color, #2196f3);\n        }\n        site-modal:not(:defined),\n        site-rss-button:not(:defined),\n        iron-image:not(:defined),\n        iron-pages:not(:defined),\n        site-share-widget:not(:defined),\n        site-active-title:not(:defined),\n        site-git-corner:not(:defined),\n        social-share-link:not(:defined),\n        simple-blog-card:not(:defined) {\n          display: none;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        :host([is-logged-in]) {\n          margin-left: 48px;\n        }\n        :host([is-logged-in][edit-mode]) {\n          padding-left: 12px;\n        }\n        /**\n      * Hide the slotted content during edit mode. This must be here to work.\n      */\n        :host([edit-mode]) #slot {\n          display: none;\n        }\n        :host([edit-mode]) .contentcontainer-wrapper simple-blog-card {\n          opacity: 0.2;\n          pointer-events: none;\n        }\n        #slot {\n          min-height: 50vh;\n        }\n        site-active-title {\n          font-size: 36px;\n        }\n        .wrapper {\n          padding-bottom: 80px;\n        }\n        #home {\n          max-width: 1032px;\n          padding-left: 20px;\n          padding-right: 20px;\n          margin: 0 auto;\n        }\n        .contentcontainer-wrapper {\n          max-width: 900px;\n          margin: 0 auto;\n          box-sizing: border-box;\n          padding-left: 20px;\n          padding-right: 20px;\n        }\n        simple-blog-card {\n          padding: 8px;\n          min-height: 100px;\n        }\n        .simple-blog-card-wrapper {\n          display: flex;\n          justify-content: space-evenly;\n          max-width: 900px;\n        }\n        simple-blog-card[size=\"micro\"] {\n          padding: 4px;\n        }\n        iron-pages {\n          padding-top: 64px;\n        }\n        dom-repeat {\n          padding-bottom: 16px;\n          min-height: 300px;\n        }\n        .header-wrapper {\n          padding: 0 20px;\n          height: 54px;\n          width: 100%;\n          display: flex;\n          margin: 0 auto;\n          z-index: 100;\n          color: #ffffff;\n          justify-content: center;\n          box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);\n          background-color: var(--haxcms-color, rgba(255, 0, 116, 1));\n        }\n        .header-wrapper div {\n          display: inline-flex;\n        }\n        .header-image {\n          max-width: 600px;\n          width: 100%;\n        }\n        .header-image iron-image {\n          max-width: 800px;\n        }\n        .backbutton {\n          height: 54px;\n          cursor: pointer;\n          text-align: center;\n          line-height: 32px;\n          background-color: transparent;\n          border: none;\n          display: inline-flex;\n          color: white;\n          min-width: 100px;\n          text-transform: unset;\n          margin: 0px 16px;\n        }\n        paper-icon-button {\n          --paper-icon-button-ink-color: white;\n        }\n\n        .social-float {\n          top: 160px;\n          position: fixed;\n          z-index: 99;\n          margin-left: -10vw;\n          opacity: 1;\n          transition: 0.2s opacity linear;\n        }\n        .social-float.disable-items {\n          pointer-events: none;\n          opacity: 0.2 !important;\n        }\n        .social-float ul {\n          padding: 0;\n          margin: 0;\n          list-style: none;\n        }\n\n        site-share-widget {\n          --site-share-widget-bg: var(--haxcms-color, rgba(255, 0, 116, 1));\n        }\n        site-share-widget:hover,\n        site-share-widget:focus,\n        site-share-widget:active {\n          --site-share-widget-bg: var(--haxcms-system-action-color, blue);\n        }\n\n        social-share-link {\n          --social-share-button-bg: var(--haxcms-color, rgba(255, 0, 116, 1));\n          --social-share-button-padding: 8px;\n          --social-share-button-border-radius: 50%;\n        }\n\n        .annoy-user {\n          background-color: rgba(255, 255, 255, 0.9);\n          display: block;\n          position: fixed;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          box-shadow: 0 -3px 10px 0 rgba(0, 0, 0, 0.0785);\n          padding: 10px 0;\n          height: 50px;\n          z-index: 100;\n          opacity: 1;\n          transition: 0.2s opacity linear;\n        }\n        .annoy-user.disable-items {\n          pointer-events: none;\n          opacity: 0 !important;\n        }\n        iron-icon {\n          height: 40px;\n          width: 40px;\n          display: flex;\n          padding-right: 20px;\n        }\n        .annoy-user iron-icon {\n          color: black;\n        }\n        .annoy-user span {\n          flex: 1 1 auto;\n          height: 40px;\n          display: flex;\n          vertical-align: middle;\n          line-height: 40px;\n        }\n        .annoy-inner strong {\n          padding: 0 4px;\n        }\n        .annoy-user .rss {\n          margin-left: 50px;\n        }\n        .annoy-inner {\n          max-width: 800px;\n          margin: 0 auto;\n          display: flex;\n        }\n        .subtitle {\n          font-family: \"Lucida Grande\", \"Lucida Sans Unicode\", \"Lucida Sans\",\n            Geneva, Arial, sans-serif;\n          letter-spacing: -0.02em;\n          font-weight: 300;\n          font-style: normal;\n          letter-spacing: 0;\n          font-size: 28px;\n          line-height: 1.22;\n          letter-spacing: -0.012em;\n        }\n        site-rss-button {\n          margin: 0 4px;\n          padding: 0;\n          --site-rss-color: #000000;\n          --site-rss-bg-color: var(--haxcms-color, rgba(255, 0, 116, 1));\n          --site-rss-paper-button-padding: 0 4px;\n          --site-rss-paper-button-margin: 0;\n        }\n\n        @media screen and (max-width: 800px) {\n          .header-image {\n            max-width: 200px;\n            width: 100%;\n          }\n          .header-image iron-image {\n            max-width: 200px;\n          }\n          .simple-blog-card-wrapper simple-blog-card {\n            margin: 0 10vw;\n          }\n          .simple-blog-card-wrapper {\n            text-align: center;\n          }\n          #contentcontainer,\n          #home {\n            padding-left: 8px;\n            padding-right: 8px;\n            transition: 0.5s opacity ease-in-out;\n          }\n          simple-blog-card {\n            padding: 0;\n          }\n          .hide-small {\n            display: none !important;\n          }\n          .annoy-user .rss {\n            margin-left: unset;\n          }\n          .annoy-user {\n            position: relative;\n            bottom: unset;\n            left: unset;\n            right: unset;\n            padding: 0;\n            height: unset;\n          }\n          .annoy-user span {\n            height: unset;\n            line-height: unset;\n          }\n          .annoy-inner {\n            max-width: unset;\n            margin: 0;\n          }\n          :host([edit-mode][is-logged-in]) {\n            margin-left: 0px;\n          }\n        }\n        @media screen and (max-width: 640px) {\n          :host([is-logged-in][edit-mode]) {\n            padding-left: 8px;\n          }\n        }\n      "]);

    _templateObject5_5a843de0d34d11ea880ba1e93364c49c = function _templateObject5_5a843de0d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  function _templateObject4_5a843de0d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n                  <simple-blog-card\n                    alt=\"", "\"\n                    color=\"", "\"\n                    .title=\"", "\"\n                    size=\"small\"\n                    .link=\"", "\"\n                    .image=\"", "\"\n                    .author=\"", "\"\n                    .timestamp=\"", "\"\n                    .readtime=\"", "\"\n                    .authorimage=\"", "\"\n                    .placeholder=\"", "\"\n                    .authorlink=\"", "\"\n                  >\n                    ", "\n                  </simple-blog-card>\n                "]);

    _templateObject4_5a843de0d34d11ea880ba1e93364c49c = function _templateObject4_5a843de0d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  function _templateObject3_5a843de0d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n                  <simple-blog-card\n                    alt=\"", "\"\n                    color=\"", "\"\n                    .title=\"", "\"\n                    size=\"small\"\n                    .link=\"", "\"\n                    .image=\"", "\"\n                    .author=\"", "\"\n                    .timestamp=\"", "\"\n                    .readtime=\"", "\"\n                    .authorimage=\"", "\"\n                    .placeholder=\"", "\"\n                    .authorlink=\"", "\"\n                  >\n                    ", "\n                  </simple-blog-card>\n                "]);

    _templateObject3_5a843de0d34d11ea880ba1e93364c49c = function _templateObject3_5a843de0d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  function _templateObject2_5a843de0d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n                  <simple-blog-card\n                    alt=\"", "\"\n                    color=\"", "\"\n                    .title=\"", "\"\n                    size=\"large\"\n                    .link=\"", "\"\n                    .image=\"", "\"\n                    .author=\"", "\"\n                    .timestamp=\"", "\"\n                    .readtime=\"", "\"\n                    .authorimage=\"", "\"\n                    .placeholder=\"", "\"\n                    .authorlink=\"", "\"\n                  >\n                    ", "\n                  </simple-blog-card>\n                "]);

    _templateObject2_5a843de0d34d11ea880ba1e93364c49c = function _templateObject2_5a843de0d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  function _templateObject_5a843de0d34d11ea880ba1e93364c49c() {
    var data = babelHelpers.taggedTemplateLiteral(["\n      <div class=\"header-wrapper\">\n        <div>\n          <site-modal\n            @site-modal-click=\"", "\"\n            icon=\"icons:search\"\n            title=\"Search site\"\n            button-label=\"Search\"\n          >\n            <site-search></site-search>\n          </site-modal>\n        </div>\n        <div>\n          <button\n            class=\"backbutton\"\n            @click=\"", "\"\n            title=\"Back to blog post list\"\n          >\n            <iron-icon icon=\"", "\"></iron-icon>\n            <span class=\"hide-small\">", "</span>\n          </button>\n        </div>\n        <div class=\"header-image\">\n          <iron-image\n            src=\"", "\"\n            preload\n            sizing=\"cover\"\n            style=\"height:46px;width:100%;margin: 4px 0 2px 0;\"\n          ></iron-image>\n        </div>\n      </div>\n      <div class=\"wrapper\">\n        <iron-pages .selected=\"", "\">\n          <div id=\"home\">\n            <site-query\n              @result-changed=\"", "\"\n              limit=\"2\"\n              sort='{\"created\": \"ASC\"}'\n            ></site-query>\n            <div class=\"simple-blog-card-wrapper\">\n              ", "\n            </div>\n            <site-query\n              @result-changed=\"", "\"\n              start-index=\"2\"\n              limit=\"6\"\n              sort='{\"created\": \"ASC\"}'\n            ></site-query>\n            <div class=\"simple-blog-card-wrapper\">\n              ", "\n            </div>\n          </div>\n          <div class=\"contentcontainer-wrapper\">\n            <div id=\"contentcontainer\">\n              <site-git-corner position=\"right\"></site-git-corner>\n              <site-active-title></site-active-title>\n              <h3 class=\"subtitle\" .hidden=\"", "\">\n                ", "\n              </h3>\n              <div id=\"slot\">\n                <slot></slot>\n              </div>\n            </div>\n            <site-query\n              @result-changed=\"", "\"\n              limit=\"3\"\n              start-index=\"", "\"\n              sort='{\"created\": \"ASC\"}'\n            ></site-query>\n            <div class=\"simple-blog-card-wrapper\">\n              ", "\n            </div>\n            <div class=\"social-float hide-small ", "\">\n              <ul>\n                <li>\n                  <social-share-link\n                    title=\"Share on twitter\"\n                    button-style\n                    mode=\"icon-only\"\n                    message=\"", "\"\n                    type=\"Twitter\"\n                  >\n                  </social-share-link>\n                </li>\n                <li>\n                  <social-share-link\n                    title=\"Share on LinkedIn\"\n                    button-style\n                    mode=\"icon-only\"\n                    message=\"", "\"\n                    url=\"", "\"\n                    type=\"LinkedIn\"\n                  >\n                  </social-share-link>\n                </li>\n                <li>\n                  <social-share-link\n                    title=\"Share on Facebook\"\n                    button-style\n                    mode=\"icon-only\"\n                    url=\"", "\"\n                    message=\"", "\"\n                    type=\"Facebook\"\n                  >\n                  </social-share-link>\n                </li>\n                <li>\n                  <social-share-link\n                    title=\"Share on Pinterest\"\n                    button-style\n                    mode=\"icon-only\"\n                    message=\"", "\"\n                    image=\"", "\"\n                    url=\"", "\"\n                    type=\"Pinterest\"\n                  >\n                  </social-share-link>\n                </li>\n              </ul>\n            </div>\n            <div class=\"annoy-user ", "\">\n              <div class=\"annoy-inner\">\n                <iron-icon icon=\"", "\" class=\"hide-small\"></iron-icon>\n                <span class=\"hide-small\">\n                  Never miss a story from <strong>", "</strong> use RSS\n                  today!\n                </span>\n                <span class=\"rss\">\n                  <site-rss-button type=\"atom\"></site-rss-button>\n                  <site-rss-button type=\"rss\"></site-rss-button>\n                </span>\n                <site-share-widget\n                  alt=\"Share on social media\"\n                ></site-share-widget>\n              </div>\n            </div>\n          </div>\n        </iron-pages>\n      </div>\n    "]);

    _templateObject_5a843de0d34d11ea880ba1e93364c49c = function _templateObject_5a843de0d34d11ea880ba1e93364c49c() {
      return data;
    };

    return data;
  }

  /**
   * `haxor-slevin`
   * `Tech blogger theme`
   * @demo demo/index.html
   * @element haxor-slevin
   */
  var HaxorSlevin =
  /*#__PURE__*/
  function (_HAXCMSLitElementThem) {
    babelHelpers.inherits(HaxorSlevin, _HAXCMSLitElementThem);
    babelHelpers.createClass(HaxorSlevin, [{
      key: "render",
      value: function render() {
        var _this2 = this;

        return (0, _litElement.html)(_templateObject_5a843de0d34d11ea880ba1e93364c49c(), this.siteModalClick, this._goBack, this.icon, this.title, this.image, this.selectedPage, this.__mainPostsChanged, this.__mainPosts.map(function (post) {
          return (0, _litElement.html)(_templateObject2_5a843de0d34d11ea880ba1e93364c49c(), post.metadata.fields && post.metadata.fields.images && post.metadata.fields.images[0] && post.metadata.fields.images[0].alt ? post.metadata.fields.images[0].alt : "", _this2.color, post.title, post.slug, _this2._showImage(post.metadata.fields && post.metadata.fields.images && post.metadata.fields.images[0] && post.metadata.fields.images[0].alt ? post.metadata.fields.images[0].alt : false), _this2.author.name, post.metadata.created, post.metadata.readtime, _this2.author.image, _this2.image, _this2.author.socialLink, post.description);
        }), this.__extraPostsChanged, this.__extraPosts.map(function (post) {
          return (0, _litElement.html)(_templateObject3_5a843de0d34d11ea880ba1e93364c49c(), post.metadata.fields && post.metadata.fields.images && post.metadata.fields.images[0] && post.metadata.fields.images[0].alt ? post.metadata.fields.images[0].alt : "", _this2.color, post.title, post.slug, _this2._showImage(post.metadata.fields && post.metadata.fields.images && post.metadata.fields.images[0] && post.metadata.fields.images[0].alt ? post.metadata.fields.images[0].alt : false), _this2.author.name, post.metadata.created, post.metadata.readtime, _this2.author.image, _this2.image, _this2.author.socialLink, post.description);
        }), !this.subtitle, this.subtitle, this.__followUpPostsChanged, this.activeManifestIndexCounter, this.__followUpPosts.map(function (post) {
          return (0, _litElement.html)(_templateObject4_5a843de0d34d11ea880ba1e93364c49c(), post.metadata.fields && post.metadata.fields.images && post.metadata.fields.images[0] && post.metadata.fields.images[0].alt ? post.metadata.fields.images[0].alt : "", _this2.color, post.title, post.slug, _this2._showImage(post.metadata.fields && post.metadata.fields.images && post.metadata.fields.images[0] && post.metadata.fields.images[0].alt ? post.metadata.fields.images[0].alt : false), _this2.author.name, post.metadata.created, post.metadata.readtime, _this2.author.image, _this2.image, _this2.author.socialLink, post.description);
        }), this.stateClass, this.shareMsg, this.shareMsg, this.shareUrl, this.shareUrl, this.shareMsg, this.shareMsg, this.activeImage, this.shareUrl, this.stateClass, this.icon, this.title);
      }
      /**
       * Store the tag name to make it easier to obtain directly.
       * @notice function name must be here for tooling to operate correctly
       */

    }, {
      key: "__mainPostsChanged",
      value: function __mainPostsChanged(e) {
        this.__mainPosts = e.detail.value;
      }
    }, {
      key: "__followUpPostsChanged",
      value: function __followUpPostsChanged(e) {
        this.__followUpPosts = e.detail.value;
      }
    }, {
      key: "__extraPostsChanged",
      value: function __extraPostsChanged(e) {
        this.__extraPosts = e.detail.value;
      }
    }, {
      key: "_getStateClass",
      value: function _getStateClass(editMode) {
        if (editMode) {
          return "disable-items";
        }

        return "";
      }
    }, {
      key: "_getColor",
      value: function _getColor(manifest) {
        if (manifest && (0, _utils.varExists)(manifest, "metadata.theme.variables.hexCode")) {
          return manifest.metadata.theme.variables.hexCode;
        }
      }
      /**
       * Delay importing site-search until we click to open it directly
       */

    }, {
      key: "siteModalClick",
      value: function siteModalClick(e) {
        new Promise(function (res, rej) {
          return _require.default(["../haxcms-elements/lib/ui-components/site/site-search.js"], res, rej);
        });
      }
    }], [{
      key: "styles",
      get: function get() {
        return [(0, _litElement.css)(_templateObject5_5a843de0d34d11ea880ba1e93364c49c())];
      }
    }, {
      key: "tag",
      get: function get() {
        return "haxor-slevin";
      }
    }, {
      key: "properties",
      get: function get() {
        return _objectSpread({}, babelHelpers.get(babelHelpers.getPrototypeOf(HaxorSlevin), "properties", this), {
          manifest: {
            type: Object
          },
          color: {
            type: String
          },
          selectedPage: {
            type: Number,
            reflect: true,
            attribute: "selected-page"
          },
          stateClass: {
            type: String
          },
          __mainPosts: {
            type: Array
          },
          __extraPosts: {
            type: Array
          },
          __followUpPosts: {
            type: Array
          }
        });
      }
    }]);

    function HaxorSlevin() {
      var _this;

      babelHelpers.classCallCheck(this, HaxorSlevin);
      _this = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(HaxorSlevin).call(this));
      _this.__disposer = [];
      _this.__mainPosts = [];
      _this.__extraPosts = [];
      _this.__followUpPosts = [];
      setTimeout(function () {
        _this.selectedPage = 0;
        new Promise(function (res, rej) {
          return _require.default(["../../@polymer/iron-pages/iron-pages.js"], res, rej);
        });
        new Promise(function (res, rej) {
          return _require.default(["../haxcms-elements/lib/ui-components/query/site-query.js"], res, rej);
        });
        new Promise(function (res, rej) {
          return _require.default(["../simple-blog-card/simple-blog-card.js"], res, rej);
        });
        (0, _mobxModule.autorun)(function (reaction) {
          var location = (0, _mobxModule.toJS)(_haxcmsSiteStore.store.location);

          _this._noticeLocationChange(location);

          _this.__disposer.push(reaction);
        });
        (0, _mobxModule.autorun)(function (reaction) {
          var manifest = (0, _mobxModule.toJS)(_haxcmsSiteStore.store.manifest);
          _this.title = (0, _utils.varGet)(manifest, "title", "");
          _this.image = (0, _utils.varGet)(manifest, "metadata.theme.variables.image", "assets/banner.jpg");
          _this.icon = (0, _utils.varGet)(manifest, "metadata.theme.variables.icon", "icons:record-voice-over");
          _this.author = (0, _utils.varGet)(manifest, "metadata.author", {});

          _this.__disposer.push(reaction);
        });
        (0, _mobxModule.autorun)(function (reaction) {
          _this.activeManifestIndexCounter = (0, _mobxModule.toJS)(_haxcmsSiteStore.store.activeManifestIndexCounter);

          _this.__disposer.push(reaction);
        });
        (0, _mobxModule.autorun)(function (reaction) {
          _this.activeTitle = (0, _mobxModule.toJS)(_haxcmsSiteStore.store.activeTitle);
          _this.shareUrl = document.location.href;
          _this.shareMsg = _this.activeTitle + " " + _this.shareUrl;

          if ((0, _utils.varGet)(_haxcmsSiteStore.store.activeItem, "metadata.fields.subtitle", false)) {
            _this.subtitle = _haxcmsSiteStore.store.activeItem.metadata.fields.subtitle;
          } else {
            _this.subtitle = false;
          } // look for image on the post and make it the pin share


          if ((0, _utils.varGet)(_haxcmsSiteStore.store.activeItem, "metadata.fields.images.0.src", false)) {
            _this.activeImage = _haxcmsSiteStore.store.activeItem.metadata.fields.images[0].src;
          }

          _this.__disposer.push(reaction);
        });
      }, 0);
      return _this;
    }
    /**
     * LitElement shadowDom ready
     */


    babelHelpers.createClass(HaxorSlevin, [{
      key: "firstUpdated",
      value: function firstUpdated() {
        if (babelHelpers.get(babelHelpers.getPrototypeOf(HaxorSlevin.prototype), "firstUpdated", this)) {
          babelHelpers.get(babelHelpers.getPrototypeOf(HaxorSlevin.prototype), "firstUpdated", this).call(this);
        }

        setTimeout(function () {
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-image/iron-image.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../haxcms-elements/lib/ui-components/active-item/site-active-title.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../haxcms-elements/lib/ui-components/active-item/site-share-widget.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../haxcms-elements/lib/ui-components/active-item/site-git-corner.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../haxcms-elements/lib/ui-components/site/site-rss-button.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../social-share-link/social-share-link.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../haxcms-elements/lib/ui-components/layout/site-modal.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icon/iron-icon.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/iron-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/editor-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/device-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/hardware-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/communication-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/social-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/av-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/maps-icons.js"], res, rej);
          });
          new Promise(function (res, rej) {
            return _require.default(["../../@polymer/iron-icons/places-icons.js"], res, rej);
          });
        }, 0);
      }
    }, {
      key: "updated",
      value: function updated(changedProperties) {
        var _this3 = this;

        if (babelHelpers.get(babelHelpers.getPrototypeOf(HaxorSlevin.prototype), "updated", this)) {
          babelHelpers.get(babelHelpers.getPrototypeOf(HaxorSlevin.prototype), "updated", this).call(this, changedProperties);
        }

        changedProperties.forEach(function (oldValue, propName) {
          if (propName == "manifest") {
            _this3.color = _this3._getColor(_this3[propName]);
          }

          if (propName == "editMode") {
            _this3.stateClass = _this3._getStateClass(_this3[propName]);
          }
        });
      }
    }, {
      key: "_showImage",
      value: function _showImage(image) {
        if (image) {
          return image;
        }

        if (this.image) {
          return this.image;
        }

        return false;
      }
      /**
       * Listen for router location changes and select page to match
       */

    }, {
      key: "_noticeLocationChange",
      value: function _noticeLocationChange(location) {
        if (!location || typeof location.route === "undefined") return;
        var name = location.route.name;

        if (name === "home" || name === "404") {
          this.selectedPage = 0;
        } else {
          window.scrollTo({
            top: 0,
            left: 0
          });
          this.selectedPage = 1; // @todo hacky timing thing

          setTimeout(function () {
            // try scrolling to the target ID after content gets imported
            window.AnchorBehaviors.getTarget(_haxcmsSiteStore.store.themeElement);
          }, 1000);
        }

        setTimeout(function () {
          var evt = document.createEvent("UIEvents");
          evt.initUIEvent("resize", true, false, window, 0);
          window.dispatchEvent(evt);
        }, 50);
      }
      /**
       * life cycle, element is removed from the DOM
       */

    }, {
      key: "disconnectedCallback",
      value: function disconnectedCallback() {
        for (var i in this.__disposer) {
          this.__disposer[i].dispose();
        }

        babelHelpers.get(babelHelpers.getPrototypeOf(HaxorSlevin.prototype), "disconnectedCallback", this).call(this);
      }
      /**
       * Manage the back button to get to the home page of items
       */

    }, {
      key: "_goBack",
      value: function _goBack(e) {
        window.history.pushState(null, null, _haxcmsSiteStore.store.location.baseUrl);
        window.dispatchEvent(new PopStateEvent("popstate")); // should help account for starting on a page where popstate isn't set
        // and also generate data model mirroring

        window.scrollTo({
          top: 0,
          left: 0
        });
        var evt = new CustomEvent("json-outline-schema-active-item-changed", {
          bubbles: true,
          cancelable: true,
          composed: true,
          detail: {}
        });
        this.dispatchEvent(evt);
        this.selectedPage = 0;
      }
    }]);
    return HaxorSlevin;
  }(_HAXCMSLitElementTheme.HAXCMSLitElementTheme);

  _exports.HaxorSlevin = HaxorSlevin;
  window.customElements.define(HaxorSlevin.tag, HaxorSlevin);
});