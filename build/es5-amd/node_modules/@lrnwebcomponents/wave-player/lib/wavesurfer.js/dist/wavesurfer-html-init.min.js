/*!
 * wavesurfer.js 2.1.0 (Mon Oct 01 2018 11:35:00 GMT+0200 (Central European Summer Time))
 * https://github.com/katspaugh/wavesurfer.js
 * @license BSD-3-Clause
 */
!function (e, t) {
  "object" == (typeof exports === "undefined" ? "undefined" : babelHelpers.typeof(exports)) && "object" == (typeof module === "undefined" ? "undefined" : babelHelpers.typeof(module)) ? module.exports = t() : "function" == typeof define && define.amd ? define("html-init", [], t) : "object" == (typeof exports === "undefined" ? "undefined" : babelHelpers.typeof(exports)) ? exports["html-init"] = t() : (e.WaveSurfer = e.WaveSurfer || {}, e.WaveSurfer["html-init"] = t());
}(window, function () {
  return function (n) {
    var r = {};

    function o(e) {
      if (r[e]) return r[e].exports;
      var t = r[e] = {
        i: e,
        l: !1,
        exports: {}
      };
      return n[e].call(t.exports, t, t.exports, o), t.l = !0, t.exports;
    }

    return o.m = n, o.c = r, o.d = function (e, t, n) {
      o.o(e, t) || Object.defineProperty(e, t, {
        enumerable: !0,
        get: n
      });
    }, o.r = function (e) {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
        value: "Module"
      }), Object.defineProperty(e, "__esModule", {
        value: !0
      });
    }, o.t = function (t, e) {
      if (1 & e && (t = o(t)), 8 & e) return t;
      if (4 & e && "object" == babelHelpers.typeof(t) && t && t.__esModule) return t;
      var n = Object.create(null);
      if (o.r(n), Object.defineProperty(n, "default", {
        enumerable: !0,
        value: t
      }), 2 & e && "string" != typeof t) for (var r in t) {
        o.d(n, r, function (e) {
          return t[e];
        }.bind(null, r));
      }
      return n;
    }, o.n = function (e) {
      var t = e && e.__esModule ? function () {
        return e.default;
      } : function () {
        return e;
      };
      return o.d(t, "a", t), t;
    }, o.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }, o.p = "", o(o.s = 0);
  }([function (e, t, n) {
    "use strict";

    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.default = void 0;
    var r,
        a = (r = n(1)) && r.__esModule ? r : {
      default: r
    };

    function o(e) {
      return (o = "function" == typeof Symbol && "symbol" == babelHelpers.typeof(Symbol.iterator) ? function (e) {
        return babelHelpers.typeof(e);
      } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : babelHelpers.typeof(e);
      })(e);
    }

    function i(e, t) {
      for (var n = 0; n < t.length; n++) {
        var r = t[n];
        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);
      }
    }

    var u = function () {
      function n(e) {
        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
        if (function (e, t) {
          if (!babelHelpers.instanceof(e, t)) throw new TypeError("Cannot call a class as a function");
        }(this, n), !e) throw new Error("WaveSurfer is not available!");
        this.WaveSurfer = e;
        var i = this.params = e.util.extend({}, {
          defaults: {
            backend: "MediaElement",
            mediaControls: !0
          },
          containers: "wavesurfer",
          pluginCdnTemplate: "//localhost:8080/dist/plugin/wavesurfer.[name].js",
          loadPlugin: function loadPlugin(n, r) {
            var o = i.pluginCdnTemplate.replace("[name]", n);
            (0, a.default)(o, {
              async: !1
            }, function (e, t) {
              if (e) return console.error("WaveSurfer plugin ".concat(n, " not found at ").concat(o));
              r(window.WaveSurfer[n]);
            });
          }
        }, t);
        this.containers = "string" == typeof i.containers ? document.querySelectorAll(i.containers) : i.containers, this.pluginCache = {}, this.instances = [], this.initAllEls();
      }

      var e, t, r;
      return e = n, (t = [{
        key: "initAllEls",
        value: function value() {
          var i = this;
          Array.prototype.forEach.call(this.containers, function (r) {
            var o = r.dataset.plugins ? r.dataset.plugins.split(",") : [];
            if (!o.length) return i.initEl(r);
            o.forEach(function (t, n) {
              i.pluginCache[t] ? n === o.length && i.initEl(r, o) : i.params.loadPlugin(t, function (e) {
                i.pluginCache[t] = e, n + 1 === o.length && i.initEl(r, o);
              });
            });
          });
        }
      }, {
        key: "initEl",
        value: function value(a) {
          var u = this,
              e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [],
              l = /^[[|{]/,
              t = e.map(function (e) {
            var t,
                n = {},
                r = new RegExp("^" + e);

            for (t in a.dataset) {
              if (r.exec(t)) {
                var o = a.dataset[t],
                    i = l.test(o) ? JSON.parse(o) : o;
                n[t.slice(e.length, e.length + 1).toLowerCase() + t.slice(e.length + 1)] = i;
              }
            }

            return u.pluginCache[e].create(n);
          }),
              n = this.WaveSurfer.util.extend({
            container: a
          }, this.params.defaults, a.dataset, {
            plugins: t
          });
          a.style.display = "block";
          var r = this.WaveSurfer.create(n),
              o = n.peaks ? JSON.parse(n.peaks) : void 0;
          return r.load(n.url, o), this.instances.push(r), r;
        }
      }]) && i(e.prototype, t), r && i(e, r), n;
    }();

    "object" !== ("undefined" == typeof window ? "undefined" : o(window)) || window.WS_StopAutoInit || ("complete" === document.readyState ? window.WaveSurferInit = new u(window.WaveSurfer, window.WS_InitOptions) : window.addEventListener("load", function () {
      window.WaveSurferInit = new u(window.WaveSurfer, window.WS_InitOptions);
    }));
    var l = u;
    t.default = l, e.exports = t.default;
  }, function (e, t) {
    function i(e, t) {
      e.onload = function () {
        this.onerror = this.onload = null, t(null, e);
      }, e.onerror = function () {
        this.onerror = this.onload = null, t(new Error("Failed to load " + this.src), e);
      };
    }

    function a(e, t) {
      e.onreadystatechange = function () {
        "complete" != this.readyState && "loaded" != this.readyState || (this.onreadystatechange = null, t(null, e));
      };
    }

    e.exports = function (e, t, n) {
      var r = document.head || document.getElementsByTagName("head")[0],
          o = document.createElement("script");
      "function" == typeof t && (n = t, t = {}), t = t || {}, n = n || function () {}, o.type = t.type || "text/javascript", o.charset = t.charset || "utf8", o.async = !("async" in t) || !!t.async, o.src = e, t.attrs && function (e, t) {
        for (var n in t) {
          e.setAttribute(n, t[n]);
        }
      }(o, t.attrs), t.text && (o.text = "" + t.text), ("onload" in o ? i : a)(o, n), o.onload || i(o, n), r.appendChild(o);
    };
  }]);
});