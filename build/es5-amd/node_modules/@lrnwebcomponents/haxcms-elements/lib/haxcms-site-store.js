define(["exports","../../../mobx/lib/mobx.module.js"],function(_exports,_mobxModule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.store=void 0;var Store=function(){function Store(){babelHelpers.classCallCheck(this,Store);this.manifest=null;this.editMode=!1;this.activeItem=null;this.location=null}babelHelpers.createClass(Store,[{key:"findItem",value:function findItem(id){if(this.manifest&&id){return this.manifest.items.find(function(item){if(item.id!==id){return!1}return!0})}else{return null}}},{key:"routerManifest",get:function get(){var manifest=this.manifest;if(manifest&&"undefined"!==typeof manifest.items){var manifestItems=manifest.items.map(function(i){var location=i.location.replace("pages/","").replace("/index.html","");return Object.assign({},i,{location:location})});return Object.assign({},manifest,{items:manifestItems})}}},{key:"activeItem",set:function set(id){if(!this.editMode){var item=this.manifest.items.filter(function(item){if(item.id!==id){return!1}return!0});if(item){this.activeItem=item}}}}]);return Store}();(0,_mobxModule.decorate)(Store,{manifest:_mobxModule.observable,editMode:_mobxModule.observable,activeItem:_mobxModule.observable,location:_mobxModule.observable.ref,routerManifest:_mobxModule.computed,changeActiveItem:_mobxModule.action.bound});var store=new Store;_exports.store=store;(0,_mobxModule.autorun)(function(){if(store.location){if(store.location.route){if(store.location.route.component){var id=store.location.route.name;if(!store.editMode){var found=store.manifest.items.filter(function(item){if(item.id!==id){return!1}return!0});if(found){store.activeItem=id}}}}}});(0,_mobxModule.autorun)(function(){var activeItem=store.activeItem;if(activeItem){var foundItem=(0,_mobxModule.toJS)(store.findItem(activeItem));if(foundItem){document.body.dispatchEvent(new CustomEvent("json-outline-schema-active-item-changed",{bubbles:!0,detail:foundItem}))}}})});