define(["../../../@polymer/polymer/polymer-legacy.js","../../../@polymer/polymer/lib/legacy/polymer.dom.js","../../../@polymer/paper-card/paper-card.js","../../../@polymer/paper-button/paper-button.js","../../../@polymer/iron-icons/iron-icons.js","../../../@polymer/iron-list/iron-list.js","../../schema-behaviors/schema-behaviors.js","../../simple-colors/simple-colors.js","../../hax-body/lib/hax-shared-styles.js","./HAXCMSThemeWiring.js","./haxcms-site-store.js","../../../mobx/lib/mobx.module.js"],function(_polymerLegacy,_polymerDom,_paperCard,_paperButton,_ironIcons,_ironList,_schemaBehaviors,_simpleColors,_haxSharedStyles,_HAXCMSThemeWiring,_haxcmsSiteStore,_mobxModule){"use strict";function _templateObject_a6cc5870352611e9bd6b39837805bae7(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"simple-colors hax-shared-styles\">\n      :host {\n        display: block;\n        /* theme color which is dictated by the manifest */\n        background-color: var(--haxcms-color, black);\n      }\n      iron-list {\n        padding: 16px;\n        margin: 0 auto;\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n      }\n      paper-card {\n        width: 200px;\n        color: black;\n        background-color: white;\n        padding: 8px;\n        font-size: 10px;\n      }\n      /**\n       * Hide the slotted content during edit mode. This must be here to work.\n       */\n      :host([edit-mode]) #slot {\n        display: none;\n      }\n      .manifest,\n      .activeitem {\n        width: 48%;\n        margin: 0;\n        padding: 0;\n        display: inline-block;\n        vertical-align: text-top;\n      }\n    </style>\n    <h1 style=\"margin:0;\">HAXCMS DEVELOPMENT THEME</h1>\n    <iron-list id=\"list\" items=\"[[manifest.items]]\" grid>\n      <template>\n        <div style=\"padding:16px;\">\n          <paper-card\n            heading=\"[[item.title]]\"\n            image=\"[[item.metadata.image]]\"\n            elevation=\"1\"\n            animated-shadow=\"false\"\n          >\n            <div class=\"card-content\">\n              <div>description: [[item.description]]</div>\n              <div>location: [[item.location]]</div>\n              <div>changed: [[item.metadata.updated]]</div>\n            </div>\n            <div class=\"card-actions\">\n              <a tabindex=\"-1\" href$=\"[[item.location]]\"\n                ><paper-button data-id$=\"[[item.id]]\"\n                  >Click to set activeItem</paper-button\n                ></a\n              >\n            </div>\n          </paper-card>\n        </div>\n      </template>\n    </iron-list>\n    <div class=\"manifest\">\n      <h2>title: [[manifest.title]]</h2>\n      <div>description: [[manifest.description]]</div>\n      <div>icon: <iron-icon icon=\"[[manifest.metadata.icon]]\"></iron-icon></div>\n      <div>\n        image:\n        <img src$=\"[[manifest.metadata.image]]\" height=\"200px\" width=\"200px\" />\n      </div>\n    </div>\n    <div class=\"activeitem\">\n      <paper-button id=\"unset\">Unset activeItem</paper-button>\n      <h2>ACTIVE ITEM</h2>\n      <div>[[activeItem.title]]</div>\n      <div id=\"contentcontainer\">\n        <div id=\"slot\"><slot></slot></div>\n      </div>\n    </div>\n  "]);_templateObject_a6cc5870352611e9bd6b39837805bae7=function(){return data};return data}(0,_polymerLegacy.Polymer)({is:"haxcms-dev-theme",_template:(0,_polymerLegacy.html)(_templateObject_a6cc5870352611e9bd6b39837805bae7()),behaviors:[SchemaBehaviors.Schema],properties:{editMode:{type:Boolean,reflectToAttribute:!0},activeItem:{type:Object},manifest:{type:Object}},created:function created(){this.HAXCMSThemeWiring=new _HAXCMSThemeWiring.HAXCMSThemeWiring(this)},ready:function ready(){this.HAXCMSThemeWiring.connect(this,this.$.contentcontainer);this.$.list.addEventListener("tap",this._itemTapped.bind(this));this.$.unset.addEventListener("tap",this._unsetTapped.bind(this))},attached:function attached(){var _this=this;this.__disposer=(0,_mobxModule.autorun)(function(){_this.manifest=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.routerManifest)})},detached:function detached(){this.HAXCMSThemeWiring.disconnect(this);this.__disposer();this.$.list.removeEventListener("tap",this._itemTapped.bind(this));this.$.unset.removeEventListener("tap",this._unsetTapped.bind(this))},_itemTapped:function _itemTapped(e){var normalizedEvent=(0,_polymerDom.dom)(e),local=normalizedEvent.localTarget,activeId=local.getAttribute("data-id");if("PAPER-BUTTON"===local.tagName&&babelHelpers.typeof(activeId)!=="undefined"){var item=this.manifest.items.filter(function(d){if(activeId===d.id){return d}}).pop();console.log(this.manifest);console.log(item)}},_unsetTapped:function _unsetTapped(){window.history.pushState(null,null,_haxcmsSiteStore.store.location.baseUrl);window.dispatchEvent(new PopStateEvent("popstate"));this.fire("json-outline-schema-active-item-changed",{})}})});