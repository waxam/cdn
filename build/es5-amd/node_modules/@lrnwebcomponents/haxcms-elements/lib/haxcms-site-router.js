define(["../../../@polymer/polymer/polymer-legacy.js","../../../@polymer/polymer/lib/utils/async.js","../../../@vaadin/router/dist/vaadin-router.js","../../../mobx/lib/mobx.module.js","./haxcms-site-store.js"],function(_polymerLegacy,async,_vaadinRouter,_mobxModule,_haxcmsSiteStore){"use strict";async=babelHelpers.interopRequireWildcard(async);function _templateObject_0eb083a0360b11e986ba19c79f14baa4(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n  "]);_templateObject_0eb083a0360b11e986ba19c79f14baa4=function(){return data};return data}(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_0eb083a0360b11e986ba19c79f14baa4()),is:"haxcms-site-router",properties:{manifest:{type:Object,notify:!0,observer:"_manifestChanged"},baseURI:{type:String}},created:function created(){var _this=this;(0,_mobxModule.autorun)(function(){_this._manifestChanged(_haxcmsSiteStore.store.routerManifest)});window.addEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this))},detached:function detached(){window.removeEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this))},_manifestChanged:function _manifestChanged(routerManifest){if(routerManifest){this._updateRouter(routerManifest)}},_updateRouter:function _updateRouter(manifest){if(!manifest||"undefined"===typeof manifest.items)return;var options={};if(this.baseURI){options.baseUrl=this.baseURI}var router=new _vaadinRouter.Router(this,options),routerItems=manifest.items.map(function(i){return{path:i.location,name:i.id,component:"haxcms-site-router-location"}});router.setRoutes(babelHelpers.toConsumableArray(routerItems).concat([{path:"/",component:"haxcms-site-router-location",name:"home"},{path:"/(.*)",component:"haxcms-site-router-location",name:"404"}]))},_routerLocationChanged:function _routerLocationChanged(e){_haxcmsSiteStore.store.location=e.detail.location}})});