define(["../../../../@polymer/polymer/polymer-legacy.js","../../../../@polymer/polymer/lib/utils/settings.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/paper-button/paper-button.js","../../../../@polymer/iron-icon/iron-icon.js","../../../../@polymer/paper-icon-button/paper-icon-button.js","../../../../@polymer/app-layout/app-header/app-header.js","../../../../@polymer/app-layout/app-toolbar/app-toolbar.js","../../../../@polymer/app-layout/app-drawer/app-drawer.js","../../../../@polymer/iron-icons/iron-icons.js","../../../../@polymer/iron-icons/editor-icons.js","../../../../@polymer/iron-icons/notification-icons.js","../../../../@polymer/iron-icons/av-icons.js","../../../../@polymer/iron-icons/device-icons.js","../../../../@polymer/iron-icons/image-icons.js","../../../../@polymer/paper-item/paper-item.js","../../../../@polymer/paper-input/paper-input.js","../../../json-outline-schema/json-outline-schema.js","../../../simple-toast/simple-toast.js","../../../simple-modal/simple-modal.js","../../../../@polymer/paper-dialog/paper-dialog.js","../../../../@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js","../../../../@polymer/paper-tooltip/paper-tooltip.js","../../../simple-picker/simple-picker.js","../../../simple-icon-picker/simple-icon-picker.js","../../../map-menu/map-menu.js","../../../jwt-login/jwt-login.js","../../../eco-json-schema-form/eco-json-schema-form.js","../../../eco-json-schema-form/lib/eco-json-schema-object.js","../../../simple-colors/simple-colors.js","../../../simple-colors/lib/simple-colors-picker.js","../../../magazine-cover/magazine-cover.js","../../../sites-listing/sites-listing.js"],function(_polymerLegacy,_settings,_ironAjax,_paperButton,_ironIcon,_paperIconButton,_appHeader,_appToolbar,_appDrawer,_ironIcons,_editorIcons,_notificationIcons,_avIcons,_deviceIcons,_imageIcons,_paperItem,_paperInput,_jsonOutlineSchema,_simpleToast,_simpleModal,_paperDialog,_paperDialogScrollable,_paperTooltip,_simplePicker,_simpleIconPicker,_mapMenu,_jwtLogin,_ecoJsonSchemaForm,_ecoJsonSchemaObject,_simpleColors){"use strict";function _templateObject_3e6257c0490411e990ee3fd35bb8725b(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"simple-colors\">\n      app-toolbar {\n        background-color: rgba(255, 0, 116, 1);\n        color: #ffffff;\n      }\n      paper-icon-button {\n        --paper-icon-button-ink-color: #ffffff;\n      }\n      paper-icon-button + [main-title] {\n        margin-left: 24px;\n      }\n      app-header {\n        color: #ffffff;\n        @apply --layout-fixed-top;\n        --app-header-background-rear-layer: {\n          background-color: rgba(255, 0, 116, 1);\n        }\n      }\n      app-drawer {\n        --app-drawer-scrim-background: rgba(0, 0, 0, 0.6);\n        --app-drawer-content-container: {\n          background-color: rgba(255, 0, 116, 0.8);\n          overflow: scroll;\n          color: #ffffff;\n          padding-left: 8px;\n          padding-right: 8px;\n        }\n      }\n      sites-listing {\n        display: block;\n        margin: 100px 16px 0px 16px;\n      }\n      paper-dialog {\n        width: 60%;\n        min-height: 50%;\n        top: 10%;\n        border-radius: 16px;\n      }\n      paper-input {\n        --paper-input-container-focus-color: #3a0063;\n      }\n      #closedrawer {\n        float: left;\n        margin: 12px -20px 0 8px;\n      }\n      #add {\n        float: right;\n        margin: 12px 8px 0 -20px;\n      }\n      #newsitecolor {\n        padding: 4px;\n        margin: 0;\n        display: inline-flex;\n        vertical-align: middle;\n      }\n      #newsitecolor > * {\n        display: inline-flex;\n        align-self: center;\n        margin-right: 8px;\n        --simple-colors-picker-preview-size: 20px;\n      }\n      eco-json-schema-object {\n        --eco-json-schema-object-form : {\n          -ms-flex: unset;\n          -webkit-flex: unset;\n          flex: unset;\n          -webkit-flex-basis: unset;\n          flex-basis: unset;\n        }\n      }\n      #configform {\n      --eco-json-schema-object-form: {\n        display: block !important;\n      }\n    </style>\n    <jwt-login\n      id=\"jwt\"\n      url=\"[[__loginPath]]\"\n      logout-url=\"[[__logoutPath]]\"\n      jwt=\"{{jwt}}\"\n    ></jwt-login>\n    <iron-ajax\n      id=\"createrequest\"\n      method=\"POST\"\n      body=\"[[createParams]]\"\n      headers='{\"Authorization\": \"Bearer [[jwt]]\"}'\n      content-type=\"application/json\"\n      url=\"[[__createNewSitePath]]\"\n      handle-as=\"json\"\n      on-response=\"handleCreateResponse\"\n    ></iron-ajax>\n    <iron-ajax\n      id=\"downloadrequest\"\n      method=\"POST\"\n      body=\"[[downloadParams]]\"\n      headers='{\"Authorization\": \"Bearer [[jwt]]\"}'\n      content-type=\"application/json\"\n      url=\"[[__downloadSitePath]]\"\n      handle-as=\"json\"\n      on-response=\"handleDownloadResponse\"\n    ></iron-ajax>\n    <iron-ajax\n      id=\"getconfigrequest\"\n      method=\"POST\"\n      body=\"[[configParams]]\"\n      headers='{\"Authorization\": \"Bearer [[jwt]]\"}'\n      content-type=\"application/json\"\n      url=\"[[__getConfigPath]]\"\n      handle-as=\"json\"\n      on-response=\"handleConfigResponse\"\n    ></iron-ajax>\n    <iron-ajax\n      id=\"setconfigrequest\"\n      method=\"POST\"\n      body=\"[[setConfigParams]]\"\n      headers='{\"Authorization\": \"Bearer [[jwt]]\"}'\n      content-type=\"application/json\"\n      url=\"[[__setConfigPath]]\"\n      handle-as=\"json\"\n      on-response=\"handleSetConfigResponse\"\n    ></iron-ajax>\n    <sites-listing\n      id=\"siteslisting\"\n      sites-response=\"{{__sitesResponse}}\"\n      sites=\"{{__sites}}\"\n      data-source=\"[[dataSource]]\"\n      edit-mode=\"[[editMode]]\"\n    ></sites-listing>\n    <app-header reveals>\n      <app-toolbar>\n        <paper-icon-button\n          icon=\"menu\"\n          on-tap=\"drawerToggle\"\n        ></paper-icon-button>\n        <div main-title>[[title]]</div>\n        <paper-icon-button\n          on-tap=\"_settingsTap\"\n          id=\"settings\"\n          icon=\"icons:settings\"\n          hidden$=\"[[!loggedIn]]\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"settings\"\n          position=\"bottom\"\n          offset=\"12\"\n          animation-delay=\"200\"\n          >Settings</paper-tooltip\n        >\n        <paper-icon-button\n          on-tap=\"_loginUserRoutine\"\n          id=\"login\"\n          icon=\"[[__loginIcon]]\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"login\"\n          position=\"bottom\"\n          offset=\"12\"\n          animation-delay=\"200\"\n          >[[__loginText]]</paper-tooltip\n        >\n      </app-toolbar>\n    </app-header>\n    <app-drawer id=\"drawer\" swipe-open>\n      <paper-icon-button\n        id=\"closedrawer\"\n        icon=\"icons:close\"\n        on-tap=\"drawerToggle\"\n      ></paper-icon-button>\n      <paper-tooltip\n        for=\"closedrawer\"\n        position=\"bottom\"\n        offset=\"12\"\n        animation-delay=\"200\"\n        >Close</paper-tooltip\n      >\n      <paper-icon-button\n        on-tap=\"_addTap\"\n        id=\"add\"\n        icon=\"icons:add\"\n      ></paper-icon-button>\n      <paper-tooltip\n        for=\"add\"\n        position=\"bottom\"\n        offset=\"12\"\n        animation-delay=\"200\"\n        >Add site</paper-tooltip\n      >\n      <h3\n        style=\"margin: 18px; padding: 6px; border-bottom: 1px solid #ffffff; text-align: center; font-weight: normal;\"\n      >\n        Site list\n      </h3>\n      <map-menu\n        id=\"mapmenu\"\n        items=\"{{outline}}\"\n        data=\"[[__sites]]\"\n        selected=\"{{activeItemID}}\"\n      ></map-menu>\n    </app-drawer>\n    <paper-dialog id=\"newdialog\" with-backdrop>\n      <h3>Create new site</h3>\n      <paper-dialog-scrollable>\n        <paper-input\n          id=\"newsitetitle\"\n          label=\"Title\"\n          required\n          autofocus\n          value=\"{{siteTitle}}\"\n        ></paper-input>\n        <paper-input id=\"newsitedescription\" label=\"Description\"></paper-input>\n        <paper-input\n          id=\"newsiteimage\"\n          label=\"Image\"\n          value=\"[[activeItem.metadata.image]]\"\n        ></paper-input>\n        <label for=\"newsitecolor\">Select a color:</label>\n        <simple-colors-picker id=\"newsitecolor\"></simple-colors-picker>\n        <simple-picker id=\"newsitetheme\" label=\"Theme\"></simple-picker>\n        <label for=\"newsiteicon\">Select an icon:</label>\n        <simple-icon-picker\n          id=\"newsiteicon\"\n          hide-option-labels\n          value=\"[[activeItem.metadata.icon]]\"\n        ></simple-icon-picker>\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button on-tap=\"_createSite\" dialog-confirm id=\"create\" raised\n          >Let's go!</paper-button\n        >\n        <paper-button dialog-dismiss>cancel</paper-button>\n      </div>\n    </paper-dialog>\n    <paper-dialog id=\"itemdialog\" with-backdrop>\n      <paper-dialog-scrollable>\n        <magazine-cover\n          image=\"[[activeItem.metadata.image]]\"\n          header=\"[[activeItem.title]]\"\n          subheader=\"[[activeItem.description]]\"\n          action=\"Access site\"\n          icon=\"[[activeItem.metadata.icon]]\"\n          event-data=\"[[activeItem]]\"\n          event-name=\"haxcms-load-site\"\n        >\n        </magazine-cover>\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <iron-icon\n          icon=\"editor:format-color-fill\"\n          style$=\"color:[[activeItem.metadata.hexCode]]\"\n        ></iron-icon\n        >[[activeItem.metadata.hexCode]]\n        <iron-icon icon=\"av:web\"></iron-icon>Theme:\n        [[activeItem.metadata.theme.name]]\n        <paper-icon-button\n          id=\"editsite\"\n          icon=\"icons:settings\"\n          style=\"color:black\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"edit\"\n          position=\"bottom\"\n          offset=\"12\"\n          animation-delay=\"200\"\n          >change details</paper-tooltip\n        >\n        <paper-icon-button\n          id=\"archivesite\"\n          icon=\"icons:archive\"\n          dialog-dismiss\n          style=\"color:grey\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"archivesite\"\n          position=\"top\"\n          offset=\"12\"\n          animation-delay=\"200\"\n          >archive site</paper-tooltip\n        >\n        <paper-icon-button\n          on-tap=\"_downloadSite\"\n          id=\"download\"\n          icon=\"icons:file-download\"\n          style=\"color:black\"\n        ></paper-icon-button>\n        <paper-tooltip\n          for=\"download\"\n          position=\"top\"\n          offset=\"12\"\n          animation-delay=\"200\"\n          >Download zip</paper-tooltip\n        >\n      </div>\n    </paper-dialog>\n    <paper-dialog id=\"settingsdialog\" with-backdrop>\n      <h3>Edit HAXCMS configuration</h3>\n      <paper-dialog-scrollable>\n        <eco-json-schema-object id=\"settingsform\"></eco-json-schema-object>\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button on-tap=\"_saveConfig\" dialog-confirm id=\"saveconfig\" raised\n          >Save</paper-button\n        >\n        <paper-button dialog-dismiss>cancel</paper-button>\n      </div>\n    </paper-dialog>\n  "]);_templateObject_3e6257c0490411e990ee3fd35bb8725b=function(){return data};return data}(0,_polymerLegacy.Polymer)({is:"haxcms-site-listing",_template:(0,_polymerLegacy.html)(_templateObject_3e6257c0490411e990ee3fd35bb8725b()),properties:{title:{type:String,value:"Site list"},siteTitle:{type:String},__sitesResponse:{type:String,observer:"__sitesResponseChanged"},basePath:{type:String},dataSource:{type:String},jwt:{type:String,observer:"_jwtChanged"},createParams:{type:Object,value:{}},downloadParams:{type:Object,value:{}},configParams:{type:Object,value:{}},setConfigParams:{type:Object,value:{}},activeItem:{type:Object,notify:!0,observer:"_activeItemChanged"},loggedIn:{type:Boolean,notify:!0,reflectToAttribute:!0,observer:"_loginStateChanged"},editMode:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!1,observer:"_editModeChanged"}},drawerToggle:function drawerToggle(){this.$.drawer.toggle()},__sitesResponseChanged:function __sitesResponseChanged(newValue){var _this=this;if(newValue){this.title=newValue.title;setTimeout(function(){if(_this.jwt){_this.$.siteslisting.$.list.querySelector("[data-site-id=\"item-new\"]").hidden=!1;_this.$.mapmenu.$.builder.shadowRoot.querySelector("#item-new").hidden=!1;_this.$.add.hidden=!1}else{_this.$.siteslisting.$.list.querySelector("[data-site-id=\"item-new\"]").hidden=!0;_this.$.mapmenu.$.builder.shadowRoot.querySelector("#item-new").hidden=!0;_this.$.add.hidden=!0}},100)}},_loginStateChange:function _loginStateChange(e){if(e.detail){this.loggedIn=!0}else{this.loggedIn=!1}},_editModeChanged:function _editModeChanged(newValue){if(newValue){this.__editIcon="icons:check"}else{this.__editIcon="icons:create"}},_loginStateChanged:function _loginStateChanged(newValue){if(newValue){this.__loginText="Log out";this.__loginIcon="icons:account-circle";var evt=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Welcome, log in successful!",duration:4e3}});this.dispatchEvent(evt);this.$.add.hidden=!1;this.$.siteslisting.$.list.querySelector("[data-site-id=\"item-new\"]").hidden=!1;this.$.mapmenu.$.builder.shadowRoot.querySelector("#item-new").hidden=!1}else{this.__loginText="Log in";this.__loginIcon="icons:power-settings-new";var _evt=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"You logged out",duration:4e3}});this.dispatchEvent(_evt);this.$.add.hidden=!0;this.$.siteslisting.$.list.querySelector("[data-site-id=\"item-new\"]").hidden=!0;this.$.mapmenu.$.builder.shadowRoot.querySelector("#item-new").hidden=!0}},_jwtChanged:function _jwtChanged(newValue){if(newValue){this.__loginText="Log out";this.__loginIcon="icons:account-circle"}else{this.__loginText="Log in";this.__loginIcon="icons:power-settings-new"}},_loginUserRoutine:function _loginUserRoutine(){this.$.jwt.toggleLogin()},_themeChanged:function _themeChanged(e){if(e.detail.value){this.set("activeItem.metadata.theme",e.detail.value);this.notifyPath("activeItem.metadata.theme")}},_colorChanged:function _colorChanged(e){this.set("activeItem.metadata.cssVariable",e.detail.value);this.notifyPath("activeItem.metadata.cssVariable");this.set("activeItem.metadata.hexCode",_simpleColors.SimpleColors.colors[e.detail.value.replace("--simple-colors-default-theme-","").replace("-7","")][6]);this.notifyPath("activeItem.metadata.hexCode")},_addTap:function _addTap(){var itemNew=this.$.siteslisting.$.list.querySelector("[data-site-id=\"item-new\"]");if(itemNew){itemNew.click()}},_editTap:function _editTap(){this.editMode=!this.editMode},_settingsTap:function _settingsTap(){this._loadConfig();this.$.settingsdialog.opened=!0},_mapMenuSelection:function _mapMenuSelection(e){var findSite=this.__sites.filter(function(site){if(site.id!==e.detail){return!1}return!0});if(0<findSite.length){this.set("activeItem",{});this.set("activeItem",findSite.pop());this.notifyPath("activeItem.*")}},_activeItemChanged:function _activeItemChanged(newValue){if(babelHelpers.typeof(newValue)!=="undefined"&&babelHelpers.typeof(newValue.id)!=="undefined"){if("item-new"===newValue.id){this.$.newdialog.opened=!0;this.$.itemdialog.opened=!1}else{this.$.newdialog.opened=!1;this.$.itemdialog.opened=!0}}else if(babelHelpers.typeof(newValue)!=="undefined"&&babelHelpers.typeof(newValue.id)!=="undefined"){this.$.newdialog.opened=!1;this.$.itemdialog.opened=!1;this.$.drawer.opened=!1}},attached:function attached(){this.__loginPath=window.appSettings.login;this.__logoutPath=window.appSettings.logout;var themeOptions=[],firstTheme=null;for(var theme in window.appSettings.themes){var item=[{alt:window.appSettings.themes[theme].name,value:theme}];themeOptions.push(item);if(!firstTheme){firstTheme=theme}}this.$.newsitetheme.options=themeOptions;if(!this.$.newsitetheme.value){this.$.newsitetheme.value=firstTheme}this.__setConfigPath=window.appSettings.setConfigPath;this.__getConfigPath=window.appSettings.getConfigPath;this.__createNewSitePath=window.appSettings.createNewSitePath;this.__downloadSitePath=window.appSettings.downloadSitePath;document.body.addEventListener("sites-listing-item-selected",this._itemSelected.bind(this));document.body.addEventListener("haxcms-load-site",this.loadActiveSite.bind(this));this.$.mapmenu.addEventListener("selected",this._mapMenuSelection.bind(this));this.$.newsitetheme.addEventListener("change",this._themeChanged.bind(this));this.$.newsitecolor.addEventListener("change",this._colorChanged.bind(this));this.$.jwt.addEventListener("jwt-logged-in",this._loginStateChange.bind(this));this.$.siteslisting.addEventListener("item-overlay-option-selected",this._itemOptionSelected.bind(this));this.$.siteslisting.addEventListener("item-overlay-op-changed",this._itemOpChanged.bind(this))},detached:function detached(){document.body.removeEventListener("sites-listing-item-selected",this._itemSelected.bind(this));document.body.removeEventListener("haxcms-load-site",this.loadActiveSite.bind(this));this.$.mapmenu.removeEventListener("selected",this._mapMenuSelection.bind(this));this.$.newsitetheme.removeEventListener("change",this._themeChanged.bind(this));this.$.newsitecolor.removeEventListener("change",this._colorChanged.bind(this));this.$.jwt.removeEventListener("jwt-logged-in",this._loginStateChange.bind(this));this.$.siteslisting.removeEventListener("item-overlay-option-selected",this._itemOptionSelected.bind(this));this.$.siteslisting.removeEventListener("item-overlay-op-changed",this._itemOpChanged.bind(this))},created:function created(){(0,_settings.setPassiveTouchGestures)(!0);window.JSONOutlineSchema.requestAvailability();window.SimpleModal.requestAvailability();window.SimpleToast.requestAvailability();window.HAXCMS={}},ready:function ready(){this.jwt=localStorage.getItem("jwt")},loadActiveSite:function loadActiveSite(e){var findSite=this.__sites.filter(function(site){if(site.id!==e.detail.id){return!1}return!0}),item=findSite.pop();if(item.location){window.open(item.location)}else{window.open("/_sites/"+item.metadata.siteName+"/index.html")}},_itemSelected:function _itemSelected(e){this.set("activeItem",{});this.set("activeItem",e.detail);this.notifyPath("activeItem.*")},_createSite:function _createSite(){this.set("createParams.siteName",this.$.newsitetitle.value);this.notifyPath("createParams.siteName");this.set("createParams.description",this.$.newsitedescription.value);this.notifyPath("createParams.description");this.set("createParams.theme",this.activeItem.metadata.theme);this.notifyPath("createParams.theme");this.set("createParams.hexCode",this.activeItem.metadata.hexCode);this.notifyPath("createParams.hexCode");this.set("createParams.cssVariable",this.activeItem.metadata.cssVariable);this.notifyPath("createParams.cssVariable");this.set("createParams.image",this.$.newsiteimage.value);this.notifyPath("createParams.image");this.set("createParams.icon",this.$.newsiteicon.icon);this.notifyPath("createParams.icon");this.set("createParams.jwt",this.jwt);this.notifyPath("createParams.jwt");this.$.newsitetitle.value="";this.$.newsitedescription.value=null;this.$.createrequest.generateRequest()},_downloadSite:function _downloadSite(){this.set("downloadParams.siteName",this.activeItem.metadata.siteName);this.notifyPath("downloadParams.siteName");this.set("downloadParams.jwt",this.jwt);this.notifyPath("downloadParams.jwt");this.$.downloadrequest.generateRequest()},_loadConfig:function _loadConfig(){this.set("configParams.jwt",this.jwt);this.notifyPath("configParams.jwt");this.set("configParams.token",this.createParams.token);this.notifyPath("configParams.token");this.$.getconfigrequest.generateRequest()},_saveConfig:function _saveConfig(){window.HAXCMS.config.values=this.$.settingsform.value;this.set("setConfigParams.values",{});this.set("setConfigParams.values",window.HAXCMS.config.values);this.notifyPath("setConfigParams.values.*");this.set("setConfigParams.jwt",this.jwt);this.notifyPath("setConfigParams.jwt");this.set("setConfigParams.token",this.createParams.token);this.notifyPath("setConfigParams.token");this.$.setconfigrequest.generateRequest()},handleCreateResponse:function handleCreateResponse(e){this.fire("sites-listing-refresh-data",e.detail.response);var evt=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:e.detail.response.title+" created successfully!",duration:4e3}});this.dispatchEvent(evt)},handleConfigResponse:function handleConfigResponse(e){window.HAXCMS.config=e.detail.response;this.$.settingsform.set("schema",window.HAXCMS.config.schema);this.$.settingsform.set("value",window.HAXCMS.config.values)},handleSetConfigResponse:function handleSetConfigResponse(){this.$.settingsdialog.opened=!1;var evt=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"HAXCMS configuration updated!",duration:4e3}});this.dispatchEvent(evt)},handleDownloadResponse:function handleDownloadResponse(e){this.fire("download-site-listing",e.detail.response);var element=document.createElement("a");element.setAttribute("href",e.detail.response.link);element.style.display="none";document.body.appendChild(element);element.click();document.body.removeChild(element);var evt=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:this.activeItem.title+" downloaded successfully!",duration:4e3}});this.dispatchEvent(evt)},_itemOptionSelected:function _itemOptionSelected(e){e.detail.element;switch(e.detail.operation){case"remove":if("option1"===e.detail.option){var evt=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Deleting this",duration:4e3}});this.dispatchEvent(evt)}break;case"duplicate":if("option1"===e.detail.option){var _evt2=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Duplicating this",duration:4e3}});this.dispatchEvent(_evt2)}break;case"move":if("option1"===e.detail.option){var _evt3=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Move this item left",duration:4e3}});this.dispatchEvent(_evt3)}else{var _evt4=new CustomEvent("simple-toast-show",{bubbles:!0,cancelable:!0,detail:{text:"Move this item right",duration:4e3}});this.dispatchEvent(_evt4)}break;}},_itemOpChanged:function _itemOpChanged(e){var element=e.detail.element;if("edit"===e.detail.operation){var findSite=this.__sites.filter(function(site){if(site.id!==element.getAttribute("data-site-id")){return!1}return!0});if(0<findSite.length){this.set("activeItem",{});this.set("activeItem",findSite.pop());this.notifyPath("activeItem.*");this.$.edit.click()}}}})});