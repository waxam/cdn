define(["../../../../@polymer/polymer/polymer-legacy.js","../../../../@polymer/paper-icon-button/paper-icon-button.js","../../../../@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js","../../../../@polymer/paper-input/paper-input.js","../../../../@polymer/paper-item/paper-item.js","../../../../@polymer/iron-icons/iron-icons.js","../../../../@polymer/iron-icons/editor-icons.js","../../../../@polymer/iron-icons/notification-icons.js","../../../../@polymer/iron-icons/av-icons.js","../../../../@polymer/iron-icons/device-icons.js","../../../../@polymer/iron-icons/image-icons.js","../../../simple-icon-picker/simple-icon-picker.js","../../../simple-picker/simple-picker.js","../../../simple-colors/simple-colors.js"],function(_polymerLegacy,_paperIconButton,_paperDialogScrollable,_paperInput,_paperItem,_ironIcons,_editorIcons,_notificationIcons,_avIcons,_deviceIcons,_imageIcons,_simpleIconPicker,_simplePicker,_simpleColors){"use strict";function _templateObject_3db304f0490411e990ee3fd35bb8725b(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n      }\n      #publish {\n        min-width: 100px;\n        background-color: var(--haxcms-color, #ff4081);\n      }\n      .buttons {\n        margin: 8px 0 8px 0;\n      }\n      paper-dialog-scrollable {\n        padding: 8px 8px 32px 8px;\n      }\n      paper-button {\n        color: var(--simple-colors-default-theme-grey-11);\n        margin: 0 5px;\n      }\n      iron-icon {\n        margin-right: 8px;\n      }\n      simple-icon-picker {\n        display: inline-flex;\n      }\n      label {\n        font-size: 14px;\n        padding-right: 5px;\n        color: var(\n          --paper-input-container-label_-_color,\n          var(--paper-input-container-color, var(--secondary-text-color, #000))\n        );\n      }\n    </style>\n    <paper-dialog-scrollable>\n      <paper-input\n        id=\"sitetitle\"\n        label=\"Title\"\n        required=\"\"\n        autofocus=\"\"\n        value=\"[[manifest.title]]\"\n      ></paper-input>\n      <paper-input\n        id=\"domain\"\n        label=\"Domain\"\n        value=\"[[manifest.metadata.domain]]\"\n      ></paper-input>\n      <paper-input\n        id=\"sitedescription\"\n        label=\"Description\"\n        value=\"[[manifest.description]]\"\n      ></paper-input>\n      <paper-input\n        id=\"siteimage\"\n        label=\"Image\"\n        value=\"[[manifest.metadata.image]]\"\n      ></paper-input>\n      <label for=\"sitecolor\">Select a color:</label>\n      <simple-colors-picker\n        id=\"sitecolor\"\n        hex-code=\"[[manifest.metadata.hexCode]]\"\n      ></simple-colors-picker>\n      <simple-picker id=\"sitetheme\" label=\"Theme\"> </simple-picker>\n      <label for=\"siteicon\">Select an icon:</label>\n      <simple-icon-picker\n        id=\"siteicon\"\n        hide-option-labels\n        value=\"[[manifest.metadata.icon]]\"\n      ></simple-icon-picker>\n    </paper-dialog-scrollable>\n    <div class=\"buttons\">\n      <paper-button id=\"save\" dialog-confirm raised on-tap=\"_saveTap\">\n        <iron-icon icon=\"icons:save\"></iron-icon>Save\n      </paper-button>\n      <paper-button id=\"cancel\" dialog-dismiss raised>\n        <iron-icon icon=\"icons:cancel\"></iron-icon>Cancel\n      </paper-button>\n      <paper-button id=\"publish\" dialog-confirm on-tap=\"_publishTap\" raised>\n        <iron-icon icon=\"icons:cloud-upload\"></iron-icon>Publish\n      </paper-button>\n    </div>\n  "]);_templateObject_3db304f0490411e990ee3fd35bb8725b=function(){return data};return data}(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_3db304f0490411e990ee3fd35bb8725b()),is:"haxcms-manifest-editor-dialog",properties:{opened:{type:Boolean,notify:!0},manifest:{type:Object,notify:!0}},created:function created(){window.addEventListener("json-outline-schema-changed",this._manifestSet.bind(this))},ready:function ready(){this.set("manifest",window.cmsSiteEditor.jsonOutlineSchema);this.notifyPath("manifest.*")},attached:function attached(){this.$.sitecolor.addEventListener("change",this._colorChanged.bind(this));this.$.sitetheme.addEventListener("change",this._themeChanged.bind(this));setTimeout(function(){var evt=document.createEvent("UIEvents");evt.initUIEvent("resize",!0,!1,window,0);window.dispatchEvent(evt)},100);var themeOptions=[];for(var theme in window.appSettings.themes){var item=[{alt:window.appSettings.themes[theme].name,value:theme}];themeOptions.push(item)}this.$.sitetheme.options=themeOptions;this.$.sitetheme.value=window.cmsSiteEditor.jsonOutlineSchema.metadata.theme.element},detached:function detached(){window.removeEventListener("json-outline-schema-changed",this._manifestSet.bind(this));this.$.sitetheme.removeEventListener("change",this._themeChanged.bind(this));this.$.sitecolor.removeEventListener("change",this._colorChanged.bind(this))},_manifestSet:function _manifestSet(e){if(babelHelpers.typeof(e.detail.id)!=="undefined"){this.set("manifest",e.detail);this.notifyPath("manifest.*")}},_themeChanged:function _themeChanged(e){if(e.detail.value){this.set("manifest.metadata.theme",e.detail.value);this.notifyPath("manifest.metadata.theme")}},_colorChanged:function _colorChanged(e){this.set("manifest.metadata.cssVariable",e.detail.value);this.notifyPath("manifest.metadata.cssVariable");this.set("manifest.metadata.hexCode",_simpleColors.SimpleColors.colors[e.detail.value.replace("--simple-colors-default-theme-","").replace("-7","")][6]);this.notifyPath("manifest.metadata.hexCode")},_publishTap:function _publishTap(){this.fire("haxcms-publish-site",this.manifest)},_saveTap:function _saveTap(){this.set("manifest.title",this.$.sitetitle.value);this.notifyPath("manifest.title");this.set("manifest.description",this.$.sitedescription.value);this.notifyPath("manifest.description");this.set("manifest.metadata.image",this.$.siteimage.value);this.notifyPath("manifest.metadata.image");this.set("manifest.metadata.domain",this.$.domain.value);this.notifyPath("manifest.metadata.domain");this.set("manifest.metadata.icon",this.$.siteicon.icon);this.notifyPath("manifest.metadata.icon");this.fire("haxcms-save-site-data",this.manifest)}})});