define(["exports","../../../../@polymer/polymer/polymer-element.js","../../../../@vaadin/router/dist/vaadin-router.js","../../../../mobx/lib/mobx.module.js","./haxcms-site-store.js"],function(_exports,_polymerElement,_vaadinRouter,_mobxModule,_haxcmsSiteStore){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.HAXCMSSiteRouter=void 0;function _templateObject_1c1c679054b811e9ae77fd2904542570(){var data=babelHelpers.taggedTemplateLiteral(["\n      <slot></slot>\n    "]);_templateObject_1c1c679054b811e9ae77fd2904542570=function(){return data};return data}var HAXCMSSiteRouter=function(_PolymerElement){babelHelpers.inherits(HAXCMSSiteRouter,_PolymerElement);babelHelpers.createClass(HAXCMSSiteRouter,null,[{key:"tag",get:function get(){return"haxcms-site-router"}},{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_1c1c679054b811e9ae77fd2904542570())}},{key:"properties",get:function get(){return{baseURI:{type:String}}}}]);function HAXCMSSiteRouter(){var _this;babelHelpers.classCallCheck(this,HAXCMSSiteRouter);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(HAXCMSSiteRouter).call(this));var options={};if(_this.baseURI){options.baseUrl=_this.baseURI}_this.router=new _vaadinRouter.Router(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this)),options);_this.__disposer=(0,_mobxModule.autorun)(function(){_this._updateRouter(_haxcmsSiteStore.store.routerManifest)});window.addEventListener("vaadin-router-location-changed",_this._routerLocationChanged.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this))));return _this}babelHelpers.createClass(HAXCMSSiteRouter,[{key:"disconnectedCallback",value:function disconnectedCallback(){this.__disposer();window.removeEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this));babelHelpers.get(babelHelpers.getPrototypeOf(HAXCMSSiteRouter.prototype),"disconnectedCallback",this).call(this)}},{key:"_updateRouter",value:function _updateRouter(routerManifest){if(!routerManifest||"undefined"===typeof routerManifest.items)return;var routerItems=routerManifest.items.map(function(i){return{path:i.location,name:i.id,component:"fake-".concat(i.id,"-e")}});this.router.setRoutes(babelHelpers.toConsumableArray(routerItems).concat([{path:"/",component:"fake-home-e",name:"home"},{path:"/(.*)",component:"fake-404-e",name:"404"}]))}},{key:"_routerLocationChanged",value:function _routerLocationChanged(e){_haxcmsSiteStore.store.location=e.detail.location}}]);return HAXCMSSiteRouter}(_polymerElement.PolymerElement);_exports.HAXCMSSiteRouter=HAXCMSSiteRouter;window.customElements.define(HAXCMSSiteRouter.tag,HAXCMSSiteRouter)});