define(["exports","../../../../../@polymer/polymer/polymer-element.js","../../core/haxcms-site-store.js","../../../../../mobx/lib/mobx.module.js","../../../../map-menu/map-menu.js"],function(_exports,_polymerElement,_haxcmsSiteStore,_mobxModule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SiteMenu=void 0;function _templateObject_0f1f09e0490411e990ee3fd35bb8725b(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: block;\n          height: 100vh;\n        }\n        map-menu {\n          @apply --site-menu;\n          --map-menu-active-color: var(--site-menu-active-color);\n          --map-menu-container: var(--site-menu-container);\n          --map-menu-item-active-item: var(--site-menu-item-active-item);\n        }\n\n        map-menu::-webkit-scrollbar-track {\n          -webkit-box-shadow: inset 0 0 4px\n            var(--site-menu-scrolltrack-bg-color, rgba(56, 63, 69, 0.9));\n          border-radius: 0;\n          background-color: var(--site-menu-bg-color, #383f45);\n        }\n        map-menu::-webkit-scrollbar {\n          width: 2px;\n          background-color: var(--site-menu-bg-color, #383f45);\n        }\n        map-menu::-webkit-scrollbar-thumb {\n          border-radius: 1px;\n          -webkit-box-shadow: inset 0 0 4px var(--site-menu-bg-shadow, #747474);\n          background-color: var(--site-menu-bg-color, #383f45);\n        }\n      </style>\n      <map-menu\n        id=\"menu\"\n        selected=\"[[activeId]]\"\n        manifest=\"[[routerManifest]]\"\n        active-indicator=\"[[!hideActiveIndicator]]\"\n        auto-scroll=\"[[!preventAutoScroll]]\"\n      ></map-menu>\n    "]);_templateObject_0f1f09e0490411e990ee3fd35bb8725b=function(){return data};return data}var SiteMenu=function(_PolymerElement){babelHelpers.inherits(SiteMenu,_PolymerElement);function SiteMenu(){babelHelpers.classCallCheck(this,SiteMenu);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SiteMenu).apply(this,arguments))}babelHelpers.createClass(SiteMenu,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(SiteMenu.prototype),"connectedCallback",this).call(this);this.__disposer=(0,_mobxModule.autorun)(function(){_this.routerManifest=Object.assign({},(0,_mobxModule.toJS)(_haxcmsSiteStore.store.routerManifest))});setTimeout(function(){_this.__disposer2=(0,_mobxModule.autorun)(function(){_this.activeId=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeId)})},50);this.$.menu.addEventListener("active-item",this.mapMenuActiveChanged.bind(this))}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(SiteMenu.prototype),"disconnectedCallback",this).call(this);this.__disposer();if(this.__disposer2){this.__disposer2()}this.$.menu.removeEventListener("active-item",this.mapMenuActiveChanged.bind(this))}},{key:"mapMenuActiveChanged",value:function mapMenuActiveChanged(e){e.detail.trackIcon="icons:check";var userData=JSON.parse(window.localStorage.getItem("HAXCMSSystemData"));userData.manifests[this.routerManifest.id].accessData[e.detail.id]={timestamp:Math.floor(Date.now()/1e3),trackIcon:"icons:check"};for(var i in this.routerManifest.items){if(this.routerManifest.items[i].id===e.detail.id){this.routerManifest.items[i].metadata.accessData=userData.manifests[this.routerManifest.id].accessData[e.detail.id]}}window.localStorage.setItem("HAXCMSSystemData",JSON.stringify(userData))}}],[{key:"tag",get:function get(){return"site-menu"}},{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_0f1f09e0490411e990ee3fd35bb8725b())}},{key:"properties",get:function get(){return{routerManifest:{type:Object},activeId:{type:String},hideActiveIndicator:{type:Boolean,value:!1},preventAutoScroll:{type:Boolean,value:!1}}}}]);return SiteMenu}(_polymerElement.PolymerElement);_exports.SiteMenu=SiteMenu;window.customElements.define(SiteMenu.tag,SiteMenu)});