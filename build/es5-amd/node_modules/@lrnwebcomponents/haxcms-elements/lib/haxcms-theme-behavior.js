define(["../../simple-colors/simple-colors.js"],function(){"use strict";window.HAXCMSBehaviors=window.HAXCMSBehaviors||{};window.HAXCMSBehaviors.Theme={properties:{editMode:{type:Boolean,reflectToAttribute:!0,value:!1,notify:!0},activeItem:{type:Object,notify:!0,observer:"_activeItemChanged"},manifest:{type:Object,notify:!0,observer:"_manifestChanged"}},_globalEditChanged:function _globalEditChanged(e){this.editMode=e.detail},_activeItemChanged:function _activeItemChanged(newValue){if(newValue&&babelHelpers.typeof(newValue.id)!=="undefined"){this.fire("json-outline-schema-active-item-changed",newValue);if(babelHelpers.typeof(newValue.title)!=="undefined"){document.title=this.manifest.title+" - "+newValue.title}else{document.title=this.manifest.title+" - "+this.manifest.description}}else{document.title=this.manifest.title+" - "+this.manifest.description}},_activeItemUpdate:function _activeItemUpdate(e){this.set("activeItem",e.detail);this.notifyPath("activeItem.*")},setupHAXTheme:function setupHAXTheme(){var load=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0,injector=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.$.contentcontainer;if(load){document.body.addEventListener("haxcms-edit-mode-changed",this._globalEditChanged.bind(this));document.body.addEventListener("json-outline-schema-changed",this._manifestUpdate.bind(this));document.body.addEventListener("haxcms-active-item-changed",this._activeItemUpdate.bind(this));document.body.addEventListener("haxcms-trigger-update",this._triggerUpdate.bind(this));if(babelHelpers.typeof(window.cmsSiteEditor)!=="undefined"){window.cmsSiteEditor.requestAvailability(this,injector)}}else{document.body.removeEventListener("haxcms-active-item-changed",this._activeItemUpdate.bind(this));document.body.removeEventListener("json-outline-schema-changed",this._manifestUpdate.bind(this));document.body.removeEventListener("haxcms-edit-mode-changed",this._globalEditChanged.bind(this));document.body.removeEventListener("haxcms-trigger-update",this._triggerUpdate.bind(this))}},_triggerUpdate:function _triggerUpdate(){this.fire("json-outline-schema-active-item-changed",{})},_manifestUpdate:function _manifestUpdate(e){this.set("manifest",e.detail);this.notifyPath("manifest.*")},_manifestChanged:function _manifestChanged(newValue){if(babelHelpers.typeof(newValue.title)!=="undefined"){document.title=this.manifest.title+" - "+this.manifest.description}if(babelHelpers.typeof(newValue.metadata)!=="undefined"&&babelHelpers.typeof(newValue.metadata.cssVariable)!=="undefined"){var color=this.manifest.metadata.cssVariable.replace("--simple-colors-",""),ary=color.split("-");if(2==ary.length){color=ary[0];this.accentColor=color}else if(3==ary.length){color=ary[0]+" "+ary[1];this.accentColor=color}var haxcmscolor="";if(window.ShadyCSS){haxcmscolor=ShadyCSS.getComputedStyleValue(this,this.manifest.metadata.cssVariable)}else{haxcmscolor=getComputedStyle(this).getPropertyValue(this.manifest.metadata.cssVariable)}document.body.style.setProperty("--haxcms-color",haxcmscolor);this.updateStyles({"--haxcms-color":haxcmscolor})}}}});