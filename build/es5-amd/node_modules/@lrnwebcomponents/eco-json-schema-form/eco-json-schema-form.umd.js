!function(q,z){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?z(require("@polymer/iron-icons/image-icons.js"),require("@polymer/iron-pages/iron-pages.js"),require("@polymer/app-layout/app-toolbar/app-toolbar.js"),require("@polymer/paper-menu-button/paper-menu-button.js"),require("@polymer/paper-ripple/paper-ripple.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/iron-icons/editor-icons.js"),require("@polymer/paper-icon-button/paper-icon-button.js"),require("paper-collapse-item/paper-collapse-item.js"),require("paper-collapse-item/paper-collapse-group.js"),require("@polymer/paper-checkbox/paper-checkbox.js"),require("@polymer/paper-dropdown-menu/paper-dropdown-menu.js"),require("@polymer/paper-item/paper-item.js"),require("@polymer/paper-listbox/paper-listbox.js"),require("@polymer/iron-validatable-behavior/iron-validatable-behavior.js"),require("@polymer/paper-styles/typography.js"),require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/iron-flex-layout/iron-flex-layout-classes.js"),require("@polymer/app-localize-behavior/app-localize-behavior.js"),require("@polymer/paper-button/paper-button.js"),require("@polymer/paper-input/paper-input.js"),require("@polymer/iron-icon/iron-icon.js"),require("@polymer/iron-icons/iron-icons.js")):"function"==typeof define&&define.amd?define(["@polymer/iron-icons/image-icons.js","@polymer/iron-pages/iron-pages.js","@polymer/app-layout/app-toolbar/app-toolbar.js","@polymer/paper-menu-button/paper-menu-button.js","@polymer/paper-ripple/paper-ripple.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/iron-icons/editor-icons.js","@polymer/paper-icon-button/paper-icon-button.js","paper-collapse-item/paper-collapse-item.js","paper-collapse-item/paper-collapse-group.js","@polymer/paper-checkbox/paper-checkbox.js","@polymer/paper-dropdown-menu/paper-dropdown-menu.js","@polymer/paper-item/paper-item.js","@polymer/paper-listbox/paper-listbox.js","@polymer/iron-validatable-behavior/iron-validatable-behavior.js","@polymer/paper-styles/typography.js","@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/utils/async.js","@polymer/iron-flex-layout/iron-flex-layout-classes.js","@polymer/app-localize-behavior/app-localize-behavior.js","@polymer/paper-button/paper-button.js","@polymer/paper-input/paper-input.js","@polymer/iron-icon/iron-icon.js","@polymer/iron-icons/iron-icons.js"],z):z(null,null,null,null,null,q.polymer_dom_js,null,null,null,null,null,null,null,null,q.ironValidatableBehavior_js,null,q.polymerLegacy_js,q.async,null,q.appLocalizeBehavior_js)}(this,function(q,z,B,D,E,F,G,H,I,J,K,L,M,N,P,Q,R,T,U,V){"use strict";function W(ea){return(W="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(fa){return"undefined"===typeof fa?"undefined":babelHelpers.typeof(fa)}:function(fa){return fa&&"function"==typeof Symbol&&fa.constructor===Symbol&&fa!==Symbol.prototype?"symbol":"undefined"===typeof fa?"undefined":babelHelpers.typeof(fa)})(ea)}function X(ea,fa){return fa||(fa=ea.slice(0)),Object.freeze(Object.defineProperties(ea,{raw:{value:Object.freeze(fa)}}))}function Y(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-checkbox {\n        color: #737373;\n        padding: 2px;\n        display: block;\n        font-size: 16px;\n        white-space: normal;\n      }\n    </style>\n\n    <paper-checkbox\n      id=\"checkbox\"\n      class=\"flex\"\n      checked=\"{{value}}\"\n      invalid=\"[[error]]\"\n      >[[_label]]</paper-checkbox\n    >\n  "]);return Y=function(){return ea},ea}function Z(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-input {\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n      }\n\n      paper-dropdown-menu {\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n        --paper-dropdown-menu-button: {\n          padding: 2px;\n        }\n      }\n    </style>\n\n    <paper-dropdown-menu\n      id=\"dropdown\"\n      class=\"layout horizontal vertical\"\n      value=\"{{value}}\"\n      required=\"\"\n    >\n      <paper-dropdown-menu class=\"dropdown-content\">\n        <paper-listbox slot=\"dropdown-content\" selected=\"0\">\n          <template is=\"dom-repeat\" items=\"[[_items]]\">\n            <paper-item class=\"flex\" label=\"[[item]]\">[[item]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </paper-dropdown-menu>\n  "]);return Z=function(){return ea},ea}function $(){var ea=X(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        paper-input {\n          padding: 2px;\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 16px;\n            color: #212121;\n          }\n          --paper-input-container: {\n            width: 100%;\n          }\n          --paper-input-container-input: {\n            width: 100% !important;\n            background-color: transparent !important;\n            border: none !important;\n          }\n          --paper-input-container-shared-input-style: {\n            width: 100% !important;\n            background-color: transparent !important;\n            border: none !important;\n          }\n        }\n      </style>\n    </custom-style>\n    <paper-input\n      id=\"input\"\n      class=\"flex\"\n      value=\"{{value}}\"\n      auto-validate\n    ></paper-input>\n  "]);return $=function(){return ea},ea}function aa(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n      }\n\n      :host {\n        display: inline-block;\n      }\n\n      .enabled {\n        border: 1px dashed #555;\n        @apply --file-upload-upload-border-enabled;\n      }\n\n      .hover {\n        opacity: 0.7;\n        border: 1px dashed #111;\n        @apply --file-upload-upload-border-hover;\n      }\n\n      #UploadBorder {\n        vertical-align: middle;\n        color: #555;\n        padding: 20px;\n        max-height: 300px;\n        overflow-y: auto;\n        display: inline-block;\n        @apply --file-upload-upload-border;\n      }\n\n      #dropArea {\n        text-align: center;\n        @apply --file-upload-drop-area;\n      }\n\n      paper-button#button {\n        margin-bottom: 20px;\n        @apply --file-upload-button;\n      }\n\n      .file {\n        padding: 10px 0px;\n        @apply --file-upload-file;\n      }\n\n      .commands {\n        float: right;\n        @apply --file-upload-commands;\n      }\n\n      .commands iron-icon:not([icon=\"check-circle\"]) {\n        cursor: pointer;\n        opacity: 0.9;\n        @apply --file-upload-commands-faded;\n      }\n\n      .commands iron-icon:hover {\n        opacity: 1;\n        @apply --file-upload-commands-hovered;\n      }\n\n      [hidden] {\n        display: none;\n      }\n\n      .error {\n        color: #f40303;\n        font-size: 11px;\n        margin-top: 2px;\n        @apply --file-upload-error;\n      }\n\n      .progress-bar {\n        margin-top: 2px;\n      }\n\n      paper-progress {\n        --paper-progress-active-color: #03a9f4;\n      }\n\n      paper-progress[error] {\n        --paper-progress-active-color: #f40303;\n      }\n    </style>\n\n    <div class=\"layout horizontal nowrap\">\n      <div>\n        <paper-button\n          id=\"button\"\n          on-click=\"_fileClick\"\n          alt=\"{{paperButtonAlt}}\"\n          raised=\"\"\n        >\n          <iron-icon icon=\"editor:attach-file\"></iron-icon\n          >{{paperButtonTitle}}</paper-button\n        >\n        <div id=\"UploadBorder\">\n          <div id=\"dropArea\" hidden$=\"{{!_shownDropText}}\">{{dropText}}</div>\n          <template is=\"dom-repeat\" items=\"{{files}}\">\n            <div class=\"file\">\n              <div class=\"name\">\n                <span>{{item.name}}</span>\n                <div class=\"commands\">\n                  <iron-icon\n                    icon=\"autorenew\"\n                    title=\"{{retryText}}\"\n                    on-click=\"_retryUpload\"\n                    hidden$=\"{{!item.error}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"cancel\"\n                    title=\"{{removeText}}\"\n                    on-click=\"_cancelUpload\"\n                    hidden$=\"{{item.complete}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"check-circle\"\n                    title=\"{{successText}}\"\n                    hidden$=\"{{!item.complete}}\"\n                  ></iron-icon>\n                </div>\n              </div>\n              <div class=\"error\" hidden$=\"{{!item.error}}\">{{errorText}}</div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <input\n        type=\"file\"\n        id=\"fileInput\"\n        on-change=\"_fileChange\"\n        hidden=\"\"\n        multiple=\"{{multi}}\"\n        accept=\"{{accept}}\"\n      />\n    </div>\n  "],["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n      }\n\n      :host {\n        display: inline-block;\n      }\n\n      .enabled {\n        border: 1px dashed #555;\n        @apply --file-upload-upload-border-enabled;\n      }\n\n      .hover {\n        opacity: 0.7;\n        border: 1px dashed #111;\n        @apply --file-upload-upload-border-hover;\n      }\n\n      #UploadBorder {\n        vertical-align: middle;\n        color: #555;\n        padding: 20px;\n        max-height: 300px;\n        overflow-y: auto;\n        display: inline-block;\n        @apply --file-upload-upload-border;\n      }\n\n      #dropArea {\n        text-align: center;\n        @apply --file-upload-drop-area;\n      }\n\n      paper-button#button {\n        margin-bottom: 20px;\n        @apply --file-upload-button;\n      }\n\n      .file {\n        padding: 10px 0px;\n        @apply --file-upload-file;\n      }\n\n      .commands {\n        float: right;\n        @apply --file-upload-commands;\n      }\n\n      .commands iron-icon:not([icon=\"check-circle\"]) {\n        cursor: pointer;\n        opacity: 0.9;\n        @apply --file-upload-commands-faded;\n      }\n\n      .commands iron-icon:hover {\n        opacity: 1;\n        @apply --file-upload-commands-hovered;\n      }\n\n      [hidden] {\n        display: none;\n      }\n\n      .error {\n        color: #f40303;\n        font-size: 11px;\n        margin-top: 2px;\n        @apply --file-upload-error;\n      }\n\n      .progress-bar {\n        margin-top: 2px;\n      }\n\n      paper-progress {\n        --paper-progress-active-color: #03a9f4;\n      }\n\n      paper-progress[error] {\n        --paper-progress-active-color: #f40303;\n      }\n    </style>\n\n    <div class=\"layout horizontal nowrap\">\n      <div>\n        <paper-button\n          id=\"button\"\n          on-click=\"_fileClick\"\n          alt=\"{{paperButtonAlt}}\"\n          raised=\"\"\n        >\n          <iron-icon icon=\"editor:attach-file\"></iron-icon\n          >{{paperButtonTitle}}</paper-button\n        >\n        <div id=\"UploadBorder\">\n          <div id=\"dropArea\" hidden\\$=\"{{!_shownDropText}}\">{{dropText}}</div>\n          <template is=\"dom-repeat\" items=\"{{files}}\">\n            <div class=\"file\">\n              <div class=\"name\">\n                <span>{{item.name}}</span>\n                <div class=\"commands\">\n                  <iron-icon\n                    icon=\"autorenew\"\n                    title=\"{{retryText}}\"\n                    on-click=\"_retryUpload\"\n                    hidden\\$=\"{{!item.error}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"cancel\"\n                    title=\"{{removeText}}\"\n                    on-click=\"_cancelUpload\"\n                    hidden\\$=\"{{item.complete}}\"\n                  ></iron-icon>\n                  <iron-icon\n                    icon=\"check-circle\"\n                    title=\"{{successText}}\"\n                    hidden\\$=\"{{!item.complete}}\"\n                  ></iron-icon>\n                </div>\n              </div>\n              <div class=\"error\" hidden\\$=\"{{!item.error}}\">{{errorText}}</div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <input\n        type=\"file\"\n        id=\"fileInput\"\n        on-change=\"_fileChange\"\n        hidden=\"\"\n        multiple=\"{{multi}}\"\n        accept=\"{{accept}}\"\n      />\n    </div>\n  "]);return aa=function(){return ea},ea}function ba(){var ea=X(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        paper-input {\n          padding: 2px;\n\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        paper-collapse-item {\n          --paper-collapse-item-header: {\n            font-weight: bold;\n            padding: 8px 0 0 8px;\n          }\n        }\n\n        #form {\n          border: 1px solid #aaaaaa;\n        }\n\n        #form div:nth-child(odd) {\n          background-color: #f2f2f2;\n          padding: 4px;\n        }\n\n        #form div:nth-child(even) {\n          background-color: #e2e2e2;\n          border-top: 1px solid #aaaaaa;\n          border-bottom: 1px solid #aaaaaa;\n          padding: 4px;\n        }\n\n        #form div:focus,\n        #form div:hover,\n        #form div:active {\n          background-color: #ffffff !important;\n        }\n\n        paper-icon-button {\n          float: right;\n          border-radius: 50%;\n        }\n\n        .array-add {\n          color: #34e79a;\n          background-color: #f8f8f8;\n        }\n\n        .array-remove-element {\n          color: #f44336;\n          background-color: #f8f8f8;\n        }\n\n        .label {\n          @apply --paper-input-container-label;\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n\n        :host {\n          display: block;\n        }\n        .label {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n          @apply --paper-input-container-label;\n        }\n      </style>\n    </custom-style>\n    <div class=\"horizontal layout\">\n      <div class=\"flex\" hidden$=\"[[!label]]\">[[label]]</div>\n      <paper-icon-button\n        id=\"addarray\"\n        title=\"Add another item\"\n        class=\"array-add\"\n        icon=\"add\"\n        on-click=\"_onAddItem\"\n        role=\"button\"\n        aria-label=\"Add another item\"\n      ></paper-icon-button>\n    </div>\n\n    <paper-collapse-group\n      id=\"form\"\n      class=\"vertical flex layout\"\n    ></paper-collapse-group>\n  "],["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        paper-input {\n          padding: 2px;\n\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        paper-collapse-item {\n          --paper-collapse-item-header: {\n            font-weight: bold;\n            padding: 8px 0 0 8px;\n          }\n        }\n\n        #form {\n          border: 1px solid #aaaaaa;\n        }\n\n        #form div:nth-child(odd) {\n          background-color: #f2f2f2;\n          padding: 4px;\n        }\n\n        #form div:nth-child(even) {\n          background-color: #e2e2e2;\n          border-top: 1px solid #aaaaaa;\n          border-bottom: 1px solid #aaaaaa;\n          padding: 4px;\n        }\n\n        #form div:focus,\n        #form div:hover,\n        #form div:active {\n          background-color: #ffffff !important;\n        }\n\n        paper-icon-button {\n          float: right;\n          border-radius: 50%;\n        }\n\n        .array-add {\n          color: #34e79a;\n          background-color: #f8f8f8;\n        }\n\n        .array-remove-element {\n          color: #f44336;\n          background-color: #f8f8f8;\n        }\n\n        .label {\n          @apply --paper-input-container-label;\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n        }\n\n        :host {\n          display: block;\n        }\n        .label {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #212121;\n          @apply --paper-input-container-label;\n        }\n      </style>\n    </custom-style>\n    <div class=\"horizontal layout\">\n      <div class=\"flex\" hidden\\$=\"[[!label]]\">[[label]]</div>\n      <paper-icon-button\n        id=\"addarray\"\n        title=\"Add another item\"\n        class=\"array-add\"\n        icon=\"add\"\n        on-click=\"_onAddItem\"\n        role=\"button\"\n        aria-label=\"Add another item\"\n      ></paper-icon-button>\n    </div>\n\n    <paper-collapse-group\n      id=\"form\"\n      class=\"vertical flex layout\"\n    ></paper-collapse-group>\n  "]);return ba=function(){return ea},ea}function ca(){var ea=X(["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        div.layout {\n          height: auto;\n        }\n        #form {\n          display: block;\n          @apply --eco-json-schema-object-form;\n          @apply --layout-vertical;\n          @apply --layout-wrap;\n        }\n        #form ::slotted(paper-input) {\n          --paper-input-container-shared-input-style: {\n            border: none !important;\n            width: 100% !important;\n            background-color: transparent !important;\n          }\n        }\n      </style>\n    </custom-style>\n\n    <template is=\"dom-if\" if=\"{{!wizard}}\">\n      <div class=\"header\" hidden$=\"[[!label]]\">[[label]]</div>\n    </template>\n    <div class=\"layout vertical flex start-justified\">\n      <div id=\"form\" class=\"layout horizontal flex start-justified\">\n        <slot></slot>\n      </div>\n    </div>\n  "],["\n    <custom-style>\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n        div.layout {\n          height: auto;\n        }\n        #form {\n          display: block;\n          @apply --eco-json-schema-object-form;\n          @apply --layout-vertical;\n          @apply --layout-wrap;\n        }\n        #form ::slotted(paper-input) {\n          --paper-input-container-shared-input-style: {\n            border: none !important;\n            width: 100% !important;\n            background-color: transparent !important;\n          }\n        }\n      </style>\n    </custom-style>\n\n    <template is=\"dom-if\" if=\"{{!wizard}}\">\n      <div class=\"header\" hidden\\$=\"[[!label]]\">[[label]]</div>\n    </template>\n    <div class=\"layout vertical flex start-justified\">\n      <div id=\"form\" class=\"layout horizontal flex start-justified\">\n        <slot></slot>\n      </div>\n    </div>\n  "]);return ca=function(){return ea},ea}function da(){var ea=X(["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      :host {\n        display: block;\n        @apply --layout-vertical;\n      }\n\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #fff;\n        }\n      }\n\n      .box,\n      #form {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-flex-align: center;\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .fullbleed {\n        z-index: 1;\n      }\n\n      app-toolbar.bottom {\n        --app-toolbar-color: var(--app-primary-color);\n        --app-toolbar-background: var(--dark-theme-text-color);\n      }\n\n      app-toolbar.bottom paper-icon-button {\n        --app-toolbar-color: var(--dark-theme-text-color);\n        --app-toolbar-background: var(--app-primary-color);\n      }\n    </style>\n    <div class=\"vertical flex layout fullbleed\">\n      <!--\n        paper-icon-button id=\"camButton\" icon=\"editor:insert-photo\" raised>add photo</paper-icon-button\n      -->\n      <app-toolbar>\n        <paper-icon-button\n          id=\"prevButton\"\n          icon=\"arrow-back\"\n          hidden$=\"{{!hasPrev}}\"\n          on-tap=\"prev\"\n          raised=\"\"\n          >{{localize('prev')}}</paper-icon-button\n        ><span class=\"title layout horizontal flex\" style=\"white-space: normal\"\n          >[[title]]</span\n        >\n        <paper-icon-button\n          id=\"nextButton\"\n          icon=\"arrow-forward\"\n          hidden$=\"{{!hasNext}}\"\n          on-tap=\"next\"\n          raised=\"\"\n          >{{localize('next')}}</paper-icon-button\n        >\n        <paper-icon-button\n          id=\"submitButton\"\n          icon=\"cloud-upload\"\n          on-tap=\"submit\"\n          raised=\"\"\n          >{{localize('submit')}}</paper-icon-button\n        >\n      </app-toolbar>\n      <iron-pages\n        id=\"form\"\n        class=\"layout horizontal flex start-justified\"\n        role=\"main\"\n        selected=\"[[page]]\"\n        attr-for-selected=\"name\"\n      ></iron-pages>\n      <app-toolbar class=\"bottom\">\n        <div hidden$=\"{{!hasPrev}}\" on-tap=\"prev\">\n          <paper-icon-button id=\"prevButton\" icon=\"arrow-back\" raised=\"\"\n            >{{localize('prev')}}</paper-icon-button\n          >\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('prev')}}</span\n          >\n        </div>\n        <span\n          class=\"title layout horizontal flex\"\n          style=\"white-space: normal\"\n        ></span>\n        <div hidden$=\"{{!hasNext}}\" on-tap=\"next\">\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('next')}}</span\n          >\n          <paper-icon-button id=\"nextButton\" icon=\"arrow-forward\" raised=\"\"\n            >{{localize('next')}}</paper-icon-button\n          >\n        </div>\n      </app-toolbar>\n    </div>\n  "],["\n    <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\">\n      :host {\n        display: block;\n        @apply --layout-vertical;\n      }\n\n      paper-input {\n        padding: 2px;\n        --paper-input-container-label: {\n          white-space: normal;\n          position: static;\n          font-size: 22px;\n          color: #fff;\n        }\n      }\n\n      .box,\n      #form {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-flex-align: center;\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .fullbleed {\n        z-index: 1;\n      }\n\n      app-toolbar.bottom {\n        --app-toolbar-color: var(--app-primary-color);\n        --app-toolbar-background: var(--dark-theme-text-color);\n      }\n\n      app-toolbar.bottom paper-icon-button {\n        --app-toolbar-color: var(--dark-theme-text-color);\n        --app-toolbar-background: var(--app-primary-color);\n      }\n    </style>\n    <div class=\"vertical flex layout fullbleed\">\n      <!--\n        paper-icon-button id=\"camButton\" icon=\"editor:insert-photo\" raised>add photo</paper-icon-button\n      -->\n      <app-toolbar>\n        <paper-icon-button\n          id=\"prevButton\"\n          icon=\"arrow-back\"\n          hidden\\$=\"{{!hasPrev}}\"\n          on-tap=\"prev\"\n          raised=\"\"\n          >{{localize('prev')}}</paper-icon-button\n        ><span class=\"title layout horizontal flex\" style=\"white-space: normal\"\n          >[[title]]</span\n        >\n        <paper-icon-button\n          id=\"nextButton\"\n          icon=\"arrow-forward\"\n          hidden\\$=\"{{!hasNext}}\"\n          on-tap=\"next\"\n          raised=\"\"\n          >{{localize('next')}}</paper-icon-button\n        >\n        <paper-icon-button\n          id=\"submitButton\"\n          icon=\"cloud-upload\"\n          on-tap=\"submit\"\n          raised=\"\"\n          >{{localize('submit')}}</paper-icon-button\n        >\n      </app-toolbar>\n      <iron-pages\n        id=\"form\"\n        class=\"layout horizontal flex start-justified\"\n        role=\"main\"\n        selected=\"[[page]]\"\n        attr-for-selected=\"name\"\n      ></iron-pages>\n      <app-toolbar class=\"bottom\">\n        <div hidden\\$=\"{{!hasPrev}}\" on-tap=\"prev\">\n          <paper-icon-button id=\"prevButton\" icon=\"arrow-back\" raised=\"\"\n            >{{localize('prev')}}</paper-icon-button\n          >\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('prev')}}</span\n          >\n        </div>\n        <span\n          class=\"title layout horizontal flex\"\n          style=\"white-space: normal\"\n        ></span>\n        <div hidden\\$=\"{{!hasNext}}\" on-tap=\"next\">\n          <span class=\"title layout\" style=\"white-space: normal\"\n            >{{localize('next')}}</span\n          >\n          <paper-icon-button id=\"nextButton\" icon=\"arrow-forward\" raised=\"\"\n            >{{localize('next')}}</paper-icon-button\n          >\n        </div>\n      </app-toolbar>\n    </div>\n  "]);return da=function(){return ea},ea}R.Polymer({is:"eco-json-schema-boolean",_template:R.html(Y()),properties:{schema:{type:Object,observer:"_schemaChanged"},value:{type:Boolean,notify:!0,value:!1},error:{type:Boolean,value:!1},_label:{type:String,notify:!0,value:""}},ready:function(){},detached:function(){},_schemaChanged:function(){var fa=this.schema,ga=this.$.checkbox;fa.component&&fa.component.properties&&Object.keys(fa.component.properties).forEach(function(ha){ga[ha]=fa.component.properties[ha]}),fa.title&&(this._label=fa.title)},_isSchemaValue:function(fa){return this._isSchemaBoolean(fa)||this._isSchemaNumber(fa)||this._isSchemaString(fa)},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa}}),R.Polymer({_template:R.html(Z()),is:"eco-json-schema-enum",behaviors:[P.IronValidatableBehavior],properties:{schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:null},error:{type:String,observer:"_errorChanged",value:null},_items:{type:Object,value:function(){return{}}}},ready:function(){},detached:function(){},_schemaChanged:function(){var fa=this.schema,ga=this.$.dropdown;fa.component&&fa.component.properties&&Object.keys(fa.component.properties).forEach(function(ha){ga[ha]=fa.component.properties[ha]}),this._items=fa.enum.filter(function(ha){return null!==ha}),fa.title&&(ga.label=fa.title)},_errorChanged:function(){this.$.dropdown.invalid=!!this.error},_isSchemaValue:function(fa){return this._isSchemaBoolean(fa)||this._isSchemaNumber(fa)||this._isSchemaString(fa)},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa}}),R.Polymer({is:"eco-json-schema-input",_template:R.html($()),behaviors:[V.AppLocalizeBehavior],properties:{language:{value:"en"},resources:{value:function(){return{}}},schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:function(){return""}},error:{type:String,observer:"_errorChanged",value:null}},ready:function(){},detached:function(){},_schemaChanged:function(){var fa=this.schema,ga=this.$.input;fa.required&&(ga.required=!0),this._isSchemaNumber(fa.type)&&(ga.type="number",fa.multipleOf&&(ga.step=fa.multipleOf),isNaN(fa.maximum)||(fa.exclusiveMaximum?ga.max=fa.maximum-(fa.multipleOf||1):ga.max=fa.maximum),isNaN(fa.minimum)||(fa.exclusiveMinimum?ga.min=fa.minimum+(fa.multipleOf||1):ga.min=fa.minimum)),this._isSchemaString(fa.type)&&("date-time"===fa.format?(ga.type="datetime-local",ga.alwaysFloatLabel=!0):"date"===fa.format?ga.type="date":"email"===fa.format?ga.type="email":"hostname"===fa.format?ga.type="text":"ipv4"===fa.format?ga.type="text":"ipv6"===fa.format?ga.type="text":"uri"===fa.format?ga.type="url":ga.type="text",fa.maxLength&&(ga.maxlength=fa.maxLength),fa.minLength&&(ga.minlength=fa.minLength),fa.pattern&&(ga.pattern=fa.pattern)),fa.component&&fa.component.properties&&Object.keys(fa.component.properties).forEach(function(ha){ga[ha]=fa.component.properties[ha]}),ga.alwaysFloatLabel=!0,fa.title&&(ga.label=fa.title)},_errorChanged:function(){this.error?(this.$.input.errorMessage=this.error,this.$.input.invalid=!0):(this.$.input.invalid=!1,this.$.input.errorMessage=null)},_isSchemaValue:function(fa){return this._isSchemaBoolean(fa)||this._isSchemaNumber(fa)||this._isSchemaString(fa)},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa}}),R.Polymer({is:"eco-json-schema-file",_template:R.html(aa()),behaviors:[V.AppLocalizeBehavior],properties:{language:{value:"en",notify:!0},resources:{value:function(){return{}},notify:!0},schema:{type:Object,observer:"_schemaChanged"},value:{type:Object,notify:!0,value:function(){return{}},observer:"_valueChanged"},target:{type:String,value:""},accept:{type:String,value:""},droppable:{type:Boolean,value:!1},dropText:{type:String,value:"Drop Files Here"},multi:{type:Boolean,value:!0},files:{type:Array,notify:!0,value:function(){return[]}},raised:{type:Boolean,value:!0},noink:{type:Boolean,value:!1},headers:{type:Object,value:{}},retryText:{type:String,value:"Retry Upload"},removeText:{type:String,value:"Remove"},successText:{type:String,value:"Success"},errorText:{type:String,value:"Error uploading file..."},_shownDropText:{type:Boolean,value:!1},additional:{type:Object,value:{}},fileDataName:{type:String,value:"file"},paperButtonAlt:{type:String,value:""},paperButtonTitle:{type:String,value:""}},clear:function(){this.set("files",[]),this.$.fileInput.value="",this._showDropText()},ready:function(){this.raised&&this.toggleAttribute("raised",!0,this.$.button),this.noink&&this.toggleAttribute("noink",!0,this.$.button),this.droppable&&(this._showDropText(),this.setupDrop())},setupDrop:function(){var fa=this.$.UploadBorder;this.toggleClass("enabled",!0,fa),this.ondragover=function(ga){ga.stopPropagation(),this.toggleClass("hover",!0,fa);var ha=ga.dataTransfer&&ga.dataTransfer.dropEffect,ia=ga.dataTransfer&&ga.dataTransfer.effectAllowed;return"none"===ha&&"none"!==ia&&(ga.dataTransfer.dropEffect="move"===ia?"move":"copy"),!1},this.ondragleave=function(){return this.toggleClass("hover",!1,fa),!1},this.ondrop=function(ga){if(this.toggleClass("hover",!1,fa),ga.preventDefault(),this.multi||0===this.files.length)for(var ha=ga.dataTransfer.files.length,ia=0;ia<ha;ia++){var ja=ga.dataTransfer.files[ia],ka=""===ja.type?null:ja.type.match(/^[^\/]*\//)[0],la=ja.name.match(/\.[^\.]*$/)[0];(""===this.accept||-1<this.accept.indexOf(ka)||-1<this.accept.indexOf(la))&&(ja.progress=0,ja.error=!1,ja.complete=!1,this.push("files",ja),this.uploadFile(ja))}}},_fileClick:function(){var fa=this.$.fileInput;if(fa&&document.createEvent){var ga=document.createEvent("MouseEvents");ga.initEvent("click",!0,!1),fa.dispatchEvent(ga)}},_fileChange:function(fa){for(var ia,ga=fa.target.files.length,ha=0;ha<ga;ha++)ia=fa.target.files[ha],ia.progress=0,ia.error=!1,ia.complete=!1,this.push("files",ia),this.multi||0===this.files.length||(this.set("files",[]),this.set("value",{})),this.uploadFile(ia)},cancel:function(fa){fa&&(fa.xhr&&fa.xhr.abort(),this.splice("files",this.files.indexOf(fa),1),this._showDropText())},_cancelUpload:function(fa){this.cancel(fa.model.__data__.item)},_retryUpload:function(fa){fa.model.set("item.error",!1),fa.model.set("item.progress",0);var ga=this;T.microTask.run(function(){ga.uploadFile(fa.model.__data__.item)})},_showDropText:function(){this.set("_shownDropText",!this.files.length&&this.droppable)},uploadFile:function(fa){if(fa){this.fire("before-upload"),this._showDropText(),this.files.indexOf(fa);var ga=this,ha=new FileReader;ha.addEventListener("load",function(){var ia=ha.result;ga.set("value."+ga.attributes.name.value+"."+ga.files.indexOf(fa),ia)},!1),ga.value.hasOwnProperty(ga.attributes.name.value)||this.set("value."+ga.attributes.name.value,{}),ha.readAsDataURL(fa)}},_valueChanged:function(){console.log("this.value: "+JSON.stringify(this.value))},_schemaChanged:function(){this.schema},_isSchemaValue:function(fa){return this._isSchemaFile(fa)},_isSchemaFile:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("file"):"file"===fa},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa},stringify:function(fa){return JSON.stringify(fa)}}),R.Polymer({is:"eco-json-schema-array",_template:R.html(ba()),properties:{schema:{type:Object,observer:"_schemaChanged"},label:{type:String},value:{type:Array,notify:!0,value:function(){return[]},observer:"_valueChanged"},error:{type:Object,observer:"_errorChanged"},_schemaArrayItems:{type:Array,notify:!0,value:function(){return[]}}},observers:["_schemaArraySplicesChanged(_schemaArrayItems.splices)"],_valueChanged:function(fa,ga){var ha=this;fa!==ga&&"undefined"!==W(fa)&&"undefined"!==W(this.schema)&&setTimeout(function(){for(var ia in ha._buildSchemaArrayItems(),fa)ha._onAddItemWithValue(fa[ia],parseInt(ia))},100)},ready:function(){},detached:function(){this._clearForm()},_buildSchemaArrayItems:function(){this._schemaArrayItems=[]},_setValue:function(){this.value=[],this.value=this._schemaArrayItems.map(function(fa){return fa.value})},_schemaArraySplicesChanged:function(fa){if(!fa)return console.warn("detail is undefined");var ga=this;fa.keySplices&&console.warn("Got keySplices, don't know what to do with them!"),fa.indexSplices.forEach(function(ha){var ia=["value",ha.index,ha.removed.length];if(ha.removed&&ha.removed.length)for(var ja=ha.index,ka=ha.index+ha.removed.length;ja<ka;ja++)ga._removeArrayEl(ga.$.form.children[ja]);if(ha.addedCount)for(ja=ha.index,ka=ha.index+ha.addedCount;ja<ka;ja++){var la=ha.object[ja],ma=ga.create(la.component.name,{label:la.label,schema:la.schema,schemaArrayItem:la}),na=ga.create("paper-collapse-item",{header:"Item "+(ja+1)}),oa=ga.create("paper-icon-button",{icon:"remove",title:"Remove item"});ga.listen(oa,"tap","_onRemoveItem"),oa.classList.add("array-remove-element"),ma.classList.add("flex","horizontal","layout"),F.dom(na).appendChild(ma),F.dom(na).appendChild(oa);var pa=ga.$.form.children[ja];pa?F.dom(ga.$.form).insertBefore(na,pa):F.dom(ga.$.form).appendChild(na),ga.listen(ma,la.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaArrayItemChanged"),ia.push(ga._deepClone(ma[la.component.valueProperty]))}ga.splice.apply(ga,ia)})},_schemaArrayItemChanged:function(fa,ga){if(!ga.path||!/\.length$/.test(ga.path)){var ha=this,ia=fa.target.schemaArrayItem,ja=this._schemaArrayItems.indexOf(ia),ka=["value",ja];ga.path&&/\.splices$/.test(ga.path)?(ka=ka.concat(ga.path.split(".").slice(1,-1)),ga.value.keySplices&&console.warn("Got keySplices, don't know what to do with them!"),ga.value.indexSplices.forEach(function(la){var ma=[ka.join("."),la.index,la.removed.length];if(la.addedCount)for(var na=la.index,oa=la.index+la.addedCount;na<oa;na++)ma.push(ha._deepClone(la.object[na]));ha.splice.apply(ha,ma)})):ga.path?(ka=ka.concat(ga.path.split(".").slice(1)),this.set(ka,this._deepClone(ga.value)),this.notifyPath("path")):(this.splice("value",ja,1,this._deepClone(ga.value)),this.notifyPath("value.1"))}},_removeArrayEl:function(fa){var ga=F.dom(fa);"undefined"!==W(ga.childNodes[0])&&(this.unlisten(ga.childNodes[0],ga.firstChild.schemaArrayItem.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaArrayItemChanged"),"undefined"!==W(ga.childNodes[1])&&this.unlisten(ga.childNodes[1],"tap","_onRemoveItem")),fa.schemaArrayItem=null,F.dom(this.$.form).removeChild(fa)},_clearForm:function(){for(var fa=F.dom(this.$.form);fa.firstChild;)this._removeArrayEl(fa.firstChild)},_schemaChanged:function(){this._clearForm(),this._buildSchemaArrayItems(),this._setValue()},_errorChanged:function(){var fa=this;F.dom(this.$.form).childNodes.forEach(function(ga,ha){F.dom(ga).childNodes[0].error=fa.error&&fa.error[ha]?fa.error[ha]:null})},_onAddItemWithValue:function(fa){var ha=this.schema.items;if("undefined"!==W(fa))for(var ia in fa)"undefined"!==W(ha.properties[ia])&&(ha.properties[ia].value=fa[ia]);var ja={label:ha.title,schema:ha,component:ha.component||{}};if(ja.component.valueProperty||(ja.component.valueProperty="value"),!ja.component.name)if(this._isSchemaEnum(ha))ja.component.name="eco-json-schema-enum";else if(this._isSchemaBoolean(ha.type))ja.component.name="eco-json-schema-boolean";else if(this._isSchemaFile(ha.type))ja.component.name="eco-json-schema-file";else if(this._isSchemaValue(ha.type))ja.component.name="eco-json-schema-input";else if(this._isSchemaObject(ha.type))ja.component.name="eco-json-schema-object";else{if(!this._isSchemaArray(ha.type))return console.error("Unknown item type %s",ha.type);ja.component.name="eco-json-schema-array"}var ka=this.create(ja.component.name,{label:ja.label,schema:ja.schema,schemaArrayItem:ja}),la=this.create("paper-collapse-item",{header:"Item "+(ia+1)}),ma=this.create("paper-icon-button",{icon:"remove",title:"Remove item"});this.listen(ma,"tap","_onRemoveItem"),ma.classList.add("array-remove-element"),ka.classList.add("flex","horizontal","layout"),F.dom(la).appendChild(ka),F.dom(la).appendChild(ma);var na=this.$.form.children[ia];na?F.dom(this.$.form).insertBefore(la,na):F.dom(this.$.form).appendChild(la),this.listen(ka,ja.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaArrayItemChanged"),this._schemaArrayItems.push(ja)},_onAddItem:function(){var fa=this.schema.items,ga={label:fa.title,schema:fa,component:fa.component||{}};if(ga.component.valueProperty||(ga.component.valueProperty="value"),!ga.component.name)if(this._isSchemaEnum(fa))ga.component.name="eco-json-schema-enum";else if(this._isSchemaBoolean(fa.type))ga.component.name="eco-json-schema-boolean";else if(this._isSchemaFile(fa.type))ga.component.name="eco-json-schema-file";else if(this._isSchemaValue(fa.type))ga.component.name="eco-json-schema-input";else if(this._isSchemaObject(fa.type))ga.component.name="eco-json-schema-object";else{if(!this._isSchemaArray(fa.type))return console.error("Unknown item type %s",fa.type);ga.component.name="eco-json-schema-array"}this.push("_schemaArrayItems",ga)},_onRemoveItem:function(fa){var ga=F.dom(fa).localTarget.previousSibling.schemaArrayItem,ha=this._schemaArrayItems.indexOf(ga);this.splice("_schemaArrayItems",ha,1)},_deepClone:function(fa){return JSON.parse(JSON.stringify(fa))},_isSchemaValue:function(fa){return this._isSchemaBoolean(fa)||this._isSchemaNumber(fa)||this._isSchemaString(fa)||this._isSchemaFile(fa)},_isSchemaFile:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("file"):"file"===fa},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaEnum:function(fa){return!!fa.enum},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa}}),R.Polymer({is:"eco-json-schema-object",_template:R.html(ca()),behaviors:[V.AppLocalizeBehavior],properties:{language:{value:"en"},resources:{value:function(){return{}}},schema:{type:Object,observer:"_schemaChanged"},label:{type:String},value:{type:Object,notify:!0,value:function(){return{}}},error:{type:Object,observer:"_errorChanged"},wizard:{type:Boolean,notify:!0}},detached:function(){this._clearForm()},_buildSchemaProperties:function(){var fa=this;this._schemaProperties=Object.keys(this.schema.properties||[]).map(function(ga){var ha=fa.schema.properties[ga],ia={property:ga,label:ha.title||ga,schema:ha,component:ha.component||{}};if(ia.component.valueProperty||(ia.component.valueProperty="value"),ia.component.slot||(ia.component.slot=""),fa._isSchemaEnum(ha))ia.component.name=ia.component.name||"eco-json-schema-enum","undefined"===W(ha.value)&&(ha.value=""),ia.value=ha.value;else if(fa._isSchemaBoolean(ha.type))ia.component.name=ia.component.name||"eco-json-schema-boolean","undefined"===W(ha.value)&&(ha.value=!1),ia.value=ha.value;else if(fa._isSchemaFile(ha.type))ia.component.name=ia.component.name||"eco-json-schema-file","undefined"===W(ha.value)&&(ha.value={}),ia.value=ha.value;else if(fa._isSchemaValue(ha.type))ia.component.name=ia.component.name||"eco-json-schema-input","undefined"===W(ha.value)&&(ha.value=""),ia.value=ha.value;else if(fa._isSchemaObject(ha.type))ia.component.name=ia.component.name||"eco-json-schema-object","undefined"===W(ha.value)&&(ha.value={}),ia.value=ha.value;else{if(!fa._isSchemaArray(ha.type))return console.error("Unknown property type %s",ha.type);ia.component.name=ia.component.name||"eco-json-schema-array","undefined"===W(ha.value)&&(ha.value=[]),ia.value=ha.value}return ia})},_schemaPropertyChanged:function(fa,ga){if(!ga.path||!/\.length$/.test(ga.path)){var ha=this,ia=fa.target.schemaProperty,ja=["value",ia.property];if(ga.path&&/\.splices$/.test(ga.path)){for(var ka=ga.path.split(".").slice(1,-1);ka.length;)ja.push(ka.shift()),ia.keyMap&&ia.keyMap[ja.join(".")]&&(ja=ia.keyMap[ja.join(".")].split("."));ga.value.keySplices&&ia.keyMap&&ga.value.keySplices.forEach(function(ma){ma.removed.forEach(function(na){delete ia.keyMap[ja.concat([na]).join(".")]})}),ga.value&&ga.value.indexSplices.forEach(function(ma){var na=[ja.join("."),ma.index,ma.removed.length];if(ma.addedCount)for(var oa=0,pa=ma.addedCount;oa<pa;oa++)ma.addedKeys&&ma.addedKeys[oa]&&(ia.keyMap=ia.keyMap||{},ia.keyMap[ja.concat([ma.addedKeys[oa]]).join(".")]=ja.concat([oa+ma.index]).join(".")),na.push(ha._deepClone(ma.object[oa+ma.index]));ha.splice.apply(ha,na)})}else if(ga.path){for(ka=ga.path.split(".").slice(1),this.value.hasOwnProperty(ia.property)||(this.set("value."+ia.property,{}),this.notifyPath("value."+ia.property));ka.length;){var la=ka.shift();ja.push(la),ia.keyMap&&ia.keyMap[ja.join(".")]&&(ja=ia.keyMap[ja.join(".")].split("."))}this.set(ja.join("."),this._deepClone(ga.value)),this.notifyPath(ja.join("."))}else ia.value=ga.value,this.set(ja,this._deepClone(ga.value)),this.notifyPath(ja)}},_setValue:function(){var fa=this,ga={};this._schemaProperties.forEach(function(ha){"undefined"!==W(ha.value)&&(ga[ha.property]=fa._deepClone(ha.value))}),this.value=ga},_buildForm:function(){var fa=this,ga=this;this._schemaProperties.forEach(function(ha){var ia=ga.create(ha.component.name,{label:ha.label,schema:ha.schema,schemaProperty:ha,language:fa.language,resources:fa.resources});for(var ja in"paper-input"===ha.component.name&&(ia.style["background-color"]="transparent",ia.style.width="100%"),ia.setAttribute("name",ha.property),ia.className="flex start-justified",ia[ha.component.valueProperty]=ha.value,ha.component.attributes)ia.setAttribute(ja,ha.component.attributes[ja]);for(var ka in ha.component.properties)ia[ka]=ha.component.properties[ka];if(ga.listen(ia,ha.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),"undefined"!==W(ga.$)&&F.dom(fa).appendChild(ia),""!=ha.component.slot){var la=document.createElement("template");la.innerHTML=ha.component.slot,F.dom(ia).appendChild(la)}})},_removePropertyEl:function(fa){"undefined"!==W(fa.schemaProperty)&&this.unlisten(fa,fa.schemaProperty.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),fa.schemaProperty=null,F.dom(this).removeChild(fa)},_clearForm:function(){if("undefined"!==W(this.$))for(var fa=F.dom(this);fa.firstChild;)this._removePropertyEl(fa.firstChild)},_schemaChanged:function(fa,ga){fa&&"undefined"!==W(ga)&&(this._clearForm(),this._buildSchemaProperties(),this._buildForm(),this._setValue())},_errorChanged:function(){var fa=this;F.dom(this).childNodes.forEach(function(ga){var ha=ga.getAttribute("name");ga.error=fa.error&&fa.error[ha]?fa.error[ha]:null})},_deepClone:function(fa){return JSON.parse(JSON.stringify(fa))},_isSchemaValue:function(fa){return this._isSchemaBoolean(fa)||this._isSchemaNumber(fa)||this._isSchemaString(fa)||this._isSchemaFile(fa)},_isSchemaFile:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("file"):"file"===fa},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaEnum:function(fa){return!!fa.enum},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa}}),R.Polymer({is:"eco-json-schema-wizard",behaviors:[V.AppLocalizeBehavior],_template:R.html(da()),properties:{language:{type:String,notify:!0},resources:{type:Object,notify:!0},schema:{type:Object,notify:!0,observer:"_schemaChanged"},label:{type:String},value:{type:Object,notify:!0,value:function(){return{}}},page:{type:String,notify:!0,observer:"_pageChanged"},pages:{type:Array,notify:!0,value:[]},error:{type:Object,observer:"_errorChanged"},isReview:{type:Boolean,value:!1,notify:!0},canSubmit:{type:Boolean,notify:!0},hasNext:{type:Boolean,notify:!0},hasPrev:{type:Boolean,notify:!0},titles:{type:Array,notify:!0,value:[]},title:{type:String,value:"",notify:!0}},detached:function(){this._clearForm()},_buildSchemaProperties:function(){var fa=this;this._schemaProperties=Object.keys(this.schema.properties||[]).map(function(ga){var ha=fa.schema.properties[ga],ia={property:ga,label:ha.title||ga,schema:ha,component:ha.component||{}};if(ia.component.valueProperty||(ia.component.valueProperty="value"),fa._isSchemaEnum(ha))ia.component.name=ia.component.name||"eco-json-schema-enum",ia.value="";else if(fa._isSchemaBoolean(ha.type))ia.component.name=ia.component.name||"eco-json-schema-boolean",ia.value=!1;else if(fa._isSchemaFile(ha.type))ia.component.name=ia.component.name||"eco-json-schema-file",ia.value="";else if(fa._isSchemaValue(ha.type))ia.component.name=ia.component.name||"eco-json-schema-input",ia.value="";else if(fa._isSchemaObject(ha.type))ia.component.name=ia.component.name||"eco-json-schema-object",ia.component.wizard=!0,ia.value={};else{if(!fa._isSchemaArray(ha.type))return console.error("Unknown property type %s",ha.type);ia.component.name=ia.component.name||"eco-json-schema-array",ia.value=[]}return fa.push("pages",ga),fa.push("titles",ha.title),ia})},_schemaPropertyChanged:function(fa,ga){if(!ga.path||!/\.length$/.test(ga.path)){var ha=this,ia=fa.target.schemaProperty,ja=["value",ia.property];if(ga.path&&/\.splices$/.test(ga.path)){for(var ka=ga.path.split(".").slice(1,-1);ka.length;)ja.push(ka.shift()),ia.keyMap&&ia.keyMap[ja.join(".")]&&(ja=ia.keyMap[ja.join(".")].split("."));ga.value.keySplices&&ia.keyMap&&ga.value.keySplices.forEach(function(ma){ma.removed.forEach(function(na){delete ia.keyMap[ja.concat([na]).join(".")]})}),ga.value.indexSplices.forEach(function(ma){var na=[ja.join("."),ma.index,ma.removed.length];if(ma.addedCount)for(var oa=0,pa=ma.addedCount;oa<pa;oa++)ma.addedKeys&&ma.addedKeys[oa]&&(ia.keyMap=ia.keyMap||{},ia.keyMap[ja.concat([ma.addedKeys[oa]]).join(".")]=ja.concat([oa+ma.index]).join(".")),na.push(ha._deepClone(ma.object[oa+ma.index]));ha.splice.apply(ha,na)})}else if(ga.path){for(ka=ga.path.split(".").slice(1),this.value.hasOwnProperty(ia.property)||this.set("value."+ia.property,{});ka.length;){var la=ka.shift();ja.push(la),ia.keyMap&&ia.keyMap[ja.join(".")]&&(ja=ia.keyMap[ja.join(".")].split("."))}this.set(ja.join("."),this._deepClone(ga.value)),console.log("value: "+JSON.stringify(this.value))}}},_setValue:function(){var fa=this,ga={};this._schemaProperties.forEach(function(ha){ga[ha.property]=fa._deepClone(ha.value)}),this.value=ga},_buildForm:function(){var fa=this,ga=this;this._schemaProperties.forEach(function(ha){var ia=ga.create(ha.component.name,{label:ha.label,schema:ha.schema,schemaProperty:ha,language:fa.language,resources:fa.resources});ia.setAttribute("name",ha.property),ia.className="flex start-justified",ha.value=ia[ha.component.valueProperty],ga.listen(ia,ha.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),F.dom(ga.$.form).appendChild(ia)})},_removePropertyEl:function(fa){"undefined"!==W(fa.schemaProperty)&&this.unlisten(fa,fa.schemaProperty.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),fa.schemaProperty=null,F.dom(this.$.form).removeChild(fa)},_clearForm:function(){for(var fa=F.dom(this.$.form);fa.firstChild;)this._removePropertyEl(fa.firstChild)},_schemaChanged:function(){this._clearForm(),this._buildSchemaProperties(),this._buildForm(),this._setValue(),0<this.pages.length&&this.set("page",this.pages[0]),this.set("title",this.titles[0])},next:function(){var fa=this.pages.indexOf(this.page),ga=fa;-1===fa?console.log("Invalid current page in wizard"):(fa<this.pages.length-1&&(ga=fa+1),this.set("page",this.pages[ga]),this.set("title",this.titles[ga]))},prev:function(){var fa=this.pages.indexOf(this.page),ga=fa;-1===fa?console.log("Invalid current page in wizard"):(0<fa&&(ga=fa-1),this.set("page",this.pages[ga]),this.set("title",this.titles[ga]))},submit:function(){this.fire("submit")},_pageChanged:function(){var fa=this.pages.indexOf(this.page);0===fa?this.set("hasPrev",!1):this.set("hasPrev",!0),fa===this.pages.length-1?this.set("hasNext",!1):this.set("hasNext",!0)},_errorChanged:function(){var fa=this;F.dom(this.$.form).childNodes.forEach(function(ga){var ha=ga.getAttribute("name");ga.error=fa.error&&fa.error[ha]?fa.error[ha]:null})},_deepClone:function(fa){return JSON.parse(JSON.stringify(fa))},_isSchemaValue:function(fa){return this._isSchemaBoolean(fa)||this._isSchemaNumber(fa)||this._isSchemaString(fa)||this._isSchemaFile(fa)},_isSchemaFile:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("file"):"file"===fa},_isSchemaBoolean:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("boolean"):"boolean"===fa},_isSchemaEnum:function(fa){return!!fa.enum},_isSchemaNumber:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("number")||-1!==fa.indexOf("integer"):"number"===fa||"integer"===fa},_isSchemaString:function(fa){return Array.isArray(fa)?-1!==fa.indexOf("string"):"string"===fa},_isSchemaObject:function(fa){return"object"===fa},_isSchemaArray:function(fa){return"array"===fa}})});