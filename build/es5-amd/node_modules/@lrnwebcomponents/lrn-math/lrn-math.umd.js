!function(k,q){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?q(require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js")):"function"==typeof define&&define.amd?define(["@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"],q):q(k.HAXWiring_js)}(this,function(k){"use strict";function q($,_){if(!($ instanceof _))throw new TypeError("Cannot call a class as a function")}function z($,_){for(var ba,aa=0;aa<_.length;aa++)ba=_[aa],ba.enumerable=ba.enumerable||!1,ba.configurable=!0,"value"in ba&&(ba.writable=!0),Object.defineProperty($,ba.key,ba)}function A($,_,aa){return _&&z($.prototype,_),aa&&z($,aa),$}function B($,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_&&_.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),_&&F($,_)}function D($){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})($)}function F($,_){return(F=Object.setPrototypeOf||function(aa,ba){return aa.__proto__=ba,aa})($,_)}function G(){return(G=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ba){return!1}}()?Reflect.construct:function(ba,ca,da){var ea=[null];ea.push.apply(ea,ca);var fa=new(Function.bind.apply(ba,ea));return da&&F(fa,da.prototype),fa}).apply(null,arguments)}function H($){var _="function"==typeof Map?new Map:void 0;return(H=function(ba){function ca(){return G(ba,arguments,D(this).constructor)}if(null===ba||(da=ba,-1===Function.toString.call(da).indexOf("[native code]")))return ba;var da;if("function"!=typeof ba)throw new TypeError("Super expression must either be null or a function");if(void 0!==_){if(_.has(ba))return _.get(ba);_.set(ba,ca)}return ca.prototype=Object.create(ba.prototype,{constructor:{value:ca,enumerable:!1,writable:!0,configurable:!0}}),F(ca,ba)})($)}function I($,_){return _&&("object"==("undefined"===typeof _?"undefined":babelHelpers.typeof(_))||"function"==typeof _)?_:function(aa){if(void 0===aa)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return aa}($)}function J(){if(R.length){var $=[],_=[];R.forEach(function(aa){var ba=P.createElement("script"),ca=P.createElement("div");ba.type=aa[1]?"math/tex; mode=display":"math/tex",ba.text=aa[0],ca.style.position="fixed",ca.style.top=0,ca.style.left="99999px",ca.appendChild(ba),P.body.appendChild(ca),$.push(ba),_.push([ca,aa[2]])}),R=[],S=Q.typesetting,N.Queue(["Typeset",N,$]),N.Queue(function(){var aa,ba;O||(aa=P.querySelectorAll("style"),ba=Array.prototype.filter.call(aa,function(ca){return ca.sheet&&100<ca.sheet.cssRules.length&&".mjx-chtml"===ca.sheet.cssRules[0].selectorText}),O=ba[0]),_.forEach(function(ca){var da=ca[0],ea="SPAN"===da.firstElementChild.tagName?da.firstElementChild:null;ca[1](ea,O),P.body.removeChild(da)}),S=Q.ready,J()})}}function K(){S=Q.loading,window.MathJax={skipStartupTypeset:!0,showMathMenu:!1,jax:["input/TeX","output/CommonHTML"],TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]},AuthorInit:function(){(N=window.MathJax.Hub).Register.StartupHook("End",function(){S=Q.ready,J()})}};var $=P.createElement("script");$.type="text/javascript",$.src=T,$.async=!0,$.onerror=function(){console.warn("Error loading MathJax library "+T),S=Q.error,R=[]},P.head.appendChild($)}function L($){var _=$.shadowRoot,aa=$.textContent.trim(),ba="display"===$.getAttribute("mode"),ca=(ba?"D":"I")+aa;if(ca!==$._private.check){for(;_.firstChild;)_.removeChild(_.firstChild);$._private.check=ca,aa.length&&V.typeset(aa,ba,function(da,ea){_.appendChild(ea.cloneNode(!0)),_.appendChild(da)})}}var N,O,P=window.document,Q={start:1,loading:2,ready:3,typesetting:4,error:5},R=[],S=Q.start,T="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js",U=function(){function _(){return q(this,_),I(this,D(_).apply(this,arguments))}return B(_,H(HTMLElement)),A(_,[{key:"connectedCallback",value:function(){this.hasAttribute("src")&&(T=this.getAttribute("src")),this.hasAttribute("lazy")||K()}},{key:"typeset",value:function(ba,ca,da){S!==Q.error&&(R.push([ba,ca,da]),S===Q.start?K():S===Q.ready&&J())}}]),_}();window.customElements.define("math-tex-controller",U);var V,X="math-tex-controller",Y={childList:!0,characterData:!0,attributes:!0,subtree:!0},Z=function(){function _(){var aa;return q(this,_),(aa=I(this,D(_).call(this))).attachShadow({mode:"open"}),V||((V=P.querySelector(X)||P.createElement(X))&&"function"==typeof V.typeset?P.contains(V)||P.head.appendChild(V):(console.warn("no %s element defined; %s element will not work",X,"lrn-math"),V=void 0)),aa}return B(_,H(HTMLElement)),A(_,[{key:"connectedCallback",value:function(){var ba=this;window.requestAnimationFrame(function(){ba._private={check:"",observer:new MutationObserver(function(){L(ba)})},L(ba),ba._private.observer.observe(ba,Y)}),new k.HAXWiring().setup({canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Math",description:"Present math in a nice looking way.",icon:"places:all-inclusive",color:"grey",groups:["Content"],handles:[{type:"math",math:"mathText"},{type:"inline",text:"mathText"}],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{slot:"",title:"Math",description:"Math",inputMethod:"code-editor",icon:"editor:format-quote"}],advanced:[]}},"lrn-math",this)}},{key:"disconnectedCallback",value:function(){this._private&&(this._private.observer.disconnect(),delete this._private)}}]),_}();window.customElements.define("lrn-math",Z)});