define(["./node_modules/@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"],function(a){"use strict";function b(){var u=g.querySelectorAll("style"),v=Array.prototype.filter.call(u,function(w){return w.sheet&&100<w.sheet.cssRules.length&&".mjx-chtml"===w.sheet.cssRules[0].selectorText});l=v[0]}function c(){if(j.length){var u=[],v=[];j.forEach(function(w){var x=g.createElement("script"),y=g.createElement("div");x.type=w[1]?"math/tex; mode=display":"math/tex",x.text=w[0],y.style.position="fixed",y.style.top=0,y.style.left="99999px",y.appendChild(x),g.body.appendChild(y),u.push(x),v.push([y,w[2]])}),j=[],k=h.typesetting,i.Queue(["Typeset",i,u]),i.Queue(function(){l||b(),v.forEach(function(w){var x=w[0],y="SPAN"===x.firstElementChild.tagName?x.firstElementChild:null;w[1](y,l),g.body.removeChild(x)}),k=h.ready,c()})}}function d(){k=h.loading,window.MathJax={skipStartupTypeset:!0,showMathMenu:!1,jax:["input/TeX","output/CommonHTML"],TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]},AuthorInit:function(){i=window.MathJax.Hub,i.Register.StartupHook("End",function(){k=h.ready,c()})}};var u=g.createElement("script");u.type="text/javascript",u.src=m,u.async=!0,u.onerror=function(){console.warn("Error loading MathJax library "+m),k=h.error,j=[]},g.head.appendChild(u)}function e(){s||(s=g.querySelector(q)||g.createElement(q),s&&"function"===typeof s.typeset?!g.contains(s)&&g.head.appendChild(s):(console.warn("no %s element defined; %s element will not work",q,p),s=void 0))}function f(u){var v=u.shadowRoot,w=u.textContent.trim(),x="display"===u.getAttribute("mode"),y=(x?"D":"I")+w;if(y!==u._private.check){for(;v.firstChild;)v.removeChild(v.firstChild);u._private.check=y,w.length&&s.typeset(w,x,function(z,A){v.appendChild(A.cloneNode(!0)),v.appendChild(z)})}}var i,l,g=window.document,h={start:1,loading:2,ready:3,typesetting:4,error:5},j=[],k=h.start,m="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js",o=function(u){function v(){return babelHelpers.classCallCheck(this,v),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(v).apply(this,arguments))}return babelHelpers.inherits(v,u),babelHelpers.createClass(v,[{key:"connectedCallback",value:function(){this.hasAttribute("src")&&(m=this.getAttribute("src")),this.hasAttribute("lazy")||d()}},{key:"typeset",value:function(x,y,z){k===h.error||(j.push([x,y,z]),k===h.start?d():k===h.ready&&c())}}]),v}(babelHelpers.wrapNativeSuper(HTMLElement));window.customElements.define("math-tex-controller",o);var s,p="lrn-math",q="math-tex-controller",r={childList:!0,characterData:!0,attributes:!0,subtree:!0},t=function(u){function v(){var w;return babelHelpers.classCallCheck(this,v),w=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(v).call(this)),w.attachShadow({mode:"open"}),e(),w}return babelHelpers.inherits(v,u),babelHelpers.createClass(v,[{key:"connectedCallback",value:function(){var x=this;window.requestAnimationFrame(function(){x._private={check:"",observer:new MutationObserver(function(){f(x)})},f(x),x._private.observer.observe(x,r)});var z=new a.HAXWiring;z.setup({canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Math",description:"Present math in a nice looking way.",icon:"places:all-inclusive",color:"grey",groups:["Content"],handles:[{type:"math",math:"mathText"},{type:"inline",text:"mathText"}],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{slot:"",title:"Math",description:"Math",inputMethod:"code-editor",icon:"editor:format-quote"}],advanced:[]}},"lrn-math",this)}},{key:"disconnectedCallback",value:function(){this._private&&(this._private.observer.disconnect(),delete this._private)}}]),v}(babelHelpers.wrapNativeSuper(HTMLElement));window.customElements.define("lrn-math",t)});