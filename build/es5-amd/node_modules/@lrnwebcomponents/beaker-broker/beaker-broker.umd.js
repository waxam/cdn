!function(g,j){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?j(exports,require("@polymer/polymer/polymer-element.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js"],j):j(g.BeakerBroker={},g.polymerElement_js)}(this,function(g,j){"use strict";function k(D){return(k="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(E){return"undefined"===typeof E?"undefined":babelHelpers.typeof(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":"undefined"===typeof E?"undefined":babelHelpers.typeof(E)})(D)}function m(D,E,F,G,H,I,J){try{var K=D[I](J),L=K.value}catch(M){return void F(M)}K.done?E(L):Promise.resolve(L).then(G,H)}function q(D){return function(){var E=this,F=arguments;return new Promise(function(G,H){function I(L){m(K,G,H,I,J,"next",L)}function J(L){m(K,G,H,I,J,"throw",L)}var K=D.apply(E,F);I(void 0)})}}function v(D,E){for(var G,F=0;F<E.length;F++)G=E[F],G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}function w(D){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(D)}function x(D,E){return(x=Object.setPrototypeOf||function(F,G){return F.__proto__=G,F})(D,E)}function z(D,E){return E&&("object"==("undefined"===typeof E?"undefined":babelHelpers.typeof(E))||"function"==typeof E)?E:function(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(D)}function A(D,E,F){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(G,H,I){var J=function(L,M){for(;!Object.prototype.hasOwnProperty.call(L,M)&&null!==(L=w(L)););return L}(G,H);if(J){var K=Object.getOwnPropertyDescriptor(J,H);return K.get?K.get.call(I):K.value}})(D,E,F||D)}function B(){var D,E,F=(D=["\n<style>:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n</style>\n<slot></slot>"],E||(E=D.slice(0)),Object.freeze(Object.defineProperties(D,{raw:{value:Object.freeze(E)}})));return B=function(){return F},F}var C=function(){function E(){return function(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}(this,E),z(this,w(E).apply(this,arguments))}var F,G,H,I,J,K;return function(L,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),M&&x(L,M)}(E,j.PolymerElement),F=E,G=[{key:"connectedCallback",value:function(){A(w(E.prototype),"connectedCallback",this).call(this),"undefined"===("undefined"==typeof DatArchive?"undefined":k(DatArchive))&&console.log("Beaker is not available from this site loading methodology")}},{key:"_datUrlChanged",value:(K=q(regeneratorRuntime.mark(function L(M){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:"undefined"!==("undefined"==typeof DatArchive?"undefined":k(DatArchive))&&M&&this.set("archive",new DatArchive(M));case 1:case"end":return O.stop();}},L,this)})),function(){return K.apply(this,arguments)})},{key:"write",value:(J=q(regeneratorRuntime.mark(function L(M,N){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.archive.writeFile(M,N);case 2:case"end":return O.stop();}},L,this)})),function(){return J.apply(this,arguments)})},{key:"read",value:(I=q(regeneratorRuntime.mark(function L(M,N){var O,P,Q,R,S;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:O="utf8",T.t0=N,T.next="jpeg"===T.t0?4:"jpg"===T.t0?4:"png"===T.t0?11:"base64"===T.t0?18:23;break;case 4:return O="binary",T.next=7,this.archive.readFile(M,O);case 7:return Q=T.sent,R=new Blob([Q],{type:"image/jpeg"}),P=URL.createObjectURL(R),T.abrupt("break",28);case 11:return O="binary",T.next=14,this.archive.readFile(M,O);case 14:return Q=T.sent,R=new Blob([Q],{type:"image/png"}),P=URL.createObjectURL(R),T.abrupt("break",28);case 18:return T.next=20,this.archive.readFile(M,N);case 20:return S=T.sent,P="data:image/png;base64,"+S,T.abrupt("break",28);case 23:return T.next=25,this.archive.readFile(M,N);case 25:return S=T.sent,P=S,T.abrupt("break",28);case 28:return T.next=30,P;case 30:return T.abrupt("return",T.sent);case 31:case"end":return T.stop();}},L,this)})),function(){return I.apply(this,arguments)})}],H=[{key:"template",get:function(){return j.html(B())}},{key:"haxProperties",get:function(){return{}}},{key:"properties",get:function(){return{archive:{type:Object,notify:!0},datUrl:{type:String,value:"window.location.host",observer:"_datUrlChanged",notify:!0}}}},{key:"tag",get:function(){return"beaker-broker"}}],G&&v(F.prototype,G),H&&v(F,H),E}();window.customElements.define(C.tag,C),g.BeakerBroker=C,Object.defineProperty(g,"__esModule",{value:!0})});