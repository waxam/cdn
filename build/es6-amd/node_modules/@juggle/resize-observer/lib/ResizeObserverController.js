define(["exports","./utils/scheduler.js","./ResizeObservation.js","./ResizeObserverDetail.js","./utils/resizeObservers.js"],(function(e,r,s,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverController=void 0;var o=new Map,getObservationIndex=function(e,r){for(var s=0;s<e.length;s+=1)if(e[s].target===r)return s;return-1},i=function(){function ResizeObserverController(){}return ResizeObserverController.connect=function(e,r){var s=new t.ResizeObserverDetail(e,r);n.resizeObservers.push(s),o.set(e,s)},ResizeObserverController.observe=function(e,t,n){if(o.has(e)){var i=o.get(e);getObservationIndex(i.observationTargets,t)<0&&(i.observationTargets.push(new s.ResizeObservation(t,n&&n.box)),(0,r.updateCount)(1),r.scheduler.schedule())}},ResizeObserverController.unobserve=function(e,s){if(o.has(e)){var t=o.get(e),n=getObservationIndex(t.observationTargets,s);n>=0&&(t.observationTargets.splice(n,1),(0,r.updateCount)(-1))}},ResizeObserverController.disconnect=function(e){if(o.has(e)){var s=o.get(e);n.resizeObservers.splice(n.resizeObservers.indexOf(s),1),o.delete(e),(0,r.updateCount)(-s.observationTargets.length)}},ResizeObserverController}();e.ResizeObserverController=i}));