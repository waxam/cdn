define(["exports","../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js","../../../@polymer/polymer/lib/utils/gestures.js"],(function(_exports,_gestureEventListeners,_gestures){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.ColumnResizingMixin=void 0;_exports.ColumnResizingMixin=superClass=>(class ColumnResizingMixin extends((0,_gestureEventListeners.GestureEventListeners)(superClass)){ready(){super.ready();const scroller=this.$.scroller;(0,_gestures.addListener)(scroller,"track",this._onHeaderTrack.bind(this)),scroller.addEventListener("touchmove",e=>scroller.hasAttribute("column-resizing")&&e.preventDefault()),scroller.addEventListener("contextmenu",e=>"resize-handle"==e.target.getAttribute("part")&&e.preventDefault()),scroller.addEventListener("mousedown",e=>"resize-handle"===e.target.getAttribute("part")&&e.preventDefault())}_onHeaderTrack(e){const handle=e.target;if("resize-handle"===handle.getAttribute("part")){let column=handle.parentElement._column;for(this._toggleAttribute("column-resizing",!0,this.$.scroller);"vaadin-grid-column-group"===column.localName;)column=Array.prototype.slice.call(column._childColumns,0).sort((function(a,b){return a._order-b._order})).filter((function(column){return!column.hidden})).pop();const columnRowCells=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]'));var targetCell=columnRowCells.filter(cell=>cell._column===column)[0];if(targetCell.offsetWidth){var style=window.getComputedStyle(targetCell),minWidth=10+parseInt(style.paddingLeft)+parseInt(style.paddingRight)+parseInt(style.borderLeftWidth)+parseInt(style.borderRightWidth)+parseInt(style.marginLeft)+parseInt(style.marginRight);column.width=Math.max(minWidth,targetCell.offsetWidth+e.detail.x-targetCell.getBoundingClientRect().right)+"px",column.flexGrow=0}columnRowCells.sort((function(a,b){return a._column._order-b._column._order})).forEach((function(cell,index,array){index<array.indexOf(targetCell)&&(cell._column.width=cell.offsetWidth+"px",cell._column.flexGrow=0)})),"end"===e.detail.state&&this._toggleAttribute("column-resizing",!1,this.$.scroller),this._resizeHandler()}}})}));