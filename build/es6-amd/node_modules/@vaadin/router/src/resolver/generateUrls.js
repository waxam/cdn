define(["exports","./resolver.js","../utils.js"],(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=babelHelpers.interopRequireDefault(t);const{pathToRegexp:n}=t.default,o=new Map;function getRouteByName(e,t){const r=e.get(t);if(r&&r.length>1)throw new Error(`Duplicate route with name "${t}".`+" Try seting unique 'name' route properties.");return r&&r[0]}function getRoutePath(e){let t=e.path;return t=Array.isArray(t)?t[0]:t,void 0!==t?t:""}var a=function generateUrls(e,a={}){if(!(e instanceof t.default))throw new TypeError("An instance of Resolver is expected");const s=new Map;return(t,u)=>{let i=getRouteByName(s,t);if(!i&&(s.clear(),function cacheRoutes(e,t,r){const n=t.name||t.component;if(n&&(e.has(n)?e.get(n).push(t):e.set(n,[t])),Array.isArray(r))for(let o=0;o<r.length;o++){const n=r[o];n.parent=t,cacheRoutes(e,n,n.__children||n.children)}}(s,e.root,e.root.__children),i=getRouteByName(s,t),!i))throw new Error(`Route "${t}" not found`);let l=o.get(i.fullPath);if(!l){let e=getRoutePath(i),t=i.parent;for(;t;){const r=getRoutePath(t);r&&(e=r.replace(/\/$/,"")+"/"+e.replace(/^\//,"")),t=t.parent}const a=n.parse(e),s=n.tokensToFunction(a),u=Object.create(null);for(let n=0;n<a.length;n++)(0,r.isString)(a[n])||(u[a[n].name]=!0);l={toPath:s,keys:u},o.set(e,l),i.fullPath=e}let c=l.toPath(u,a)||"/";if(a.stringifyQueryParams&&u){const e={},t=Object.keys(u);for(let n=0;n<t.length;n++){const r=t[n];l.keys[r]||(e[r]=u[r])}const r=a.stringifyQueryParams(e);r&&(c+="?"===r.charAt(0)?r:`?${r}`)}return c}};e.default=a}));