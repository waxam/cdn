var fs=require("fs");const disabledForMachine=process.env.npm_package_config_disabled;let disabledForProject=!1;if(fs.existsSync("../../../package.json")){const s=JSON.parse(fs.readFileSync("../../../package.json"));s.vaadin&&s.vaadin.disableUsageStatistics&&(disabledForProject=!0)}if(disabledForMachine||disabledForProject){disabledForMachine&&console.log("\n    You have disabled Vaadin development time usage statistics collection. To re-enable, run:\n    npm explore @vaadin/vaadin-usage-statistics -- npm run enable\n    For more details, see https://github.com/vaadin/vaadin-usage-statistics\n  ");try{fs.copyFileSync("vaadin-usage-statistics-optout.js","vaadin-usage-statistics.js")}catch(err){throw console.log("Error while copying file!"),err}}else{if(console.log('\n    Vaadin collects development time usage statistics to improve this product. To opt-out, either run:\n    npm explore @vaadin/vaadin-usage-statistics -- npm run disable\n    to store disable statistics for the machine, or add\n    "vaadin": { "disableUsageStatistics": true }\n    to the project package.json and re-run npm install to disable statistics for the project.\n\n    For more details, see https://github.com/vaadin/vaadin-usage-statistics\n  '),!1===fs.readFileSync("vaadin-usage-statistics.js").toString().startsWith("export * from './vaadin-usage-statistics-collect.js';"))try{fs.copyFileSync("vaadin-usage-statistics-collect.js","vaadin-usage-statistics.js")}catch(err){throw console.log("Error while copying file!"),err}}