var weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months=["January","February","March","April","May","June","July","August","September","October","November","December"];function pad(e){return("0"+e).slice(-2)}function strftime(e,t){var n=e.getDay(),r=e.getDate(),a=e.getMonth(),i=e.getFullYear(),o=e.getHours(),m=e.getMinutes(),l=e.getSeconds();return t.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,(function(t){var u=void 0;switch(t[1]){case"%":return"%";case"a":return weekdays[n].slice(0,3);case"A":return weekdays[n];case"b":return months[a].slice(0,3);case"B":return months[a];case"c":return e.toString();case"d":return pad(r);case"e":return r;case"H":return pad(o);case"I":return pad(strftime(e,"%l"));case"l":return 0===o||12===o?12:(o+12)%12;case"m":return pad(a+1);case"M":return pad(m);case"p":return o>11?"PM":"AM";case"P":return o>11?"pm":"am";case"S":return pad(l);case"w":return n;case"y":return pad(i%100);case"Y":return i;case"Z":return(u=e.toString().match(/\((\w+)\)$/))?u[1]:"";case"z":return(u=e.toString().match(/\w([+-]\d\d\d\d) /))?u[1]:""}}))}function makeFormatter(e){var t=void 0;return function(){if(t)return t;if("Intl"in window)try{return t=new Intl.DateTimeFormat(void 0,e)}catch(n){if(!(n instanceof RangeError))throw n}}}var dayFirst=null,dayFirstFormatter=makeFormatter({day:"numeric",month:"short"});function isDayFirst(){if(null!==dayFirst)return dayFirst;var e=dayFirstFormatter();if(e){var t=e.format(new Date(0));return dayFirst=!!t.match(/^\d/)}return!1}var yearSeparator=null,yearFormatter=makeFormatter({day:"numeric",month:"short",year:"numeric"});function isYearSeparator(){if(null!==yearSeparator)return yearSeparator;var e=yearFormatter();if(e){var t=e.format(new Date(0));return yearSeparator=!!t.match(/\d,/)}return!0}function isThisYear(e){return(new Date).getUTCFullYear()===e.getUTCFullYear()}var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),get=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function _CustomElement(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(_CustomElement.prototype,HTMLElement.prototype),Object.setPrototypeOf(_CustomElement,HTMLElement);var ExtendedTimeElement=function(e){function ExtendedTimeElement(){return classCallCheck(this,ExtendedTimeElement),possibleConstructorReturn(this,(ExtendedTimeElement.__proto__||Object.getPrototypeOf(ExtendedTimeElement)).apply(this,arguments))}return inherits(ExtendedTimeElement,_CustomElement),createClass(ExtendedTimeElement,[{key:"attributeChangedCallback",value:function attributeChangedCallback(e,t,n){if("datetime"===e){var r=Date.parse(n);this._date=isNaN(r)?null:new Date(r)}var a=this.getFormattedTitle();a&&!this.hasAttribute("title")&&this.setAttribute("title",a);var i=this.getFormattedDate();i&&(this.textContent=i)}},{key:"getFormattedTitle",value:function getFormattedTitle(){if(this._date){var e=titleFormatter();if(e)return e.format(this._date);try{return this._date.toLocaleString()}catch(t){if(t instanceof RangeError)return this._date.toString();throw t}}}}],[{key:"observedAttributes",get:function get$$1(){return["datetime","day","format","hour","minute","month","second","title","weekday","year"]}}]),ExtendedTimeElement}(),titleFormatter=makeFormatter({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),formatters=new WeakMap,LocalTimeElement=function(e){function LocalTimeElement(){return classCallCheck(this,LocalTimeElement),possibleConstructorReturn(this,(LocalTimeElement.__proto__||Object.getPrototypeOf(LocalTimeElement)).apply(this,arguments))}return inherits(LocalTimeElement,ExtendedTimeElement),createClass(LocalTimeElement,[{key:"attributeChangedCallback",value:function attributeChangedCallback(e,t,n){"hour"!==e&&"minute"!==e&&"second"!==e&&"time-zone-name"!==e||formatters.delete(this),get(LocalTimeElement.prototype.__proto__||Object.getPrototypeOf(LocalTimeElement.prototype),"attributeChangedCallback",this).call(this,e,t,n)}},{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return((formatDate(this)||"")+" "+(formatTime(this)||"")).trim()}}]),LocalTimeElement}();function formatDate(e){var t={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}},n=isDayFirst()?"weekday day month year":"weekday month day, year";for(var r in t){var a=t[r][e.getAttribute(r)];n=n.replace(r,a||"")}return n=n.replace(/(\s,)|(,\s$)/,""),strftime(e._date,n).replace(/\s+/," ").trim()}function formatTime(e){var t={hour:e.getAttribute("hour"),minute:e.getAttribute("minute"),second:e.getAttribute("second"),timeZoneName:e.getAttribute("time-zone-name")};for(var n in t)t[n]||delete t[n];if(0!==Object.keys(t).length){var r=formatters.get(e);r||(r=makeFormatter(t),formatters.set(e,r));var a=r();if(a)return a.format(e._date);var i=t.second?"%H:%M:%S":"%H:%M";return strftime(e._date,i)}}window.customElements.get("local-time")||(window.LocalTimeElement=LocalTimeElement,window.customElements.define("local-time",LocalTimeElement));var RelativeTime=function(){function RelativeTime(e){classCallCheck(this,RelativeTime),this.date=e}return createClass(RelativeTime,[{key:"toString",value:function toString(){var e=this.timeElapsed();if(e)return e;var t=this.timeAhead();return t||"on "+this.formatDate()}},{key:"timeElapsed",value:function timeElapsed(){var e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),n=Math.round(t/60),r=Math.round(n/60),a=Math.round(r/24);return e>=0&&a<30?this.timeAgoFromMs(e):null}},{key:"timeAhead",value:function timeAhead(){var e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),n=Math.round(t/60),r=Math.round(n/60),a=Math.round(r/24);return e>=0&&a<30?this.timeUntil():null}},{key:"timeAgo",value:function timeAgo(){var e=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(e)}},{key:"timeAgoFromMs",value:function timeAgoFromMs(e){var t=Math.round(e/1e3),n=Math.round(t/60),r=Math.round(n/60),a=Math.round(r/24),i=Math.round(a/30),o=Math.round(i/12);return e<0?"just now":t<10?"just now":t<45?t+" seconds ago":t<90?"a minute ago":n<45?n+" minutes ago":n<90?"an hour ago":r<24?r+" hours ago":r<36?"a day ago":a<30?a+" days ago":a<45?"a month ago":i<12?i+" months ago":i<18?"a year ago":o+" years ago"}},{key:"microTimeAgo",value:function microTimeAgo(){var e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),n=Math.round(t/60),r=Math.round(n/60),a=Math.round(r/24),i=Math.round(a/30),o=Math.round(i/12);return n<1?"1m":n<60?n+"m":r<24?r+"h":a<365?a+"d":o+"y"}},{key:"timeUntil",value:function timeUntil(){var e=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(e)}},{key:"timeUntilFromMs",value:function timeUntilFromMs(e){var t=Math.round(e/1e3),n=Math.round(t/60),r=Math.round(n/60),a=Math.round(r/24),i=Math.round(a/30),o=Math.round(i/12);return i>=18?o+" years from now":i>=12?"a year from now":a>=45?i+" months from now":a>=30?"a month from now":r>=36?a+" days from now":r>=24?"a day from now":n>=90?r+" hours from now":n>=45?"an hour from now":t>=90?n+" minutes from now":t>=45?"a minute from now":t>=10?t+" seconds from now":"just now"}},{key:"microTimeUntil",value:function microTimeUntil(){var e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),n=Math.round(t/60),r=Math.round(n/60),a=Math.round(r/24),i=Math.round(a/30),o=Math.round(i/12);return a>=365?o+"y":r>=24?a+"d":n>=60?r+"h":n>1?n+"m":"1m"}},{key:"formatDate",value:function formatDate(){var e=isDayFirst()?"%e %b":"%b %e";return isThisYear(this.date)||(e+=isYearSeparator()?", %Y":" %Y"),strftime(this.date,e)}},{key:"formatTime",value:function formatTime(){var e=timeFormatter();return e?e.format(this.date):strftime(this.date,"%l:%M%P")}}]),RelativeTime}(),timeFormatter=makeFormatter({hour:"numeric",minute:"2-digit"}),RelativeTimeElement=function(e){function RelativeTimeElement(){return classCallCheck(this,RelativeTimeElement),possibleConstructorReturn(this,(RelativeTimeElement.__proto__||Object.getPrototypeOf(RelativeTimeElement)).apply(this,arguments))}return inherits(RelativeTimeElement,ExtendedTimeElement),createClass(RelativeTimeElement,[{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return new RelativeTime(this._date).toString()}},{key:"connectedCallback",value:function connectedCallback(){nowElements.push(this),updateNowElementsId||(updateNowElements(),updateNowElementsId=setInterval(updateNowElements,6e4))}},{key:"disconnectedCallback",value:function disconnectedCallback(){var e=nowElements.indexOf(this);-1!==e&&nowElements.splice(e,1),nowElements.length||updateNowElementsId&&(clearInterval(updateNowElementsId),updateNowElementsId=null)}}]),RelativeTimeElement}(),nowElements=[],updateNowElementsId=void 0;function updateNowElements(){var e,t=void 0,n=void 0;for(n=0,e=nowElements.length;n<e;n++)(t=nowElements[n]).textContent=t.getFormattedDate()}window.customElements.get("relative-time")||(window.RelativeTimeElement=RelativeTimeElement,window.customElements.define("relative-time",RelativeTimeElement));var TimeAgoElement=function(e){function TimeAgoElement(){return classCallCheck(this,TimeAgoElement),possibleConstructorReturn(this,(TimeAgoElement.__proto__||Object.getPrototypeOf(TimeAgoElement)).apply(this,arguments))}return inherits(TimeAgoElement,RelativeTimeElement),createClass(TimeAgoElement,[{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return"micro"===this.getAttribute("format")?new RelativeTime(this._date).microTimeAgo():new RelativeTime(this._date).timeAgo()}}]),TimeAgoElement}();window.customElements.get("time-ago")||(window.TimeAgoElement=TimeAgoElement,window.customElements.define("time-ago",TimeAgoElement));var TimeUntilElement=function(e){function TimeUntilElement(){return classCallCheck(this,TimeUntilElement),possibleConstructorReturn(this,(TimeUntilElement.__proto__||Object.getPrototypeOf(TimeUntilElement)).apply(this,arguments))}return inherits(TimeUntilElement,RelativeTimeElement),createClass(TimeUntilElement,[{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return"micro"===this.getAttribute("format")?new RelativeTime(this._date).microTimeUntil():new RelativeTime(this._date).timeUntil()}}]),TimeUntilElement}();window.customElements.get("time-until")||(window.TimeUntilElement=TimeUntilElement,window.customElements.define("time-until",TimeUntilElement));