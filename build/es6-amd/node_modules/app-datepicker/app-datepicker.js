define(["./app-datepicker-icons.js","./animations/datepicker-slide-from-left-animation.js","./animations/datepicker-slide-from-right-animation.js","../@polymer/iron-selector/iron-selector.js","../@polymer/iron-list/iron-list.js","../@polymer/paper-icon-button/paper-icon-button.js","../@polymer/neon-animation/neon-animated-pages.js","../@polymer/neon-animation/neon-animation-runner-behavior.js","../@polymer/neon-animation/animations/fade-in-animation.js","../@polymer/neon-animation/animations/fade-out-animation.js","../@polymer/neon-animation/animations/slide-from-left-animation.js","../@polymer/neon-animation/animations/slide-from-right-animation.js","../@polymer/neon-animation/neon-animatable.js","../@polymer/polymer/lib/legacy/polymer.dom.js","../@polymer/polymer/lib/legacy/class.js","../@polymer/polymer/polymer-element.js"],(function(e,t,a,i,o,n,s,r,l,d,c,h,p,m,f,y){"use strict";class AppDatepicker extends((0,f.mixinBehaviors)([r.NeonAnimationRunnerBehavior],y.PolymerElement)){static get template(){return y.html`
    <style>
      :host {
        display: block;
        position: relative;
        box-sizing: border-box;

        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background: var(--app-datepicker-bg, #fafafa);

        @apply --app-datepicker;
      }

      * {
        box-sizing: border-box;
      }

      .datepicker {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;

        position: relative;
        width: 300px;
        height: 384px;
        max-height: 384px;
      }
      .datepicker.with-buttons {
        height: 431px;
        max-height: 431px;
      }

      iron-selector.selected-fulldate {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;

        min-height: 84px;
        padding: 8px 16px;
        color: var(--app-datepicker-selection-color, #b2dfdb);
        background-color: var(--app-datepicker-selection-bg, #009688);
      }
      .selected-year.iron-selected,
      .selected-date.iron-selected {
        color: var(--app-datepicker-iron-selected, #fefefe);
      }
      .selected-year {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        font-size: 14px;
        font-weight: 800;
        height: 34px;

        @apply --app-datepicker-selected-year;
      }
      .selected-date {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;

        font-size: 32px;
        font-weight: 800;

        @apply --app-datepicker-selected-date;
      }
      .selected-year:hover,
      .selected-date > div:hover {
        cursor: pointer;
      }

      neon-animated-pages.fullcalendar {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;

        width: 100%;
        height: 100%;
        overflow: hidden;
        color: var(--app-datepicker-calendar-color, #000);
        background-color: var(--app-datepicker-calendar-bg, #fafafa);
      }
      .navigator {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;

        max-height: 46px;
        padding: 3px 10px;
        position: relative;
        margin-top: 8px;
      }
      .nav-month-year {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;

        font-size: 14px;
        font-weight: 500;
        text-align: center;

        @apply --app-datepicker-nav-month-year;
      }
      .days-of-week {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;

        color: var(--app-datepicker-weekdays-color, #848484);
        font-size: 12px;

        @apply --app-datepicker-days-of-week;
      }
      .each-days-of-week {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;

        padding: 13px;
        max-height: 32px;
        width: 41px;
      }
      .days-of-month {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;

        font-size: 13px;

        @apply --app-datepicker-days-of-month;
      }
      .each-days-of-month {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;

        position: relative;
        height: 35px;
        width: 35px;
        margin-left: 3px;
        margin-right: 3px;
      }
      div > .days-of-month > .each-days-of-month.chosen-days-of-month {
        border-radius: 50%;
        background-color: var(--app-datepicker-selected-day-bg, #009688);
        color: var(--app-datepicker-selected-day-color, #fff);
      }
      .days-of-month > .each-days-of-month.is-today {
        color: var(--app-datepicker-today-color, #009688);
      }
      .days-of-month > .each-days-of-month.is-disabled-day {
        color: var(--app-datepicker-disabled-color, #9e9e9e);
      }


      /* outline: none for non-selectable and disabled days */
      .days-of-month > .each-days-of-month.is-disabled-day,
      .days-of-month > .each-days-of-month.is-non-selectable {
        outline: none;
      }
      /* Date hover styling */
      .days-of-month > .each-days-of-month:hover:not(.is-disabled-day):not(.is-non-selectable):not(.chosen-days-of-month),
      .days-of-month > .each-days-of-month:focus:not(.is-disabled-day):not(.is-non-selectable):not(.chosen-days-of-month) {
        color: var(--app-datepicker-date-hover-color, #f5f5f5);
        background-color: var(--app-datepicker-date-hover-background-color, #80cbc4);
        border-radius: 50%;
        cursor: pointer;
      }
      :host(.dark-theme) .days-of-month >  .each-days-of-month:hover:not(.is-disabled-day):not(.is-non-selectable):not(.chosen-days-of-month),
      :host(.dark-theme) .days-of-month >  .each-days-of-month:focus:not(.is-disabled-day):not(.is-non-selectable):not(.chosen-days-of-month) {
        color: var(--app-datepicker-date-hover-color, #777);
        background-color: var(--app-datepicker-date-hover-background-color, #b2dfdb);
      }
      :host(.goog-theme) .days-of-month > .each-days-of-month:hover:not(.is-disabled-day):not(.is-non-selectable):not(.chosen-days-of-month),
      :host(.goog-theme) .days-of-month > .each-days-of-month:focus:not(.is-disabled-day):not(.is-non-selectable):not(.chosen-days-of-month) {
        color: var(--app-datepicker-date-hover-color, #f5f5f5);
        background-color: var(--app-datepicker-date-hover-background-color, #e57373);
      }

      /* Focus ring styling - replace outline with background-color */
      .each-list-of-years:focus,
      .each-days-of-month:focus {
        outline: 0;
      }
      .each-list-of-years:focus,
      .each-list-of-years:hover,
      .each-list-of-years.is-selected:focus,
      .each-list-of-years.is-selected:hover {
        font-weight: 700;
        background-color: var(--app-datepicker-year-hover-background-color, #e0e0e0);

        @apply --app-datepicker-year-hover;
      }
      :host(.dark-theme) .each-list-of-years:focus,
      :host(.dark-theme) .each-list-of-years:hover,
      :host(.dark-theme) .each-list-of-years.is-selected:focus,
      :host(.dark-theme) .each-list-of-years.is-selected:hover {
        font-weight: 700;
        background-color: var(--app-datepicker-year-hover-background-color, #616161);

        @apply --app-datepicker-year-hover;
      }
      :host(.goog-theme) .each-list-of-years:focus,
      :host(.goog-theme) .each-list-of-years:hover,
      :host(.goog-theme) .each-list-of-years.is-selected:focus,
      :host(.goog-theme) .each-list-of-years.is-selected:hover {
        font-weight: 700;
        background-color: var(--app-datepicker-year-hover-background-color, #424242);

        @apply --app-datepicker-year-hover;
      }

      .each-list-of-years {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;

        height: 64px;
        font-size: 16px;

        @apply --app-datepicker-each-list-of-years;
      }
      .each-list-of-years:hover {
        cursor: pointer;
      }
      .each-list-of-years.is-selected {
        font-size: 24px;
        font-weight: 700;
        color: var(--app-datepicker-selected-year-color, #009688);
        background-color: var(--app-datepicker-selected-year-bg);

        @apply --app-datepicker-selected-each-list-of-years;
      }

      /* paper-icon-button */
      paper-icon-button {
        color: var(--app-datepicker-icon-button-color, #737373);
        --paper-icon-button-ink-color: var(--app-datepicker-icon-button-ink-color, #737373);
      }

      /* content tag selector */
      .buttons {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;

        color: var(--app-datepicker-button-color, #009688);
        position: relative;
        padding: 8px 8px 8px 24px;
        margin: 0;
        font-size: 12px;
        font-weight: 500;

        --paper-button-ink-color: var(--app-datepicker-button-ink-color, #737373);

        @apply --app-datepicker-buttons;
      }

      /* will-change: transform, however lag on the first time */
      .nav-month-year,
      .days-of-week,
      .days-of-month {
        will-change: transform;
        -webkit-transform: translate3d(0px, 0px, 0px);
                transform: translate3d(0px, 0px, 0px);
        -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
      }

      iron-list {
        --iron-list-items-container: {
          -webkit-transform: translate3d(0px, 0px, 0px);
          transform: translate3d(0px, 0px, 0px);
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
        };
      }

      /* landscape */
      @media all and (orientation: landscape) {
        :host(.horizontal-view) #dp.datepicker,
        :host(:not(.vertical-view)) #dp.datepicker {
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          -ms-flex-direction: row;
          -webkit-flex-direction: row;
          flex-direction: row;

          width: 512px;
          height: 241px;
        }
        :host(.horizontal-view) #dp.datepicker.with-buttons,
        :host(:not(.vertical-view)) #dp.datepicker.with-buttons {
          height: 288px;
        }
        :host(.horizontal-view) iron-selector.selected-fulldate,
        :host(:not(.vertical-view)) iron-selector.selected-fulldate {
          /* Fixed for IE11, Edge */
          min-width: 164px;
          width: calc(100% / 3 + 48px);
          max-width: 164px;
          height: 100%;
        }
        :host(:not(.vertical-view)) .selected-date {
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          -ms-flex-direction: column;
          -webkit-flex-direction: column;
          flex-direction: column;
          -ms-flex-align: start;
          -webkit-align-items: flex-start;
          align-items: flex-start;
          -ms-flex-pack: start;
          -webkit-justify-content: flex-start;
          justify-content: flex-start;
        }
        /* Fix for IE11 */
        :host(:not(.vertical-view)) .selected-date > div {
          width: 100%;
          word-wrap: break-word;
        }
        /* Hack for Edge 12+ */
        @supports (-ms-accelerator:true) {
          :host(:not(.vertical-view)) .selected-date > div {
            white-space: pre-wrap;
          }
        }

        :host(.horizontal-view) neon-animated-pages.fullcalendar,
        :host(:not(.vertical-view)) neon-animated-pages.fullcalendar {
          height: 100%;
        }
        :host(.horizontal-view) .calendar-view,
        :host(:not(.vertical-view)) .calendar-view {
          padding-bottom: 0;
        }
        :host(.horizontal-view) .navigator,
        :host(:not(.vertical-view)) .navigator {
          padding: 2px 10px;
          margin-top: 0;
        }
        :host(.horizontal-view) .each-days-of-week,
        :host(:not(.vertical-view)) .each-days-of-week {
          width: calc(100% / 7 - 20px);
          padding: 0;
          margin-left: 10px;
          margin-right: 10px;
        }
        :host(:not(.vertical-view)) .days-of-month {
          margin-top: 8px;
        }
        :host(.horizontal-view) .each-days-of-month,
        :host(:not(.vertical-view)) .each-days-of-month {
          height: 29px;
          margin-left: 10px;
          margin-right: 10px;
          width: calc(100% / 7 - 20px);
        }
      }
      /* End of landscape @media */

      /* dark-theme */
      :host(.dark-theme) {
        background-color: var(--app-datepicker-bg, #424242);
      }
      :host(.dark-theme) iron-selector.selected-fulldate {
        color: var(--app-datepicker-selection-color, #9e9e9e);
        background-color: var(--app-datepicker-selection-bg, #555);
      }
      :host(.dark-theme) .selected-year.iron-selected,
      :host(.dark-theme) .selected-date.iron-selected {
        color: var(--app-datepicker-iron-selected, #f5f5f5);
      }
      :host(.dark-theme) neon-animated-pages.fullcalendar {
        color: var(--app-datepicker-calendar-color, #f5f5f5);
        background-color: var(--app-datepicker-calendar-bg, #424242);
      }
      :host(.dark-theme) .days-of-week {
        color: var(--app-datepicker-weekdays-color, #7c7c7c);
      }
      :host(.dark-theme) div > .days-of-month > .each-days-of-month.chosen-days-of-month {
        color: var(--app-datepicker-selected-day-color, #555);
        background-color: var(--app-datepicker-selected-day-bg, #80cbc4);
      }
      :host(.dark-theme) .days-of-month > .each-days-of-month.is-today {
        color: var(--app-datepicker-today-color, #80cbc4);
      }
      :host(.dark-theme) .days-of-month > .each-days-of-month.is-disabled-day {
        color: var(--app-datepicker-disabled-color, #ffff00);
      }
      :host(.dark-theme) .each-list-of-years.is-selected {
        background-color: var(--app-datepicker-selected-year-bg, rgba(0, 0, 0, 0));
        color: var(--app-datepicker-selected-year-color, #80cbc4);
        font-size: 26px;
        font-weight: 500;
      }
      :host(.dark-theme) paper-icon-button {
        color: var(--app-datepicker-icon-button-color, #ffff00);
        --paper-icon-button-ink-color: var(--app-datepicker-icon-button-ink-color, #212121);
      }
      :host(.dark-theme) ::slotted(paper-button) {
        color: var(--app-datepicker-button-color, #80cbc4);
        --paper-button-ink-color: var(--app-datepicker-button-ink-color, #bcbcbc);
      }

      /* goog theme */
      :host(.goog-theme) {
        background-color: var(--app-datepicker-bg, #212121);
      }

      :host(.goog-theme) iron-selector.selected-fulldate {
        color: var(--app-datepicker-selection-color, #fff);
        background-color: var(--app-datepicker-selection-bg, #212121);
      }
      :host(.goog-theme) .selected-year.iron-selected,
      :host(.goog-theme) .selected-date.iron-selected {
        color: var(--app-datepicker-iron-selected, #DA4336);
      }
      :host(.goog-theme) neon-animated-pages.fullcalendar {
        color: var(--app-datepicker-calendar-color, #fff);
        background-color: var(--app-datepicker-calendar-bg, #212121);
      }
      :host(.goog-theme) .days-of-week {
        color: var(--app-datepicker-weekdays-color, #9e9e9e);
      }
      :host(.goog-theme) div > .days-of-month > .each-days-of-month.chosen-days-of-month {
        color: var(--app-datepicker-selected-day-color, #fff);
        background-color: var(--app-datepicker-selected-day-bg, #DA4336);
      }
      :host(.goog-theme) .days-of-month > .each-days-of-month.is-today {
        color: var(--app-datepicker-today-color, #DA4336);
      }
      :host(.goog-theme) .days-of-month > .each-days-of-month.is-disabled-day {
        color: var(--app-datepicker-disabled-color, #646464);
      }
      :host(.goog-theme) .each-list-of-years.is-selected {
        background-color: var(--app-datepicker-selected-year-bg, rgba(0, 0, 0, 0));
        color: var(--app-datepicker-selected-year-color, #DA4336);
        font-size: 26px;
        font-weight: 500;
      }
      :host(.goog-theme) paper-icon-button {
        color: var(--app-datepicker-icon-button-color, #DA4336);
        --paper-icon-button-ink-color: var(--app-datepicker-icon-button-ink-color, #616161);
      }
      :host(.goog-theme) ::slotted(paper-button) {
        color: var(--app-datepicker-button-color, #DA4336);
        --paper-button-ink-color: var(--app-datepicker-button-ink-color, #616161);
      }
    </style>

    <div id="dp" class="datepicker">
      <iron-selector class="selected-fulldate" selected="{{_activeView}}" attr-for-selected="view" on-selected-changed="_onIronSelectorSelectedChanged" fallback-selection="calendar">
        <div id="showSelectedYear" class="selected-year" tabindex="0" view="year" aria-label="year view">
          [[_showSelectedYear]]
        </div>
        <div class="selected-date" view="calendar" tabindex="0">
          <div aria-label="calendar view">[[_shortSelectedDate]]</div>
        </div>
      </iron-selector>

      <neon-animated-pages class="fullcalendar" selected="[[_activeView]]" attr-for-selected="view" entry-animation="[[pageEntryAnimation]]" exit-animation="[[pageExitAnimation]]" on-neon-animation-finish="_onAnimationFinish">
        <div class="calendar-view" view="calendar">
          <div class="navigator">
            <paper-icon-button icon="datepicker:chevron-left" on-tap="_decrementMonth" noink="[[noAnimation]]"></paper-icon-button>
            <neon-animatable id="navMonthYearAnimation">
              <div id="navMonthYear" class="nav-month-year">
                [[_activeMonthYear]]
              </div>
            </neon-animatable>
            <paper-icon-button icon="datepicker:chevron-right" on-tap="_incrementMonth" noink="[[noAnimation]]"></paper-icon-button>
          </div>

          <neon-animatable id="daysOfWeekAnimation">
            <div id="daysOfWeek" class="days-of-week">
              <template is="dom-repeat" items="[[_daysOfWeek]]" index-as="index" strip-whitespace="">
                <div class="each-days-of-week">
                  [[item]]
                </div>
              </template>
            </div>
          </neon-animatable>


          <neon-animatable id="daysOfMonthAnimation">
            <div id="daysOfMonth" class="days-of-month" on-tap="_chooseDaysOfMonth">
              <template is="dom-repeat" items="[[_daysOfMonth]]" index-as="index" strip-whitespace="">
                <div class\$="each-days-of-month[[_isToday(item.index, _activeYear, _activeMonth)]][[_isEmptyDate(item.index)]][[_isChosenDaysOfMonth(item.index, _selectedYear, _selectedMonth, _selectedDate)]][[_isDisableDays(index, firstDayOfWeek, minDate, maxDate, item.index, _shiftedDisableDays.*, disableDates.*)]]" index="[[index]]" date="[[item.index]]" tabindex\$="[[_shouldTabIndex(index, firstDayOfWeek, minDate, maxDate, item.index, _shiftedDisableDays.*, disableDates.*)]]" aria-disabled\$="[[_shouldAriaDisabled(index, firstDayOfWeek, minDate, maxDate, item.index, _shiftedDisableDays.*, disableDates.*)]]" aria-label\$="[[item.index]]">
                  [[item.date]]
                </div>
              </template>
            </div>
          </neon-animatable>

          <div class="buttons">
            <slot name="dismiss-button"></slot>
            <slot name="confirm-button"></slot>
          </div>
        </div>

        <template is="dom-if" if="[[_isListRendered]]" restamp="true" on-dom-change="_onListRendered" strip-whitespace="">
          <iron-list id="listOfYears" items="[[_listOfYears]]" view="year" on-neon-animation-finish="_onAnimationFinish" selection-enabled="">
            <template strip-whitespace="">
              <div class\$="each-list-of-years[[_isListOfYearsSelected(_selectedYear, item.year)]]" tabindex\$="[[tabIndex]]" aria-label\$="[[item.year]]" label\$="[[item.year]]" on-tap="_goCalendar" on-keydown="_goCalendar">
                [[item.year]]
              </div>
            </template>
          </iron-list>
        </template>
      </neon-animated-pages>

    </div>`}static get properties(){return{locale:{type:String,value:()=>window.Intl&&window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&window.Intl.DateTimeFormat().resolvedOptions().locale||"en-US"},view:String,theme:String,firstDayOfWeek:{type:Number,value:0},disableDays:{type:Array,value:function(){return[6,0]}},disableDates:{type:Array,value:function(){return[]}},minDate:{type:String,value:"1000/00/01"},maxDate:{type:String,value:"9999/99/99"},format:{type:String,value:"yyyy/mm/dd"},date:{type:String,notify:!0,readOnly:!0},inputDate:String,noAnimation:Boolean,pageEntryAnimation:String,pageExitAnimation:String,showLongDate:{type:Boolean,value:!1},invalidDate:{type:Boolean,notify:!0,readOnly:!0},autoUpdateDate:{type:Boolean,value:!1},alwaysResetSelectedDateOnDialogClose:Boolean,_monthNames:{type:Array,value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},_shiftedDisableDays:{type:Array,value:[6,0]},_activeMonthYear:String,_shortSelectedDate:String,_showSelectedYear:String,_daysOfWeek:Array,_daysOfMonth:Array,_listOfYears:Array,_activeView:{type:String,value:"calendar"},_activeYear:{type:Number,value:function(){return(new Date).getFullYear()}},_activeMonth:{type:Number,value:function(){return(new Date).getMonth()}},_isIncrementMonth:Boolean,_isDecrementMonth:Boolean,_selectedYear:{type:Number,value:function(){return(new Date).getFullYear()}},_selectedMonth:{type:Number,value:function(){return(new Date).getMonth()}},_selectedDate:{type:Number,value:function(){return(new Date).getDate()}},_chosenDaysOfMonth:{type:Number,value:function(){return(new Date).getDate()}},_isListRendered:{type:Boolean,value:!1},_isSelectedDateConfirmed:Boolean,_format:{type:Object,value:function(){return{y:"yyyy",m:"mm",d:"dd",s1:"/",s2:"/"}}}}}static get observers(){return["_computeDaysOfMonth(_activeYear, _activeMonth, firstDayOfWeek, locale)","_computeSeparateFormat(format)","_computeShowLongDate(showLongDate, locale)","_updateToReflectExternalChange(inputDate)","_updateThemeColor(theme)","_updateDatepickerView(view)","_computeDaysOfWeek(firstDayOfWeek, locale)","_computeActiveMonthYear(_activeYear, _activeMonth, locale)","_computeShortSelectedDate(_selectedYear, _selectedMonth, _selectedDate, locale)","_computeShowSelectedYear(_selectedYear, locale)","_computeShiftedDisableDays(firstDayOfWeek, disableDays.*)"]}connectedCallback(){super.connectedCallback(),this.noAnimation||(this.set("animationConfig",{incrementEntry:[{name:"slide-from-right-animation",node:this.$.daysOfWeekAnimation},{name:"slide-from-right-animation",node:this.$.daysOfMonthAnimation},{name:"datepicker-slide-from-right-animation",node:this.$.navMonthYearAnimation}],decrementEntry:[{name:"slide-from-left-animation",node:this.$.daysOfWeekAnimation},{name:"slide-from-left-animation",node:this.$.daysOfMonthAnimation},{name:"datepicker-slide-from-left-animation",node:this.$.navMonthYearAnimation}]}),this.set("pageEntryAnimation","fade-in-animation"),this.set("pageExitAnimation","fade-out-animation"));var e=this.getEffectiveChildren();if(e&&e.length>0){for(var t=0;t<e.length;t++)e[t].hasAttribute("dialog-confirm")&&(e[t].addEventListener("tap",this._updateBindDate.bind(this)),e[t].addEventListener("transitionend",this._updateBindDate.bind(this))),this._updateDistributedButtonInkColorCustomProp(e[t],"#737373");this.$.dp.classList.add("with-buttons")}else this.$.dp.classList.remove("with-buttons");this.dispatchEvent(new CustomEvent("app-datepicker-connected",{bubbles:!0,composed:!0}))}_computeDaysOfMonth(e,t,a,i){if(window.Intl){var o=new Date(e,t,1).getDay(),n=[],s=function _computeTotalDaysOfMonth(e,t){return new Date(e,t+1,0).getDate()}(e,t);a>0&&a<7&&(o=(o-=a)<0?7+o:o),i=i||window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&window.Intl.DateTimeFormat().resolvedOptions().locale||"en-US";for(var r=window.Intl&&window.Intl.DateTimeFormat?new window.Intl.DateTimeFormat(i,{timeZone:"UTC",day:"numeric"}).format:function dateTimeFormatShim(e){return e.getDate()},l=0,d=1-o;l<42;l++,d++){var c=r(new Date(Date.UTC(e,t,d))),h={date:"",index:""};l>=o&l<o+s&&(h.date=c,h.index=d),n.push(h)}this.set("_chosenDaysOfMonth",this._computeChosenDaysOfMonth(n,this._selectedDate)),this.set("_daysOfMonth",n)}}_computeShiftedDisableDays(e,t){e=e>0&&e<7?e:0;var a=this.disableDays.map((function(t){return(t-=e)<0?7+t:t}));this.set("_shiftedDisableDays",a)}_incrementMonth(e){this.debounce("_incrementMonth",(function(){this.set("_isIncrementMonth",!0),window.requestAnimationFrame(function(){var e=this._activeMonth;++e%12==0&&this._activeYear++,this.set("_activeMonth",e%12),this.noAnimation||(this.cancelAnimation(),this.playAnimation("incrementEntry")),this.set("_isIncrementMonth",!1)}.bind(this))}),100)}_decrementMonth(e){this.debounce("_decrementMonth",(function(){this.set("_isDecrementMonth",!0),window.requestAnimationFrame(function(){var e=this._activeMonth;--e<0&&(this._activeYear--,e=11),this.set("_activeMonth",e),this.noAnimation||(this.cancelAnimation(),this.playAnimation("decrementEntry")),this.set("_isDecrementMonth",!1)}.bind(this))}),100)}_computeActiveMonthYear(e,t,a){if(window.Intl){a=a||window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&window.Intl.DateTimeFormat().resolvedOptions().locale||"en-US";var i=new window.Intl.DateTimeFormat(a,{timeZone:"UTC",month:"short",year:"numeric"}).format(new Date(Date.UTC(e,t,1)));this.set("_activeMonthYear",i)}}_computeShortSelectedDate(e,t,a,i){if(window.Intl){i=i||window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&window.Intl.DateTimeFormat().resolvedOptions().locale||"en-US";var o=new window.Intl.DateTimeFormat(i,{timeZone:"UTC",weekday:"short",month:"short",day:"numeric"}).format(new Date(Date.UTC(e,t,a)));this.set("_shortSelectedDate",o),this.autoUpdateDate&&this.enforceDateChange()}}_computeShowSelectedYear(e,t){if(window.Intl){t=t||window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&window.Intl.DateTimeFormat().resolvedOptions().locale||"en-US";var a=new window.Intl.DateTimeFormat(t,{timeZone:"UTC",year:"numeric"}).format(new Date(Date.UTC(e,0,1)));this.set("_showSelectedYear",a)}}_chooseDaysOfMonth(e){var t=e.target;t&&this._isNumber(t.date)&&!t.classList.contains("is-disabled-day")&&(this.set("_chosenDaysOfMonth",t.index),this.set("_selectedYear",this._activeYear),this.set("_selectedDate",t.date),this.set("_selectedMonth",this._activeMonth))}_isToday(e,t,a){var i=new Date;return e===i.getDate()&&t===i.getFullYear()&&a===i.getMonth()?" is-today":""}_isEmptyDate(e){return this._isNumber(e)?"":" is-non-selectable"}_isChosenDaysOfMonth(e,t,a,i){return this._chosenDaysOfMonth>=0&&this._activeYear===t&&this._activeMonth===a&&e===i?" chosen-days-of-month":""}_isDisableDays(e,t,a,i,o){var n=!1,s=!1,r=!1,l=this._shiftedDisableDays.some((function(t){return t===e%7}));if(this._isNumber(o)){var d=this._convertDateStringToDateObject(a),c=this._convertDateStringToDateObject(i),h=new Date(this._activeYear,this._activeMonth,o);d&&(n=h.getTime()<d.getTime()),c&&(s=h.getTime()>c.getTime()),r=this.disableDates&&this.disableDates.length&&this.disableDates.some(function(e){var t=this._convertDateStringToDateObject(e);return t&&h.getTime()===t.getTime()}.bind(this))}return l||r||n||s?" is-disabled-day is-non-selectable":""}_isListOfYearsSelected(e,t){return+e==+t?" is-selected":""}_computeDaysOfWeek(e,t){var a=["S","M","T","W","T","F","S"];e=e>0&&e<7?e:0;if(t&&window.Intl){a=[];for(var i=new Date,o=i.getDate()-i.getDay(),n=new window.Intl.DateTimeFormat(t,{timeZone:"UTC",weekday:"narrow"}).format,s=null,r=0;r<7;r++)s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),o+r)),a.push(n(s))}var l=a.slice(e),d=a.slice(0,e),c=Array.prototype.concat(l,d);this.set("_daysOfWeek",c)}_computeChosenDaysOfMonth(e,t){for(var a=e.length,i=0;i<a;i++)if(i>=0&&e[i].index===t)return i}_convertDateStringToDateObject(e){var t=e instanceof Date||"string"!=typeof e?e:new Date(e);return"Invalid Date"!==t.toDateString()?t:null}_updateList(e){for(var t=[],a=1900;a<=2100;a++)t.push({year:a});this.set("_listOfYears",t)}_onAnimationFinish(e){var t=e.detail;if(t&&"IRON-LIST"===t.toPage.tagName){var a=this._updateListScroller(t.toPage);this.async((function(){t.toPage._focusPhysicalItem(a)}),1)}else this.async((function(){this.$.showSelectedYear.focus()}),1)}_updateListScroller(e){var t=(0,m.dom)(e.root).querySelector("#items").getBoundingClientRect().height||12863.994140625,a=Math.floor(t/201*(this._activeYear-1900-2))+1;return!this.$.dp.classList.contains("with-buttons")&&window.matchMedia("(orientation: landscape)").matches&&(a=Math.floor(t/201*(this._activeYear-1900-1))+1),this.async((function(){e.scroll(0,a),e.selectItem(this._activeYear-1900)}),17),this._activeYear-1900}_onIronSelectorSelectedChanged(e){"year"===e.detail.value&&(this._isListRendered?this.noAnimation&&this._updateListScroller(this.$$("#listOfYears")):(this._updateList(),this.set("_isListRendered",!0)))}_onListRendered(e){e.target.if&&this.noAnimation&&this.async((function(){this._updateListScroller(this.$$("#listOfYears"))}),1)}_goCalendar(e){if("keydown"!==e.type||13===e.keyCode){var t=e.model.item.year;this.set("_activeYear",t),this.set("_selectedYear",t),this.$$("#listOfYears").selectItem(t-1900),this.set("_activeView","calendar")}}_computeSeparateFormat(e){var t=/^(yyyy|yy|m{1,4}|d{1,2}|do)\W+(yyyy|yy|m{1,4}|d{1,2}|do)\W+(yyyy|yy|m{1,4}|d{1,2}|do)$/g.exec(e),a={},i=[];if(null!==t){i.push(t[1]),i.push(t[2]),i.push(t[3]);for(var o,n=0;n<3;n++)(o=i[n]).indexOf("y")>=0?a.y=o:o.indexOf("m")>=0?a.m=o:o.indexOf("d")>=0&&(a.d=o)}"d"in a&&"m"in a&&"y"in a&&this.set("_format",a),a=null}_bindSelectedFulldate(e,t,a,i){if(this.showLongDate)return this._computeShowLongDate(this.showLongDate,this.locale,!0);var o=e,n=this._monthNames[t],s=a,r=this.format;if("yy"===i.y&&(o=e%100),"mmm"===i.m?n=n.slice(0,3):"mm"===i.m?n=this._padStart(t+1,2,"0"):"m"===i.m&&(n=t+1),"do"===i.d){var l=s%10,d=l>3?"th":["th","st","nd","rd"][l];11!==s&&12!=s&&13!==s||(d="th"),s+=d}else"dd"===i.d&&(s=this._padStart(s,2,"0"));return r=(r=(r=r.replace(i.y,o)).replace(i.m,n)).replace(i.d,s)}_updateBindDate(e){this.debounce("_updateBindDate",(function(){var t=e.type;if("tap"===t&&this.set("_isSelectedDateConfirmed",!0),("transitionend"===t||this.noAnimation)&&this._isSelectedDateConfirmed){var a=this._selectedYear,i=this._selectedMonth,o=this._selectedDate,n=this._format,s=this._bindSelectedFulldate(a,i,o,n);this._setDate(s),this.set("_isSelectedDateConfirmed",!1),this.alwaysResetSelectedDateOnDialogClose&&this.resetDate()}}),1)}_computeShowLongDate(e,t,a){if(window.Intl&&this._selectedDate&&void 0!==this._selectedDate){var i=this._selectedDate,o=new Date(Date.UTC(this._selectedYear,this._selectedMonth,i));if(e){t=t||window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&window.Intl.DateTimeFormat().resolvedOptions().locale||"en-US";var n={timeZone:"UTC",weekday:this.showLongDate?"short":void 0,year:"numeric",month:this.showLongDate?"short":"2-digit",day:"2-digit"};if(o=new window.Intl.DateTimeFormat(t,n).format(o),a)return o;window.navigator.msManipulationViewsEnabled&&(t||""===t)&&(o=decodeURIComponent(encodeURIComponent(o).replace(/\%E2\%80\%8[0-9A-F]/gi,""))),this._setDate(o)}else{if(o=this._bindSelectedFulldate(this._selectedYear,this._selectedMonth,i,this._format),a)return o;this._setDate(o)}}}_updateToReflectExternalChange(e){if(this.showLongDate&&this.locale.indexOf("en")<0)this._setInvalidDate(!0);else{var t=this.showLongDate,a=0,i=0,o=function validateDate(e,t){var a={valid:!1,result:""};if(t){var i=e.split(", ");if(i.length>2){i=i[1].split(" ").join("/")+", "+i[2];var o=new Date(i);return"Invalid Date"===o.toString()?a:{valid:!0,result:o}}return a}var n=/^(\d{4})\W+(\d{1,2})\W+(\d{1,2})$/i.exec(e),s=/^(\d{4})[ ](\w+)[ ](\d{1,2})$/i.exec(e);if(null===n&&null===s)return a;var r=null;return null===n?r=new Date(s[1]+" "+s[2]+" "+s[3]):null===s&&(r=new Date(+n[1],+n[2]-1,+n[3])),{valid:!0,result:r}}(e,t);if(o.valid){if(this.alwaysResetSelectedDateOnDialogClose)return;var n=new Date(o.result);a=n.getFullYear(),i=n.getMonth();this._setInvalidDate(!1),this.set("_activeYear",a),this.set("_activeMonth",i),this.set("_selectedYear",a),this.set("_selectedMonth",i),this.set("_selectedDate",n.getDate())}else this.set("_selectedDate",this._selectedDate||(new Date).getDate()),this._computeShowLongDate(t,this.locale),this._setInvalidDate(!0)}}enforceDateChange(){this._setInvalidDate(!1),this._computeShowLongDate(this.showLongDate,this.locale)}resetDate(){if(!this._isSelectedDateConfirmed){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();this.set("_activeYear",t),this.set("_activeMonth",a),this.set("_selectedYear",t),this.set("_selectedMonth",a),this.set("_selectedDate",i),this._setInvalidDate(!1)}}_shouldTabIndex(e,t,a,i,o){var n=this._isDisableDays(e,t,a,i,o);return o&&o>=0&&!n?0:-1}_shouldAriaDisabled(e,t,a,i,o){var n=this._isDisableDays(e,t,a,i,o);return!(o&&o>=0&&!n)}_padStart(e,t,a){return(a+e).slice(-t)}_isNumber(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)}_updateThemeColor(e){var t=["dark-theme","light-theme","goog-theme"],a=t.indexOf(e),i=(0,m.dom)(this).querySelectorAll("paper-button"),o=i.length,n=["#bcbcbc","#737373","#616161"][a];a>=0?(t.splice(a,1),this.toggleClass(t[0],!1,this),this.toggleClass(t[1],!1,this),this.toggleClass(e,!0,this)):(this.toggleClass("dark-theme",!1,this),this.toggleClass("light-theme",!1,this),this.toggleClass("goog-theme",!1,this));for(var s=0;s<o;s++)this._updateDistributedButtonInkColorCustomProp(i[s],n||"#737373");this.updateStyles()}_updateDatepickerView(e){this.toggleClass("horizontal-view","horizontal"===e,this),this.toggleClass("vertical-view","vertical"===e,this)}_updateDistributedButtonInkColorCustomProp(e,t){e.updateStyles({"--paper-button-ink-color":t})}}window.customElements.define("app-datepicker",AppDatepicker)}));