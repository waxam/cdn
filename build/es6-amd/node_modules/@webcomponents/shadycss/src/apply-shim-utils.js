define(["exports","./template-map.js","./css-parse.js"],function(_exports,_templateMap,_cssParse){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.invalidate=function invalidate(elementName){let template=_templateMap.default[elementName];template&&invalidateTemplate(template)},_exports.invalidateTemplate=invalidateTemplate,_exports.isValid=function isValid(elementName){let template=_templateMap.default[elementName];if(template)return templateIsValid(template);return!0},_exports.templateIsValid=templateIsValid,_exports.isValidating=function isValidating(elementName){let template=_templateMap.default[elementName];if(template)return templateIsValidating(template);return!1},_exports.templateIsValidating=templateIsValidating,_exports.startValidating=function startValidating(elementName){startValidatingTemplate(_templateMap.default[elementName])},_exports.startValidatingTemplate=startValidatingTemplate,_exports.elementsAreInvalid=function elementsAreInvalid(){for(let elementName in _templateMap.default){let template=_templateMap.default[elementName];if(!templateIsValid(template))return!0}return!1},_templateMap=babelHelpers.interopRequireDefault(_templateMap);const CURRENT_VERSION="_applyShimCurrentVersion",NEXT_VERSION="_applyShimNextVersion",VALIDATING_VERSION="_applyShimValidatingVersion",promise=Promise.resolve();function invalidateTemplate(template){template[CURRENT_VERSION]=template[CURRENT_VERSION]||0,template[VALIDATING_VERSION]=template[VALIDATING_VERSION]||0,template[NEXT_VERSION]=(template[NEXT_VERSION]||0)+1}function templateIsValid(template){return template[CURRENT_VERSION]===template[NEXT_VERSION]}function templateIsValidating(template){return!templateIsValid(template)&&template[VALIDATING_VERSION]===template[NEXT_VERSION]}function startValidatingTemplate(template){template[VALIDATING_VERSION]=template[NEXT_VERSION],template._validating||(template._validating=!0,promise.then(function(){template[CURRENT_VERSION]=template[NEXT_VERSION],template._validating=!1}))}});