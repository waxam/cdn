define(["exports","../../../../@webcomponents/shadycss/entrypoints/apply-shim.js","../mixins/element-mixin.js","../mixins/gesture-event-listeners.js","../mixins/dir-mixin.js","../utils/mixin.js","../utils/render-status.js","../utils/unresolved.js","./polymer.dom.js","../utils/gestures.js","../utils/debounce.js","../utils/async.js","../utils/path.js","../utils/wrap.js","../utils/scope-subtree.js"],(function(e,t,s,r,i,n,o,l,u,a,c,d,h,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LegacyElementMixin=void 0;
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
let g=window.ShadyCSS;const m=(0,n.dedupingMixin)(e=>{const t=(0,i.DirMixin)((0,r.GestureEventListeners)((0,s.ElementMixin)(e))),n={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class LegacyElement extends t{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(e,t,s,r){t!==s&&(super.attributeChangedCallback(e,t,s,r),this.attributeChanged(e,t,s))}attributeChanged(e,t,s){}_initializeProperties(){let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),this._applyListeners()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,s){this._propertyToAttribute(e,t,s)}serializeValueToAttribute(e,t,s){this._valueToNodeAttribute(s||this,e,t)}extend(e,t){if(!e||!t)return e||t;let s=Object.getOwnPropertyNames(t);for(let r,i=0;i<s.length&&(r=s[i]);i++){let s=Object.getOwnPropertyDescriptor(t,r);s&&Object.defineProperty(e,r,s)}return e}mixin(e,t){for(let s in t)e[s]=t[s];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,s){s=s||{},t=null==t?{}:t;let r=new Event(e,{bubbles:void 0===s.bubbles||s.bubbles,cancelable:Boolean(s.cancelable),composed:void 0===s.composed||s.composed});r.detail=t;let i=s.node||this;return(0,b.wrap)(i).dispatchEvent(r),r}listen(e,t,s){e=e||this;let r=this.__boundListeners||(this.__boundListeners=new WeakMap),i=r.get(e);i||(i={},r.set(e,i));let n=t+s;i[n]||(i[n]=this._addMethodEventListenerToNode(e,t,s,this))}unlisten(e,t,s){e=e||this;let r=this.__boundListeners&&this.__boundListeners.get(e),i=t+s,n=r&&r[i];n&&(this._removeEventListenerFromNode(e,t,n),r[i]=null)}setScrollDirection(e,t){(0,a.setTouchAction)(t||this,n[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=(0,b.wrap)(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=(0,u.dom)(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return(0,u.dom)(this).getEffectiveChildNodes()}queryDistributedElements(e){return(0,u.dom)(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let s,r=0;s=e[r];r++)s.nodeType!==Node.COMMENT_NODE&&t.push(s.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?(0,u.dom)(t).getDistributedNodes():[]}getContentChildren(e){return this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(e){return this!==e&&(0,b.wrap)(this).contains(e)&&(0,b.wrap)(this).getRootNode()===(0,b.wrap)(e).getRootNode()}isLocalDescendant(e){return this.root===(0,b.wrap)(e).getRootNode()}scopeSubtree(e,t=!1){return(0,p.scopeSubtree)(e,t)}getComputedStyleValue(e){return g.getComputedStyleValue(this,e)}debounce(e,t,s){return this._debouncers=this._debouncers||{},this._debouncers[e]=c.Debouncer.debounce(this._debouncers[e],s>0?d.timeOut.after(s):d.microTask,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?d.timeOut.run(e.bind(this),t):~d.microTask.run(e.bind(this))}cancelAsync(e){e<0?d.microTask.cancel(~e):d.timeOut.cancel(e)}create(e,t){let s=document.createElement(e);if(t)if(s.setProperties)s.setProperties(t);else for(let r in t)s[r]=t[r];return s}elementMatches(e,t){return(0,u.matchesSelector)(t||this,e)}toggleAttribute(e,t){let s=this;return 3===arguments.length&&(s=arguments[2]),1==arguments.length&&(t=!s.hasAttribute(e)),t?((0,b.wrap)(s).setAttribute(e,""),!0):((0,b.wrap)(s).removeAttribute(e),!1)}toggleClass(e,t,s){s=s||this,1==arguments.length&&(t=!s.classList.contains(e)),t?s.classList.add(e):s.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,s,r){r=r||this,this.transform("translate3d("+e+","+t+","+s+")",r)}arrayDelete(e,t){let s;if(Array.isArray(e)){if(s=e.indexOf(t),s>=0)return e.splice(s,1)}else{if(s=(0,h.get)(this,e).indexOf(t),s>=0)return this.splice(e,s,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(...e){this._logger("log",e)}_warn(...e){this._logger("warn",e)}_error(...e){this._logger("error",e)}_logf(e,...t){return["[%s::%s]",this.is,e,...t]}}return LegacyElement.prototype.is="",LegacyElement});e.LegacyElementMixin=m}));