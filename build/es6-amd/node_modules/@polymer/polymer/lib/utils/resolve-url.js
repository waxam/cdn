define(["exports","./boot.js"],function(_exports,_boot){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.resolveUrl=resolveUrl,_exports.resolveCss=function resolveCss(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolveUrl(url.replace(/["']/g,""),baseURI)+"'"+post})},_exports.pathFromUrl=function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)};let workingURL,resolveDoc,CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url))return url;if("//"===url)return url;if(void 0===workingURL){workingURL=!1;try{const u=new URL("b","http://a");u.pathname="c%20d",workingURL="http://a/c%20d"===u.href}catch(e){}}if(baseURI||(baseURI=document.baseURI||window.location.href),workingURL)try{return new URL(url,baseURI).href}catch(e){return url}return resolveDoc||((resolveDoc=document.implementation.createHTMLDocument("temp")).base=resolveDoc.createElement("base"),resolveDoc.head.appendChild(resolveDoc.base),resolveDoc.anchor=resolveDoc.createElement("a"),resolveDoc.body.appendChild(resolveDoc.anchor)),resolveDoc.base.href=baseURI,resolveDoc.anchor.href=url,resolveDoc.anchor.href||url}});