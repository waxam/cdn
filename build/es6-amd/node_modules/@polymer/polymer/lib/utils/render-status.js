define(["exports","./boot.js"],function(_exports,_boot){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.flush=function flush(){for(;beforeRenderQueue.length||afterRenderQueue.length;)flushQueue(beforeRenderQueue),flushQueue(afterRenderQueue);scheduled=!1},_exports.beforeNextRender=function beforeNextRender(context,callback,args){scheduled||schedule();beforeRenderQueue.push([context,callback,args])},_exports.afterNextRender=function afterNextRender(context,callback,args){scheduled||schedule();afterRenderQueue.push([context,callback,args])};let scheduled=!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0,requestAnimationFrame(function(){scheduled=!1,flushQueue(beforeRenderQueue),setTimeout(function(){!function runQueue(queue){for(let i=0,l=queue.length;i<l;i++)callMethod(queue.shift())}(afterRenderQueue)})})}function flushQueue(queue){for(;queue.length;)callMethod(queue.shift())}function callMethod(info){const context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(()=>{throw e})}}});