define(["exports","./boot.js","./wrap.js"],(function(e,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scopeSubtree=function scopeSubtree(e,o=!1){if(!n||!r)return null;if(!n.handlesDynamicScoping)return null;const s=r.ScopingShim;if(!s)return null;const c=s.scopeForNode(e),d=(0,t.wrap)(e).getRootNode(),scopify=e=>{if(!sameScope(e,d))return;const o=Array.from(n.nativeMethods.querySelectorAll.call(e,"*"));o.push(e);for(let t=0;t<o.length;t++){const e=o[t];if(!sameScope(e,d))continue;const n=s.currentScopeForNode(e);n!==c&&(""!==n&&s.unscopeNode(e,n),s.scopeNode(e,c))}};if(scopify(e),o){const o=new MutationObserver(e=>{for(let o=0;o<e.length;o++){const t=e[o];for(let e=0;e<t.addedNodes.length;e++){const o=t.addedNodes[e];o.nodeType===Node.ELEMENT_NODE&&scopify(o)}}});return o.observe(e,{childList:!0,subtree:!0}),o}return null};
/**
  @license
  Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
const n=window.ShadyDOM,r=window.ShadyCSS;function sameScope(e,o){return(0,t.wrap)(e).getRootNode()===o}}));