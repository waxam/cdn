define(["exports","./property-accessors.js","../utils/mixin.js"],(function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirMixin=void 0;
/**
   * @fileoverview
   * @suppress {checkPrototypalTypes}
   * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
   * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
   * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
   * Google as part of the polymer project is also subject to an additional IP
   * rights grant found at http://polymer.github.io/PATENTS.txt
   */
const r=/:host\(:dir\((ltr|rtl)\)\)/g,s=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,c=/:dir\((?:ltr|rtl)\)/,n=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),o=[];let a=null,d="";function getRTL(){d=document.documentElement.getAttribute("dir")}function setRTL(t){if(!t.__autoDirOptOut){t.setAttribute("dir",d)}}function updateDirection(){getRTL(),d=document.documentElement.getAttribute("dir");for(let t=0;t<o.length;t++)setRTL(o[t])}const u=(0,i.dedupingMixin)(t=>{n||a||(getRTL(),a=new MutationObserver(updateDirection),a.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const i=(0,e.PropertyAccessors)(t);class Dir extends i{static _processStyleText(t,e){return t=i._processStyleText.call(this,t,e),!n&&c.test(t)&&(t=this._replaceDirInCssText(t),this.__activateDir=!0),t}static _replaceDirInCssText(t){let e=t;return e=e.replace(r,':host([dir="$1"])'),e=e.replace(s,':host([dir="$2"]) $1'),e}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){i.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(!function takeRecords(){a&&a.takeRecords().length&&updateDirection()}(),o.push(this),setRTL(this))}disconnectedCallback(){if(i.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const t=o.indexOf(this);t>-1&&o.splice(t,1)}}}return Dir.__activateDir=!1,Dir});t.DirMixin=u}));