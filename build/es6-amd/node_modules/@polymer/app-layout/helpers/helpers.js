define(["exports","../../polymer/polymer-legacy.js"],(function(e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementWithBackground=e.scroll=e.queryAllRoot=e.registerEffect=e.scrollTimingFunction=e._scrollTimer=e._scrollEffects=void 0;
/**
  @license
  Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at
  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
  part of the polymer project is also subject to an additional IP rights grant
  found at http://polymer.github.io/PATENTS.txt
  */
const r={};e._scrollEffects=r;let t=null;e._scrollTimer=t;const l=function easeOutQuad(e,o,r,t){return-r*(e/=t)*(e-2)+o};e.scrollTimingFunction=l;e.registerEffect=function registerEffect(e,o){if(null!=r[e])throw new Error("effect `"+e+"` is already registered.");r[e]=o};const queryAllRoot=function(e,o){for(var r=[o],t=[];r.length>0;){var l=r.shift();t.push.apply(t,l.querySelectorAll(e));for(var n=0;l.children[n];n++)l.children[n].shadowRoot&&r.push(l.children[n].shadowRoot)}return t};e.queryAllRoot=queryAllRoot;e.scroll=function scroll(o){o=o||{};var r=document.documentElement,n=o.target||r,i="scrollBehavior"in n.style&&n.scroll,c=o.top||0,s=o.left||0,a=n===r?window.scrollTo:function scrollTo(e,o){n.scrollLeft=e,n.scrollTop=o};if("smooth"===o.behavior)if(i)n.scroll(o);else{var f=l,u=Date.now(),d=n===r?window.pageYOffset:n.scrollTop,m=n===r?window.pageXOffset:n.scrollLeft,h=c-d,p=s-m;(function updateFrame(){var e=Date.now()-u;e<300?(a(f(e,m,p,300),f(e,d,h,300)),requestAnimationFrame(updateFrame)):a(s,c)}).bind(this)()}else if("silent"===o.behavior){var w=queryAllRoot("app-header",document.body);w.forEach((function(e){e.setAttribute("silent-scroll","")})),t&&window.cancelAnimationFrame(t),e._scrollTimer=t=window.requestAnimationFrame((function(){w.forEach((function(e){e.removeAttribute("silent-scroll")})),e._scrollTimer=t=null})),a(s,c)}else a(s,c)};e.ElementWithBackground=class ElementWithBackground{isContentBelow(){}isOnScreen(){}_getDOMRef(e){}}}));