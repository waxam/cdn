define(["exports","../polymer/polymer-legacy.js","../polymer/lib/legacy/polymer.dom.js"],(function(e,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.elementIsScrollLocked=function elementIsScrollLocked(e){var l,o=n;if(void 0===o)return!1;if(_hasCachedLockedElement(e))return!0;if(_hasCachedUnlockedElement(e))return!1;(l=!!o&&o!==e&&!_composedTreeContains(o,e))?s.push(e):u.push(e);return l},e.pushScrollLock=function pushScrollLock(l){if(i.indexOf(l)>=0)return;0===i.length&&_lockScrollInteractions();i.push(l),e.currentLockingElement=n=i[i.length-1],e._lockedElementCache=s=[],e._unlockedElementCache=u=[]},e.removeScrollLock=function removeScrollLock(l){var o=i.indexOf(l);if(-1===o)return;i.splice(o,1),e.currentLockingElement=n=i[i.length-1],e._lockedElementCache=s=[],e._unlockedElementCache=u=[],0===i.length&&_unlockScrollInteractions()},e._hasCachedLockedElement=_hasCachedLockedElement,e._hasCachedUnlockedElement=_hasCachedUnlockedElement,e._composedTreeContains=_composedTreeContains,e._scrollInteractionHandler=_scrollInteractionHandler,e._lockScrollInteractions=_lockScrollInteractions,e._unlockScrollInteractions=_unlockScrollInteractions,e._shouldPreventScrolling=_shouldPreventScrolling,e._getScrollableNodes=_getScrollableNodes,e._getScrollingNode=_getScrollingNode,e._getScrollInfo=_getScrollInfo,e._boundScrollHandler=e._unlockedElementCache=e._lockedElementCache=e._lockingElements=e.currentLockingElement=void 0;
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at
  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
  part of the polymer project is also subject to an additional IP rights grant
  found at http://polymer.github.io/PATENTS.txt
  */
var t,n,r={pageX:0,pageY:0},c=null,a=[],d=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];e._boundScrollHandler=t,e.currentLockingElement=n;const i=[];e._lockingElements=i;let s=null;e._lockedElementCache=s;let u=null;function _hasCachedLockedElement(e){return s.indexOf(e)>-1}function _hasCachedUnlockedElement(e){return u.indexOf(e)>-1}function _composedTreeContains(e,l){var t,n,r,c;if(e.contains(l))return!0;for(t=(0,o.dom)(e).querySelectorAll("content,slot"),r=0;r<t.length;++r)for(n=(0,o.dom)(t[r]).getDistributedNodes(),c=0;c<n.length;++c)if(n[c].nodeType===Node.ELEMENT_NODE&&_composedTreeContains(n[c],l))return!0;return!1}function _scrollInteractionHandler(e){if(e.cancelable&&_shouldPreventScrolling(e)&&e.preventDefault(),e.targetTouches){var l=e.targetTouches[0];r.pageX=l.pageX,r.pageY=l.pageY}}function _lockScrollInteractions(){e._boundScrollHandler=t=t||_scrollInteractionHandler.bind(void 0);for(var l=0,o=d.length;l<o;l++)document.addEventListener(d[l],t,{capture:!0,passive:!1})}function _unlockScrollInteractions(){for(var e=0,l=d.length;e<l;e++)document.removeEventListener(d[e],t,{capture:!0,passive:!1})}function _shouldPreventScrolling(e){var l=(0,o.dom)(e).rootTarget;if("touchmove"!==e.type&&c!==l&&(c=l,a=_getScrollableNodes((0,o.dom)(e).path)),!a.length)return!0;if("touchstart"===e.type)return!1;var t=_getScrollInfo(e);return!_getScrollingNode(a,t.deltaX,t.deltaY)}function _getScrollableNodes(e){for(var l=[],o=e.indexOf(n),t=0;t<=o;t++)if(e[t].nodeType===Node.ELEMENT_NODE){var r=e[t],c=r.style;"scroll"!==c.overflow&&"auto"!==c.overflow&&(c=window.getComputedStyle(r)),"scroll"!==c.overflow&&"auto"!==c.overflow||l.push(r)}return l}function _getScrollingNode(e,l,o){if(l||o)for(var t=Math.abs(o)>=Math.abs(l),n=0;n<e.length;n++){var r=e[n];if(t?o<0?r.scrollTop>0:r.scrollTop<r.scrollHeight-r.clientHeight:l<0?r.scrollLeft>0:r.scrollLeft<r.scrollWidth-r.clientWidth)return r}}function _getScrollInfo(e){var l={deltaX:e.deltaX,deltaY:e.deltaY};if("deltaX"in e);else if("wheelDeltaX"in e&&"wheelDeltaY"in e)l.deltaX=-e.wheelDeltaX,l.deltaY=-e.wheelDeltaY;else if("wheelDelta"in e)l.deltaX=0,l.deltaY=-e.wheelDelta;else if("axis"in e)l.deltaX=1===e.axis?e.detail:0,l.deltaY=2===e.axis?e.detail:0;else if(e.targetTouches){var o=e.targetTouches[0];l.deltaX=r.pageX-o.pageX,l.deltaY=r.pageY-o.pageY}return l}e._unlockedElementCache=u}));