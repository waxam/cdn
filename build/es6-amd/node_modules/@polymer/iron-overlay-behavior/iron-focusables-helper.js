define(["exports","../polymer/polymer-legacy.js","../polymer/lib/legacy/polymer.dom.js"],(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IronFocusablesHelper=void 0;
/**
  @license
  Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at
  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
  part of the polymer project is also subject to an additional IP rights grant
  found at http://polymer.github.io/PATENTS.txt
  */
var a=Element.prototype,s=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;const l=new class IronFocusablesHelperClass{getTabbableNodes(e){var t=[];return this._collectTabbableNodes(e,t)?this._sortByTabIndex(t):t}isFocusable(e){return s.call(e,"input, select, textarea, button, object")?s.call(e,":not([disabled])"):s.call(e,"a[href], area[href], iframe, [tabindex], [contentEditable]")}isTabbable(e){return this.isFocusable(e)&&s.call(e,':not([tabindex="-1"])')&&this._isVisible(e)}_normalizedTabIndex(e){if(this.isFocusable(e)){var t=e.getAttribute("tabindex")||0;return Number(t)}return-1}_collectTabbableNodes(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var a=e;if(!this._isVisible(a))return!1;var s,l=this._normalizedTabIndex(a),o=l>0;l>=0&&t.push(a),s="content"===a.localName||"slot"===a.localName?(0,r.dom)(a).getDistributedNodes():(0,r.dom)(a.root||a).children;for(var i=0;i<s.length;i++)o=this._collectTabbableNodes(s[i],t)||o;return o}_isVisible(e){var t=e.style;return"hidden"!==t.visibility&&"none"!==t.display&&("hidden"!==(t=window.getComputedStyle(e)).visibility&&"none"!==t.display)}_sortByTabIndex(e){var t=e.length;if(t<2)return e;var r=Math.ceil(t/2),a=this._sortByTabIndex(e.slice(0,r)),s=this._sortByTabIndex(e.slice(r));return this._mergeSortByTabIndex(a,s)}_mergeSortByTabIndex(e,t){for(var r=[];e.length>0&&t.length>0;)this._hasLowerTabOrder(e[0],t[0])?r.push(t.shift()):r.push(e.shift());return r.concat(e,t)}_hasLowerTabOrder(e,t){var r=Math.max(e.tabIndex,0),a=Math.max(t.tabIndex,0);return 0===r||0===a?a>r:r>a}};e.IronFocusablesHelper=l}));