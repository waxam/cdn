define(["exports","../../@polymer/polymer/polymer-element.js","../../@polymer/polymer/lib/utils/render-status.js","../../@polymer/polymer/lib/legacy/polymer.dom.js","../../@polymer/polymer/lib/legacy/templatizer-behavior.js","../../@polymer/polymer/lib/legacy/mutable-data-behavior.js","../../@polymer/polymer/lib/legacy/class.js"],(function(_exports,_polymerElement,_renderStatus,_polymerDom,_templatizerBehavior,_mutableDataBehavior,_class){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.GrafittoFilter=void 0;
/**
  @license
  Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
class GrafittoFilter extends((0,_class.mixinBehaviors)([_templatizerBehavior.Templatizer,_mutableDataBehavior.OptionalMutableDataBehavior],_polymerElement.PolymerElement)){static get template(){return _polymerElement.html`
      <div id="dom"><slot></slot></div>
    `}static get tag(){return"grafitto-filter"}static get properties(){return{...super.properties,items:{type:Array,value:[]},like:{type:String,value:""},where:{type:String,value:"name"},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:"items"},filtered:{type:Array,computed:"_computeFiltered(items, where, like, caseSensitive)",observer:"_onFilter",notify:!0},f:{type:Function,notify:!0}}}static get observers(){return["_populateUserTemplate(filtered)"]}filter(){this.where=""}_computeFiltered(items,where,like,caseSensitive){var regex=null;regex=caseSensitive?new RegExp(like):new RegExp(like,"i");var filtered=[];if(this.f){var customFunction=this.f.bind(this);filtered=items.filter(customFunction)}else{var decompose=this._decomposeWhere.bind(this);filtered=items.filter((function(item){if("object"==typeof item){var decomposed=decompose(where,item);return void 0===decomposed&&""!=where&&console.warn("grafitto-filter was unable to find a property in '"+where+"'"),regex.test(decomposed)}return"string"==typeof item?regex.test(item):"number"==typeof item?regex.test(item.toString()):void 0}))}return filtered}_populateUserTemplate(filtered){this.ctor?this.__clone[this.as]=filtered:(this._userTemplate=this.querySelector("template"),this._userTemplate||console.warn("grafitto-filter requires a template to be provided in light-dom"),this.templatize(this._userTemplate),this.__clone=this.stamp(null),this.__clone[this.as]=filtered,this.appendChild(this.__clone.root))}_decomposeWhere(where,item){return where.split(".").reduce((function(a,b){return a&&a[b]}),item)}_onFilter(){this.dispatchEvent(new CustomEvent("filter",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}}_exports.GrafittoFilter=GrafittoFilter,window.customElements.define(GrafittoFilter.tag,GrafittoFilter)}));