define(["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToElement=void 0;
/**
   * Copyright 2019 The Pennsylvania State University
   * @license Apache-2.0, see License.md for full text.
   */
class ToElement extends HTMLElement{get html(){return"\n<style>\n\n        </style>\n<slot></slot>"}static get properties(){return{...super.properties,element:{name:"element",type:Object,value:{}},name:{name:"name",type:String,value:"new-element"},sourceUrl:{name:"sourceUrl",type:String,value:""},fileTypes:{type:Object,value:()=>({CSV:"text/csv",JSON:"text/json",PDF:"application/pdf",TXT:"text/plain"})}}}static get tag(){return"to-element"}constructor(e=!1){super(),this.tag=ToElement.tag;let t=ToElement.properties;for(let n in t)t.hasOwnProperty(n)&&(this.hasAttribute(n)?this[n]=this.getAttribute(n):(this.setAttribute(n,t[n].value),this[n]=t[n].value));this._queue=[],this.template=document.createElement("template"),this.attachShadow({mode:"open"}),e||this.render()}connectedCallback(){window.ShadyCSS&&window.ShadyCSS.styleElement(this),this._queue.length&&this._processQueue()}_copyAttribute(e,t){const n=this.shadowRoot.querySelectorAll(t),o=this.getAttribute(e),r=null==o?"removeAttribute":"setAttribute";for(const s of n)s[r](e,o)}_queueAction(e){this._queue.push(e)}_processQueue(){this._queue.forEach(e=>{this[`_${e.type}`](e.data)}),this._queue=[]}_setProperty({name:e,value:t}){this[e]=t}render(){this.shadowRoot.innerHTML=null,this.template.innerHTML=this.html,window.ShadyCSS&&window.ShadyCSS.prepareTemplate(this.template,this.tag),this.shadowRoot.appendChild(this.template.content.cloneNode(!0))}createNewElement(){this._tmp=this.element;let e=this.extractCSS(this._tmp).stylesheet;return{html:this._tmp.outerHTML,css:e}}generateUUID(){return"item-sss-ss-ss".replace(/s/g,this._uuidPart)}_uuidPart(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}getDefaultStyling(e,t=null){let n=e.tagName;var o=document.createElement("iframe");this.shadowRoot.appendChild(o);var r=o.contentDocument,s=r.createElement(n);r.body.appendChild(s);for(var i=o.contentWindow.getComputedStyle(s),a={},l=0,h=i.length;l<h;l++){var m=i[l];a[l]=m,a[m]=i[m]}return this.shadowRoot.removeChild(o),a}getStylesWithoutDefaults(e,t=null){for(var n=window.getComputedStyle(e,t),o=this.getDefaultStyling(e.tagName),r={},s=0,i=n.length;s<i;s++){var a=n[s],l=n[a];l!=o[a]&&"transform-origin"!==a&&"perspective-origin"!==a&&(r[a]=l)}return r}flatten(e){return e.reduce((e,t)=>e.concat(Array.isArray(t)?this.flatten(t):t),[])}recursiveExtract(e){const t=this.generateUUID(),n=this.getStylesWithoutDefaults(e);e.setAttribute("id",t);let o="";for(var r in n)o+=`      ${r}: ${n[r]};\n`;var s=Array.prototype.slice.call(e.children);return[{id:t,style:o}].concat(s.map(this.recursiveExtract.bind(this)))}extractCSS(e){if(!e)return{elements:[],stylesheet:""};var t=this.recursiveExtract(e),n=this.flatten(t);return{elements:n,stylesheet:n.reduce((function(e,t){return e+("    #"+t.id+" {\n"+t.style+"    }\n")}),"")}}dashToCamel(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}contentToFile(e){return`\n/**\n * Copyright 2019 {Your compay}\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, PolymerElement } from "@polymer/polymer/polymer-element.js";\n/**\n * \`${this.name}\`\n * \`An auto generated element via to-element\`\n *\n * @microcopy - language worth noting:\n *  - This element was made by someone else and then forked from their site\n *  - The point is not perfection but to rapidly generate boilerplate\n *\n * @originalSite - This code is based on work originally found on\n *   - ${this.sourceUrl}\n\n * @polymer\n */\nclass ${this.dashToCamel(this.name)} extends PolymerElement {\n  \n  // render function\n  static get template() {\n    return html\`\n    ${e}\n    \`;\n  }\n\n  // properties available to the custom element for data binding\n  static get properties() {\n    return {\n      "title": {\n        "name": "title",\n        "type": String,\n        "value": "",\n      }\n    };\n  }\n\n  /**\n   * Store the tag name to make it easier to obtain directly.\n   */\n  static get tag() {\n    return "${this.name}";\n  }\n  /**\n   * life cycle, element is afixed to the DOM\n   */\n  //connectedCallback() { super.connectedCallback(); }\n  /**\n   * life cycle, element is removed from the DOM\n   */\n  //disconnectedCallback() {super.disconnectedCallback();}\n}\nwindow.customElements.define(${this.dashToCamel(this.name)}.tag, ${this.dashToCamel(this.name)});\nexport { ${this.dashToCamel(this.name)} };\n    `}downloadNewComponent(e,t){e&&(this.element=e),t&&(this.name=t);let n=this.createNewElement(),o=`<style>\n${n.css}</style>\n    ${n.html}`,r=this.contentToFile(o);this.downloadFromData(r,"js",this.name)}downloadFromData(e,t,n="download",o=!0){const r=this.fileTypes[t.toUpperCase()],s=new Blob([decodeURIComponent(encodeURI(e))],{type:r}),i=n+"."+t.toLowerCase();if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,i);else{const e=document.createElement("a");e.href=(window.URL||window.webkitURL).createObjectURL(s),e.download=i,e.target=o?"_blank":"_self",this.shadowRoot.appendChild(e),e.click(),this.shadowRoot.removeChild(e)}}downloadFromURI(e,t=!0){return window.open(e,t?"_blank":"_self"),!0}}e.ToElement=ToElement,window.customElements.define(ToElement.tag,ToElement)}));