define(["exports","../../../@polymer/polymer/polymer-element.js","../../simple-colors/lib/simple-colors-polymer.js","../../responsive-utility/responsive-utility.js"],(function(_exports,_polymerElement,_simpleColorsPolymer,_responsiveUtility){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.A11yMediaBehaviors=void 0;
/**
   * Copyright 2018 The Pennsylvania State University
   * @license Apache-2.0, see License.md for full text.
   */
class A11yMediaBehaviors extends _simpleColorsPolymer.SimpleColorsPolymer{static get tag(){return"a11y-media-behaviors"}static get properties(){return Object.assign(_simpleColorsPolymer.SimpleColorsPolymer.properties,{audioOnly:{name:"audioOnly",type:Boolean,value:!1,reflectToAttribute:!0},autoplay:{name:"autoplay",type:Boolean,value:!1},cc:{name:"cc",type:Boolean,value:!1},disablePrintButton:{name:"disablePrintButton",type:Boolean,value:!1},disableSearch:{name:"disableSearch",type:Boolean,value:!1},disableScroll:{name:"disableScroll",type:Boolean,value:!1},disableSeek:{name:"disableSeek",type:Boolean,value:!1},hasTranscript:{name:"hasTranscript",type:Boolean,value:!1},height:{name:"height",type:String,value:null},isYoutube:{name:"isYoutube",type:Boolean,computed:"_hasAttribute(youtubeId)"},lang:{name:"lang",type:String,value:"en"},linkable:{name:"linkable",type:Boolean,value:!1},localization:{name:"localization",type:Object,value:{}},localizationDefaults:{name:"localizationDefaults",type:Object,value:{audio:{label:"Audio"},autoScroll:{label:"Scroll transcript with video.",icon:"swap-vert"},captions:{label:"Closed Captions",icon:"av:closed-caption",off:"Off"},download:{label:"Download the transcript.",icon:"file-download"},forward:{label:"Forward",icon:"av:fast-forward"},fullscreen:{label:"Fullscreen",icon:"fullscreen"},copyLink:{label:"Copy Media Link",icon:"link"},closeLink:{label:"Close",icon:"close"},loading:{label:"Loading..."},loop:{label:"Loop Playback"},mute:{label:"Mute",icon:"av:volume-up"},nextResult:{label:"Next",icon:"arrow-forward"},pause:{label:"Pause",icon:"av:pause"},play:{label:"Play",icon:"av:play-arrow"},prevResult:{label:"Previous",icon:"arrow-back"},print:{label:"Print the transcript.",icon:"print"},restart:{label:"Restart",icon:"av:replay"},rewind:{label:"Backward",icon:"av:fast-rewind"},search:{label:"Search the transcript.",icon:"search"},seekSlider:{label:"Seek Slider"},settings:{label:"Settings",icon:"settings"},speed:{label:"Speed %"},transcript:{label:"Transcript",icon:"description",loading:"Loading the transcript(s)...",skip:"Skip to the transcript."},unmute:{label:"Unmute",icon:"av:volume-off"},video:{label:"Video"},volume:{label:"Volume"},youTubeLoading:{label:"Ready."},youTubeTranscript:{label:"Transcript will load once media plays."}},readOnly:!0},loop:{name:"loop",type:Boolean,value:!1},manifest:{name:"manifest",type:String,value:null},media:{name:"media",type:Object,value:null},mediaTitle:{name:"mediaTitle",type:String,value:""},muted:{name:"muted",type:Boolean,value:!1},playbackRate:{name:"playbackRate",type:Number,value:1},playing:{name:"playing",type:Boolean,value:!1},playPause:{name:"playPause",type:Object},preload:{name:"preload",type:String,value:"metadata"},search:{name:"search",type:Object,value:null},selectedTrack:{name:"selectedTrack",type:Object,value:null},selectedTrackID:{name:"selectedTrackID",type:Number,value:null},standAlone:{name:"standAlone",type:Boolean,value:!1,reflectToAttribute:!0},status:{name:"status",type:String,value:"loading..."},target:{name:"target",type:Object,value:null},tracks:{name:"tracks",type:Array,value:null},volume:{name:"volume",type:Number,value:70},width:{name:"width",type:String,value:null},youtubeId:{name:"youtubeId",type:String,value:null},youTube:{name:"youTube",type:Object,value:{}}})}static get behaviors(){return[ResponsiveUtility]}_getShareLink(__elapsed){let url=window.location.href.split(/[#?]/)[0],id=this.id?`?id=${this.id}`:"";return`${url}${id}${""!==id&&this.__elapsed&&0!==this.__elapsed?`&t=${this.__elapsed}`:""}`}_hasAttribute(attr){return null!=attr}_testAttribute(attr,val){return attr===val}_addResponsiveUtility(options){window.ResponsiveUtility.requestAvailability(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:void 0!==options?options:{element:this,attribute:"responsive-size",relativeToParent:!0}}))}_getHHMMSS(val,max){max=void 0===max?val:max;let a=val=>val<10?"0"+val:val,b=(val,i,none)=>max>=i?a(Math.floor(val/i))+":":none;return b(val,3600,"")+b(val%3600,60,"00:")+a(Math.round(val%60))}_getSeconds(time=0){let units=time.replace(/[hm]{1,2}&?/g,":0").replace(/[s]{1,2}$/g,"").split(/:/);return 3600*(units.length>2?parseInt(units[units.length-3]):0)+60*(units.length>1?parseInt(units[units.length-2]):0)+(units.length>0?parseFloat(units[units.length-1]):0)}_getLocal(key,subkey){let local="",localization=this.localization;return void 0!==localization&&void 0!==localization[key]&&void 0!==localization[key][subkey]?local=localization[key][subkey]:void 0!==this.localizationDefaults&&void 0!==this.localizationDefaults[key]&&void 0!==this.localizationDefaults[key][subkey]&&(local=this.localizationDefaults[key][subkey]),local}_handlePrintClick(e){this.dispatchEvent(new CustomEvent("print-transcript",{detail:this}))}_handleDownloadClick(e){this.dispatchEvent(new CustomEvent("download-transcript",{detail:this}))}_handleDownload(e){this.dispatchEvent(new CustomEvent("downloading-transcript",{detail:this})),this.shadowRoot.querySelector("#transcript").download(this.mediaTitle)}_handlePrinting(e){this.dispatchEvent(new CustomEvent("printing-transcript",{detail:this})),this.shadowRoot.querySelector("#transcript").print(this.mediaTitle)}}_exports.A11yMediaBehaviors=A11yMediaBehaviors,window.customElements.define(A11yMediaBehaviors.tag,A11yMediaBehaviors)}));