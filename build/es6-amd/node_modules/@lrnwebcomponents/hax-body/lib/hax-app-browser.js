define(["exports","require","../../../lit-element/lit-element.js","../../grafitto-filter/grafitto-filter.js","../../utils/utils.js","./hax-tray-button.js","../../../@polymer/paper-input/paper-input.js"],(function(e,t,i,r,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HaxAppBrowser=void 0,t=babelHelpers.interopRequireWildcard(t);class HaxAppBrowser extends((0,a.winEventsElement)(i.LitElement)){static get styles(){return[i.css`
        :host {
          display: block;
        }
        :host *[hidden] {
          display: none;
        }
        grafitto-filter {
          color: black;
        }
        .toolbar-inner {
          display: block;
          padding: 0;
          width: 100%;
        }
        .item-wrapper {
          text-align: center;
        }
      `]}constructor(){super(),this.__winEvents={"hax-store-property-updated":"_haxStorePropertyUpdated","hax-search-source-updated":"_searchSelected"},this.searching=!1,this.activeApp=null,this.appList=[],this.filtered=[],this.hasActive=!1,new Promise((e,i)=>t.default(["./hax-app-search.js"],e,i))}render(){return i.html`
      <custom-style>
        <style>
          paper-input {
            --paper-input-container-label: {
              font-size: 11px;
            }
            --paper-input-container: {
              padding: 2px;
            }
          }
        </style>
      </custom-style>
      <div class="toolbar-inner">
        <paper-input
          label="Filter"
          id="inputfilter"
          @value-changed="${this.inputfilterChanged}"
          aria-controls="filter"
          value=""
        ></paper-input>
      </div>
      <grafitto-filter
        id="filter"
        .items="${this.appList}"
        like=""
        @filtered-changed="${this.filteredChanged}"
        where="details.title"
        ><template></template
      ></grafitto-filter>
      <div class="item-wrapper">
        ${this.filtered.map(e=>i.html`
            <hax-tray-button
              index="${e.index}"
              label="${e.details.title}"
              icon="${e.details.icon}"
              color="${e.details.color}"
              event-name="search-selected"
              event-data="${e.index}"
            ></hax-tray-button>
          `)}
      </div>
      <hax-app-search
        id="haxappsearch"
        .hidden="${!this.searching}"
      ></hax-app-search>
      <slot></slot>
    `}static get tag(){return"hax-app-browser"}static get properties(){return{search:{type:String},searching:{type:Boolean,reflect:!0},activeApp:{type:Object},hasActive:{reflect:!0,type:Boolean,attribute:"has-active"},filtered:{type:Array},appList:{type:Array}}}filteredChanged(e){this.filtered=[...e.detail.value]}inputfilterChanged(e){this.shadowRoot.querySelector("#filter").like=e.target.value}firstUpdated(e){this.resetBrowser()}updated(e){e.forEach((e,t)=>{"activeApp"==t&&this._activeAppChanged(this[t],e)})}_searchSelected(e){void 0!==e.detail&&(this.__activeApp=e.detail,this.searching=!0,window.HaxStore.write("activeApp",this.appList[e.detail],this))}_activeAppChanged(e,t){this.hasActive=void 0!==t&&null!=e}_haxStorePropertyUpdated(e){e.detail&&void 0!==e.detail.value&&e.detail.property&&(this[e.detail.property]=e.detail.value)}resetBrowser(){this.searching=!1,this.appList=[...window.HaxStore.instance.appList],this.filtered=this.appList,this.shadowRoot.querySelector("#inputfilter").value="",this.shadowRoot.querySelector("#filter").value="",this.shadowRoot.querySelector("#filter").filter(),this.shadowRoot.querySelector("#filter").where="details.title",this.shadowRoot.querySelector("#filter").like=""}}e.HaxAppBrowser=HaxAppBrowser,window.customElements.define(HaxAppBrowser.tag,HaxAppBrowser)}));