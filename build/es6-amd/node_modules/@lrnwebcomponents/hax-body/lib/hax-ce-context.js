define(["exports","require","../../../lit-element/lit-element.js","../../simple-colors/lib/simple-colors-picker.js"],(function(_exports,_require,_litElement,_simpleColorsPicker){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.HaxCeContext=void 0,_require=babelHelpers.interopRequireWildcard(_require);class HaxCeContext extends _litElement.LitElement{static get styles(){return[_litElement.css`
        :host *[hidden] {
          display: none;
        }
        :host {
          display: block;
          height: 36px;
        }
        hax-context-item {
          margin: 0;
          height: 36px;
        }
        :host(.hax-context-pin-top) hax-toolbar {
          position: fixed;
          top: 64px;
          opacity: 0.9;
        }
        :host(.hax-context-pin-bottom) hax-toolbar {
          position: fixed;
          bottom: 0;
          opacity: 0.9;
        }
        :host(.hax-context-pin-top) hax-toolbar:hover,
        :host(.hax-context-pin-bottom) hax-toolbar:hover {
          opacity: 1;
        }
      `]}constructor(){super(),this.ceSize=100,this.haxProperties={},new Promise((res,rej)=>_require.default(["./hax-context-item.js"],res,rej)),new Promise((res,rej)=>_require.default(["./hax-toolbar.js"],res,rej))}render(){return _litElement.html`
      <hax-toolbar
        id="toolbar"
        size="${this.ceSize}"
        @size-changed="${this.ceSizeChanged}"
      >
        <slot slot="primary"></slot>
        <hax-context-item
          slot="primary"
          icon="icons:settings"
          label="Settings"
          event-name="hax-manager-configure"
          .hidden="${!this.__hasSettingsForm}"
        ></hax-context-item>
        <hax-context-item
          slot="primary"
          icon="icons:view-quilt"
          label="${this.__parentName}"
          event-name="hax-manager-configure-container"
          .hidden="${!this.__hasParentSettingsForm}"
        ></hax-context-item>
      </hax-toolbar>
    `}static get tag(){return"hax-ce-context"}static get properties(){return{ceSize:{type:Number,attribute:"ce-size"},haxProperties:{type:Object,attribute:"hax-properties"},__hasSettingsForm:{type:Boolean},__hasParentSettingsForm:{type:Boolean},__parentName:{type:String}}}updated(changedProperties){changedProperties.forEach((oldValue,propName)=>{"haxProperties"==propName&&(this.shadowRoot.querySelector("#toolbar").haxProperties=this[propName],this._haxPropertiesChanged(this[propName],oldValue)),"ceSize"==propName&&this._ceSizeChanged(this[propName],oldValue)})}ceSizeChanged(e){this.ceSize=e.detail}setHaxProperties(props){this.haxProperties=props}_ceSizeChanged(newValue,oldValue){void 0!==newValue&&void 0!==oldValue&&this.dispatchEvent(new CustomEvent("hax-context-item-selected",{bubbles:!0,cancelable:!0,composed:!0,detail:{eventName:"hax-size-change",value:newValue}}))}_haxPropertiesChanged(newValue,oldValue){if(void 0!==oldValue&&void 0!==newValue.settings){for(;null!==this.firstChild;)this.removeChild(this.firstChild);let settings=newValue.settings.quick,configure=newValue.settings.configure,advanced=newValue.settings.advanced;if((configure.length||advanced.length)&&"HR"!==newValue.element.tagName?this.__hasSettingsForm=!0:this.__hasSettingsForm=!1,this.__hasParentSettingsForm=!1,window.HaxStore.instance.activeContainerNode!==window.HaxStore.instance.activeNode&&null!==window.HaxStore.instance.activeContainerNode)switch(this.__hasParentSettingsForm=!0,window.HaxStore.instance.activeContainerNode.tagName){case"P":case"UL":case"OL":case"DIV":this.__parentName="Text block settings";break;case"GRID-PLATE":this.__parentName="Layout settings";break;default:this.__parentName=window.HaxStore.instance.activeContainerNode.tagName.replace("-"," ").toLowerCase()}for(var item,i=0;i<settings.length;i++){let setting=settings[i];(item=document.createElement("hax-context-item")).eventName="hax-edit-property",item.label=setting.title,item.options=setting.options,item.icon=setting.icon,item.inputMethod=setting.inputMethod,item.required=setting.required,item.options=setting.options,item.validation=setting.validation,item.validationType=setting.validationType,item.description=setting.description,void 0!==setting.property?item.propertyToBind=setting.property:void 0!==setting.attribute?item.propertyToBind=setting.attribute:item.slotToBind=setting.slot,this.appendChild(item)}}}}_exports.HaxCeContext=HaxCeContext,window.customElements.define(HaxCeContext.tag,HaxCeContext)}));