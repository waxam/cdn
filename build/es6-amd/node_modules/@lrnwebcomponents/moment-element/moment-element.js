define(["exports","meta","../../@polymer/polymer/polymer-element.js","../../@polymer/polymer/lib/utils/resolve-url.js","../es-global-bridge/es-global-bridge.js"],function(_exports,meta,_polymerElement,_resolveUrl,_esGlobalBridge){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.MomentElement=void 0,meta=babelHelpers.interopRequireWildcard(meta);class MomentElement extends _polymerElement.PolymerElement{static get template(){return _polymerElement.html`
      [[output]]
    `}static get tag(){return"moment-element"}static get properties(){return{datetime:{type:String,value:()=>new Date},inputFormat:{type:String,value:""},outputFormat:{type:String,value:""},from:{type:String,value:""},to:{type:String,value:""},output:{type:String,notify:!0},libraryLoaded:{type:Boolean}}}static get observers(){return["_computeOutput(datetime, inputFormat, outputFormat, from, to, libraryLoaded)"]}constructor(){super();const location=`${(0,_resolveUrl.pathFromUrl)(decodeURIComponent(meta.url))}lib/moment/moment.js`;window.addEventListener("es-bridge-moment-loaded",this._momentLoaded.bind(this)),window.ESGlobalBridge.requestAvailability(),window.ESGlobalBridge.instance.load("moment",location)}disconnectedCallback(){window.removeEventListener("es-bridge-moment-loaded",this._momentLoaded.bind(this)),super.disconnectedCallback()}_momentLoaded(){this.libraryLoaded=!0}update(){this._computeOutput(this.datetime,this.inputFormat,this.outputFormat,this.from,this.to,this.libraryLoaded)}_computeOutput(datetime,inputFormat,outputFormat,from,to,libraryLoaded){if(libraryLoaded){var output=inputFormat?moment(datetime,inputFormat):moment(datetime);outputFormat?output=output.format(outputFormat):from?output="now"===from?output.fromNow():output.from(moment(from)):to&&(output="now"===to?output.toNow():output.to(moment(to))),this.set("output",output)}}}_exports.MomentElement=MomentElement,window.customElements.define(MomentElement.tag,MomentElement)});