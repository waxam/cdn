define(["exports","meta","./rich-text-editor-picker.js","../../../es-global-bridge/es-global-bridge.js"],(function(e,t,i,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RichTextEditorSymbolPicker=void 0,t=babelHelpers.interopRequireWildcard(t);
/**
   * Copyright 2019 Penn State University
   * @license Apache-2.0, see License.md for full text.
   */
class RichTextEditorSymbolPicker extends i.RichTextEditorPicker{constructor(){super(),this.icon="editor:functions",this.label="Insert symbol"}static get properties(){return{optionsSrc:{name:"optionsSrc",type:String,value:"data/symbols.js"},symbolTypes:{name:"symbolTypes",type:Array,value:["symbols","math","characters","greek","misc"]},titleAsHtml:{name:"titleAsHtml",type:Boolean,value:!0,readOnly:!0}}}static get tag(){return"rich-text-editor-symbol-picker"}pathFromUrl(e){return e.substring(0,e.lastIndexOf("/")+1)}connectedCallback(){super.connectedCallback();const e=`${this.pathFromUrl(decodeURIComponent(t.url))}${this.optionsSrc}`;window.addEventListener("es-bridge-symbols-loaded",this._setOptions.bind(this)),window.ESGlobalBridge.requestAvailability(),window.ESGlobalBridge.instance.load("symbols",e)}disconnectedCallback(){window.removeEventListener("es-bridge-symbols-loaded",this._setOptions.bind(this)),super.disconnectedCallback()}_getPickerOptions(e=[],t=!1,i=null){let s=super._getPickerOptions(e,t,i);return s[0].unshift({alt:null,icon:this.icon,value:null}),s}_setOptions(){let e=[];this.symbolTypes.forEach((function(t){e=e.concat(symbols[t])})),this.set("options",this._getPickerOptions(e,this.allowNull,this.icon))}_getOptionData(e){return{value:e,alt:e,icon:null,style:null}}}e.RichTextEditorSymbolPicker=RichTextEditorSymbolPicker,window.customElements.define(RichTextEditorSymbolPicker.tag,RichTextEditorSymbolPicker)}));