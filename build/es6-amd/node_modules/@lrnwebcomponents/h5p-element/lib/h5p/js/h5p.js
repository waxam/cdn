var H5P=window.H5P=window.H5P||{};H5P.isFramed=window.self!==window.parent,H5P.$window=H5P.jQuery(window),H5P.instances=[],document.documentElement.requestFullScreen?H5P.fullScreenBrowserPrefix="":document.documentElement.webkitRequestFullScreen?(H5P.safariBrowser=navigator.userAgent.match(/version\/([.\d]+)/i),H5P.safariBrowser=null===H5P.safariBrowser?0:parseInt(H5P.safariBrowser[1]),(0===H5P.safariBrowser||H5P.safariBrowser>6)&&(H5P.fullScreenBrowserPrefix="webkit")):document.documentElement.mozRequestFullScreen?H5P.fullScreenBrowserPrefix="moz":document.documentElement.msRequestFullscreen&&(H5P.fullScreenBrowserPrefix="ms"),H5P.opened={},H5P.init=function(e){void 0===H5P.$body&&(H5P.$body=H5P.jQuery(document.body)),void 0===H5P.fullscreenSupported&&(H5P.fullscreenSupported=!(H5PIntegration.fullscreenDisabled||H5P.fullscreenDisabled||H5P.isFramed&&!1!==H5P.externalEmbed&&!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled))),void 0===H5P.canHasFullScreen&&(H5P.canHasFullScreen=H5P.fullscreenSupported),H5P.jQuery(".h5p-content:not(.h5p-initialized)",e).each((function(){var e=H5P.jQuery(this).addClass("h5p-initialized"),t=H5P.jQuery('<div class="h5p-container"></div>').appendTo(e),n=e.data("content-id"),i=H5PIntegration.contents["cid-"+n];if(void 0===i)return H5P.error("No data for content id "+n+". Perhaps the library is gone?");var r={library:i.library,params:JSON.parse(i.jsonContent),metadata:i.metadata};H5P.getUserData(n,"state",(function(e,a){if(a)r.userDatas={state:a};else if(null===a&&H5PIntegration.saveFreq){delete i.contentUserData;var s=new H5P.Dialog("content-user-data-reset","Data Reset","<p>"+H5P.t("contentChanged")+"</p><p>"+H5P.t("startingOver")+'</p><div class="h5p-dialog-ok-button" tabIndex="0" role="button">OK</div>',t);H5P.jQuery(s).on("dialog-opened",(function(e,t){var closeDialog=function(e){"click"!==e.type&&32!==e.which||(s.close(),H5P.deleteUserData(n,"state",0))};t.find(".h5p-dialog-ok-button").click(closeDialog).keypress(closeDialog),H5P.trigger(o,"resize")})).on("dialog-closed",(function(){H5P.trigger(o,"resize")})),s.open()}}));var o=H5P.newRunnable(r,n,t,!0,{standalone:!0});1==i.fullScreen&&H5P.fullscreenSupported&&H5P.jQuery('<div class="h5p-content-controls"><div role="button" tabindex="0" class="h5p-enable-fullscreen" aria-label="'+H5P.t("fullscreen")+'" title="'+H5P.t("fullscreen")+'"></div></div>').prependTo(t).children().click((function(){H5P.fullScreen(t,o)})).keydown((function(e){if(32===e.which||13===e.which)return H5P.fullScreen(t,o),!1}));var a,s=i.displayOptions,c=!1;if(s.frame){if(s.copyright){var l=H5P.getCopyrights(o,r.params,n,r.metadata);l||(s.copyright=!1)}var d=new H5P.ActionBar(s),u=d.getDOMElement();d.on("reuse",(function(){H5P.openReuseDialog(u,i,r,o,n),o.triggerXAPI("accessed-reuse")})),d.on("copyrights",(function(){new H5P.Dialog("copyrights",H5P.t("copyrightInformation"),l,t).open(!0),o.triggerXAPI("accessed-copyright")})),d.on("embed",(function(){H5P.openEmbedDialog(u,i.embedCode,i.resizeCode,{width:e.width(),height:e.height()},o),o.triggerXAPI("accessed-embed")})),d.hasActions()&&(c=!0,u.insertAfter(t))}if(e.addClass(c?"h5p-frame":"h5p-no-frame"),H5P.opened[n]=new Date,H5P.on(o,"finish",(function(e){void 0!==e.data&&H5P.setFinished(n,e.data.score,e.data.maxScore,e.data.time)})),H5P.on(o,"xAPI",H5P.xAPICompletedListener),!1!==H5PIntegration.saveFreq&&(o.getCurrentState instanceof Function||"function"==typeof o.getCurrentState)){var f,save=function(){var e=o.getCurrentState();void 0!==e&&H5P.setUserData(n,"state",e,{deleteOnChange:!0}),H5PIntegration.saveFreq&&(f=setTimeout(save,1e3*H5PIntegration.saveFreq))};H5PIntegration.saveFreq&&(f=setTimeout(save,1e3*H5PIntegration.saveFreq)),H5P.on(o,"xAPI",(function(e){var t=e.getVerb();"completed"!==t&&"progressed"!==t||(clearTimeout(f),f=setTimeout(save,3e3))}))}if(H5P.isFramed)if(!1===H5P.externalEmbed){var h=window.frameElement;H5P.on(o,"resize",(function(){clearTimeout(a),a=setTimeout((function(){!function(){if(!window.parent.H5P.isFullscreen){var e=h.parentElement.style.height;h.parentElement.style.height=h.parentElement.clientHeight+"px",h.getBoundingClientRect(),h.style.height="1px",h.style.height=h.contentDocument.body.scrollHeight+"px",h.parentElement.style.height=e}}()}),1)}))}else if(H5P.communicator){var p=!1;H5P.communicator.on("ready",(function(){H5P.communicator.send("hello")})),H5P.communicator.on("hello",(function(){p=!0,document.body.style.height="auto",document.body.style.overflow="hidden",H5P.trigger(o,"resize")})),H5P.communicator.on("resizePrepared",(function(){H5P.communicator.send("resize",{scrollHeight:document.body.scrollHeight})})),H5P.communicator.on("resize",(function(){H5P.trigger(o,"resize")})),H5P.on(o,"resize",(function(){H5P.isFullscreen||(clearTimeout(a),a=setTimeout((function(){p?H5P.communicator.send("prepareResize",{scrollHeight:document.body.scrollHeight,clientHeight:document.body.clientHeight}):H5P.communicator.send("hello")}),0))}))}H5P.isFramed&&!1!==H5P.externalEmbed||H5P.jQuery(window.parent).resize((function(){window.parent.H5P.isFullscreen,H5P.trigger(o,"resize")})),H5P.instances.push(o),H5P.trigger(o,"resize")})),H5P.jQuery("iframe.h5p-iframe:not(.h5p-initialized)",e).each((function(){var e=H5P.jQuery(this).addClass("h5p-initialized").data("content-id");this.contentDocument.open(),this.contentDocument.write('<!doctype html><html class="h5p-iframe"><head>'+H5P.getHeadTags(e)+'</head><body><div class="h5p-content" data-content-id="'+e+'"/></body></html>'),this.contentDocument.close()}))},H5P.getHeadTags=function(e){var createStyleTags=function(e){for(var t="",n=0;n<e.length;n++)t+='<link rel="stylesheet" href="'+e[n]+'">';return t},createScriptTags=function(e){for(var t="",n=0;n<e.length;n++)t+='<script src="'+e[n]+'"><\/script>';return t};return'<base target="_parent">'+createStyleTags(H5PIntegration.core.styles)+createStyleTags(H5PIntegration.contents["cid-"+e].styles)+createScriptTags(H5PIntegration.core.scripts)+createScriptTags(H5PIntegration.contents["cid-"+e].scripts)+"<script>H5PIntegration = window.parent.H5PIntegration; var H5P = H5P || {}; H5P.externalEmbed = false;<\/script>"},H5P.communicator=window.postMessage&&window.addEventListener?new function Communicator(){var e={};window.addEventListener("message",(function receiveMessage(t){window.parent===t.source&&"h5p"===t.data.context&&void 0!==e[t.data.action]&&e[t.data.action](t.data)}),!1),this.on=function(t,n){e[t]=n},this.send=function(e,t){void 0===t&&(t={}),t.context="h5p",t.action=e,window.parent.postMessage(t,"*")}}:void 0,H5P.semiFullScreen=function(e,t,n,i){H5P.fullScreen(e,t,n,i,!0)},H5P.fullScreen=function(e,t,n,i,r){if(void 0===H5P.exitFullScreen){if(H5P.isFramed&&!1===H5P.externalEmbed)return window.parent.H5P.fullScreen(e,t,n,H5P.$body.get(),r),H5P.isFullscreen=!0,H5P.exitFullScreen=function(){window.parent.H5P.exitFullScreen()},void H5P.on(t,"exitFullScreen",(function(){H5P.isFullscreen=!1,H5P.exitFullScreen=void 0}));var o,a,s,c=e;if(void 0===i)s=H5P.$body;else{s=H5P.jQuery(i),o=s.add(e.get());var l="#h5p-iframe-"+e.parent().data("content-id");e=(a=H5P.jQuery(l)).parent()}o=e.add(H5P.$body).add(o);var before=function(e){o.addClass(e),void 0!==a&&a.css("height","")},entered=function(){H5P.trigger(t,"resize"),H5P.trigger(t,"focus"),H5P.trigger(t,"enterFullScreen")},done=function(e){H5P.isFullscreen=!1,o.removeClass(e),H5P.trigger(t,"resize"),H5P.trigger(t,"focus"),H5P.exitFullScreen=void 0,void 0!==n&&n(),H5P.trigger(t,"exitFullScreen")};if(H5P.isFullscreen=!0,void 0===H5P.fullScreenBrowserPrefix||!0===r){if(H5P.isFramed)return;before("h5p-semi-fullscreen");var d,u,f,h=H5P.jQuery('<div role="button" tabindex="0" class="h5p-disable-fullscreen" title="'+H5P.t("disableFullscreen")+'" aria-label="'+H5P.t("disableFullscreen")+'"></div>').appendTo(c.find(".h5p-content-controls")),p=H5P.exitFullScreen=function(){u?f.content=u:H.removeChild(f),h.remove(),s.unbind("keyup",d),done("h5p-semi-fullscreen")};d=function(e){27===e.keyCode&&p()},h.click(p),s.keyup(d);for(var P=document.getElementsByTagName("meta"),g=0;g<P.length;g++)if("viewport"===P[g].name){f=P[g],u=f.content;break}if(u||((f=document.createElement("meta")).name="viewport"),f.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",!u){var H=document.getElementsByTagName("head")[0];H.appendChild(f)}entered()}else{before("h5p-fullscreen");var v,m="ms"===H5P.fullScreenBrowserPrefix?"MSFullscreenChange":H5P.fullScreenBrowserPrefix+"fullscreenchange";if(document.addEventListener(m,(function(){if(void 0===v)return v=!1,void entered();done("h5p-fullscreen"),document.removeEventListener(m,arguments.callee,!1)})),""===H5P.fullScreenBrowserPrefix)e[0].requestFullScreen();else{var b="ms"===H5P.fullScreenBrowserPrefix?"msRequestFullscreen":H5P.fullScreenBrowserPrefix+"RequestFullScreen",y="webkit"===H5P.fullScreenBrowserPrefix&&0===H5P.safariBrowser?Element.ALLOW_KEYBOARD_INPUT:void 0;e[0][b](y)}H5P.exitFullScreen=function(){""===H5P.fullScreenBrowserPrefix?document.exitFullscreen():"moz"===H5P.fullScreenBrowserPrefix?document.mozCancelFullScreen():document[H5P.fullScreenBrowserPrefix+"ExitFullscreen"]()}}}},H5P.getPath=function(e,t){var n,hasProtocol=function(e){return e.match(/^[a-z0-9]+:\/\//i)};if(hasProtocol(e))return e;var i="#tmp"===e.substr(-4,4);if(void 0===t||i){if(void 0===window.H5PEditor)return;n=H5PEditor.filesPath}else void 0!==H5PIntegration.contents&&H5PIntegration.contents["cid-"+t]&&(n=H5PIntegration.contents["cid-"+t].contentUrl),n||(n=H5PIntegration.url+"/content/"+t);return hasProtocol(n)||(n=window.location.protocol+"//"+window.location.host+n),n+"/"+e},H5P.getContentPath=function(e){return H5PIntegration.url+"/content/"+e},H5P.classFromName=function(e){var t=e.split(".");return this[t[t.length-1]]},H5P.newRunnable=function(e,t,n,i,r){var o,a,s,c;try{s=(o=e.library.split(" ",2))[0],a=o[1].split(".",2)}catch(f){return H5P.error("Invalid library string: "+e.library)}if(e.params instanceof Object!=!0||e.params instanceof Array==!0)return H5P.error("Invalid library params for: "+e.library),H5P.error(e.params);try{o=o[0].split("."),c=window;for(var l=0;l<o.length;l++)c=c[o[l]];if("function"!=typeof c)throw null}catch(f){return H5P.error("Unable to find constructor for: "+e.library)}void 0===r&&(r={}),e.subContentId&&(r.subContentId=e.subContentId),e.userDatas&&e.userDatas.state&&H5PIntegration.saveFreq&&(r.previousState=e.userDatas.state),e.metadata&&(r.metadata=e.metadata);var d,u=r.standalone||!1;return c.prototype=H5P.jQuery.extend({},H5P.ContentType(u).prototype,c.prototype),void 0===(d=H5P.jQuery.inArray(e.library,["H5P.CoursePresentation 1.0","H5P.CoursePresentation 1.1","H5P.CoursePresentation 1.2","H5P.CoursePresentation 1.3"])>-1?new c(e.params,t):new c(e.params,t,r)).$&&(d.$=H5P.jQuery(d)),void 0===d.contentId&&(d.contentId=t),void 0===d.subContentId&&e.subContentId&&(d.subContentId=e.subContentId),void 0===d.parent&&r&&r.parent&&(d.parent=r.parent),void 0===d.libraryInfo&&(d.libraryInfo={versionedName:e.library,versionedNameNoSpaces:s+"-"+a[0]+"."+a[1],machineName:s,majorVersion:a[0],minorVersion:a[1]}),void 0!==n&&(n.toggleClass("h5p-standalone",u),d.attach(n),H5P.trigger(d,"domChanged",{$target:n,library:s,key:"newLibrary"},{bubbles:!0,external:!0}),void 0!==i&&i||H5P.trigger(d,"resize")),d},H5P.error=function(e){void 0!==window.console&&void 0!==console.error&&console.error(e.stack?e.stack:e)},H5P.t=function(e,t,n){if(void 0===n&&(n="H5P"),void 0===H5PIntegration.l10n[n])return'[Missing translation namespace "'+n+'"]';if(void 0===H5PIntegration.l10n[n][e])return'[Missing translation "'+e+'" in "'+n+'"]';var i=H5PIntegration.l10n[n][e];if(void 0!==t)for(var r in t)i=i.replace(r,t[r]);return i},H5P.Dialog=function(e,t,n,i){var r=this,o=H5P.jQuery('<div class="h5p-popup-dialog h5p-'+e+'-dialog">                              <div class="h5p-inner">                                <h2>'+t+'</h2>                                <div class="h5p-scroll-content">'+n+'</div>                                <div class="h5p-close" role="button" tabindex="0" aria-label="'+H5P.t("close")+'" title="'+H5P.t("close")+'"></div>                              </div>                            </div>').insertAfter(i).click((function(){r.close()})).children(".h5p-inner").click((function(){return!1})).find(".h5p-close").click((function(){r.close()})).end().find("a").click((function(e){e.stopPropagation()})).end().end();r.open=function(e){e&&o.css("height","100%"),setTimeout((function(){o.addClass("h5p-open"),H5P.jQuery(r).trigger("dialog-opened",[o])}),1)},r.close=function(){o.removeClass("h5p-open"),setTimeout((function(){o.remove(),H5P.jQuery(r).trigger("dialog-closed",[o])}),200)}},H5P.getCopyrights=function(e,t,n,i){var r;if(void 0!==e.getCopyrights)try{r=e.getCopyrights()}catch(a){}void 0===r&&(r=new H5P.ContentCopyrights,H5P.findCopyrights(r,t,n));var o=H5P.buildMetadataCopyrights(i,e.libraryInfo.machineName);return void 0!==o&&r.addMediaInFront(o),void 0!==r&&(r=r.toString()),r},H5P.findCopyrights=function(e,t,n,i){var r;for(var o in i&&(i.params=t,buildFromMetadata(i,i.machineName,n)),t)if(t.hasOwnProperty(o))if("overrideSettings"!==o){var a=t[o];if(a&&a.library&&"string"==typeof a.library?r=a.library.split(" ")[0]:a&&a.library&&"object"==typeof a.library&&(r=a.library.library&&"string"==typeof a.library.library?a.library.library.split(" ")[0]:r),a instanceof Array)H5P.findCopyrights(e,a,n);else if(a instanceof Object)if(buildFromMetadata(a,r,n),void 0===a.copyright||void 0===a.copyright.license||void 0===a.path||void 0===a.mime)H5P.findCopyrights(e,a,n);else{var s=new H5P.MediaCopyright(a.copyright);void 0!==a.width&&void 0!==a.height&&s.setThumbnail(new H5P.Thumbnail(H5P.getPath(a.path,n),a.width,a.height)),e.addMedia(s)}}else console.warn("The semantics field 'overrideSettings' is DEPRECATED and should not be used."),console.warn(t);function buildFromMetadata(t,n,i){if(t.metadata){const r=H5P.buildMetadataCopyrights(t.metadata,n);if(void 0!==r){if(t.params&&"Image"===t.params.contentName&&t.params.file){const e=t.params.file.path,n=t.params.file.width,o=t.params.file.height;r.setThumbnail(new H5P.Thumbnail(H5P.getPath(e,i),n,o))}e.addMedia(r)}}}},H5P.buildMetadataCopyrights=function(e){if(e&&void 0!==e.license&&"U"!==e.license){var t={contentType:e.contentType,title:e.title,author:e.authors&&e.authors.length>0?e.authors.map((function(e){return e.role?e.name+" ("+e.role+")":e.name})).join(", "):void 0,source:e.source,year:e.yearFrom?e.yearFrom+(e.yearTo?"-"+e.yearTo:""):void 0,license:e.license,version:e.licenseVersion,licenseExtras:e.licenseExtras,changes:e.changes&&e.changes.length>0?e.changes.map((function(e){return e.log+(e.author?", "+e.author:"")+(e.date?", "+e.date:"")})).join(" / "):void 0};return new H5P.MediaCopyright(t)}},H5P.openReuseDialog=function(e,t,n,i,r){let o="";t.displayOptions.export&&(o+='<button type="button" class="h5p-big-button h5p-download-button"><div class="h5p-button-title">Download as an .h5p file</div><div class="h5p-button-description">.h5p files may be uploaded to any web-site where H5P content may be created.</div></button>'),t.displayOptions.export&&t.displayOptions.copy&&(o+='<div class="h5p-horizontal-line-text"><span>or</span></div>'),t.displayOptions.copy&&(o+='<button type="button" class="h5p-big-button h5p-copy-button"><div class="h5p-button-title">Copy content</div><div class="h5p-button-description">Copied content may be pasted anywhere this content type is supported on this website.</div></button>');const a=new H5P.Dialog("reuse",H5P.t("reuseContent"),o,e);H5P.jQuery(a).on("dialog-opened",(function(e,o){H5P.jQuery('<a href="https://h5p.org/node/442225" target="_blank">More Info</a>').click((function(e){e.stopPropagation()})).appendTo(o.find("h2")),o.find(".h5p-download-button").click((function(){window.location.href=t.exportUrl,i.triggerXAPI("downloaded"),a.close()})),o.find(".h5p-copy-button").click((function(){const e=new H5P.ClipboardItem(n);e.contentId=r,H5P.setClipboard(e),i.triggerXAPI("copied"),a.close(),H5P.attachToastTo(H5P.jQuery(".h5p-content:first")[0],H5P.t("contentCopied"),{position:{horizontal:"centered",vertical:"centered",noOverflowX:!0}})})),H5P.trigger(i,"resize")})).on("dialog-closed",(function(){H5P.trigger(i,"resize")})),a.open()},H5P.openEmbedDialog=function(e,t,n,i,r){var o=t+n,a=new H5P.Dialog("embed",H5P.t("embed"),'<textarea class="h5p-embed-code-container" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>'+H5P.t("size")+': <input type="text" value="'+Math.ceil(i.width)+'" class="h5p-embed-size"/> × <input type="text" value="'+Math.ceil(i.height)+'" class="h5p-embed-size"/> px<br/><div role="button" tabindex="0" class="h5p-expander">'+H5P.t("showAdvanced")+'</div><div class="h5p-expander-content"><p>'+H5P.t("advancedHelp")+'</p><textarea class="h5p-embed-code-container" autocorrect="off" autocapitalize="off" spellcheck="false">'+n+"</textarea></div>",e);H5P.jQuery(a).on("dialog-opened",(function(e,t){var n=t.find(".h5p-inner").find(".h5p-scroll-content"),a=(n.outerHeight(),n.innerHeight(),function(){H5P.trigger(r,"resize")}),s=t.find(".h5p-embed-size:eq(0)"),c=t.find(".h5p-embed-size:eq(1)"),getNum=function(e,t){var n=parseFloat(e.val());return isNaN(n)?t:Math.ceil(n)},updateEmbed=function(){t.find(".h5p-embed-code-container:first").val(o.replace(":w",getNum(s,i.width)).replace(":h",getNum(c,i.height)))};s.change(updateEmbed),c.change(updateEmbed),updateEmbed(),t.find(".h5p-embed-code-container").each((function(){H5P.jQuery(this).css("height",this.scrollHeight+"px").focus((function(){H5P.jQuery(this).select()}))})),t.find(".h5p-embed-code-container").eq(0).select(),a();var expand=function(){var e=H5P.jQuery(this),n=e.next();n.is(":visible")?(e.removeClass("h5p-open").text(H5P.t("showAdvanced")),n.hide()):(e.addClass("h5p-open").text(H5P.t("hideAdvanced")),n.show()),t.find(".h5p-embed-code-container").each((function(){H5P.jQuery(this).css("height",this.scrollHeight+"px")})),a()};t.find(".h5p-expander").click(expand).keypress((function(e){32===e.keyCode&&expand.apply(this)}))})).on("dialog-closed",(function(){H5P.trigger(r,"resize")})),a.open()},H5P.attachToastTo=function(e,t,n){if(void 0===e||void 0===t)return;const clickHandler=function(t){-1===function(e){var t=e.composedPath&&e.composedPath()||e.path,n=e.target;if(null!=t)return t.indexOf(window)<0?t.concat(window):t;if(n===window)return[window];return[n].concat(function getParents(e,t){t=t||[];var n=e.parentNode;return n?getParents(n,t.concat(n)):t}(n),window)}(t).indexOf(e)&&(clearTimeout(a),removeToast())},removeToast=function(){document.removeEventListener("click",clickHandler),i.parentNode&&i.parentNode.removeChild(i)};(n=n||{}).style=n.style||"h5p-toast",n.duration=n.duration||3e3;const i=document.createElement("div");i.setAttribute("id",n.style),i.classList.add("h5p-toast-disabled"),i.classList.add(n.style);const r=document.createElement("span");r.innerHTML=t,i.appendChild(r),document.body.appendChild(i);const o=function(e,t,n){(n=n||{}).offsetHorizontal=n.offsetHorizontal||0,n.offsetVertical=n.offsetVertical||0;const i=t.getBoundingClientRect(),r=e.getBoundingClientRect();let o=0,a=0;switch(n.horizontal){case"before":o=r.left-i.width-n.offsetHorizontal;break;case"after":o=r.left+r.width+n.offsetHorizontal;break;case"left":o=r.left+n.offsetHorizontal;break;case"right":o=r.left+r.width-i.width-n.offsetHorizontal;break;case"centered":o=r.left+r.width/2-i.width/2+n.offsetHorizontal;break;default:o=r.left+r.width/2-i.width/2+n.offsetHorizontal}switch(n.vertical){case"above":a=r.top-i.height-n.offsetVertical;break;case"below":a=r.top+r.height+n.offsetVertical;break;case"top":a=r.top+n.offsetVertical;break;case"bottom":a=r.top+r.height-i.height-n.offsetVertical;break;case"centered":a=r.top+r.height/2-i.height/2+n.offsetVertical;break;default:a=r.top+r.height+n.offsetVertical}const s=document.body.getBoundingClientRect();return(n.noOverflowLeft||n.noOverflowX)&&o<s.x&&(o=s.x),(n.noOverflowRight||n.noOverflowX)&&o+i.width>s.x+s.width&&(o=s.x+s.width-i.width),(n.noOverflowTop||n.noOverflowY)&&a<s.y&&(a=s.y),(n.noOverflowBottom||n.noOverflowY)&&a+i.height>s.y+s.height&&(o=s.y+s.height-i.height),{left:o,top:a}}(e,i,n.position);i.style.left=Math.round(o.left)+"px",i.style.top=Math.round(o.top)+"px",i.classList.remove("h5p-toast-disabled");const a=setTimeout(removeToast,n.duration);document.addEventListener("click",clickHandler)},H5P.ContentCopyrights=function(){var e,t=[],n=[];this.setLabel=function(t){e=t},this.addMedia=function(e){void 0!==e&&t.push(e)},this.addMediaInFront=function(e){void 0!==e&&t.unshift(e)},this.addContent=function(e){void 0!==e&&n.push(e)},this.toString=function(){for(var i="",r=0;r<t.length;r++)i+=t[r];for(r=0;r<n.length;r++)i+=n[r];return""!==i&&(void 0!==e&&(i="<h3>"+e+"</h3>"+i),i='<div class="h5p-content-copyrights">'+i+"</div>"),i}},H5P.MediaCopyright=function(e,t,n,i){var r,o=new H5P.DefinitionList,getLabel=function(e){return void 0===t||void 0===t[e]?H5P.t(e):t[e]},humanizeLicense=function(e,t){var n,i,r=H5P.copyrightLicenses[e],o="";"PD"===e&&t||(o+=r.hasOwnProperty("label")?r.label:r),r.versions&&(!r.versions.default||t&&r.versions[t]||(t=r.versions.default),t&&r.versions[t]&&(n=r.versions[t])),n&&(o&&(o+=" "),o+=n.hasOwnProperty("label")?n.label:n),r.hasOwnProperty("link")?i=r.link.replace(":version",r.linkVersions?r.linkVersions[t]:t):n&&r.hasOwnProperty("link")&&(i=n.link),i&&(o='<a href="'+i+'" target="_blank">'+o+"</a>");var a="";return"PD"!==e&&"C"!==e&&(a+=e),t&&"CC0 1.0"!==t&&(a&&"GNU GPL"!==e&&(a+=" "),a+=t),a&&(o+=" ("+a+")"),"C"===e&&(o+=" &copy;"),o};if(void 0!==e){for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);void 0===n&&(n=["contentType","title","license","author","year","source","licenseExtras","changes"]);for(var s=0;s<n.length;s++){var c=n[s];if(void 0!==e[c]&&""!==e[c]){var l=e[c];"license"===c&&(l=humanizeLicense(e.license,e.version)),"source"===c&&(l=l?'<a href="'+l+'" target="_blank">'+l+"</a>":void 0),o.add(new H5P.Field(getLabel(c),l))}}}this.setThumbnail=function(e){r=e},this.undisclosed=function(){if(1===o.size()){var e=o.get(0);if(e.getLabel()===getLabel("license")&&e.getValue()===humanizeLicense("U"))return!0}return!1},this.toString=function(){var e="";return this.undisclosed()?e:(void 0!==r&&(e+=r),""!==(e+=o)&&(e='<div class="h5p-media-copyright">'+e+"</div>"),e)}},H5P.Thumbnail=function(e,t,n){var i;void 0!==t&&(i=Math.round(t/n*100)),this.toString=function(){return'<img src="'+e+'" alt="'+H5P.t("thumbnail")+'" class="h5p-thumbnail" height="100"'+(void 0===i?"":' width="'+i+'"')+"/>"}},H5P.Field=function(e,t){this.getLabel=function(){return e},this.getValue=function(){return t}},H5P.DefinitionList=function(){var e=[];this.add=function(t){e.push(t)},this.size=function(){return e.length},this.get=function(t){return e[t]},this.toString=function(){for(var t="",n=0;n<e.length;n++){var i=e[n];t+="<dt>"+i.getLabel()+"</dt><dd>"+i.getValue()+"</dd>"}return""===t?t:'<dl class="h5p-definition-list">'+t+"</dl>"}},H5P.Coords=function(e,t,n,i){return this instanceof H5P.Coords?(this.x=0,this.y=0,this.w=1,this.h=1,"object"==typeof e?(this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h):(void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==n&&(this.w=n),void 0!==i&&(this.h=i)),this):new H5P.Coords(e,t,n,i)},H5P.libraryFromString=function(e){var t=/(.+)\s(\d+)\.(\d+)$/g.exec(e);return null!==t&&{machineName:t[1],majorVersion:parseInt(t[2]),minorVersion:parseInt(t[3])}},H5P.getLibraryPath=function(e){return void 0!==H5PIntegration.urlLibraries?H5PIntegration.urlLibraries+"/"+e:H5PIntegration.url+"/libraries/"+e},H5P.cloneObject=function(e,t){var n=e instanceof Array?[]:{};for(var i in e)e.hasOwnProperty(i)&&(void 0!==t&&t&&"object"==typeof e[i]?n[i]=H5P.cloneObject(e[i],t):n[i]=e[i]);return n},H5P.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},H5P.jsLoaded=function(e){return H5PIntegration.loadedJs=H5PIntegration.loadedJs||[],-1!==H5P.jQuery.inArray(e,H5PIntegration.loadedJs)},H5P.cssLoaded=function(e){return H5PIntegration.loadedCss=H5PIntegration.loadedCss||[],-1!==H5P.jQuery.inArray(e,H5PIntegration.loadedCss)},H5P.shuffleArray=function(e){if(e instanceof Array){var t,n,i,r=e.length;if(0===r)return!1;for(;--r;)t=Math.floor(Math.random()*(r+1)),n=e[r],i=e[t],e[r]=i,e[t]=n;return e}},H5P.setFinished=function(e,t,n,i){if(("number"==typeof t||t instanceof Number)&&!0===H5PIntegration.postUserStatistics){var toUnix=function(e){return Math.round(e.getTime()/1e3)};H5P.jQuery.post(H5PIntegration.ajax.setFinished,{contentId:e,score:t,maxScore:n,opened:toUnix(H5P.opened[e]),finished:toUnix(new Date),time:i})}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),void 0===String.prototype.trim&&(String.prototype.trim=function(){return H5P.trim(this)}),H5P.trigger=function(e,t,n,i){void 0!==e.trigger?e.trigger(t,n,i):void 0!==e.$&&void 0!==e.$.trigger&&e.$.trigger(t)},H5P.on=function(e,t,n){void 0!==e.on?e.on(t,n):void 0!==e.$&&void 0!==e.$.on&&e.$.on(t,n)},H5P.createUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},H5P.createTitle=function(e,t){if(!e)return"";void 0===t&&(t=60);var n=H5P.jQuery("<div></div>").text(e.replace(/(<([^>]+)>)/gi,"")).text();return n.length>t&&(n=n.substr(0,t-3)+"..."),n},function(e){function contentUserDataAjax(t,n,i,r,o,a,s,c){if(void 0!==H5PIntegration.user){var l={url:H5PIntegration.ajax.contentUserData.replace(":contentId",t).replace(":dataType",n).replace(":subContentId",i||0),dataType:"json",async:void 0===c||c};void 0!==o?(l.type="POST",l.data={data:null===o?0:o,preload:a?1:0,invalidate:s?1:0}):l.type="GET",void 0!==r&&(l.error=function(e,t){r(t)},l.success=function(e){e.success?!1!==e.data&&void 0!==e.data?r(void 0,e.data):r():r(e.message)}),e.ajax(l)}else r("Not signed in.")}H5P.getUserData=function(e,t,n,i){i||(i=0),H5PIntegration.contents=H5PIntegration.contents||{};var r=H5PIntegration.contents["cid-"+e]||{},o=r.contentUserData;if(o&&o[i]&&void 0!==o[i][t]){if("RESET"===o[i][t])return void n(void 0,null);try{n(void 0,JSON.parse(o[i][t]))}catch(a){n(a)}}else contentUserDataAjax(e,t,i,(function(e,a){if(e||void 0===a)n(e,a);else{void 0===r.contentUserData&&(r.contentUserData=o={}),void 0===o[i]&&(o[i]={}),o[i][t]=a;try{n(void 0,JSON.parse(a))}catch(s){n(s)}}}))},H5P.getCrossOrigin=function(e){var t=H5PIntegration.crossorigin,n=H5PIntegration.crossoriginRegex;return t&&n&&e.match(n)?t:null},H5P.setUserData=function(e,t,n,i){var r=H5P.jQuery.extend(!0,{},{subContentId:0,preloaded:!0,deleteOnChange:!1,async:!0},i);try{n=JSON.stringify(n)}catch(s){return void(r.errorCallback&&r.errorCallback(s))}var o=H5PIntegration.contents["cid-"+e];void 0===o&&(o=H5PIntegration.contents["cid-"+e]={}),o.contentUserData||(o.contentUserData={});var a=o.contentUserData;void 0===a[r.subContentId]&&(a[r.subContentId]={}),n!==a[r.subContentId][t]&&(a[r.subContentId][t]=n,contentUserDataAjax(e,t,r.subContentId,(function(e){r.errorCallback&&e&&r.errorCallback(e)}),n,r.preloaded,r.deleteOnChange,r.async))},H5P.deleteUserData=function(e,t,n){n||(n=0);var i=H5PIntegration.contents["cid-"+e].contentUserData;i&&i[n]&&i[n][t]&&delete i[n][t],contentUserDataAjax(e,t,n,void 0,null)},H5P.getContentForInstance=function(e){var t="cid-"+e;return H5PIntegration&&H5PIntegration.contents&&H5PIntegration.contents[t]?H5PIntegration.contents[t]:void 0},H5P.ClipboardItem=function(e,t,n){var i=this;t||(t="action",e={action:e}),i.specific=e,t&&e[t]&&(i.generic=t),n&&(i.from=n),window.H5PEditor&&H5PEditor.contentId&&(i.contentId=H5PEditor.contentId),i.specific.width||i.specific.height||function(){if(i.generic){var e=i.specific[i.generic];e.params.file&&e.params.file.width&&e.params.file.height&&(i.width=20,i.height=e.params.file.height/e.params.file.width*i.width)}}()},H5P.clipboardify=function(e){e instanceof H5P.ClipboardItem||(e=new H5P.ClipboardItem(e)),H5P.setClipboard(e)},H5P.getClipboard=function(){return parseClipboard()},H5P.setClipboard=function(e){localStorage.setItem("h5pClipboard",JSON.stringify(e)),H5P.externalDispatcher.trigger("datainclipboard",{reset:!1})},H5P.getLibraryConfig=function(e){return H5PIntegration.libraryConfig&&H5PIntegration.libraryConfig[e]?H5PIntegration.libraryConfig[e]:{}};var parseClipboard=function(){var e=localStorage.getItem("h5pClipboard");if(e){try{e=JSON.parse(e)}catch(t){return void console.error("Unable to parse JSON from clipboard.",t)}return recursiveUpdate(e.specific,(function(t){return!("#tmp"===t.substr(-4,4))&&e.contentId?H5PEditor.contentId?"../"+e.contentId+"/"+t:(H5PEditor.contentRelUrl?H5PEditor.contentRelUrl:"../content/")+e.contentId+"/"+t:t})),e.generic&&(e.generic=e.specific[e.generic]),e}},recursiveUpdate=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]instanceof Object){var i=e[n];void 0!==i.path&&void 0!==i.mime?i.path=t(i.path):(void 0!==i.library&&void 0!==i.subContentId&&delete i.subContentId,recursiveUpdate(i,t))}};e(document).ready((function(){window.addEventListener("storage",(function(e){"h5pClipboard"===e.key&&H5P.externalDispatcher.trigger("datainclipboard",{reset:null===e.newValue})}));var e={default:"4.0","4.0":H5P.t("licenseCC40"),"3.0":H5P.t("licenseCC30"),2.5:H5P.t("licenseCC25"),"2.0":H5P.t("licenseCC20"),"1.0":H5P.t("licenseCC10")};if(H5P.copyrightLicenses={U:H5P.t("licenseU"),"CC BY":{label:H5P.t("licenseCCBY"),link:"http://creativecommons.org/licenses/by/:version",versions:e},"CC BY-SA":{label:H5P.t("licenseCCBYSA"),link:"http://creativecommons.org/licenses/by-sa/:version",versions:e},"CC BY-ND":{label:H5P.t("licenseCCBYND"),link:"http://creativecommons.org/licenses/by-nd/:version",versions:e},"CC BY-NC":{label:H5P.t("licenseCCBYNC"),link:"http://creativecommons.org/licenses/by-nc/:version",versions:e},"CC BY-NC-SA":{label:H5P.t("licenseCCBYNCSA"),link:"http://creativecommons.org/licenses/by-nc-sa/:version",versions:e},"CC BY-NC-ND":{label:H5P.t("licenseCCBYNCND"),link:"http://creativecommons.org/licenses/by-nc-nd/:version",versions:e},"CC0 1.0":{label:H5P.t("licenseCC010"),link:"https://creativecommons.org/publicdomain/zero/1.0/"},"GNU GPL":{label:H5P.t("licenseGPL"),link:"http://www.gnu.org/licenses/gpl-:version-standalone.html",linkVersions:{v3:"3.0",v2:"2.0",v1:"1.0"},versions:{default:"v3",v3:H5P.t("licenseV3"),v2:H5P.t("licenseV2"),v1:H5P.t("licenseV1")}},PD:{label:H5P.t("licensePD"),versions:{"CC0 1.0":{label:H5P.t("licenseCC010"),link:"https://creativecommons.org/publicdomain/zero/1.0/"},"CC PDM":{label:H5P.t("licensePDM"),link:"https://creativecommons.org/publicdomain/mark/1.0/"}}},"ODC PDDL":'<a href="http://opendatacommons.org/licenses/pddl/1.0/" target="_blank">Public Domain Dedication and Licence</a>',"CC PDM":{label:H5P.t("licensePDM"),link:"https://creativecommons.org/publicdomain/mark/1.0/"},C:H5P.t("licenseC")},H5P.isFramed&&!1===H5P.externalEmbed&&H5P.externalDispatcher.on("*",(function(e){window.parent.H5P.externalDispatcher.trigger.call(this,e)})),H5P.preventInit||H5P.init(document.body),!1!==H5PIntegration.saveFreq){var t=0,storeCurrentState=function(){var e=(new Date).getTime();if(e-t>250){t=e;for(var n=0;n<H5P.instances.length;n++){var i=H5P.instances[n];if(i.getCurrentState instanceof Function||"function"==typeof i.getCurrentState){var r=i.getCurrentState();void 0!==r&&H5P.setUserData(i.contentId,"state",r,{deleteOnChange:!0,async:!1})}}}};H5P.$window.one("beforeunload unload",(function(){H5P.$window.off("pagehide beforeunload unload"),storeCurrentState()})),H5P.$window.on("pagehide",storeCurrentState)}}))}(H5P.jQuery);