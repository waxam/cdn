define(["exports","../../../../@polymer/polymer/polymer-element.js","../../../../@polymer/polymer/lib/legacy/polymer.dom.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/iron-list/iron-list.js","../elmsln-base-deps.js","../../../../@polymer/paper-button/paper-button.js","../../../lrndesign-gallerycard/lrndesign-gallerycard.js","../../../elmsln-loading/elmsln-loading.js"],(function(e,t,s,n,i,o,r,l,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LrnappBlockRecentSubmissions=void 0;class LrnappBlockRecentSubmissions extends t.PolymerElement{static get template(){return t.html`
      <style include="paper-item-styles">
        :host {
          display: block;
        }
        paper-button {
          width: 100%;
        }
      </style>
      <iron-ajax
        auto=""
        url="{{sourcePath}}"
        handle-as="json"
        last-response="{{response}}"
        on-response="handleResponse"
      ></iron-ajax>
      <div id="loading">
        <h3>Loading..</h3>
        <elmsln-loading color="grey-text" size="large"></elmsln-loading>
      </div>
      <iron-list items="[[_toArray(response.data)]]" as="item">
        <template>
          <paper-button on-click="_loadSubmissionUrl">
            <lrndesign-gallerycard
              data-submission-id\$="[[item.id]]"
              title="[[item.attributes.title]]"
              author="[[item.relationships.author.data]]"
              comments="[[item.meta.comment_count]]"
              image="[[item.display.image]]"
              icon="[[item.display.icon]]"
              class="ferpa-protect"
            >
            </lrndesign-gallerycard>
          </paper-button>
        </template>
      </iron-list>
    `}static get tag(){return"lrnapp-block-recent-submissions"}static get properties(){return{elmslnCourse:{type:String},elmslnSection:{type:String},basePath:{type:String},csrfToken:{type:String},endPoint:{type:String},sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}}}_loadSubmissionUrl(e){var t=(0,s.dom)(e).localTarget.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+t}handleResponse(e){this.$.loading.hidden=!0}_getViewLink(e){return this.basePath+"lrnapp-studio-submission/submissions/"+e}_toArray(e){return null==e?[]:Object.keys(e).map((function(t){return e[t]}))}}e.LrnappBlockRecentSubmissions=LrnappBlockRecentSubmissions,window.customElements.define(LrnappBlockRecentSubmissions.tag,LrnappBlockRecentSubmissions)}));