define(["exports","../../../../@polymer/polymer/polymer-element.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/paper-item/paper-item.js","../../../../@polymer/polymer/lib/elements/dom-repeat.js","../../../elmsln-loading/elmsln-loading.js","./lrnapp-block-recent-comments-comment.js"],(function(e,t,n,o,s,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LrnappBlockRecentComments=void 0;class LrnappBlockRecentComments extends t.PolymerElement{static get template(){return t.html`
      <style include="paper-item-styles">
        :host {
          display: block;
        }
      </style>
      <div id="loading">
        <h3>Loading..</h3>
        <elmsln-loading color="grey-text" size="large"></elmsln-loading>
      </div>
      <iron-ajax
        auto=""
        url="{{sourcePath}}"
        handle-as="json"
        last-response="{{response}}"
        on-response="handleResponse"
      ></iron-ajax>
      <template
        is="dom-repeat"
        items="[[_toArray(response.data)]]"
        as="comment"
      >
        <lrnapp-block-recent-comments-comment
          comment-user="{{comment.relationships.author.data}}"
          comment-title="{{comment.attributes.subject}}"
          action-view="{{_getViewLink(comment.relationships.node.data.id)}}"
          date-updated="{{comment.attributes.changed}}"
          class="ferpa-protect"
        >
          [[comment.attributes.body]]
        </lrnapp-block-recent-comments-comment>
      </template>
    `}static get tag(){return"lrnapp-block-recent-comments"}static get properties(){return{elmslnCourse:{type:String},elmslnSection:{type:String},basePath:{type:String},csrfToken:{type:String},endPoint:{type:String},sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}}}handleResponse(e){this.$.loading.hidden=!0}_getViewLink(e){return this.basePath+"lrnapp-studio-submission/submissions/"+e}_toArray(e){return null==e?[]:Object.keys(e).map((function(t){return e[t]}))}}e.LrnappBlockRecentComments=LrnappBlockRecentComments,window.customElements.define(LrnappBlockRecentComments.tag,LrnappBlockRecentComments)}));