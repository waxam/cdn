define(["exports"],function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.SecureRequestXhr=void 0;_exports.SecureRequestXhr=function(SuperClass){return class extends SuperClass{setCookies(endPoint,csrfToken){this._eraseCookie("securerequest-endpoint"),this._eraseCookie("securerequest-csrftoken"),this._createCookie("securerequest-endpoint",endPoint,30,endPoint),this._createCookie("securerequest-csrftoken",csrfToken,30,endPoint)}generateUrl(url){const endPoint=this.getEndPoint(),csrfToken=this.getCsrfToken();return endPoint&&csrfToken?endPoint+url+"?token="+csrfToken:null}getEndPoint(){return this._readCookie("securerequest-endpoint")}getCsrfToken(){return this._readCookie("securerequest-csrftoken")}_createCookie(name,value,days,path){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=name+"="+value+expires+"; path="+path}_readCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}_eraseCookie(name){this._createCookie(name,"",-1)}}},window.SecureRequest=window.SecureRequest||{},window.SecureRequest.xhr={setCookies(endPoint,csrfToken){this._eraseCookie("securerequest-endpoint"),this._eraseCookie("securerequest-csrftoken"),this._createCookie("securerequest-endpoint",endPoint,30,endPoint),this._createCookie("securerequest-csrftoken",csrfToken,30,endPoint)},generateUrl(url){const endPoint=this.getEndPoint(),csrfToken=this.getCsrfToken();return endPoint&&csrfToken?endPoint+url+"?token="+csrfToken:null},getEndPoint(){return this._readCookie("securerequest-endpoint")},getCsrfToken(){return this._readCookie("securerequest-csrftoken")},_createCookie(name,value,days,path){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=name+"="+value+expires+"; path="+path},_readCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},_eraseCookie(name){this._createCookie(name,"",-1)}}});