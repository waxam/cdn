define(["exports","../../@polymer/polymer/polymer-element.js","../../@polymer/iron-ajax/iron-ajax.js"],function(_exports,_polymerElement,_ironAjax){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.JwtLogin=void 0;class JwtLogin extends _polymerElement.PolymerElement{static get template(){return _polymerElement.html`
      <style>
        :host {
          visibility: hidden;
        }
      </style>
      <iron-ajax
        id="loginrequest"
        method="[[method]]"
        body="[[body]]"
        url="[[url]]"
        handle-as="json"
        content-type="application/json"
        on-response="loginResponse"
      >
      </iron-ajax>
    `}static get tag(){return"jwt-login"}static get properties(){return{url:{type:String},method:{type:String,value:"GET"},body:{type:Object,value:{}},key:{type:String,value:"jwt"},jwt:{type:String,notify:!0,observer:"_jwtChanged"}}}_jwtChanged(newValue,oldValue){null!=newValue&&""!=newValue||void 0===oldValue?newValue&&(localStorage.setItem(this.key,newValue),this.dispatchEvent(new CustomEvent("jwt-token",{bubbles:!0,cancelable:!0,composed:!0,detail:newValue})),this.dispatchEvent(new CustomEvent("jwt-logged-in",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))):(localStorage.removeItem(this.key),this.dispatchEvent(new CustomEvent("jwt-logged-in",{bubbles:!0,cancelable:!0,composed:!0,detail:!1})))}ready(){super.ready(),this.jwt=localStorage.getItem(this.key)}toggleLogin(){null==this.jwt?this.$.loginrequest.generateRequest():(this.set("body",{}),this.jwt=null)}loginResponse(e){this.jwt=e.detail.response}}_exports.JwtLogin=JwtLogin,window.customElements.define(JwtLogin.tag,JwtLogin)});