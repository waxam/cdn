define(["exports","require","../../../../../lit-element/lit-element.js","../haxcms-site-store.js","../../../../jwt-login/jwt-login.js"],(function(t,e,i,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAXCMSBackendNodeJS=void 0,e=babelHelpers.interopRequireWildcard(e);
/**
   * Copyright 2019 The Pennsylvania State University
   * @license Apache-2.0, see License.md for full text.
   */
class HAXCMSBackendNodeJS extends i.LitElement{static get tag(){return"haxcms-backend-nodejs"}render(){return i.html`
      <jwt-login
        id="jwt"
        jwt="${this.jwt}"
        @jwt-changed="${this.jwtChanged}"
      ></jwt-login>
    `}jwtChanged(t){this.jwt=t.detail.value,s.store.jwt=this.jwt,s.store.cmsSiteEditor&&s.store.cmsSiteEditor.instance&&(s.store.cmsSiteEditor.instance.jwt=this.jwt),null!=this.jwt&&"null"!=this.jwt&&""!=this.jwt&&"string"==typeof this.jwt&&this.dynamicallyImportEditor()}constructor(){super()}firstUpdated(t){if(window.appSettings){let t=this.shadowRoot.querySelector("#jwt");t.url=window.appSettings.login,t.refreshUrl=window.appSettings.refreshUrl,t.logoutUrl=window.appSettings.logout,t.redirectUrl=window.appSettings.redirectUrl}null!=this.jwt&&"null"!=this.jwt&&""!=this.jwt&&"string"==typeof this.jwt?this.dynamicallyImportEditor():window.dispatchEvent(new CustomEvent("haxcms-not-logged-in",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}static get properties(){return{jwt:{type:String}}}dynamicallyImportEditor(){try{new Promise((t,i)=>e.default(["../haxcms-site-editor.js"],t,i)).then(t=>{window.appSettings&&(s.store.cmsSiteEditorAvailability(),s.store.cmsSiteEditor.instance.jwt=this.jwt,s.store.cmsSiteEditor.instance.saveNodePath=window.appSettings.saveNodePath,s.store.cmsSiteEditor.instance.saveManifestPath=window.appSettings.saveManifestPath,s.store.cmsSiteEditor.instance.saveOutlinePath=window.appSettings.saveOutlinePath,s.store.cmsSiteEditor.instance.getNodeFieldsPath=window.appSettings.getNodeFieldsPath,s.store.cmsSiteEditor.instance.getSiteFieldsPath=window.appSettings.getSiteFieldsPath,s.store.cmsSiteEditor.instance.getFormToken=window.appSettings.getFormToken,s.store.cmsSiteEditor.instance.publishSitePath=window.appSettings.publishSitePath,s.store.cmsSiteEditor.instance.syncSitePath=window.appSettings.syncSitePath,s.store.cmsSiteEditor.instance.revertSitePath=window.appSettings.revertSitePath,s.store.cmsSiteEditor.instance.createNodePath=window.appSettings.createNodePath,s.store.cmsSiteEditor.instance.deleteNodePath=window.appSettings.deleteNodePath,s.store.cmsSiteEditor.instance.getUserDataPath=window.appSettings.getUserDataPath,s.store.cmsSiteEditor.instance.appStore=window.appSettings.appStore)},t=>{})}catch(t){}}}t.HAXCMSBackendNodeJS=HAXCMSBackendNodeJS,window.customElements.define(HAXCMSBackendNodeJS.tag,HAXCMSBackendNodeJS)}));