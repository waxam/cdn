define(["exports","../../../../@vaadin/router/dist/vaadin-router.js","../../../../mobx/lib/mobx.module.js","./haxcms-site-store.js"],(function(e,t,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HAXCMSSiteRouter=void 0;class HAXCMSSiteRouter extends HTMLElement{static get tag(){return"haxcms-site-router"}constructor(){super();let e={};this.baseURI&&(e.baseUrl=this.baseURI),this.router=new t.Router(this,e),this.__disposer=(0,o.autorun)(()=>{this._updateRouter(i.store.routerManifest)}),window.addEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this))}disconnectedCallback(){this.__disposer(),window.removeEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this)),super.disconnectedCallback()}_updateRouter(e){if(!e||void 0===e.items)return;const t=e.items.map(e=>({path:e.location,name:e.id,component:`fake-${e.id}-e`}));this.router.setRoutes([...t,{path:"/",component:"fake-home-e",name:"home"},{path:"/(.*)",component:"fake-404-e",name:"404"}])}_routerLocationChanged(e){i.store.location=e.detail.location}}e.HAXCMSSiteRouter=HAXCMSSiteRouter,window.customElements.define(HAXCMSSiteRouter.tag,HAXCMSSiteRouter)}));