define(["exports","meta","require"],(function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicImportRegistry=void 0,e=babelHelpers.interopRequireWildcard(e),i=babelHelpers.interopRequireWildcard(i),
/**
   * Copyright 2020 The Pennsylvania State University
   * @license Apache-2.0, see License.md for full text.
   */
window.DynamicImportRegistry=window.DynamicImportRegistry||{},window.DynamicImportRegistry.requestAvailability=()=>(window.DynamicImportRegistry.instance||(window.DynamicImportRegistry.instance=document.createElement("dynamic-import-registry"),document.body.appendChild(window.DynamicImportRegistry.instance)),window.DynamicImportRegistry.instance);class DynamicImportRegistry extends HTMLElement{static get tag(){return"dynamic-import-registry"}constructor(t=!1){super(),this.list={},this.basePath=this.pathFromUrl(decodeURIComponent(e.url))+"../../"}connectedCallback(){window.addEventListener("dynamic-import-registry--register",this.registerDefinitionEvent.bind(this))}disconnectedCallback(){window.removeEventListener("dynamic-import-registry--register",this.registerDefinitionEvent.bind(this))}register(t){t.tag&&t.path?this.list[t.tag]||(this.list[t.tag]=t.path,this.dispatchEvent(new CustomEvent("dynamic-import-registry--new-registration",{detail:{tag:t.tag,path:t.path}}))):console.warn("DynamicImportRegistry: registration requires tag and path be set")}registerDefinitionEvent(t){t.detail.tag&&t.detail.path&&this.register(t.detail)}loadDefinition(t){t=t.toLowerCase(),!window.customElements.get(name)&&this.list[t]&&new Promise((e,r)=>i.default([`${this.basePath}${this.list[t]}`],e,r)).then(e=>{this.dispatchEvent(new CustomEvent("dynamic-import-registry--loaded",{detail:{tag:name,path:this.list[t],module:e}}))}).catch(e=>{console.error(e),this.dispatchEvent(new CustomEvent("dynamic-import-registry--failure",{detail:{tag:name,path:this.list[t],module:null}}))})}pathFromUrl(t){return t.substring(0,t.lastIndexOf("/")+1)}}t.DynamicImportRegistry=DynamicImportRegistry,window.customElements.define(DynamicImportRegistry.tag,DynamicImportRegistry)}));