define(["exports"],(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mtzMarkedControlLineBehaviorImpl=void 0;t.mtzMarkedControlLineBehaviorImpl=function(t){return class extends t{static get properties(){return{...super.properties,syntaxPrefix:String}}_handleCommand(t){t.preventDefault(),t.stopPropagation();const e=this.__editor,n=e.getSelection(),r=e.getLines(),s=r.length>1?r[1].match(/(\n|\r\n)/)[0]:"",i=[];let a=0;r.every(t=>(a+=t.length,a+1<n.start||(i.push({start:a-t.length,end:a,length:t.length,text:t.trimLeft()}),a<n.end)));const o=i[0],l=o.text.startsWith(this.syntaxPrefix);let x=0;i.forEach(t=>{l&&t.text.startsWith(this.syntaxPrefix)?t.text=t.text.slice(this.syntaxPrefix.length,t.end):l||(t.text=`${this.syntaxPrefix}${t.text}`),x+=this.syntaxPrefix.length});const h=i[i.length-1];e.setSelection(o.start,h.end),1===i.length&&i[0].start>0&&(o.text=`${s}${o.text}`,o.start+=s.length),e.replaceSelection(i.map(t=>t.text).join(s)),e.setSelection(o.start,h.end+(l?-1:1)*x),e.getTextarea().focus()}}}}));