var weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months=["January","February","March","April","May","June","July","August","September","October","November","December"];function pad(num){return("0"+num).slice(-2)}function strftime(time,formatString){var day=time.getDay(),date=time.getDate(),month=time.getMonth(),year=time.getFullYear(),hour=time.getHours(),minute=time.getMinutes(),second=time.getSeconds();return formatString.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,function(_arg){var match=void 0;switch(_arg[1]){case"%":return"%";case"a":return weekdays[day].slice(0,3);case"A":return weekdays[day];case"b":return months[month].slice(0,3);case"B":return months[month];case"c":return time.toString();case"d":return pad(date);case"e":return date;case"H":return pad(hour);case"I":return pad(strftime(time,"%l"));case"l":return 0===hour||12===hour?12:(hour+12)%12;case"m":return pad(month+1);case"M":return pad(minute);case"p":return hour>11?"PM":"AM";case"P":return hour>11?"pm":"am";case"S":return pad(second);case"w":return day;case"y":return pad(year%100);case"Y":return year;case"Z":return(match=time.toString().match(/\((\w+)\)$/))?match[1]:"";case"z":return(match=time.toString().match(/\w([+-]\d\d\d\d) /))?match[1]:""}})}function makeFormatter(options){var format=void 0;return function(){if(format)return format;if("Intl"in window)try{return format=new Intl.DateTimeFormat(void 0,options)}catch(e){if(!(e instanceof RangeError))throw e}}}var dayFirst=null,dayFirstFormatter=makeFormatter({day:"numeric",month:"short"});function isDayFirst(){if(null!==dayFirst)return dayFirst;var formatter=dayFirstFormatter();if(formatter){var output=formatter.format(new Date(0));return dayFirst=!!output.match(/^\d/)}return!1}var yearSeparator=null,yearFormatter=makeFormatter({day:"numeric",month:"short",year:"numeric"});var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)},possibleConstructorReturn=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call};function _CustomElement(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(_CustomElement.prototype,HTMLElement.prototype),Object.setPrototypeOf(_CustomElement,HTMLElement);var ExtendedTimeElement=function(_CustomElement2){function ExtendedTimeElement(){return classCallCheck(this,ExtendedTimeElement),possibleConstructorReturn(this,(ExtendedTimeElement.__proto__||Object.getPrototypeOf(ExtendedTimeElement)).apply(this,arguments))}return inherits(ExtendedTimeElement,_CustomElement),createClass(ExtendedTimeElement,[{key:"attributeChangedCallback",value:function attributeChangedCallback(attrName,oldValue,newValue){if("datetime"===attrName){var millis=Date.parse(newValue);this._date=isNaN(millis)?null:new Date(millis)}var title=this.getFormattedTitle();title&&!this.hasAttribute("title")&&this.setAttribute("title",title);var text=this.getFormattedDate();text&&(this.textContent=text)}},{key:"getFormattedTitle",value:function getFormattedTitle(){if(this._date){var formatter=titleFormatter();if(formatter)return formatter.format(this._date);try{return this._date.toLocaleString()}catch(e){if(e instanceof RangeError)return this._date.toString();throw e}}}}],[{key:"observedAttributes",get:function get$$1(){return["datetime","day","format","hour","minute","month","second","title","weekday","year"]}}]),ExtendedTimeElement}(),titleFormatter=makeFormatter({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),formatters=new WeakMap,LocalTimeElement=function(_ExtendedTimeElement){function LocalTimeElement(){return classCallCheck(this,LocalTimeElement),possibleConstructorReturn(this,(LocalTimeElement.__proto__||Object.getPrototypeOf(LocalTimeElement)).apply(this,arguments))}return inherits(LocalTimeElement,ExtendedTimeElement),createClass(LocalTimeElement,[{key:"attributeChangedCallback",value:function attributeChangedCallback(attrName,oldValue,newValue){"hour"!==attrName&&"minute"!==attrName&&"second"!==attrName&&"time-zone-name"!==attrName||formatters.delete(this),function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}(LocalTimeElement.prototype.__proto__||Object.getPrototypeOf(LocalTimeElement.prototype),"attributeChangedCallback",this).call(this,attrName,oldValue,newValue)}},{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return((function formatDate(el){var props={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}},format=isDayFirst()?"weekday day month year":"weekday month day, year";for(var prop in props){var value=props[prop][el.getAttribute(prop)];format=format.replace(prop,value||"")}return format=format.replace(/(\s,)|(,\s$)/,""),strftime(el._date,format).replace(/\s+/," ").trim()}(this)||"")+" "+(function formatTime(el){var options={hour:el.getAttribute("hour"),minute:el.getAttribute("minute"),second:el.getAttribute("second"),timeZoneName:el.getAttribute("time-zone-name")};for(var opt in options)options[opt]||delete options[opt];if(0===Object.keys(options).length)return;var factory=formatters.get(el);factory||(factory=makeFormatter(options),formatters.set(el,factory));var formatter=factory();if(formatter)return formatter.format(el._date);var timef=options.second?"%H:%M:%S":"%H:%M";return strftime(el._date,timef)}(this)||"")).trim()}}]),LocalTimeElement}();window.customElements.get("local-time")||(window.LocalTimeElement=LocalTimeElement,window.customElements.define("local-time",LocalTimeElement));var RelativeTime=function(){function RelativeTime(date){classCallCheck(this,RelativeTime),this.date=date}return createClass(RelativeTime,[{key:"toString",value:function toString(){var ago=this.timeElapsed();if(ago)return ago;var ahead=this.timeAhead();return ahead||"on "+this.formatDate()}},{key:"timeElapsed",value:function timeElapsed(){var ms=(new Date).getTime()-this.date.getTime(),sec=Math.round(ms/1e3),min=Math.round(sec/60),hr=Math.round(min/60),day=Math.round(hr/24);return ms>=0&&day<30?this.timeAgoFromMs(ms):null}},{key:"timeAhead",value:function timeAhead(){var ms=this.date.getTime()-(new Date).getTime(),sec=Math.round(ms/1e3),min=Math.round(sec/60),hr=Math.round(min/60),day=Math.round(hr/24);return ms>=0&&day<30?this.timeUntil():null}},{key:"timeAgo",value:function timeAgo(){var ms=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(ms)}},{key:"timeAgoFromMs",value:function timeAgoFromMs(ms){var sec=Math.round(ms/1e3),min=Math.round(sec/60),hr=Math.round(min/60),day=Math.round(hr/24),month=Math.round(day/30),year=Math.round(month/12);return ms<0?"just now":sec<10?"just now":sec<45?sec+" seconds ago":sec<90?"a minute ago":min<45?min+" minutes ago":min<90?"an hour ago":hr<24?hr+" hours ago":hr<36?"a day ago":day<30?day+" days ago":day<45?"a month ago":month<12?month+" months ago":month<18?"a year ago":year+" years ago"}},{key:"microTimeAgo",value:function microTimeAgo(){var ms=(new Date).getTime()-this.date.getTime(),sec=Math.round(ms/1e3),min=Math.round(sec/60),hr=Math.round(min/60),day=Math.round(hr/24),month=Math.round(day/30),year=Math.round(month/12);return min<1?"1m":min<60?min+"m":hr<24?hr+"h":day<365?day+"d":year+"y"}},{key:"timeUntil",value:function timeUntil(){var ms=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(ms)}},{key:"timeUntilFromMs",value:function timeUntilFromMs(ms){var sec=Math.round(ms/1e3),min=Math.round(sec/60),hr=Math.round(min/60),day=Math.round(hr/24),month=Math.round(day/30),year=Math.round(month/12);return month>=18?year+" years from now":month>=12?"a year from now":day>=45?month+" months from now":day>=30?"a month from now":hr>=36?day+" days from now":hr>=24?"a day from now":min>=90?hr+" hours from now":min>=45?"an hour from now":sec>=90?min+" minutes from now":sec>=45?"a minute from now":sec>=10?sec+" seconds from now":"just now"}},{key:"microTimeUntil",value:function microTimeUntil(){var ms=this.date.getTime()-(new Date).getTime(),sec=Math.round(ms/1e3),min=Math.round(sec/60),hr=Math.round(min/60),day=Math.round(hr/24),month=Math.round(day/30),year=Math.round(month/12);return day>=365?year+"y":hr>=24?day+"d":min>=60?hr+"h":min>1?min+"m":"1m"}},{key:"formatDate",value:function formatDate(){var format=isDayFirst()?"%e %b":"%b %e";return function isThisYear(date){return(new Date).getUTCFullYear()===date.getUTCFullYear()}(this.date)||(format+=function isYearSeparator(){if(null!==yearSeparator)return yearSeparator;var formatter=yearFormatter();if(formatter){var output=formatter.format(new Date(0));return yearSeparator=!!output.match(/\d,/)}return!0}()?", %Y":" %Y"),strftime(this.date,format)}},{key:"formatTime",value:function formatTime(){var formatter=timeFormatter();return formatter?formatter.format(this.date):strftime(this.date,"%l:%M%P")}}]),RelativeTime}(),timeFormatter=makeFormatter({hour:"numeric",minute:"2-digit"}),RelativeTimeElement=function(_ExtendedTimeElement){function RelativeTimeElement(){return classCallCheck(this,RelativeTimeElement),possibleConstructorReturn(this,(RelativeTimeElement.__proto__||Object.getPrototypeOf(RelativeTimeElement)).apply(this,arguments))}return inherits(RelativeTimeElement,ExtendedTimeElement),createClass(RelativeTimeElement,[{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return new RelativeTime(this._date).toString()}},{key:"connectedCallback",value:function connectedCallback(){nowElements.push(this),updateNowElementsId||(updateNowElements(),updateNowElementsId=setInterval(updateNowElements,6e4))}},{key:"disconnectedCallback",value:function disconnectedCallback(){var ix=nowElements.indexOf(this);-1!==ix&&nowElements.splice(ix,1),nowElements.length||updateNowElementsId&&(clearInterval(updateNowElementsId),updateNowElementsId=null)}}]),RelativeTimeElement}(),nowElements=[],updateNowElementsId=void 0;function updateNowElements(){var len,time=void 0,i=void 0;for(i=0,len=nowElements.length;i<len;i++)(time=nowElements[i]).textContent=time.getFormattedDate()}window.customElements.get("relative-time")||(window.RelativeTimeElement=RelativeTimeElement,window.customElements.define("relative-time",RelativeTimeElement));var TimeAgoElement=function(_RelativeTimeElement){function TimeAgoElement(){return classCallCheck(this,TimeAgoElement),possibleConstructorReturn(this,(TimeAgoElement.__proto__||Object.getPrototypeOf(TimeAgoElement)).apply(this,arguments))}return inherits(TimeAgoElement,RelativeTimeElement),createClass(TimeAgoElement,[{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return"micro"===this.getAttribute("format")?new RelativeTime(this._date).microTimeAgo():new RelativeTime(this._date).timeAgo()}}]),TimeAgoElement}();window.customElements.get("time-ago")||(window.TimeAgoElement=TimeAgoElement,window.customElements.define("time-ago",TimeAgoElement));var TimeUntilElement=function(_RelativeTimeElement){function TimeUntilElement(){return classCallCheck(this,TimeUntilElement),possibleConstructorReturn(this,(TimeUntilElement.__proto__||Object.getPrototypeOf(TimeUntilElement)).apply(this,arguments))}return inherits(TimeUntilElement,RelativeTimeElement),createClass(TimeUntilElement,[{key:"getFormattedDate",value:function getFormattedDate(){if(this._date)return"micro"===this.getAttribute("format")?new RelativeTime(this._date).microTimeUntil():new RelativeTime(this._date).timeUntil()}}]),TimeUntilElement}();window.customElements.get("time-until")||(window.TimeUntilElement=TimeUntilElement,window.customElements.define("time-until",TimeUntilElement));