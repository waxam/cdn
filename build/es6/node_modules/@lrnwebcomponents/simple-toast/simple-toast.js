import{html,PolymerElement}from"../../@polymer/polymer/polymer-element.js";import"../../@polymer/paper-toast/paper-toast.js";import"../../@polymer/paper-button/paper-button.js";import{dom}from"../../@polymer/polymer/lib/legacy/polymer.dom.js";import*as async from"../../@polymer/polymer/lib/utils/async.js";window.SimpleToast=window.SimpleToast||{};window.SimpleToast.requestAvailability=()=>{if(!window.SimpleToast.instance){window.SimpleToast.instance=document.createElement("simple-toast");document.body.appendChild(window.SimpleToast.instance)}return window.SimpleToast.instance};class SimpleToast extends PolymerElement{static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none;
        }
      </style>
      <paper-toast
        id="toast"
        text="[[text]]"
        duration$="[[duration]]"
        opened="{{opened}}"
        class$="[[classStyle]]"
      >
        <slot></slot>
        <paper-button hidden$="[[!closeButton]]" on-tap="hide"
          >[[closeText]]</paper-button
        >
      </paper-toast>
    `}static get properties(){return{opened:{name:"opened",type:"Boolean",value:!1,reflectToAttribute:!0},text:{name:"text",type:"String",value:"Saved"},classStyle:{name:"classStyle",type:"String",value:""},closeText:{name:"closeText",type:"String",value:"Close"},duration:{name:"duration",type:"Number",value:4e3},eventCallback:{name:"eventCallback",type:"String"},closeButton:{name:"closeButton",type:"Boolean",value:!0,reflectToAttribute:!0}}}static get tag(){return"simple-toast"}connectedCallback(){super.connectedCallback();window.addEventListener("simple-toast-hide",this.hideSimpleToast.bind(this));window.addEventListener("simple-toast-show",this.showSimpleToast.bind(this))}disconnectedCallback(){super.connectedCallback();window.removeEventListener("simple-toast-hide",this.hideSimpleToast.bind(this));window.removeEventListener("simple-toast-show",this.showSimpleToast.bind(this))}hideSimpleToast(){this.hide()}showSimpleToast(e){if(e.detail.duration){this.duration=e.detail.duration}if(e.detail.text){this.text=e.detail.text}if(e.detail.classStyle){this.classStyle=e.detail.classStyle}if(e.detail.closeText){this.closeText=e.detail.closeText}if(e.detail.closeButton){this.closeButton=e.detail.closeButton}if(e.detail.eventCallback){this.eventCallback=e.detail.eventCallback}while(null!==dom(this).firstChild){dom(this).removeChild(dom(this).firstChild)}if(e.detail.slot){dom(this).appendChild(e.detail.slot)}async.microTask.run(()=>{setTimeout(()=>{this.show()},50)})}show(){this.$.toast.show()}hide(){if(this.eventCallback){const evt=new CustomEvent(this.eventCallback,{bubbles:!0,cancelable:!0,detail:!0});this.dispatchEvent(evt)}this.$.toast.hide()}}window.customElements.define(SimpleToast.tag,SimpleToast);export{SimpleToast};