/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{html as e,css as t}from"../../lit-element/lit-element.js";import{SimpleColors as i}from"../simple-colors/simple-colors.js";import"./lib/simple-iconset.js";class SimpleIcon extends i{static get tag(){return"simple-icon"}static get styles(){return[...super.styles,t`
        :host {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          position: relative;
          vertical-align: middle;
          height: var(--simple-icon-height, 24px);
          width: var(--simple-icon-width, 24px);
        }
        feFlood {
          flood-color: var(--simple-colors-default-theme-accent-8, #000000);
        }
      `]}render(){return e`
      <svg xmlns="http://www.w3.org/2000/svg">
        <filter
          color-interpolation-filters="sRGB"
          x="0"
          y="0"
          height="100%"
          width="100%"
        >
          <feFlood result="COLOR" />
          <feComposite operator="in" in="COLOR" in2="SourceAlpha" />
        </filter>
        <image
          xlink:href=""
          width="100%"
          height="100%"
          focusable="false"
          preserveAspectRatio="xMidYMid meet"
        ></image>
      </svg>
    `}static get properties(){return{...super.properties,src:{type:String},icon:{type:String,reflect:!0}}}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e);const t="f-"+Math.random().toString().slice(2,10);this.shadowRoot.querySelector("image").style.filter=`url(#${t})`,this.shadowRoot.querySelector("filter").setAttribute("id",t)}setSrcByIcon(e){return this.src=window.SimpleIconset.requestAvailability().getIcon(this.icon,e),this.src}updated(e){super.updated&&super.updated(e),e.forEach((e,t)=>{"icon"==t&&(this[t]?this.setSrcByIcon(this):this.src=null),"src"==t&&this[t]&&this.shadowRoot.querySelector("image").setAttribute("xlink:href",this[t])})}}customElements.define(SimpleIcon.tag,SimpleIcon);export{SimpleIcon};