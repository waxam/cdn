!function(j,k){"object"==typeof exports&&"undefined"!=typeof module?k(exports,require("@polymer/polymer/lib/utils/flattened-nodes-observer.js"),require("@polymer/paper-toast/paper-toast.js"),require("@lrnwebcomponents/hax-body/lib/hax-store.js"),require("@lrnwebcomponents/hax-body/hax-body.js"),require("@lrnwebcomponents/hax-body/lib/hax-autoloader.js"),require("@lrnwebcomponents/hax-body/lib/hax-manager.js"),require("@lrnwebcomponents/hax-body/lib/hax-panel.js"),require("@lrnwebcomponents/hax-body/lib/hax-app-picker.js"),require("@lrnwebcomponents/hax-body/lib/hax-export-dialog.js"),require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/iron-ajax/iron-ajax.js"),require("@polymer/paper-spinner/paper-spinner.js"),require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/lib/utils/flattened-nodes-observer.js","@polymer/paper-toast/paper-toast.js","@lrnwebcomponents/hax-body/lib/hax-store.js","@lrnwebcomponents/hax-body/hax-body.js","@lrnwebcomponents/hax-body/lib/hax-autoloader.js","@lrnwebcomponents/hax-body/lib/hax-manager.js","@lrnwebcomponents/hax-body/lib/hax-panel.js","@lrnwebcomponents/hax-body/lib/hax-app-picker.js","@lrnwebcomponents/hax-body/lib/hax-export-dialog.js","@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/polymer/lib/utils/async.js","@polymer/iron-ajax/iron-ajax.js","@polymer/paper-spinner/paper-spinner.js","@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"],k):k(j.CmsHax={},j.flattenedNodesObserver_js,null,null,null,null,null,null,null,null,j.polymerLegacy_js,j.polymer_dom_js,j.async)}(this,function(j,k,q,w,x,z,A,B,C,D,E,F,G){"use strict";function H(O){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(O)}function I(){var O,P,Q=(O=["\n    <style>\n      :host {\n        display: block;\n        font-size: 16px;\n        box-sizing: content-box;\n      }\n    </style>\n    <iron-ajax\n      id=\"pageupdateajax\"\n      url=\"[[endPoint]]\"\n      method=\"[[method]]\"\n      body=\"[[updatePageData]]\"\n      content-type=\"application/json\"\n      handle-as=\"json\"\n      on-response=\"_handleUpdateResponse\"\n    ></iron-ajax>\n    <paper-toast id=\"toast\" horizontal-align=\"left\"></paper-toast>\n    <hax-store\n      hidden=\"\"\n      app-store=\"[[appStoreConnection]]\"\n      valid-tag-list=\"[[allowedTags]]\"\n    ></hax-store>\n    <hax-autoloader id=\"loader\" hidden=\"\"></hax-autoloader>\n    <hax-panel\n      id=\"panel\"\n      hide-export-button=\"{{hideExportButton}}\"\n      hide-panel-ops=\"[[hidePanelOps]]\"\n      hide-preferences-button=\"[[hidePreferencesButton]]\"\n      align=\"[[align]]\"\n    ></hax-panel>\n    <hax-body id=\"body\" context-offset-left=\"[[bodyOffsetLeft]]\"></hax-body>\n    <hax-manager></hax-manager>\n    <hax-app-picker></hax-app-picker>\n    <hax-export-dialog></hax-export-dialog>\n    <cms-token></cms-token>\n    <cms-views></cms-views>\n    <cms-block></cms-block>\n    <cms-entity></cms-entity>\n  "],P||(P=O.slice(0)),Object.freeze(Object.defineProperties(O,{raw:{value:Object.freeze(P)}})));return I=function(){return Q},Q}var J=document.createElement("div");J.setAttribute("style","display: none;"),J.innerHTML="<dom-module id=\"cms-token\">\n    <template strip-whitespace=\"\">\n        <style>\n            :host {\n                display: inline;\n                min-width: 112px;\n                min-height: 112px;\n                transition: .6s all ease;\n                background-color: transparent;\n            }\n\n            paper-spinner {\n                transition: .6s all ease;\n                position: absolute;\n                visibility: hidden;\n                display: none;\n                opacity: 0;\n                height: 0;\n                width: 0;\n            }\n\n            #replacementcontent {\n                transition: .6s all ease;\n                visibility: visible;\n                opacity: 1;\n                height: auto;\n                width: auto;\n            }\n\n            :host([loading]) {\n                text-align: center;\n            }\n\n            :host([loading]) paper-spinner {\n                visibility: visible;\n                opacity: 1;\n                position: relative;\n                height: 80px;\n                width: 80px;\n                padding: 16px;\n                display: flex;\n            }\n\n            :host([loading]) #replacementcontent {\n                opacity: 0;\n                visibility: hidden;\n                height: 0;\n                width: 0;\n            }\n        </style>\n        <iron-ajax id=\"tokenrequest\" method=\"GET\" params=\"[[bodyData]]\" url=\"[[tokenEndPoint]]\" handle-as=\"json\" last-response=\"{{tokenData}}\"></iron-ajax>\n        <paper-spinner active=\"[[loading]]\"></paper-spinner>\n        <span id=\"replacementcontent\">\n            <slot></slot>\n        </span>\n    </template>\n\n    \n</dom-module>",document.head.appendChild(J),E.Polymer({is:"cms-token",behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{loading:{type:Boolean,reflectToAttribute:!0,value:!1},token:{type:String,reflectToAttribute:!0},tokenEndPoint:{type:String},bodyData:{type:Object,computed:"_generateBodyData(token, _clickInvoked)",observer:"_tokenChanged"},_clickInvoked:{type:String,value:!1},tokenData:{type:String,observer:"_handleTokenResponse"},tokenPrefix:{type:String,value:"["},tokenSuffix:{type:String,value:"]"},_displayMode:{type:String,value:"full",observer:"_displayModeChanged"}},_displayModeChanged:function(O,P){"undefined"!==H(O)&&""!=O&&"undefined"!==H(this.token)&&(this.token=this.token.replace(P,O))},_generateBodyData:function(O,P){if(null!==O&&""!==O){var Q=this.tokenPrefix,R=this.tokenSuffix;return{token:"".concat(Q).concat(O).concat(R),cachedResponse:P}}},_handleTokenResponse:function(O){var Q=this;null!==O&&"undefined"!==H(O.content)&&(null!=document.getElementById("cmstokenidtolockonto")&&(document.getElementById("cmstokenidtolockonto").setAttribute("href",O.editEndpoint),document.getElementById("cmstokenidtolockonto").innerHTML=O.editText,document.getElementById("cmstokenidtolockonto").addEventListener("click",this.__tokenClicked.bind(this))),this.wipeSlot(F.dom(this)),G.microTask.run(function(){var R=document.createElement("template");R.innerHTML=O.content,F.dom(Q).appendChild(document.importNode(R.content,!0)),Q.loading=!1}))},wipeSlot:function(O){for(;null!==O.firstChild;)O.removeChild(O.firstChild)},_tokenChanged:function(O){var Q=this;"undefined"===H(O)||""===O||this.loading||("undefined"===H(this.tokenEndPoint)&&"undefined"!==H(window.cmstokenEndPoint)&&(this.tokenEndPoint=window.cmstokenEndPoint),this.tokenEndPoint&&(this.loading=!0,G.microTask.run(function(){Q.$.tokenrequest.generateRequest()})))},_windowVisibilityChanged:function(){!this.loading&&this._clickInvoked&&(this.$.tokenrequest.generateRequest(),this._clickInvoked=!1)},__tokenClicked:function(){this._clickInvoked=!0},detached:function(){document.removeEventListener("visibilitychange",this._windowVisibilityChanged.bind(this))},attached:function(){var O=this;(document.addEventListener("visibilitychange",this._windowVisibilityChanged.bind(this)),"undefined"!==H(this.token)&&null!==this.token&&""!==this.token)&&(0!==F.dom(this).getEffectiveChildNodes().length||this.loading||("undefined"===H(this.tokenEndPoint)&&"undefined"!==H(window.cmstokenEndPoint)&&(this.tokenEndPoint=window.cmstokenEndPoint),this.tokenEndPoint&&(this.loading=!0,G.microTask.run(function(){O.$.tokenrequest.generateRequest()})))),this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"CMS Token",description:"CMS token rendered on the backend",icon:"icons:code",color:"light-blue",groups:["CMS"],handles:[{type:"cmstoken",token:"token"}],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{property:"token",title:"Token",description:"Token from our CMS",inputMethod:"textfield",icon:"editor:title"}],advanced:[]},saveOptions:{wipeSlot:!0,unsetAttributes:["loading","token-data","body-data","token-end-point"]}})},postProcessgetHaxJSONSchema:function(O){var P="",Q="Edit";if("undefined"!==H(this.tokenData))for(var R in P=this.tokenData.editEndpoint,Q=this.tokenData.editText,this.tokenData.schema)O.properties[R]=this.tokenData.schema[R];return O.properties.__editThis={type:"string",component:{name:"a",properties:{id:"cmstokenidtolockonto",href:P,target:"_blank"},slot:Q}},O}});var K=document.createElement("div");K.setAttribute("style","display: none;"),K.innerHTML="<dom-module id=\"cms-block\">\n  <template strip-whitespace=\"\">\n    <style>\n      :host {\n        display: block;\n        min-width: 112px;\n        min-height: 112px;\n        transition: .6s all ease;\n        background-color: transparent;\n      }\n      paper-spinner {\n        visibility: hidden;\n        opacity: 0;\n        height: 80px;\n        width: 80px;\n        padding: 16px;\n      }\n      #replacementcontent {\n        visibility: visible;\n        opacity: 1;\n      }\n      :host([loading]) {\n        text-align: center;\n      }\n      :host([loading]) paper-spinner {\n        visibility: visible;\n        opacity: 1;\n      }\n      :host([loading]) #replacementcontent {\n        opacity: 0;\n        visibility: hidden;\n      }\n    </style>\n    <iron-ajax id=\"blockrequest\" method=\"GET\" params=\"[[bodyData]]\" url=\"[[blockEndPoint]]\" handle-as=\"json\" last-response=\"{{blockData}}\"></iron-ajax>\n    <paper-spinner active=\"[[loading]]\"></paper-spinner>\n    <span id=\"replacementcontent\"><slot></slot></span>\n  </template>\n\n  \n</dom-module>",document.head.appendChild(K),E.Polymer({is:"cms-block",behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{loading:{type:Boolean,reflectToAttribute:!0,value:!1},blockModule:{type:String,reflectToAttribute:!0},blockDelta:{type:String,reflectToAttribute:!0},blockEndPoint:{type:String},bodyData:{type:Object,computed:"_generateBodyData(blockModule, blockDelta)",observer:"_blockChanged"},blockData:{type:String,observer:"_handleblockResponse"},blockPrefix:{type:String,observer:"["},blockSuffix:{type:String,observer:"]"}},_generateBodyData:function(O,P){if(null!==O&&""!==O&&null!==P&&""!==P)return{module:"".concat(O),delta:"".concat(P)}},_handleblockResponse:function(O){var Q=this;null!==O&&"undefined"!==H(O.content)&&(null!=document.getElementById("cmstokenidtolockonto")&&(document.getElementById("cmstokenidtolockonto").setAttribute("href",O.editEndpoint),document.getElementById("cmstokenidtolockonto").innerHTML=O.editText),this.wipeSlot(F.dom(this)),G.microTask.run(function(){var R=document.createElement("span");R.innerHTML=O.content;var S=R.cloneNode(!0);F.dom(Q).appendChild(S),setTimeout(function(){Q.loading=!1},600)}))},wipeSlot:function(O){for(;null!==O.firstChild;)O.removeChild(O.firstChild)},_blockChanged:function(O){var Q=this;"undefined"===H(O)||""===O||this.loading||("undefined"===H(this.blockEndPoint)&&"undefined"!==H(window.cmsblockEndPoint)&&(this.blockEndPoint=window.cmsblockEndPoint),this.blockEndPoint&&(this.loading=!0,G.microTask.run(function(){Q.$.blockrequest.generateRequest()})))},attached:function(){var O=this;"undefined"!==H(this.blockModule)&&null!==this.blockModule&&""!==this.blockModule&&(0!==F.dom(this).getEffectiveChildNodes().length||this.loading||("undefined"===H(this.blockEndPoint)&&"undefined"!==H(window.cmsblockEndPoint)&&(this.blockEndPoint=window.cmsblockEndPoint),this.blockEndPoint&&(this.loading=!0,G.microTask.run(function(){O.$.blockrequest.generateRequest()})))),this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"CMS Block",description:"CMS block rendered on the backend",icon:"image:crop-square",color:"light-blue",groups:["CMS"],handles:[{type:"cmsblock",block:"block"}],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{property:"blockModule",title:"Module",description:"Module to load from our CMS",inputMethod:"textfield",icon:"editor:title"},{property:"blockDelta",title:"Delta",description:"Delta of the block to load from our CMS",inputMethod:"textfield",icon:"editor:title"}],advanced:[]},saveOptions:{wipeSlot:!0,unsetAttributes:["loading","block-data","body-data","block-end-point"]}})},postProcessgetHaxJSONSchema:function(O){return O.properties.__editThis={type:"string",component:{name:"a",properties:{id:"cmstokenidtolockonto",href:"",target:"_blank"},slot:"Edit this block"}},O}});var L=document.createElement("div");L.setAttribute("style","display: none;"),L.innerHTML="<dom-module id=\"cms-views\">\n  <template strip-whitespace=\"\">\n    <style>\n      :host {\n        display: block;\n        min-width: 112px;\n        min-height: 112px;\n        transition: .6s all ease;\n        background-color: transparent;\n      }\n      paper-spinner {\n        visibility: hidden;\n        opacity: 0;\n        height: 80px;\n        width: 80px;\n        padding: 16px;\n      }\n      #replacementcontent {\n        visibility: visible;\n        opacity: 1;\n      }\n      :host([loading]) {\n        text-align: center;\n      }\n      :host([loading]) paper-spinner {\n        visibility: visible;\n        opacity: 1;\n      }\n      :host([loading]) #replacementcontent {\n        opacity: 0;\n        visibility: hidden;\n      }\n    </style>\n    <iron-ajax id=\"viewsrequest\" method=\"GET\" params=\"[[bodyData]]\" url=\"[[viewsEndPoint]]\" handle-as=\"json\" last-response=\"{{viewsData}}\"></iron-ajax>\n    <paper-spinner active=\"[[loading]]\"></paper-spinner>\n    <span id=\"replacementcontent\"><slot></slot></span>\n  </template>\n\n  \n</dom-module>",document.head.appendChild(L),E.Polymer({is:"cms-views",behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{loading:{type:Boolean,reflectToAttribute:!0,value:!1},viewsName:{type:String,reflectToAttribute:!0},viewsDisplay:{type:String,reflectToAttribute:!0},viewsEndPoint:{type:String},bodyData:{type:Object,computed:"_generateBodyData(viewsName, viewsDisplay)",observer:"_viewsChanged"},viewsData:{type:String,observer:"_handleviewsResponse"},viewsPrefix:{type:String,observer:"["},viewsSuffix:{type:String,observer:"]"}},_generateBodyData:function(O,P){if(null!==O&&""!==O)return{name:"".concat(O),display:"".concat(P)}},_handleviewsResponse:function(O){var Q=this;null!==O&&"undefined"!==H(O.content)&&(null!=document.getElementById("cmstokenidtolockonto")&&(document.getElementById("cmstokenidtolockonto").setAttribute("href",O.editEndpoint),document.getElementById("cmstokenidtolockonto").innerHTML=O.editText),this.wipeSlot(F.dom(this)),G.microTask.run(function(){var R=document.createElement("span");R.innerHTML=O.content;var S=R.cloneNode(!0);F.dom(Q).appendChild(S),setTimeout(function(){Q.loading=!1},600)}))},wipeSlot:function(O){for(;null!==O.firstChild;)O.removeChild(O.firstChild)},_viewsChanged:function(O){var Q=this;"undefined"===H(O)||""===O||this.loading||("undefined"===H(this.viewsEndPoint)&&"undefined"!==H(window.cmsviewsEndPoint)&&(this.viewsEndPoint=window.cmsviewsEndPoint),this.viewsEndPoint&&(this.loading=!0,G.microTask.run(function(){Q.$.viewsrequest.generateRequest()})))},attached:function(){var O=this;"undefined"!==H(this.viewsName)&&null!==this.viewsName&&""!==this.viewsName&&(0!==F.dom(this).getEffectiveChildNodes().length||this.loading||("undefined"===H(this.viewsEndPoint)&&"undefined"!==H(window.cmsviewsEndPoint)&&(this.viewsEndPoint=window.cmsviewsEndPoint),this.viewsEndPoint&&(this.loading=!0,G.microTask.run(function(){O.$.viewsrequest.generateRequest()})))),this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"CMS View",description:"CMS views rendered on the backend",icon:"icons:view-module",color:"light-blue",groups:["CMS"],handles:[{type:"cmsviews",views:"views"}],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{property:"viewsName",title:"Name",description:"Name of the view from our CMS",inputMethod:"textfield",icon:"editor:title"},{property:"viewsDisplay",title:"Display",description:"Display within that view from our CMS",inputMethod:"textfield",icon:"editor:title"}],advanced:[]},saveOptions:{wipeSlot:!0,unsetAttributes:["loading","views-data","body-data","views-end-point"]}})},postProcessgetHaxJSONSchema:function(O){return O.properties.__editThis={type:"string",component:{name:"a",properties:{id:"cmstokenidtolockonto",href:"",target:"_blank"},slot:"Edit this view"}},O}});var M=document.createElement("div");M.setAttribute("style","display: none;"),M.innerHTML="<dom-module id=\"cms-entity\">\n  <template strip-whitespace=\"\">\n    <style>\n      :host {\n        display: block;\n        min-width: 112px;\n        min-height: 112px;\n        transition: .6s all ease;\n        background-color: transparent;\n      }\n      paper-spinner {\n        visibility: hidden;\n        opacity: 0;\n        height: 80px;\n        width: 80px;\n        padding: 16px;\n      }\n      #replacementcontent {\n        visibility: visible;\n        opacity: 1;\n      }\n      :host([loading]) {\n        text-align: center;\n      }\n      :host([loading]) paper-spinner {\n        visibility: visible;\n        opacity: 1;\n      }\n      :host([loading]) #replacementcontent {\n        opacity: 0;\n        visibility: hidden;\n      }\n    </style>\n    <iron-ajax id=\"entityrequest\" method=\"GET\" params=\"[[bodyData]]\" url=\"[[entityEndPoint]]\" handle-as=\"json\" last-response=\"{{entityData}}\"></iron-ajax>\n    <paper-spinner active=\"[[loading]]\"></paper-spinner>\n    <span id=\"replacementcontent\"><slot></slot></span>\n  </template>\n\n  \n</dom-module>",document.head.appendChild(M),E.Polymer({is:"cms-entity",behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{loading:{type:Boolean,reflectToAttribute:!0,value:!1},entityType:{type:String,reflectToAttribute:!0},entityId:{type:String,reflectToAttribute:!0},entityDisplayMode:{type:String,reflectToAttribute:!0},entityEndPoint:{type:String},bodyData:{type:Object,computed:"_generateBodyData(entityType, entityId, entityDisplayMode)",observer:"_entityChanged"},entityData:{type:String,observer:"_handleEntityResponse"},entityPrefix:{type:String,observer:"["},entitySuffix:{type:String,observer:"]"}},_generateBodyData:function(O,P,Q){if(null!==O&&""!==O&&null!==P&&""!==P)return{type:"".concat(O),id:"".concat(P),display_mode:"".concat(Q)}},_handleEntityResponse:function(O){var Q=this;null!==O&&"undefined"!==H(O.content)&&(null!=document.getElementById("cmstokenidtolockonto")&&(document.getElementById("cmstokenidtolockonto").setAttribute("href",O.editEndpoint),document.getElementById("cmstokenidtolockonto").innerHTML=O.editText),this.wipeSlot(F.dom(this)),G.microTask.run(function(){var R=document.createElement("span");R.innerHTML=O.content;var S=R.cloneNode(!0);F.dom(Q).appendChild(S),setTimeout(function(){Q.loading=!1},600)}))},wipeSlot:function(O){for(;null!==O.firstChild;)O.removeChild(O.firstChild)},_entityChanged:function(O){var Q=this;"undefined"===H(O)||""===O||this.loading||("undefined"===H(this.entityEndPoint)&&"undefined"!==H(window.cmsentityEndPoint)&&(this.entityEndPoint=window.cmsentityEndPoint),this.entityEndPoint&&(this.loading=!0,G.microTask.run(function(){Q.$.entityrequest.generateRequest()})))},attached:function(){var O=this;"undefined"!==H(this.entity)&&null!==this.entity&&""!==this.entity&&(0!==F.dom(this).getEffectiveChildNodes().length||this.loading||("undefined"===H(this.entityEndPoint)&&"undefined"!==H(window.cmsentityEndPoint)&&(this.entityEndPoint=window.cmsentityEndPoint),this.entityEndPoint&&(this.loading=!0,G.microTask.run(function(){O.$.entityrequest.generateRequest()})))),this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"CMS Entity",description:"CMS entity rendered on the backend",icon:"places:spa",color:"light-blue",groups:["CMS"],handles:[{type:"cmsentity",entity:"entity"}],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{property:"entityType",title:"Type",description:"type from our CMS",inputMethod:"select",options:{node:"Node",user:"User",file:"File"},icon:"editor:title"},{property:"entityID",title:"ID",description:"id from our CMS",inputMethod:"textfield",icon:"editor:title"},{property:"entityDisplayMode",title:"Display mode",description:"display mode from our CMS",inputMethod:"textfield",icon:"editor:title"}],advanced:[]},saveOptions:{wipeSlot:!0,unsetAttributes:["loading","entity-data","body-data","entity-end-point"]}})},postProcessgetHaxJSONSchema:function(O){return O.properties.__editThis={type:"string",component:{name:"a",properties:{id:"cmstokenidtolockonto",href:"",target:"_blank"},slot:"Edit this content"}},O}});var N=E.Polymer({_template:E.html(I()),is:"cms-hax",properties:{openDefault:{type:Boolean,value:!1},hideExportButton:{type:Boolean,value:!0},hidePanelOps:{type:Boolean,value:!1},hidePreferencesButton:{type:Boolean,value:!1},align:{type:String,value:"right"},allowedTags:{type:Array},endPoint:{type:String},method:{type:String,value:"PUT"},updatePageData:{type:String},appStoreConnection:{type:Object},bodyOffsetLeft:{type:Number,value:-164},editMode:{type:Boolean,reflectToAttribute:!0},syncBody:{type:Boolean,value:!1},bodyValue:{type:String,value:""},hideMessage:{type:Boolean,value:!1},redirectLocation:{type:String},redirectOnSave:{type:Boolean,computed:"_computeRedirectOnSave(redirectLocation)"},activeHaxBody:{type:Object,observer:"_activeHaxBodyUpdated"},__imported:{type:Boolean,value:!1}},_activeHaxBodyUpdated:function(O){if(null!=O&&!this.__imported){this.__imported=!0;var Q=this.queryEffectiveChildren("template");"undefined"!==H(Q)&&O.importContent(Q.innerHTML)}},_computeRedirectOnSave:function(O){return"undefined"!==H(O)},created:function(){document.body.addEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this))},attached:function(){var O=this;this.__lock=!1,document.body.addEventListener("hax-save",this._saveFired.bind(this)),this.openDefault&&window.HaxStore.write("editMode",!0,this),this.syncBody&&k.FlattenedNodesObserver(this.$.body,function(){O.__lock||(O.__lock=!0,O.fire("hax-body-content-changed",window.HaxStore.instance.activeHaxBody.haxToContent()),setTimeout(function(){O.__lock=!1},100))})},_haxStorePropertyUpdated:function(O){O.detail&&"undefined"!==H(O.detail.value)&&O.detail.property&&("object"===H(O.detail.value)&&this.set(O.detail.property,null),this.set(O.detail.property,O.detail.value),this.notifyPath(O.detail.property))},_saveFired:function(){this.updatePageData=window.HaxStore.instance.activeHaxBody.haxToContent(),this.$.pageupdateajax.generateRequest()},_handleUpdateResponse:function(){var P=this;this.hideMessage||(this.$.toast.show("Saved!"),this.redirectOnSave&&setTimeout(function(){P.$.panel.toggle(),window.location=P.redirectLocation},1e3))}});j.CmsHax=N,Object.defineProperty(j,"__esModule",{value:!0})});