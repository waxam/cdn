!function(g,j){"object"==typeof exports&&"undefined"!=typeof module?j(exports,require("@polymer/iron-icons/iron-icons.js"),require("@polymer/paper-input/paper-input.js"),require("@polymer/paper-tooltip/paper-tooltip.js"),require("@polymer/polymer/polymer-element.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/iron-icons/iron-icons.js","@polymer/paper-input/paper-input.js","@polymer/paper-tooltip/paper-tooltip.js","@polymer/polymer/polymer-element.js"],j):j(g.SimpleSearch={},null,null,null,g.polymerElement_js)}(this,function(g,j,k,q,w){"use strict";function x(K,L){if(!(K instanceof L))throw new TypeError("Cannot call a class as a function")}function y(K,L){for(var N,M=0;M<L.length;M++)N=L[M],N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(K,N.key,N)}function z(K,L,M){return L&&y(K.prototype,L),M&&y(K,M),K}function A(K,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(L&&L.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),L&&C(K,L)}function B(K){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)})(K)}function C(K,L){return(C=Object.setPrototypeOf||function(M,N){return M.__proto__=N,M})(K,L)}function D(K,L){return L&&("object"==typeof L||"function"==typeof L)?L:function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(K)}function E(K,L,M){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(N,O,P){var Q=function(S,T){for(;!Object.prototype.hasOwnProperty.call(S,T)&&null!==(S=B(S)););return S}(N,O);if(Q){var R=Object.getOwnPropertyDescriptor(Q,O);return R.get?R.get.call(P):R.value}})(K,L,M||K)}function F(K,L){return L||(L=K.slice(0)),Object.freeze(Object.defineProperties(K,{raw:{value:Object.freeze(L)}}))}function G(){var K=F(["\n      <style>\n        :host #content {\n          @apply --simple-search-content;\n        }\n        :host #content[match-number] {\n          color: var(--simple-search-match-text-color, #000);\n          background-color: var(--simple-search-match-bg-color, #f0f0f0);\n          border: 1px solid;\n          border-color: var(--simple-search-match-border-color, #ddd);\n          padding: 0.16px 4px;\n          border-radius: 0.16px;\n          font-weight: bold;\n          @apply --simple-search-match;\n        }\n      </style>\n      <span id=\"content\">\n        <template is=\"dom-repeat\" items=\"[[_searchedContent]]\">\n          <span\n            match-number$=\"[[item.matchNumber]]\"\n            tabindex$=\"[[_getTabIndex(item.matchNumber)]]\"\n            >[[item.text]]</span\n          >\n        </template>\n      </span>\n    "],["\n      <style>\n        :host #content {\n          @apply --simple-search-content;\n        }\n        :host #content[match-number] {\n          color: var(--simple-search-match-text-color, #000);\n          background-color: var(--simple-search-match-bg-color, #f0f0f0);\n          border: 1px solid;\n          border-color: var(--simple-search-match-border-color, #ddd);\n          padding: 0.16px 4px;\n          border-radius: 0.16px;\n          font-weight: bold;\n          @apply --simple-search-match;\n        }\n      </style>\n      <span id=\"content\">\n        <template is=\"dom-repeat\" items=\"[[_searchedContent]]\">\n          <span\n            match-number\\$=\"[[item.matchNumber]]\"\n            tabindex\\$=\"[[_getTabIndex(item.matchNumber)]]\"\n            >[[item.text]]</span\n          >\n        </template>\n      </span>\n    "]);return G=function(){return K},K}function H(){var K=F(["\n      <style is=\"custom-style\">\n        :host {\n          display: flex;\n          align-items: flex-end;\n          justify-content: space-between;\n          width: 100%;\n        }\n        :host #input {\n          flex-grow: 2;\n          margin-right: 4px;\n          --paper-input-container-input-color: var(\n            --simple-search-input-text-color,\n            #000\n          );\n          --paper-input-container-focus-color: var(\n            --simple-search-input-line-color,\n            #000\n          );\n          --paper-input-container-color: var(\n            --simple-search-input-placeholder-color,\n            #222\n          );\n          color: var(--simple-search-input-placeholder-color, #222);\n          @apply --simple-search-container;\n        }\n        :host #xofy {\n          margin: 8px;\n        }\n        :host button {\n          margin: 8px 0 8px;\n          color: var(--simple-search-button-color, #111);\n          background-color: var(--simple-search-button-bg-color, #eee);\n          border-color: var(--simple-search-button-border-color, #ccc);\n          @apply --simple-search-button;\n        }\n        :host button:not([disabled]):focus,\n        :host button:not([disabled]):hover {\n          cursor: pointer;\n          color: var(--simple-search-button-hover-color, #000);\n          background-color: var(--simple-search-button-hover-bg-color, #fff);\n          border-color: var(--simple-search-button-hover-border-color, #ddd);\n          @apply --simple-search-button-hover;\n        }\n        :host button[disabled] {\n          cursor: not-allowed;\n          color: var(--simple-search-button-disabled-color, #999);\n          background-color: var(--simple-search-button-disabled-bg-color, #eee);\n          border-color: var(--simple-search-button-disabled-border-color, #ccc);\n          @apply --simple-search-button-disabled;\n        }\n        :host button:not([controls]) {\n          display: none;\n        }\n        :host [shrink-hide] {\n          display: none;\n        }\n      </style>\n      <paper-input\n        id=\"input\"\n        always-float-label$=\"[[alwaysFloatLabel]]\"\n        label=\"[[searchInputLabel]]\"\n        no-label-float$=\"[[noLabelFloat]]\"\n        on-change=\"_handleChange\"\n      >\n        <iron-icon icon=\"[[searchInputIcon]]\" slot=\"prefix\"></iron-icon>\n      </paper-input>\n      <div id=\"xofy\" shrink-hide$=\"[[noSearch]]\"></div>\n      <div shrink-hide$=\"[[noResults]]\">\n        <button\n          id=\"prev\"\n          aria-label=\"[[prevButtonLabel]]\"\n          aria-role=\"button\"\n          controls$=\"[[controls]]\"\n          disabled$=\"[[prevButtonDisabled]]\"\n          on-tap=\"_navigateResults\"\n          tabindex=\"0\"\n        >\n          <iron-icon icon=\"[[prevButtonIcon]]\"></iron-icon>\n        </button>\n        <paper-tooltip for=\"prev\">[[prevButtonLabel]]</paper-tooltip>\n        <button\n          id=\"next\"\n          aria-label=\"[[nextButtonLabel]]\"\n          aria-role=\"button\"\n          controls$=\"[[controls]]\"\n          disabled$=\"[[nextButtonDisabled]]\"\n          on-tap=\"_navigateResults\"\n          tabindex=\"0\"\n        >\n          <iron-icon icon$=\"[[nextButtonIcon]]\"></iron-icon>\n        </button>\n        <paper-tooltip for=\"next\">[[nextButtonLabel]]</paper-tooltip>\n      </div>\n    "],["\n      <style is=\"custom-style\">\n        :host {\n          display: flex;\n          align-items: flex-end;\n          justify-content: space-between;\n          width: 100%;\n        }\n        :host #input {\n          flex-grow: 2;\n          margin-right: 4px;\n          --paper-input-container-input-color: var(\n            --simple-search-input-text-color,\n            #000\n          );\n          --paper-input-container-focus-color: var(\n            --simple-search-input-line-color,\n            #000\n          );\n          --paper-input-container-color: var(\n            --simple-search-input-placeholder-color,\n            #222\n          );\n          color: var(--simple-search-input-placeholder-color, #222);\n          @apply --simple-search-container;\n        }\n        :host #xofy {\n          margin: 8px;\n        }\n        :host button {\n          margin: 8px 0 8px;\n          color: var(--simple-search-button-color, #111);\n          background-color: var(--simple-search-button-bg-color, #eee);\n          border-color: var(--simple-search-button-border-color, #ccc);\n          @apply --simple-search-button;\n        }\n        :host button:not([disabled]):focus,\n        :host button:not([disabled]):hover {\n          cursor: pointer;\n          color: var(--simple-search-button-hover-color, #000);\n          background-color: var(--simple-search-button-hover-bg-color, #fff);\n          border-color: var(--simple-search-button-hover-border-color, #ddd);\n          @apply --simple-search-button-hover;\n        }\n        :host button[disabled] {\n          cursor: not-allowed;\n          color: var(--simple-search-button-disabled-color, #999);\n          background-color: var(--simple-search-button-disabled-bg-color, #eee);\n          border-color: var(--simple-search-button-disabled-border-color, #ccc);\n          @apply --simple-search-button-disabled;\n        }\n        :host button:not([controls]) {\n          display: none;\n        }\n        :host [shrink-hide] {\n          display: none;\n        }\n      </style>\n      <paper-input\n        id=\"input\"\n        always-float-label\\$=\"[[alwaysFloatLabel]]\"\n        label=\"[[searchInputLabel]]\"\n        no-label-float\\$=\"[[noLabelFloat]]\"\n        on-change=\"_handleChange\"\n      >\n        <iron-icon icon=\"[[searchInputIcon]]\" slot=\"prefix\"></iron-icon>\n      </paper-input>\n      <div id=\"xofy\" shrink-hide\\$=\"[[noSearch]]\"></div>\n      <div shrink-hide\\$=\"[[noResults]]\">\n        <button\n          id=\"prev\"\n          aria-label=\"[[prevButtonLabel]]\"\n          aria-role=\"button\"\n          controls\\$=\"[[controls]]\"\n          disabled\\$=\"[[prevButtonDisabled]]\"\n          on-tap=\"_navigateResults\"\n          tabindex=\"0\"\n        >\n          <iron-icon icon=\"[[prevButtonIcon]]\"></iron-icon>\n        </button>\n        <paper-tooltip for=\"prev\">[[prevButtonLabel]]</paper-tooltip>\n        <button\n          id=\"next\"\n          aria-label=\"[[nextButtonLabel]]\"\n          aria-role=\"button\"\n          controls\\$=\"[[controls]]\"\n          disabled\\$=\"[[nextButtonDisabled]]\"\n          on-tap=\"_navigateResults\"\n          tabindex=\"0\"\n        >\n          <iron-icon icon\\$=\"[[nextButtonIcon]]\"></iron-icon>\n        </button>\n        <paper-tooltip for=\"next\">[[nextButtonLabel]]</paper-tooltip>\n      </div>\n    "]);return H=function(){return K},K}var I=function(){function L(){return x(this,L),D(this,B(L).apply(this,arguments))}return A(L,w.PolymerElement),z(L,[{key:"enableSearch",value:function(M){var N=this,O=[{matched:!1,text:this.content}];null===O[0].text&&(O[0].text=this.innerHTML),this.setContent(O),M.addEventListener("simple-search",function(){this.setContent(O),this.setContent(M.findMatches(O))}),M.addEventListener("goto-result",function(P){N.focus(P.detail)})}},{key:"setContent",value:function(M){this._searchedContent=M}},{key:"focus",value:function(M){var N=this.$.content.querySelector("[match-number=\""+M+"\"]");null!=N&&N.focus()}},{key:"_getTabIndex",value:function(M){return null==M?"":"1"}}],[{key:"is",get:function(){return"simple-search-content"}},{key:"properties",get:function(){return{content:{type:String,value:null}}}},{key:"template",get:function(){return w.html(G())}}]),L}();customElements.define(I.is,I);var J=function(){function L(){return x(this,L),D(this,B(L).apply(this,arguments))}return A(L,w.PolymerElement),z(L,[{key:"ready",value:function(){E(B(L.prototype),"ready",this).call(this);var M=this.$.input;this._getSearchText(M.value)}},{key:"_handleChange",value:function(M){this._getSearchText(this.$.input.value),this.resultCount=0,this.resultPointer=0,this.dispatchEvent(new CustomEvent("simple-search",{detail:{search:this,content:M}}))}},{key:"_hasNoResults",value:function(M){return 1>M}},{key:"_hasNoSearch",value:function(M){return 1>M.length}},{key:"_getResultsSpan",value:function(M,N,O){var P="";return P=0<O&&0<N?N+"/"+O:" "+O,this.$.xofy.innerHTML=P,this.$.xofy.innerHTML}},{key:"_navigateResults",value:function(M){var N="next"===M.currentTarget.id?1:-1;0<this.resultPointer+N&&this.resultPointer+N<=this.resultCount&&(this.resultPointer+=N,this.dispatchEvent(new CustomEvent("goto-result",{detail:this.resultPointer})))}},{key:"_isNavButtonDisabled",value:function(M,N,O,P){return""==O||0>=M+P||M+P>N}},{key:"_getSearchText",value:function(M){var N=[];if(null!=M){N=M.split(/[\"\']/gm);for(var O=0;O<N.length;O++)N[O]=N[O].trim(),""===N[O]&&N.splice(O,1)}this.set("searchTerms",[]),this.set("searchTerms",N.slice(0))}},{key:"findMatches",value:function(M){for(var N=this,O=N.searchTerms,P=this.caseSensitive?"gm":"gim",Q=M.slice(0),R=function(T){for(var U=0;U<Q.length;U++)if(!1===Q[U].matched){var V=new RegExp("\\b"+T+"\\b",P),W=Q[U].text,X=W.search(V),Y=X+T.length;if(-1<X){N.resultCount+=1;var Z=W.slice(0,X),$=W.slice(X,Y),_=W.slice(Y,W.length);Q.splice(U,1,{matched:!1,text:Z,searchObject:N},{matched:!0,matchNumber:N.resultCount,text:$,searchObject:N},{matched:!1,text:_,searchObject:N})}}},S=0;S<O.length;S++)R(O[S]);return N.resultPointer=0,Q}}],[{key:"is",get:function(){return"simple-search"}},{key:"properties",get:function(){return{alwaysFloatLabel:{type:Boolean,value:!1},caseSensitive:{type:Boolean,value:null},controls:{type:String,value:null},nextButtonDisabled:{type:Boolean,computed:"_isNavButtonDisabled(resultPointer,resultCount,resultsSpan,1)"},nextButtonIcon:{type:String,value:"arrow-forward"},nextButtonLabel:{type:String,value:"next result"},noLabelFloat:{type:Boolean,value:!1},noResults:{type:Boolean,computed:"_hasNoResults(resultCount)"},noSearch:{type:Boolean,computed:"_hasNoSearch(searchTerms)"},prevButtonDisabled:{type:Boolean,computed:"_isNavButtonDisabled(resultPointer,resultCount,resultsSpan,-1)"},prevButtonIcon:{type:String,value:"arrow-back"},prevButtonLabel:{type:String,value:"previous result"},resultCount:{type:Number,value:0},resultPointer:{type:Number,value:0},resultsSpan:{type:String,computed:"_getResultsSpan(noSearch,resultPointer,resultCount)"},searchInputIcon:{type:String,value:"search"},searchInputLabel:{type:String,value:"search"},searchTerms:{type:Array,value:[]},target:{type:Object,value:null}}}},{key:"template",get:function(){return w.html(H())}}]),L}();customElements.define(J.is,J),g.SimpleSearch=J,Object.defineProperty(g,"__esModule",{value:!0})});