(function(i,j,o){var s=o(i);"undefined"!==typeof module&&"exports"in module?module.exports=s:"function"===typeof define&&define.amd?define([],function(){return s}):i[j]=s})(this,"jdenticon",function(i,j){function o(S,T){this.x=S,this.y=T}function s(S,T,U,V){this.o=S,this.s=T,this.f=U,this.l=V}function E(S){this.C=S,this.m=s.O}function F(S){return S|=0,0>S?"00":16>S?"0"+S.toString(16):256>S?S.toString(16):"ff"}function G(S,T,U){return U=0>U?U+6:6<U?U-6:U,F(255*(1>U?S+(T-S)*U:3>U?T:4>U?S+(T-S)*(4-U):S))}function H(S,T){return[Q.w(0,0,T.H(0)),Q.v(S,T.A,T.u(.5)),Q.w(0,0,T.H(1)),Q.v(S,T.A,T.u(1)),Q.v(S,T.A,T.u(0))]}function I(S,T,U,V,W){function X(ea,fa,ga,ha,ia){for(ha=ha?parseInt(T.charAt(ha),16):0,fa=fa[parseInt(T.charAt(ga),16)%fa.length],S.F(ba[ca[ea]]),ea=0;ea<ia.length;ea++)_.m=new s(Z+ia[ea][0]*aa,$+ia[ea][1]*aa,aa,ha++%4),fa(_,aa,ea);S.G()}function Y(ea){if(0<=ea.indexOf(da))for(var fa=0;fa<ea.length;fa++)if(0<=ca.indexOf(ea[fa]))return!0}var Z=0,$=0;if(V=0|U*(void 0===V?.08:V),U-=2*V,!/^[0-9a-f]{11,}$/i.test(T))throw Error("Invalid hash passed to Jdenticon.");var da,_=new E(S),aa=0|U/4,Z=Z+(0|V+U/2-2*aa),$=$+(0|V+U/2-2*aa),ba=H(parseInt(T.substr(-7),16)/268435455,W),ca=[];for(U=0;3>U;U++)da=parseInt(T.charAt(8+U),16)%ba.length,(Y([0,4])||Y([2,3]))&&(da=1),ca.push(da);X(0,P.J,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),X(1,P.J,4,5,[[0,0],[3,0],[3,3],[0,3]]),X(2,P.N,1,null,[[1,1],[2,1],[2,2],[1,2]])}function J(){this.i=""}function K(S,T){this.j={},this.f={M:S,I:T}}function L(S,T,U){this.h=S,S.clearRect(0,0,T,U)}function M(){function S(V,W,X){var Y=U[V]instanceof Array?U[V]:[W,X];return function(Z){return Z=Y[0]+Z*(Y[1]-Y[0]),0>Z?0:1<Z?1:Z}}var T=O.config||i.jdenticon_config||{},U=T.lightness||{},T=T.saturation;return{A:"number"==typeof T?T:.5,u:S("color",.4,.8),H:S("grayscale",.3,.9)}}function N(S,T,U){if("string"===typeof S){if(R){S=document.querySelectorAll(S);for(var V=0;V<S.length;V++)N(S[V],T,U)}}else if(S&&S.tagName&&(T=T||S.getAttribute("data-jdenticon-hash"))){var W="svg"==S.tagName.toLowerCase(),V="canvas"==S.tagName.toLowerCase();if(W||V&&"getContext"in S){var V=+S.getAttribute("width")||S.clientWidth||0,X=+S.getAttribute("height")||S.clientHeight||0,Y=W?new K(V,X):new L(S.getContext("2d"),V,X);if(I(Y,T,Math.min(V,X),U,M()),W){for(T=document.createElement("span"),T.innerHTML=Y.K(!1);S.firstChild;)S.removeChild(S.firstChild);for(T=T.firstChild.childNodes;T.length;)S.appendChild(T[0]);S.setAttribute("viewBox","0 0 "+V+" "+X)}}}}function O(){R&&N("svg[data-jdenticon-hash],canvas[data-jdenticon-hash]")}s.prototype={L:function(S,T,U,V){var W=this.o+this.f,X=this.s+this.f;return 1===this.l?new o(W-T-(V||0),this.s+S):2===this.l?new o(W-S-(U||0),X-T-(V||0)):3===this.l?new o(this.o+T,X-S-(U||0)):new o(this.o+S,this.s+T)}},s.O=new s(0,0,0,0),E.prototype={a:function(S,T){var X,U=T?-2:2,V=this.m,W=[];for(X=T?S.length-2:0;X<S.length&&0<=X;X+=U)W.push(V.L(S[X],S[X+1]));this.C.a(W)},b:function(S,T,U,V){this.C.b(this.m.L(S,T,U,U),U,V)},c:function(S,T,U,V,W){this.a([S,T,S+U,T,S+U,T+V,S,T+V],W)},g:function(S,T,U,V,W,X){S=[S+U,T,S+U,T+V,S,T+V,S,T],S.splice(2*((W||0)%4),2),this.a(S,X)},D:function(S,T,U,V,W){this.a([S+U/2,T,S+U,T+V/2,S+U/2,T+V,S,T+V/2],W)}};var P={N:[function(S,T){var U=.42*T;S.a([0,0,T,0,T,T-2*U,T-U,T,0,T])},function(S,T){var U=0|.5*T;S.g(T-U,0,U,0|.8*T,2)},function(S,T){var U=0|T/3;S.c(U,U,T-U,T-U)},function(S,T){var U=.1*T,U=1<U?0|U:.5<U?1:U,V=6>T?1:8>T?2:0|.25*T;S.c(V,V,T-U-V,T-U-V)},function(S,T){var U=0|.15*T,V=0|.5*T;S.b(T-V-U,T-V-U,V)},function(S,T){var U=.1*T,V=4*U;S.c(0,0,T,T),S.a([V,V,T-U,V,V+(T-V-U)/2,T-U],!0)},function(S,T){S.a([0,0,T,0,T,.7*T,.4*T,.4*T,.7*T,T,0,T])},function(S,T){S.g(T/2,T/2,T/2,T/2,3)},function(S,T){S.c(0,0,T,T/2),S.c(0,T/2,T/2,T/2),S.g(T/2,T/2,T/2,T/2,1)},function(S,T){var U=.14*T,U=8>T?U:0|U,V=4>T?1:6>T?2:0|.35*T;S.c(0,0,T,T),S.c(V,V,T-V-U,T-V-U,!0)},function(S,T){var U=.12*T,V=3*U;S.c(0,0,T,T),S.b(V,V,T-U-V,!0)},function(S,T){S.g(T/2,T/2,T/2,T/2,3)},function(S,T){var U=.25*T;S.c(0,0,T,T),S.D(U,U,T-U,T-U,!0)},function(S,T,U){var V=.4*T;U||S.b(V,V,1.2*T)}],J:[function(S,T){S.g(0,0,T,T,0)},function(S,T){S.g(0,T/2,T,T/2,0)},function(S,T){S.D(0,0,T,T)},function(S,T){var U=T/6;S.b(U,U,T-2*U)}]},Q={P:function(S,T,U){return"#"+F(S)+F(T)+F(U)},w:function(S,T,U){return 0==T?(S=F(255*U),"#"+S+S+S):(T=.5>=U?U*(T+1):U+T-U*T,U=2*U-T,"#"+G(U,T,6*S+2)+G(U,T,6*S)+G(U,T,6*S-2))},v:function(S,T,U){var V=[0.55,0.5,0.5,0.46,0.6,0.55,0.55][0|6*S+.5];return Q.w(S,T,.5>U?2*(U*V):V+2*((U-.5)*(1-V)))}};J.prototype={a:function(S){for(var T="M"+S[0].x+" "+S[0].y,U=1;U<S.length;U++)T+="L"+S[U].x+" "+S[U].y;this.i+=T+"Z"},b:function(S,T,U){U=U?0:1;var V=T/2;this.i+="M"+S.x+" "+(S.y+V)+"a"+V+","+V+" 0 1,"+U+" "+T+",0a"+V+","+V+" 0 1,"+U+" "+-T+",0"}},K.prototype={F:function(S){this.B=this.j[S]||(this.j[S]=new J)},G:function(){},a:function(S){this.B.a(S)},b:function(S,T,U){this.B.b(S,T,U)},K:function(S){var U,T=S?"":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\""+this.f.M+"\" height=\""+this.f.I+"\" viewBox=\"0 0 "+this.f.M+" "+this.f.I+"\" preserveAspectRatio=\"xMidYMid meet\">";for(U in this.j)T+="<path fill=\""+U+"\" d=\""+this.j[U].i+"\"/>";return S?T:T+"</svg>"}},L.prototype={F:function(S){this.h.fillStyle=S,this.h.beginPath()},G:function(){this.h.fill()},a:function(S){var U,T=this.h;for(T.moveTo(S[0].x,S[0].y),U=1;U<S.length;U++)T.lineTo(S[U].x,S[U].y);T.closePath()},b:function(S,T,U){var V=this.h;T/=2,V.arc(S.x+T,S.y+T,T,0,2*Math.PI,U),V.closePath()}};var R="document"in i&&"querySelectorAll"in document;return O.drawIcon=function(S,T,U){if(!S)throw Error("No canvas specified.");S=new L(S,U,U),I(S,T,U,0,M())},O.toSvg=function(S,T,U){var V=new K(T,T);return I(V,S,T,U,M()),V.K()},O.update=N,O.version="1.4.0",j&&(j.fn.jdenticon=function(S,T){return this.each(function(U,V){N(V,S,T)}),this}),"function"===typeof setTimeout&&setTimeout(O,0),O});