import{html,PolymerElement}from"../../../@polymer/polymer/polymer-element.js";import{ExtensibleToolbarButton}from"./extensible-toolbar-button.js";import"../../../@polymer/paper-tooltip/paper-tooltip.js";import"../../../@polymer/iron-icons/iron-icons.js";import"./extensible-toolbar-prompt.js";import"./extensible-toolbar-button-styles.js";class ExtensibleToolbarPromptButton extends ExtensibleToolbarButton{constructor(){super()}static get properties(){return{fields:{type:Array,value:[{property:"",title:"Text",description:"The inner text",inputMethod:"textfield"}]},value:{type:Object,value:{"":null,id:null}},__fields:{type:Array,value:[]},__oldValue:{name:"__oldValue",type:Object,value:null},__prompt:{name:"__prompt",type:Object,value:null}}}static get tag(){return"extensible-toolbar-prompt-button"}ready(){super.ready(),this.__prompt=window.ExtensibleToolbarPrompt.requestAvailability()}_handleButton(e){e.preventDefault(),this.open()}getCleanValue(prop){let val=this.value[prop];return val&&"string"==typeof val&&(val=val.replace(/[\s\n\t]+/g," ").trim()),val}cancel(){this.value=this.__oldValue,this.dispatchEvent(new CustomEvent("cancel",{detail:this})),this.deselect()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{detail:this})),this.deselect()}open(){this.updatePrompt(),this.__prompt.setTarget(this),this.dispatchEvent(new CustomEvent("open-prompt",{detail:this}))}updatePrompt(fields){this.__oldValue=this.value,this.set("__fields",fields)}}window.customElements.define(ExtensibleToolbarPromptButton.tag,ExtensibleToolbarPromptButton);export{ExtensibleToolbarPromptButton};