import{LitElement as e,html as t,css as i}from"../../../lit-element/lit-element.js";import"./map-menu-header.js";import"../../a11y-collapse/a11y-collapse.js";class MapMenuSubmenu extends e{static get styles(){return[i`
        :host {
          display: block;
        }
        :host([collapsable]) > map-menu-header {
          cursor: pointer;
          display: block;
        }
        #container {
          margin: 0;
          margin-left: 16px;
        }
        #container ::slotted(map-menu-item) {
          margin-top: 0.4em;
        }
        a11y-collapse {
          --a11y-collapse-border: 0;
          --a11y-collapse-horizontal-padding: 0;
          --a11y-collapse-vertical-padding: 0;
          color: var(--map-menu-item-a-color, inherit);
        }
      `]}constructor(){super(),this.opened=!1,this.collapsable=!0,this.expandChildren=!1,this.avatarLabel="",this.label="",this.published=!0,this.icon="",this.__icon="",setTimeout(()=>{this.addEventListener("active-item",this.__activeChanged.bind(this)),this.addEventListener("toggle-header",this.__toggleHeader.bind(this)),this.addEventListener("link-clicked",this._headerClickHandler.bind(this)),this.addEventListener("map-menu-item-hidden-check",this._mapMenuItemHiddenCheckHandler.bind(this))},0)}render(){return t`
      <a11y-collapse id="container">
        <map-menu-header
          .avatar-label="${this.avatarLabel}"
          id="${this.id}"
          title="${this.title}"
          label="${this.label}"
          ?opened="${this.opened}"
          url="${this.url}"
          selected="${this.selected}"
          icon="${this.__icon}"
          slot="heading"
        ></map-menu-header>
        <slot></slot>
      </a11y-collapse>
    `}static get tag(){return"map-menu-submenu"}static get properties(){return{id:{type:String},title:{type:String},avatarLabel:{type:String,attribute:"avatar-label"},label:{type:String},icon:{type:String},__icon:{type:String},url:{type:String},opened:{type:Boolean},collapsable:{type:Boolean},expandChildren:{type:Boolean,attribute:"expand-children"},selected:{type:String},published:{type:Boolean}}}updated(e){e.forEach((e,t)=>{"opened"==t&&this._openedChanged(this[t],e),"published"==t&&(!1===this.published?this.__icon="visibility-off":(this.__icon=null,this.__icon=""))})}_openedChanged(e){var t=this.shadowRoot.querySelector("#container");t&&(e&&"function"==typeof t.show?t.show():"function"==typeof t.hide&&t.hide())}_headerClickHandler(e){this.opened||(this.opened=!this.opened)}_mapMenuItemHiddenCheckHandler(e){const t=e.detail.hiddenChild;let i=Object.assign({},e.detail);i=!0!==t&&!1===this.opened?Object.assign({},i,{hiddenChild:!0}):Object.assign({},i,{hiddenChild:!1}),this.dispatchEvent(new CustomEvent("map-meu-item-hidden-check",{bubbles:!0,cancelable:!0,composed:!0,detail:i}))}__toggleHeader(e){e.stopPropagation(),this.opened=!this.opened,this.dispatchEvent(new CustomEvent("toggle-updated",{bubbles:!0,cancelable:!0,composed:!0,detail:{opened:this.opened}}))}__activeChanged(e){this.opened=!0}}window.customElements.define(MapMenuSubmenu.tag,MapMenuSubmenu);export{MapMenuSubmenu};