<html><head><script type="module" src="../node_modules/@polymer/polymer/polymer.js"></script><script type="module" src="../node_modules/@polymer/paper-icon-button/paper-icon-button.js"></script><script type="module" src="../node_modules/@polymer/iron-icons/iron-icons.js"></script><script type="module" src="../node_modules/@polymer/iron-icon/iron-icon.js"></script></head><body><dom-module id="hax-app-pagination"><template><style>:host{display:flex;}:host *[hidden]{display:none;}</style><div id="container"><paper-icon-button icon="first-page" disabled="[[_isActive(start, currentPage)]]"></paper-icon-button><paper-icon-button icon="prev-page" disabled="[[_isActive(start, currentPage)]]"></paper-icon-button><paper-item hidden$="[[hasTotal]]">[[currentPage]]/[[totalPages]]</paper-item><paper-icon-button icon="next-page" disabled="[[_isActive(range, currentPage)]]"></paper-icon-button><paper-icon-button icon="last-page" disabled="[[_isActive(range, currentPage)]]"></paper-icon-button></div></template><script type="module">import{html,Polymer}from"../../../@polymer/polymer/polymer-legacy.js";import{dom}from"../../../@polymer/polymer/lib/legacy/polymer.dom.js";import"../../../@polymer/paper-icon-button/paper-icon-button.js";import"../../../@polymer/iron-icons/iron-icons.js";import"../../../@polymer/iron-icon/iron-icon.js";Polymer({is:"hax-app-pagination",properties:{pagination:{type:Object,value:{},observer:"_paginationChanged"},requestData:{type:Object,value:{},observer:"_requestDataChanged"},totalPages:{type:Number},hasTotal:{type:Boolean,computed:"_computeHasTotal(totalPages)"},count:{type:Number,value:0},offset:{type:Number,value:0},total:{type:Number,value:0},start:{type:Number,value:0},currentPage:{type:Number,value:0}},_computeHasTotal:function(total){if(0!=total&&null!=total){return!0}return!1},_paginationChanged:function(newValue){if(typeof newValue!==typeof void 0){switch(newValue.style){case"link":break;}}},_requestDataChanged:function(newValue){var _Mathround=Math.round;if(typeof newValue!==typeof void 0){let data=newValue;var directions={first:!1,previous:!1,next:!1,last:!1};switch(this.pagination.style){case"link":if(typeof this.pagination.props.first!==typeof void 0){directions.first=this._resolveObjectPath(this.pagination.props.first,data)}if(typeof this.pagination.props.previous!==typeof void 0){directions.previous=this._resolveObjectPath(this.pagination.props.previous,data)}if(typeof this.pagination.props.next!==typeof void 0){directions.next=this._resolveObjectPath(this.pagination.props.next,data)}if(typeof this.pagination.props.last!==typeof void 0){directions.last=this._resolveObjectPath(this.pagination.props.last,data)}break;case"offset":if(typeof this.pagination.props.count!==typeof void 0){this.count=this._resolveObjectPath(this.pagination.props.count,data)}if(typeof this.pagination.props.offset!==typeof void 0){this.offset=this._resolveObjectPath(this.pagination.props.offset,data)}if(typeof this.pagination.props.total!==typeof void 0){this.total=this._resolveObjectPath(this.pagination.props.total,data)}this.totalPages=_Mathround(this.total/(this.count+this.offset));this.currentPage=_Mathround(this.offset/this.count);if(0==this.currentPage){this.currentPage=1}break;}}},_resolveObjectPath:function(path,obj){return path.split(".").reduce(function(prev,curr){return prev?prev[curr]:null},obj||self)},_computeRangeArray:function(range){let rangeArray=[];while(0<=range){rangeArray.unshift(range);range--}return rangeArray},_isActive:function(page,current){return+page===+current},_showPager:function(rangeArray){return 0<rangeArray.length},ready:function(){this.$.container.addEventListener("click",e=>{let target=dom(e).localTarget;const eventName=target.getAttribute("data-event");if(eventName){switch(eventName){case"page":let page=target.getAttribute("data-page");this.fire("change-page",{page:+page});break;case"first-page":this.fire("change-page",{page:+this.start});break;case"last-page":this.fire("change-page",{page:+(this.start+this.range)});break;default:break;}}})}});</script></dom-module></body></html>