import{LitElement as e,html as t,css as i}from"../../../lit-element/lit-element.js";class HaxPicker extends e{static get styles(){return[i`
        :host {
          display: block;
        }
        .button-list {
          display: block;
          text-align: left;
          overflow-x: hidden;
          overflow-y: auto;
          display: flex;
          flex-wrap: wrap;
          margin: 20px 0 0 0;
          padding: 0;
        }
      `]}constructor(){super(),this._elements=[],this.selectionList=[],this.pickerType="gizmo"}render(){return t`
      <div class="button-list">
        ${this.selectionList.map((e,i)=>t`
            <hax-tray-button
              dark-bg
              id="picker-item-${i}"
              @click="${this._selected}"
              data-selected="${i}"
              label="${e.title}"
              icon="${e.icon}"
              ?color-meaning="${2===this.selectionList.length}"
            >
            </hax-tray-button>
          `)}
      </div>
    `}static get tag(){return"hax-picker"}static get properties(){return{_elements:{type:Array},selectionList:{type:Array},pickerType:{type:String,attribute:"picker-type"}}}buildOptions(e,t="element",i="Select an option",s="gizmo"){this.pickerType=s;var l=[];switch(s){case"gizmo":for(var o in e)e[o].__type=t,l.push({icon:e[o].gizmo.icon,title:e[o].gizmo.title,color:e[o].gizmo.color});break;case"app":for(var o in e)l.push({icon:e[o].details.icon,title:e[o].details.title,color:e[o].details.color});break;default:l=e}this._elements=e,this.selectionList=[...l],setTimeout(()=>{this.shadowRoot.querySelector("#picker-item-0").focus()},50)}_selected(e){let t=e.target.getAttribute("data-selected");e.preventDefault(),e.stopPropagation(),void 0!==this._elements[t]&&("gizmo"==this.pickerType?(this._elements[t].replace=!0,this.dispatchEvent(new CustomEvent("hax-insert-content",{bubbles:!0,cancelable:!0,composed:!0,detail:this._elements[t]}))):this.dispatchEvent(new CustomEvent("hax-app-picker-selection",{bubbles:!0,cancelable:!0,composed:!0,detail:this._elements[t]}))),this.close()}close(){window.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}))}}window.customElements.define(HaxPicker.tag,HaxPicker);export{HaxPicker};