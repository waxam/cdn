function encapScript(html){return html&&"function"==typeof html.replace&&(html=(html=(html=(html=(html=(html=(html=(html=(html=html.replace(/<script[\s\S]*?>/gi,"&lt;script&gt;")).replace(/<\/script>/gi,"&lt;/script&gt;")).replace(/<hax[\s\S]*?>/gi,"")).replace(/<\/hax[\s\S]*?>/gi,"")).replace(/<h-a-x[\s\S]*?>/gi,"")).replace(/<\/h-a-x*?>/gi,"")).replace(/<style[\s\S]*?>/gi,"&lt;style&gt;")).replace(/<\/style>/gi,"&lt;/style&gt;")).replace(/<template[\s\S]*?>[\s\S]*?&lt;script[\s\S]*?&gt;[\s\S]*?&lt;\/script&gt;/gi,function(match,contents,offset,input_string){return match=(match=(match=(match=match.replace("&lt;script&gt;","<script>")).replace("&lt;/script&gt;","<\/script>")).replace("&lt;style&gt;","<style>")).replace("&lt;/style&gt;","</style>")})),html}function findTagsInHTML(html){let tags={},tag="";var matches=html.match(/<\/([a-z,0-9]*?)-(\S*?)>/g);for(var i in matches)tags[tag=matches[i].replace("</","").replace(">","")]=tag;return tags}function wipeSlot(element,slot="*"){if("*"===slot)for(;null!==element.firstChild;)element.removeChild(element.firstChild);else for(var i in element.childNodes)void 0!==element.childNodes[i]&&element.childNodes[i].slot===slot&&element.removeChild(element.childNodes[i])}function stripMSWord(input){var output=input.split("\n\r").join("\n").split("\r").join("\n").split("\n\n").join("\n").split("\n\n").join("\n").split("\n\n").join("\n").split("\n").join(" ").replace(/( class=(")?Mso[a-zA-Z]+(")?)/g,"");output=(output=(output=output.replace(/<\!--(\s|.)*?-->/gim,"")).replace(/<\!(\s|.)*?>/gim,"")).replace(/<(\/)*(meta|link|html|head|body|span|font|br|\\\\?xml:|xml|st1:|o:|w:|m:|v:)(\s|.)*?>/gim,"");var badTags=["style","script","applet","embed","noframes","noscript"];for(var i in badTags){let tagStripper=new RegExp("<"+badTags[i]+"(s|.)*?"+badTags[i]+"(.*?)>","gim");output=output.replace(tagStripper,"")}for(var i in output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=(output=output.replace(/ style='(\s|.)*?'/gim,"")).replace(/ align=.*? /g,"")).replace(/ start='.*?'/g,"")).replace(/ style="(\s|.)*?"/gim,"")).replace(/ data-editable="(\s|.)*?"/gim,"")).replace(/ data-hax-ray="(\s|.)*?"/gim,"")).replace(/ class=""/gim,"")).replace(/ class="hax-active"/gim,"")).replace(/ contenteditable="(\s|.)*?"/gim,"")).replace(/&nbsp;/gm," ")).replace(/<p><p>/gm,"<p>")).replace(/<p><p>/gm,"<p>")).replace(/<\/p><\/p>/gm,"</p>")).replace(/<\/p><\/p>/gm,"</p>")).replace(/<p>(\s*)<\/p>/gm," ")).replace(/<p><\/p>/gm,"")).replace(/<p>&nbsp;<\/p>/gm," ")).replace(/<p><br\/><\/p>/gm,"")).replace(/<p><br><\/p>/gm,"")).replace(/<\/p>(\s*)<p>/gm,"</p><p>"),badTags){let emptyTagRemove=new RegExp("<"+badTags[i]+"></"+badTags[i]+">","gi");output=output.replace(emptyTagRemove,"")}return output=output.trim()}function varExists(obj,path){return"__failedToFind__"!=objectValFromStringPos(obj,path,"__failedToFind__")}function varGet(obj,path,fallback=""){return objectValFromStringPos(obj,path,fallback)}function objectValFromStringPos(o,s,r=null){for(var a=(s=(s=s.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,n=a.length;i<n;++i){var k=a[i];if(!o)return r;if(!(k in o))return r;o=o[k]}return o}export{encapScript,findTagsInHTML,wipeSlot,stripMSWord,varExists,varGet,objectValFromStringPos};