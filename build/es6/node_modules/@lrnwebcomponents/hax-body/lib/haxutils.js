import{dom}from"../../../@polymer/polymer/lib/legacy/polymer.dom.js";function encapScript(html){return html&&"function"==typeof html.replace&&(html=(html=(html=(html=(html=(html=(html=(html=(html=html.replace(/<script[\s\S]*?>/gi,"&lt;script&gt;")).replace(/<\/script>/gi,"&lt;/script&gt;")).replace(/<hax[\s\S]*?>/gi,"")).replace(/<\/hax[\s\S]*?>/gi,"")).replace(/<h-a-x[\s\S]*?>/gi,"")).replace(/<\/h-a-x*?>/gi,"")).replace(/<style[\s\S]*?>/gi,"&lt;style&gt;")).replace(/<\/style>/gi,"&lt;/style&gt;")).replace(/<template[\s\S]*?>[\s\S]*?&lt;script[\s\S]*?&gt;[\s\S]*?&lt;\/script&gt;/gi,function(match,contents,offset,input_string){return match=(match=(match=(match=match.replace("&lt;script&gt;","<script>")).replace("&lt;/script&gt;","<\/script>")).replace("&lt;style&gt;","<style>")).replace("&lt;/style&gt;","</style>")})),html}function findTagsInHTML(html){let tags={},tag="";var matches=html.match(/<\/([a-z,0-9]*?)-(\S*?)>/g);for(var i in matches)tags[tag=matches[i].replace("</","").replace(">","")]=tag;return tags}function wipeSlot(element,slot="*"){if("*"===slot)for(;null!==dom(element).firstChild;)dom(element).removeChild(dom(element).firstChild);else for(var i in dom(element).childNodes)void 0!==dom(element).childNodes[i]&&dom(element).childNodes[i].slot===slot&&dom(element).removeChild(dom(element).childNodes[i])}function stripMSWord(input){var output=input.replace(/(\|\\r| class=(")?Mso[a-zA-Z]+(")?)/g,"");output=(output=(output=output.replace(/<\!--(\s|.)*?-->/gim,"")).replace(/<\!(\s|.)*?>/gim,"")).replace(/<(\/)*(meta|link|html|head|body|span|\\\\?xml:|xml|st1:|o:|w:|m:|v:|font)(\s|.)*?>/gim,"");var badTags=["style","script","applet","embed","noframes","noscript"];for(var i in badTags){let tagStripper=new RegExp("<"+badTags[i]+"(s|.)*?"+badTags[i]+"(.*?)>","gim");output=output.replace(tagStripper,"")}return output=(output=(output=(output=(output=(output=(output=(output=(output=output.replace(/ style='(\s|.)*?'/gim,"")).replace(/ align=.*? /g,"")).replace(/ start='.*?'/g,"")).replace(/ style="(\s|.)*?"/gim,"")).replace(/ data-editable="(\s|.)*?"/gim,"")).replace(/ data-hax-ray="(\s|.)*?"/gim,"")).replace(/ class=""/gim,"")).replace(/ class="hax-active"/gim,"")).replace(/ contenteditable="(\s|.)*?"/gim,"")}function varExists(obj,path){return"__failedToFind__"!=objectValFromStringPos(obj,path,"__failedToFind__")}function varGet(obj,path,fallback=""){return objectValFromStringPos(obj,path,fallback)}function objectValFromStringPos(o,s,r=null){for(var a=(s=(s=s.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,n=a.length;i<n;++i){var k=a[i];if(!(k in o))return r;o=o[k]}return o}export{encapScript,findTagsInHTML,wipeSlot,stripMSWord,varExists,varGet,objectValFromStringPos};