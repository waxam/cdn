import{html as e}from"lit-element/lit-element.js";import{SimpleColors as t}from"@lrnwebcomponents/simple-colors/simple-colors.js";import{withKnobs as o,withWebComponentsKnobs as r,text as s,boolean as i,select as l}from"@open-wc/demoing-storybook";
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */export class StorybookUtilities{get lorem(){return new(require("lorem-ipsum").loremIpsum)({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}})}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}getColors(){let e=window.SimpleColorsSharedStyles.requestAvailability();return!(!e||!e.colors)&&Object.keys(e.colors)}getElementProperties(e,t){let o=t&&t.settings?t.settings.quick:[],r=t&&t.settings?t.settings.configure:[],s=t&&t.settings?t.settings.advanced:[],i=o.concat(r,s);return i.length>0?i:Object.keys(e||{}).map(t=>{let o=e[t].type;return{property:t,inputMethod:o?o.name.toLowerCase():"textfield"}})}getColor(e){let t=this.getColors()||[],o=Math.floor(Math.random()*Math.floor(t.length)),r=t.length>0?t[o]:void 0;return e||r}getBoolean=e=>e||Math.random()>=.5;getTextField=e=>e||"Testing 123";getTextArea=e=>e||"Testing 123. This is a test.";getKnobs(e){let t={props:{},slots:{}};return(e||[]).forEach(e=>{let o,r=e.title,n=e.property||e.slot,a=this.camelToKebab(n),p=r&&n?`${r} (${n})`:r||n,m=e.property?"props":e.slot?"slots":"vars",c=e.inputMethod,d=e.options,g=e.defaultValue,h=this.getColors();if("select"===c&&d)o=l(p,d,void 0,m);else if("colorpicker"===c&&h){let e={};h.forEach(t=>e[t]=t),o=l(p,e,this.getColor(g),m)}else o="boolean"===c?i(p,this.getBoolean(g),m):"haxupload"===c?s(p,"",m):"object"===c?void 0:"array"===c?void 0:s(p,"textarea"===c?this.getTextArea(g):this.getTextField(g),m);t[m][n]={attribute:a,type:o,method:c}}),t}makeElement(e,t){let o=document.createElement(e);return Object.keys(t.props||{}).forEach(e=>{let r=t.props[e],s=(r.attribute,r.type);"object"!==r.method&&"array"!==r.method&&(o[e]=s)}),Object.keys(t.slots||{}).map(e=>{let r=document.createElement("div");r.slot=t.slots[e].attribute,r.innerHTML=t.slots[e].type,o.appendChild(r)}),o}makeElementFromClass(e){let t=e.tag,o=this.getElementProperties(e.properties,e.haxProperties),r=this.getKnobs(o);return this.makeElement(t,r)}getSlots(t){return e`${Object.keys(t||{}).map(o=>e`<div slot=${t[o].attribute}>${t[o].type}</div>`)}`}}window.StorybookUtilities=window.StorybookUtilities||{},window.StorybookUtilities.requestAvailability=()=>{window.StorybookUtilities.instance||(window.StorybookUtilities.instance=new StorybookUtilities)};