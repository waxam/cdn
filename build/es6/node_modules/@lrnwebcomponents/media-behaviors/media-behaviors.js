window.MediaBehaviors=window.MediaBehaviors||{},window.MediaBehaviors.Video={_sourceIsIframe(source){return"local"!=this.getVideoType(source)},cleanVideoSource(input,type){if("local"!=type&&"string"==typeof input){var tmp=input.split("?"),v="";if(input=tmp[0],2==tmp.length){let tmp2=tmp[1].split("&"),args=tmp2[0].split("="),qry=Array.isArray(tmp2.shift())?tmp2.shift().join(""):tmp2.shift();if("v"==args[0]){let q=void 0!==qry&&""!==qry?"?"+qry:"";v=args[1]+q}}if(-1==input.indexOf("player.vimeo.com")&&-1!=input.indexOf("vimeo.com"))return-1!=input.indexOf("/videos/")&&(input=input.replace("/videos/","/")),input.replace("vimeo.com/","player.vimeo.com/video/");if(-1!=input.indexOf("youtube.com/watch"))return input.replace("youtube.com/watch","youtube.com/embed/")+v;if(-1!=input.indexOf("youtube-no-cookie.com/"))return input.replace("youtube-no-cookie.com/","youtube.com/")+v;if(-1!=input.indexOf("youtu.be"))return input.replace("youtu.be/","www.youtube.com/embed/")+v;if(-1!=input.indexOf("sketchfab.com")&&-1==input.indexOf("/embed"))return input+"/embed";if(-1!=input.indexOf("dailymotion.com")&&-1==input.indexOf("/embed"))return input.replace("/video/","/embed/video/")}return input},getVideoType(source){let localFormats=["aac","flac","mov","mp3","mp4","oga","ogg","ogv","wav","webm"],isLocal=!1;if(-1!=source.indexOf("vimeo"))return"vimeo";if(-1!=source.indexOf("youtube")||-1!=source.indexOf("youtu.be"))return"youtube";if(-1!=source.indexOf("sketchfab.com"))return"sketchfab";if(-1!=source.indexOf("dailymotion.com"))return"dailymotion";for(let i=0;i<localFormats.length;i++)!isLocal&&source.toLowerCase().indexOf("."+localFormats[i])>-1&&(isLocal=!0);return isLocal?"local":"external"}};export const MediaBehaviorsVideo=function(SuperClass){return class extends SuperClass{_sourceIsIframe(source){return"local"!=this.getVideoType(source)}cleanVideoSource(input,type){if("local"!=type){var tmp=input.split("?"),v="";if(input=tmp[0],2==tmp.length){let tmp2=tmp[1].split("&"),args=tmp2[0].split("="),qry=Array.isArray(tmp2.shift())?tmp2.shift().join(""):tmp2.shift();if("v"==args[0]){let q=void 0!==qry&&""!==qry?"?"+qry:"";v=args[1]+q}}if(-1==input.indexOf("player.vimeo.com")&&-1!=input.indexOf("vimeo.com"))return-1!=input.indexOf("/videos/")&&(input=input.replace("/videos/","/")),input.replace("vimeo.com/","player.vimeo.com/video/");if(-1!=input.indexOf("youtube.com/watch"))return input.replace("youtube.com/watch","youtube.com/embed/")+v;if(-1!=input.indexOf("youtube-no-cookie.com/"))return input.replace("youtube-no-cookie.com/","youtube.com/")+v;if(-1!=input.indexOf("youtu.be"))return input.replace("youtu.be/","www.youtube.com/embed/")+v;if(-1!=input.indexOf("sketchfab.com")&&-1==input.indexOf("/embed"))return input+"/embed";if(-1!=input.indexOf("dailymotion.com")&&-1==input.indexOf("/embed"))return input.replace("/video/","/embed/video/")}return input}getVideoType(source){let localFormats=["aac","flac","mov","mp3","mp4","oga","ogg","ogv","wav","webm"],isLocal=!1;if(-1!=source.indexOf("vimeo"))return"vimeo";if(-1!=source.indexOf("youtube")||-1!=source.indexOf("youtu.be"))return"youtube";if(-1!=source.indexOf("sketchfab.com"))return"sketchfab";if(-1!=source.indexOf("dailymotion.com"))return"dailymotion";for(let i=0;i<localFormats.length;i++)!isLocal&&source.toLowerCase().indexOf("."+localFormats[i])>-1&&(isLocal=!0);return isLocal?"local":"external"}}};