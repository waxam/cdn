import{html,PolymerElement}from"../../@polymer/polymer/polymer-element.js";import{dom}from"../../@polymer/polymer/lib/legacy/polymer.dom.js";class MediaVideo extends PolymerElement{static get template(){return html`
      <style>
        :host {
          display: block;
        }
      </style>
      <slot></slot>
    `}static get tag(){return"media-video"}static get properties(){return{}}ready(){super.ready();this.querySelector("*[data-mediavideo-src]");this.addEventListener("click",e=>{e.stopPropagation();const target=dom(e).localTarget,videoContainer=this.querySelector(".mediavideo"),videoPoster=this.querySelector(".mediavideo-button-container"),videoSrc=this.querySelector("*[data-mediavideo-src]");videoPoster.classList.toggle("mediavideo-button-display"),videoContainer.classList.toggle("mediavideo--is-open"),target.classList.contains("poster--image")||target.classList.contains("mediavideo-icon")?setTimeout(()=>{this._startIframeVideo(videoSrc)},500):this._stopIframeVideo(videoSrc)})}disconnectedCallback(){this.removeEventListener("click",e=>{e.stopPropagation();const target=dom(e).localTarget,videoContainer=this.querySelector(".mediavideo"),videoPoster=this.querySelector(".mediavideo-button-container"),videoSrc=this.querySelector("*[data-mediavideo-src]");videoPoster.classList.toggle("mediavideo-button-display"),videoContainer.classList.toggle("mediavideo--is-open"),target.classList.contains("poster--image")||target.classList.contains("mediavideo-icon")?setTimeout(()=>{this._startIframeVideo(videoSrc)},500):this._stopIframeVideo(videoSrc)}),super.disconnectedCallback()}_startIframeVideo(video){var videoIframeSrc=video.dataset.mediavideoSrc;(videoIframeSrc.indexOf("youtube")>=0||videoIframeSrc.indexOf("vimeo")>=0)&&(videoIframeSrc.indexOf("?")>=0?videoIframeSrc+="&autoplay=1":videoIframeSrc+="?autoplay=1"),video.setAttribute("src",videoIframeSrc)}_stopIframeVideo(video){video.setAttribute("src","")}}window.customElements.define(MediaVideo.tag,MediaVideo);export{MediaVideo};