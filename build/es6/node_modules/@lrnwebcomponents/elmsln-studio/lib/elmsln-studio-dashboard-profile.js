/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as t,html as e,css as s}from"../../../lit-element/lit-element.js";import"../../../@polymer/iron-ajax/iron-ajax.js";import"../../progress-donut/progress-donut.js";import"../../accent-card/accent-card.js";class ElmslnStudioDashboardProfile extends t{static get styles(){return[s`
        :host {
          width: 100%;
          display: block;
        }
        :host accent-card {
          width: 100%;
        }
        :host .progress-item {
          display: flex;
          justify-content: space-between;
          align-items: baseline;
          width: 100%;
          color: var(--lrnapp-studio-dashboard-color, #666);
          border-top: var(--lrnapp-studio-dashboard-border, #ddd);
          padding: 0.5em 0;
        }
        :host .progress-item span:last-child {
          text-align: right;
        }
      `]}render(){return e`
      <accent-card no-border>
        <div slot="content">
          <progress-donut
            id="donut"
            title="Your Progress"
            desc="${this.desc}"
            image-src="${this.profile.avatar}"
            complete="${this.complete}"
            total="${this.profile.totalAssignments}"
          >
          </progress-donut>
          <div class="progress-item">
            <span>Overall Progress</span><span>${this.percentComplete}</span>
          </div>
          <div class="progress-item">
            <span>Comments</span><span>${this.profile.totalComments}</span>
          </div>
          <div class="progress-item">
            <span>Submissions</span
            ><span>${this.profile.totalSubmissions}</span>
          </div>
        </div>
      </accent-card>
    `}static get properties(){return{profile:{type:Object}}}get desc(){return this.profile?`You have completed ${this.profile.completedAssignments} assignments out of ${this.profile.totalAssignments}.`:""}get complete(){return this._getProgressComplete(this.profile)}get percentComplete(){return this.profile?`${Math.round(100*this.profile.completedAssignments/this.profile.totalAssignments)}%`:"0%"}get chart(){return this.profile.completedAssignments.map(t=>1)}updated(t){t.forEach((t,e)=>{"complete"===e&&this.shadowRoot&&this.shadowRoot.querySelector("#donut")&&this.shadowRoot.querySelector("#donut").makeChart()})}tag(){return"elmsln-studio-dashboard-profile"}constructor(){super(),this.tag=ElmslnStudioDashboardProfile.tag,this.title="Project 1 Title",this.author="Bill Billerson";let t=ElmslnStudioDashboardProfile.properties;for(let e in t)t.hasOwnProperty(e)&&(this.hasAttribute(e)?this[e]=this.getAttribute(e):(this.setAttribute(e,t[e].value),this[e]=t[e].value))}_toArray(t){return Object.keys(t).map(e=>t[e])}connectedCallback(){super.connectedCallback()}}customElements.define("elmsln-studio-dashboard-profile",ElmslnStudioDashboardProfile);export{ElmslnStudioDashboardProfile};