import{html,PolymerElement}from"../../../@polymer/polymer/polymer-element.js";import"../../../@polymer/iron-icon/iron-icon.js";import"../../../@polymer/paper-button/paper-button.js";import{store}from"./haxcms-site-store.js";import{autorun,toJS}from"../../../mobx/lib/mobx.module.js";class JosBreadcrumb extends PolymerElement{static get tag(){return"jos-breadcrumb"}static get template(){return html`
      <style>
        :host {
          display: block;
          font-size: 16px;
          color: var(--jos-breadcrumb-color, #383f45);
        }
        #space {
          height: 24px;
          line-height: 24px;
        }
        a {
          height: 24px;
          color: var(--jos-breadcrumb-color, #383f45);
          display: inline-flex;
          line-height: 24px;
          padding: 0 8px 0 0;
        }
        paper-button {
          margin: 0;
          padding: 0;
          height: 24px;
          min-width: unset;
          display: inline-flex;
          text-transform: unset;
        }
        paper-button:hover,
        paper-button:focus,
        paper-button:active {
          background-color: var(--jos-breadcrumb-hover-bg, transparent);
          color: var(--jos-breadcrumb-hover-color, #222222);
        }
        span {
          margin: 0;
          padding: 0 8px 0 0;
          height: 24px;
          display: inline-flex;
        }
        iron-icon {
          display: inline-flex;
          height: 24px;
          width: 24px;
          padding: 0 8px 0 0;
          color: var(--jos-breadcrumb-color, #383f45);
        }
      </style>
      <div
        id="space"
        itemscope
        itemtype="http://data-vocabulary.org/Breadcrumb"
      ></div>
    `}static get properties(){return{manifest:{type:Object,observer:"_manifestChanged"},activeItemId:{type:String,observer:"_activeItemIdChanged"}}}_manifestChanged(newValue,oldValue){if(newValue&&oldValue){this._activeItemIdChanged(this.activeItemId)}}_activeItemIdChanged(newValue){if(newValue){while(null!==this.$.space.firstChild){this.$.space.removeChild(this.$.space.firstChild)}var activeItem=this.manifest.items.find(i=>i.id==newValue),items=[{title:activeItem.title,location:null}];while(null!=activeItem.parent){activeItem=this.manifest.items.find(i=>i.id==activeItem.parent);if(activeItem){items.unshift({title:activeItem.title,location:activeItem.location})}}for(var i in items){let icon=document.createElement("iron-icon");icon.icon="icons:chevron-right";if(null!=items[i].location){let button=document.createElement("paper-button");button.innerText=items[i].title;button.noink=!0;let link=document.createElement("a");link.setAttribute("href",items[i].location);link.setAttribute("tabindex","-1");link.setAttribute("itemprop","url");link.appendChild(button);this.$.space.appendChild(link);this.$.space.appendChild(icon)}else{let span=document.createElement("span");span.innerText=items[i].title;this.$.space.appendChild(span)}}}}connectedCallback(){super.connectedCallback();this.__disposer=autorun(()=>{this.manifest=toJS(store.routerManifest)});this.__disposer2=autorun(()=>{this.activeItemId=toJS(store.activeItem)})}disconnectedCallback(){super.disconnectedCallback();this.__disposer();this.__disposer2()}}window.customElements.define(JosBreadcrumb.tag,JosBreadcrumb);export{JosBreadcrumb};