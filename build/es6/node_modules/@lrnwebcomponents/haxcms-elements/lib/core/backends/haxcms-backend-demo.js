import{html,PolymerElement}from"../../../../../@polymer/polymer/polymer-element.js";import{pathFromUrl}from"../../../../../@polymer/polymer/lib/utils/resolve-url.js";import"../../../../jwt-login/jwt-login.js";class HAXCMSBackendDemo extends PolymerElement{static get tag(){return"haxcms-backend-demo"}static get template(){return html`
      <jwt-login
        id="jwt"
        url="[[jwtLoginLocation]]"
        url-logout="[[jwtLogoutLocation]]"
        jwt="{{jwt}}"
      ></jwt-login>
    `}static get properties(){return{jwtLoginLocation:{type:String,value:window.appSettings.login},jwtLogoutLocation:{type:String,value:window.appSettings.logout},jwt:{type:String}}}constructor(){super();document.body.addEventListener("jwt-token",this._jwtTokenFired.bind(this))}disconnectedCallback(){document.body.removeEventListener("jwt-token",this._jwtTokenFired.bind(this));super.disconnectedCallback()}_jwtTokenFired(e){this.jwt=e.detail}connectedCallback(){super.connectedCallback();try{import(pathFromUrl(decodeURIComponent(import.meta.url))+"../haxcms-site-editor.js").then(()=>{let haxCmsSiteEditorElement=document.createElement("haxcms-site-editor");haxCmsSiteEditorElement.jwt=this.jwt;haxCmsSiteEditorElement.method="GET";haxCmsSiteEditorElement.saveNodePath=window.appSettings.saveNodePath;haxCmsSiteEditorElement.saveManifestPath=window.appSettings.saveManifestPath;haxCmsSiteEditorElement.saveOutlinePath=window.appSettings.saveOutlinePath;haxCmsSiteEditorElement.getNodeFieldsPath=window.appSettings.getNodeFieldsPath;haxCmsSiteEditorElement.createNodePath=window.appSettings.createNodePath;haxCmsSiteEditorElement.deleteNodePath=window.appSettings.deleteNodePath;haxCmsSiteEditorElement.publishSitePath=window.appSettings.publishSitePath;haxCmsSiteEditorElement.appStore=window.appSettings.appStore;window.cmsSiteEditor.instance.haxCmsSiteEditorElement=haxCmsSiteEditorElement;window.cmsSiteEditor.instance.appendTarget.appendChild(haxCmsSiteEditorElement)},()=>{})}catch(err){}}}window.customElements.define(HAXCMSBackendDemo.tag,HAXCMSBackendDemo);export{HAXCMSBackendDemo};