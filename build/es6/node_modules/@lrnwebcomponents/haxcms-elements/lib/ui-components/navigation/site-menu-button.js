import{html,PolymerElement}from"../../../../../@polymer/polymer/polymer-element.js";import{store}from"../../core/haxcms-site-store.js";import{autorun,toJS}from"../../../../../mobx/lib/mobx.module.js";import"../../../../../@polymer/iron-icon/iron-icon.js";import"../../../../../@polymer/iron-icons/iron-icons.js";import"../../../../../@polymer/paper-button/paper-button.js";import"../../../../../@polymer/paper-tooltip/paper-tooltip.js";class SiteMenuButton extends PolymerElement{static get tag(){return"site-menu-button"}static get template(){return html`
      <style>
        :host {
          display: block;
          transition: 0.3s all ease-in-out;
        }
        :host([disabled]) {
          pointer-event: none;
          opacity: 0.3;
        }
        a {
          color: black;
          @apply --site-menu-button-link;
        }
        paper-button {
          transition: 0.3s all ease-in-out;
          min-width: unset;
          @apply --site-menu-button-button;
        }
        paper-button:hover,
        paper-button:focus,
        paper-button:active {
          @apply --site-menu-button-button-hover;
        }
        iron-icon {
          @apply --site-menu-button-icon;
        }
        paper-tooltip {
          --paper-tooltip-background: var(
            --site-menu-button-tooltip-bg,
            #000000
          );
          --paper-tooltip-opacity: 1;
          --paper-tooltip-text-color: var(
            --site-menu-button-tooltip-text,
            #ffffff
          );
          --paper-tooltip-delay-in: 0;
          --paper-tooltip: {
            border-radius: 0;
          }
        }
      </style>
      <a tabindex="-1" href$="[[link]]" disabled$="[[disabled]]">
        <paper-button
          id="menulink"
          noink
          disabled="[[disabled]]"
          raised="[[raised]]"
        >
          <slot name="prefix"></slot>
          <iron-icon icon="[[icon]]"></iron-icon>
          <slot name="suffix"></slot>
        </paper-button>
      </a>
      <paper-tooltip for="menulink" offset="8" position="[[position]]">
        [[label]]
      </paper-tooltip>
    `}static get properties(){return{type:{type:String,observer:"_typeChanged",reflectToAttribute:!0},activeManifestIndex:{type:String},routerManifest:{type:Object},link:{type:String,computed:"pageLink(type, activeManifestIndex, routerManifest.items)"},disabled:{type:Boolean,reflectToAttribute:!0,computed:"pageLinkStatus(type, activeManifestIndex, routerManifest.items)"},label:{type:String},icon:{type:String},position:{type:String},raised:{type:Boolean}}}_typeChanged(newValue){if("prev"===newValue){if(!this.label){this.label="Previous page"}if(!this.icon){this.icon="icons:chevron-left"}if(!this.position){this.position="right"}}else if("next"===newValue){if(!this.label){this.label="Next page"}if(!this.icon){this.icon="icons:chevron-right"}if(!this.position){this.position="left"}}else{this.label="";this.icon="";this.direction=""}}pageLink(type,activeManifestIndex,items){if("prev"===type&&items){if(0<activeManifestIndex&&items[activeManifestIndex-1]){return items[activeManifestIndex-1].location}return null}else if("next"===type&&items){if(activeManifestIndex<items.length-1&&items[activeManifestIndex+1]){return items[activeManifestIndex+1].location}return null}else{return null}}pageLinkStatus(type,activeManifestIndex,items){if("prev"===type){if(0===activeManifestIndex||-1===activeManifestIndex){return!0}return!1}else if("next"===type&&items){if(activeManifestIndex>=items.length-1){return!0}return!1}else{return!1}}connectedCallback(){super.connectedCallback();this.__disposer=autorun(()=>{this.routerManifest=toJS(store.routerManifest)});this.__disposer2=autorun(()=>{this.activeManifestIndex=toJS(store.activeManifestIndex)})}disconnectedCallback(){super.disconnectedCallback();this.__disposer();this.__disposer2()}}window.customElements.define(SiteMenuButton.tag,SiteMenuButton);export{SiteMenuButton};