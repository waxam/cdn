import{LitElement as t,html as e,css as i}from"../../../../../lit-element/lit-element.js";import{store as r}from"../../core/haxcms-site-store.js";import{autorun as s,toJS as o}from"../../../../../mobx/lib/mobx.module.js";import{varGet as c}from"../../../../utils/utils.js";import{HAXCMSThemeParts as n}from"../../core/utils/HAXCMSThemeParts.js";class SiteGitCorner extends(n(t)){static get tag(){return"site-git-corner"}static get styles(){return[...super.styles,i`
        :host {
          display: block;
          float: var(--site-git-corner-float);
        }
        :host([direction="right"]) {
          float: right;
        }
        :host([direction="left"]) {
          float: left;
        }
        git-corner {
          --github-corner-color: var(--site-git-corner-color);
          --github-corner-background: var(--site-git-corner-background);
        }
      `]}render(){return e`
      <git-corner
        .part="${this.editMode?"edit-mode-active":""}"
        size="${this.size}"
        alt="${this.alt}"
        ?circle="${this.circle}"
        source="${this.activeGitFileLink}"
      ></git-corner>
    `}constructor(){super(),this.circle=!1,this.alt="See page source",this.direction="right",this.activeGitFileLink="",this.__disposer=[],s(t=>{""==c(r.manifest,"metadata.site.git.publicRepoUrl","")||window.customElements.get("git-corner")||import("../../../../git-corner/git-corner.js"),this.__disposer.push(t)}),s(t=>{if(r.activeItem){let t=c(r.manifest,"metadata.site.git.publicRepoUrl","")+r.activeItem.location;"11ty"==window.HAXCMSContext&&(t=t.replace("/src/./pages/","/src/content/")),this.activeGitFileLink=t}this.__disposer.push(t)})}disconnectedCallback(){for(var t in this.__disposer)this.__disposer[t].dispose();super.disconnectedCallback()}static get properties(){return{circle:{type:Boolean},size:{type:String},activeGitFileLink:{type:String,attribute:"active-git-file-link"},direction:{type:String,reflect:!0},alt:{type:String}}}}window.customElements.define(SiteGitCorner.tag,SiteGitCorner);export{SiteGitCorner};