var t=window.H5P=window.H5P||{};t.Event=function(t,e,n){this.type=t,this.data=e;var i=!1,r=!1,o=!1;void 0===n&&(n={}),!0===n.bubbles&&(i=!0),!0===n.external&&(r=!0),this.preventBubbling=function(){i=!1},this.getBubbles=function(){return i},this.scheduleForExternal=function(){return!(!r||o)&&(o=!0,!0)}},t.EventDispatcher=function EventDispatcher(){var e=this,n={};this.on=function(t,i,r){if("function"!=typeof i)throw TypeError("listener must be a function");e.trigger("newListener",{type:t,listener:i});var o={listener:i,thisArg:r};n[t]?n[t].push(o):n[t]=[o]},this.once=function(t,n,i){if(!(n instanceof Function))throw TypeError("listener must be a function");var once=function(t){e.off(t.type,once),n.call(this,t)};e.on(t,once,i)},this.off=function(t,i){if(void 0!==i&&!(i instanceof Function))throw TypeError("listener must be a function");if(void 0!==n[t]){if(void 0===i)return delete n[t],void e.trigger("removeListener",t);for(var r=0;r<n[t].length;r++)if(n[t][r].listener===i){n[t].splice(r,1),e.trigger("removeListener",t,{listener:i});break}n[t].length||delete n[t]}};var call=function(t,e){if(void 0!==n[t])for(var i=n[t].slice(),r=0;r<i.length;r++){var o=i[r],s=o.thisArg?o.thisArg:this;o.listener.call(s,e)}};this.trigger=function(n,i,r){if(void 0!==n){n instanceof String||"string"==typeof n?n=new t.Event(n,i,r):void 0!==i&&(n.data=i);var o=n.scheduleForExternal();call.call(this,n.type,n),call.call(this,"*",n),n.getBubbles()&&e.parent instanceof t.EventDispatcher&&(e.parent.trigger instanceof Function||"function"==typeof e.parent.trigger)&&e.parent.trigger(n),o&&t.externalDispatcher.trigger.call(this,n)}}};