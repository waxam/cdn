import{html,PolymerElement}from"../../@polymer/polymer/polymer-element.js";import{IronResizableBehavior}from"../../@polymer/iron-resizable-behavior/iron-resizable-behavior.js";import{mixinBehaviors}from"../../@polymer/polymer/lib/legacy/class.js";window.ResponsiveUtility={},window.ResponsiveUtility.instance=null;class ResponsiveUtility extends(mixinBehaviors([IronResizableBehavior],PolymerElement)){static get template(){return html`
      <style>
        :host {
          display: inline;
        }
      </style>
      <slot></slot>
    `}static get tag(){return"responsive-utility"}static get properties(){return{...super.properties,details:{type:Array}}}connectedCallback(){super.connectedCallback(),window.addEventListener("responsive-element",this.responiveElementEvent.bind(this)),window.addEventListener("delete-responsive-element",this.deleteResponiveElementEvent.bind(this))}disconnectedCallback(){window.removeEventListener("responsive-element",this.responiveElementEvent.bind(this)),window.removeEventListener("delete-responsive-element",this.deleteResponiveElementEvent.bind(this)),super.disconnectedCallback()}responiveElementEvent(e){let detail={element:e.detail.element,attribute:void 0!==e.detail.attribute&&null!==e.detail.attribute?e.detail.attribute:"responsive-size",relativeToParent:void 0===e.detail.relativeToParent||null===e.detail.relativeToParent||e.detail.relativeToParent,sm:void 0!==e.detail.sm&&null!==e.detail.sm?e.detail.sm:900,md:void 0!==e.detail.md&&null!==e.detail.md?e.detail.md:1200,lg:void 0!==e.detail.lg&&null!==e.detail.lg?e.detail.lg:1500,xl:void 0!==e.detail.xl&&null!==e.detail.xl?e.detail.lg:1800};if("ResizeObserver"in window&&!0===detail.relativeToParent){let resize=new ResizeObserver((function(){window.ResponsiveUtility.setSize(detail)})),observable=void 0!==e.detail.parentNode&&null!==e.detail.parentNode?e.detail.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.detail.element.parentNode.host:e.detail.element.parentNode:e.detail.element;resize.observe(observable)}this.details.push(detail),window.ResponsiveUtility.setSize(detail)}deleteResponiveElementEvent(e){for(let i=0;i<this.details.length;i++)e.detail===detail[i]&&this.details.splice(i,1)}constructor(){super(),this.details=[],null==window.ResponsiveUtility.instance&&(window.ResponsiveUtility.instance=this),this.addEventListener("iron-resize",this._onIronResize.bind(this))}_onIronResize(){for(let i=0;i<this.details.length;i++)window.ResponsiveUtility.setSize(this.details[i])}}window.customElements.define(ResponsiveUtility.tag,ResponsiveUtility);export{ResponsiveUtility};window.ResponsiveUtility.requestAvailability=function(){null==window.ResponsiveUtility.instance&&(window.ResponsiveUtility.instance=document.createElement("responsive-utility")),document.body.appendChild(window.ResponsiveUtility.instance)},window.ResponsiveUtility.setSize=function(detail){let size,width=window.ResponsiveUtility._getWidth(detail);size=width<detail.sm?"xs":width<detail.md?"sm":width<detail.lg?"md":width<detail.xl?"lg":"xl",void 0!==detail.element.getAttribute(detail.attribute)&&size===detail.element.getAttribute(detail.attribute)||detail.element.setAttribute(detail.attribute,size)},window.ResponsiveUtility._getWidth=function(detail){let el=detail.element;if(!0===detail.relativeToParent){if(el&&void 0!==el.offsetWidth&&null!==el.offsetWidth&&el.offsetWidth>0)return el.offsetWidth;if(null!==el.parentNode)return el.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&el.parentNode.host?el.parentNode.host.offsetWidth:el.parentNode.offsetWidth}return window.outerWidth};