import{html,Polymer}from"../../../@polymer/polymer/polymer-legacy.js";import{dom}from"../../../@polymer/polymer/lib/legacy/polymer.dom.js";import"../../simple-colors/simple-colors.js";import"../../simple-drawer/simple-drawer.js";import"../../paper-avatar/paper-avatar.js";import"../../../@polymer/app-layout/app-layout.js";import"../../../@polymer/paper-tooltip/paper-tooltip.js";import"../../../@polymer/paper-button/paper-button.js";import"../../../@polymer/iron-icons/iron-icons.js";import"./lrnsys-button-inner.js";Polymer({_template:html`
    <style is="custom-style" include="simple-colors">
      :host {
        display: block;
        --lrnsys-drawer-color: var(--simple-colors-foreground1);
        --lrnsys-drawer-background-color: var(--simple-colors-background1);
      }
      paper-button {
        display: inline-block;
      }
    </style>
    <paper-button
      class\$="[[class]]"
      id="flyouttrigger"
      on-tap="toggleDrawer"
      raised="[[raised]]"
      disabled\$="[[disabled]]"
      title="[[alt]]"
    >
      <lrnsys-button-inner avatar="[[avatar]]" icon="[[icon]]" text="[[text]]">
        <slot name="button"></slot>
      </lrnsys-button-inner>
    </paper-button>
    <paper-tooltip for="flyouttrigger" animation-delay="0"
      >[[alt]]</paper-tooltip
    >
  `,is:"lrnsys-drawer",listeners:{mousedown:"tapEventOn",mouseover:"tapEventOn",mouseout:"tapEventOff"},properties:{opened:{type:Boolean,value:!1,reflectToAttribute:!0},raised:{type:Boolean,reflectToAttribute:!0},icon:{type:String},avatar:{type:String},text:{type:String},align:{type:String,value:"left"},alt:{type:String,reflectToAttribute:!0},header:{type:String},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},hoverClass:{type:String},headingClass:{type:String,value:"white-text black"},focusState:{type:Boolean,value:!1}},ready:function(){this.__modal=window.SimpleDrawer.requestAvailability()},attached:function(){this.$.flyouttrigger.addEventListener("focused-changed",this.focusToggle.bind(this))},detached:function(){this.$.flyouttrigger.removeEventListener("focused-changed",this.focusToggle.bind(this))},tapEventOn:function(){if(typeof this.hoverClass!==typeof void 0){var classes=this.hoverClass.split(" ");classes.forEach(item=>{if(""!=item){this.$.flyouttrigger.classList.add(item)}})}},tapEventOff:function(){if(typeof this.hoverClass!==typeof void 0){var classes=this.hoverClass.split(" ");classes.forEach(item=>{if(""!=item){this.$.flyouttrigger.classList.remove(item)}})}},toggleDrawer:function(){let nodes=dom(this).getEffectiveChildNodes(),h=document.createElement("span"),c=document.createElement("span");for(var i in nodes){if(typeof nodes[i].tagName!==typeof void 0){switch(nodes[i].getAttribute("slot")){case"header":h.appendChild(nodes[i].cloneNode(!0));break;default:c.appendChild(nodes[i].cloneNode(!0));break;}}}const evt=new CustomEvent("simple-drawer-show",{bubbles:!0,cancelable:!0,detail:{title:this.header,elements:{content:c,header:h},invokedBy:this.$.flyouttrigger,align:this.align,size:"30%",clone:!1}});this.dispatchEvent(evt)},focusToggle:function(){this.fire("focus-changed",{focus:this.focusState});if(typeof this.hoverClass!==typeof void 0){var classes=this.hoverClass.split(" ");classes.forEach(item=>{if(""!=item){if(this.focusState){this.$.flyouttrigger.classList.add(item)}else{this.$.flyouttrigger.classList.remove(item)}}})}this.focusState=!this.focusState},_getTextLabelClass:function(){if(!this.avatar&&!this.icon){return"text-label-only"}return"text-label"}});