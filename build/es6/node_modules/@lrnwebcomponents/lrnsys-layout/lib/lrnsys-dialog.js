import{html as t,css as e}from"../../../lit-element/lit-element.js";import{SimpleColors as s}from"../../simple-colors/simple-colors.js";import"../../simple-modal/simple-modal.js";import"../../simple-icon/simple-icon.js";import"../../simple-icon/lib/simple-icons.js";class LrnsysDialog extends s{static get styles(){return[...super.styles,e`
        :host {
          display: inline-block;
          --lrnsys-dialog-color: var(--simple-colors-foreground1, #000);
          --lrnsys-dialog-background-color: var(--simple-colors-background1);
          --lrnsys-dialog-toolbar-background-color: var(
            --simple-colors-background3
          );
          --lrnsys-dialog-secondary-background-color: rgba(255, 255, 255, 0.7);
        }
        :host([raised]) #dialogtrigger {
          border: 2px solid black;
        }
        :host([dark]) {
          --lrnsys-dialog-toolbar-background-color: var(
            --simple-colors-background1
          );
          --lrnsys-dialog-background-color: var(--simple-colors-background3);
          --lrnsys-dialog-secondary-background-color: rgba(0, 0, 0, 0.7);
        }
        #dialogtrigger {
          display: inline-block;
          min-width: unset;
          height: var(--lrnsys-button-height);
          margin: var(--lrnsys-dialog-button-margin);
          padding: var(--lrnsys-dialog-button-padding);
          border: none;
          background: transparent;
        }
        #dialogtrigger:hover {
          cursor: pointer;
        }
      `]}constructor(){super(),this.disabled=!1,this.focusState=!1,this.avatar="",this.icon="",this.text="",this.headingClass="white-text black",setTimeout(()=>{import("../../simple-tooltip/simple-tooltip.js"),import("./lrnsys-button-inner.js")},0),this.__modal=window.SimpleModal.requestAvailability()}render(){return t`
      <button
        class="${this.class}"
        id="dialogtrigger"
        @click="${this.openDialog}"
        @focus-changed="${this.focusToggle}"
        @mousedown="${this.tapEventOn}"
        @mouseover="${this.tapEventOn}"
        @mouseout="${this.tapEventOff}"
        ?raised="${this.raised}"
        ?disabled="${this.disabled}"
        title="${this.alt}"
        aria-label="${this.alt}"
      >
        <lrnsys-button-inner
          avatar="${this.avatar}"
          icon="${this.icon}"
          text="${this.text}"
        >
          <slot name="button"></slot>
        </lrnsys-button-inner>
      </button>
      <simple-tooltip
        for="dialogtrigger"
        animation-delay="0"
        ?hidden="${!this.alt}"
        >${this.alt}</simple-tooltip
      >
    `}static get tag(){return"lrnsys-dialog"}static get properties(){return{...super.properties,icon:{type:String},raised:{type:Boolean},avatar:{type:String},text:{type:String},alt:{type:String,reflect:!0},header:{type:String},disabled:{type:Boolean},hoverClass:{type:String,attribute:"hover-class"},headingClass:{type:String,attribute:"heading-class"},focusState:{type:Boolean,attribute:"focus-state"}}}tapEventOn(t){void 0!==this.hoverClass&&this.hoverClass.split(" ").forEach((t,e)=>{""!=t&&this.shadowRoot.querySelector("#dialogtrigger").classList.add(t)})}tapEventOff(t){void 0!==this.hoverClass&&this.hoverClass.split(" ").forEach((t,e)=>{""!=t&&this.shadowRoot.querySelector("#dialogtrigger").classList.remove(t)})}toggleDialog(){this.openDialog()}openDialog(){let t=this.children,e=document.createElement("span"),s=document.createElement("span"),o={};for(var i in t)if(void 0!==t[i].tagName)switch(t[i].getAttribute("slot")){case"toolbar-primary":case"toolbar-secondary":case"toolbar":case"header":o=t[i].cloneNode(!0),o.removeAttribute("slot"),e.appendChild(o);break;case"button":break;default:o=t[i].cloneNode(!0),o.removeAttribute("slot"),s.appendChild(o)}const a=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!0,detail:{title:this.header,elements:{header:e,content:s},styles:{"--simple-modal-width":"75vw","--simple-modal-max-width":"75vw","--simple-modal-min-height":"50vh"},invokedBy:this.shadowRoot.querySelector("#dialogtrigger"),clone:!0}});this.dispatchEvent(a)}focusToggle(t){(this.dispatchEvent(new CustomEvent("focus-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:{focus:this.focusState}})),void 0!==this.hoverClass)&&this.hoverClass.split(" ").forEach((t,e)=>{""!=t&&(this.focusState?this.shadowRoot.querySelector("#dialogtrigger").classList.add(t):this.shadowRoot.querySelector("#dialogtrigger").classList.remove(t))});this.focusState=!this.focusState}}window.customElements.define(LrnsysDialog.tag,LrnsysDialog);export{LrnsysDialog};