import{LitElement as t,html as e,css as i}from"../../lit-element/lit-element.js";import"../cms-hax/cms-hax.js";class WysiwygHax extends t{static get styles(){return[i`
        :host {
          display: block;
        }
      `]}render(){return e`
      <textarea
        class="${this.fieldClass}"
        id="${this.fieldId}"
        name="${this.fieldName}"
        hidden=""
      >
      ${this.bodyValue}
      </textarea
      >
      <cms-hax
        hide-message=""
        redirect-location="${this.redirectLocation}"
        update-page-data="${this.updatePageData}"
        end-point="${this.endPoint}"
        app-store-connection="${this.appStoreConnection}"
        ?open-default="${this.openDefault}"
        ?sync-body="${this.syncBody}"
        ?hide-panel-ops="${this.hidePanelOps}"
        ?hide-preferences-button="${this.hidePreferencesButton}"
        align="${this.align}"
      >
      </cms-hax>
    `}static get tag(){return"wysiwyg-hax"}constructor(){super();let t=this.querySelector("template");t&&(this.__importContent=t.innerHTML),this.openDefault=!1,this.align="right",this.fieldId="textarea-input-field",this.fieldName="data[content]",this.__imported=!1,this.redirectLocation="",this.updatePageData="",window.addEventListener("hax-save",this._bodyContentUpdated.bind(this)),window.addEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this))}updated(t){t.forEach((t,e)=>{"activeHaxBody"==e&&this._activeHaxBodyUpdated(this[e])})}static get properties(){return{openDefault:{type:Boolean,attribute:"open-default"},redirectLocation:{type:String,attribute:"redirect-location"},hidePanelOps:{type:Boolean,attribute:"hide-panel-ops"},hidePreferencesButton:{type:Boolean,attribute:"hide-preferences-button"},align:{type:String},bodyValue:{type:String,attribute:"body-value"},appStoreConnection:{type:String,attribute:"app-store-connection"},fieldClass:{type:String,attribute:"field-class"},fieldId:{type:String,attribute:"field-id"},fieldName:{type:String,attribute:"field-name"},syncBody:{type:Boolean,attribute:"sync-body",reflect:!0},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},endPoint:{type:String,attribute:"end-point"},updatePageData:{type:String,attribute:"update-page-data"},activeHaxBody:{type:Object},__imported:{type:Boolean}}}createRenderRoot(){return this}_activeHaxBodyUpdated(t){null==t||this.__imported||(this.__imported=!0,this.__importContent&&t.importContent(this.__importContent))}disconnectedCallback(){window.removeEventListener("hax-save",this._bodyContentUpdated.bind(this)),window.removeEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),super.disconnectedCallback()}_haxStorePropertyUpdated(t){t.detail&&void 0!==t.detail.value&&t.detail.property&&("object"==typeof t.detail.value&&(this[t.detail.property]=null),this[t.detail.property]=t.detail.value)}_bodyContentUpdated(t){this.bodyValue=window.HaxStore.instance.activeHaxBody.haxToContent()}}window.customElements.define(WysiwygHax.tag,WysiwygHax);export{WysiwygHax};