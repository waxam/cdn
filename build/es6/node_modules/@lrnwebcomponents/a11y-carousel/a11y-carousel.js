import{LitElement as t,html as e,css as i}from"../../lit-element/lit-element.js";import{RadioBehaviors as s}from"../radio-behaviors/radio-behaviors.js";import"./lib/a11y-carousel-button.js";class a11yCarousel extends(s(t)){static get styles(){return[i`
        :host {
          margin: 15px 0;
        }
        ::slotted(figure) {
          margin: 0 auto;
        }
        #inner {
          position: relative;
        }
        a11y-carousel-button {
          border: 1px solid red;
          position: absolute;
          margin: 0;
          padding: 0;
          top: 0;
          bottom: 0;
          display: flex;
          flex-direction: column;
          align-items: stretch;
          justify-content: center;
          width: 50%;
        }
        a11y-carousel-button[button-type=prev] {
          left: 0;
          right: 50%;
        }
        a11y-carousel-button[button-type=next]{
          right: 0;
          left: 50%;
        }
        :host([hidden]),
        ::slotted(figure:not([active])) {
          display: none !important;
        }
        ::part(img){
          border: 4px solid green;
        }
        ::part(fig) img{
          border: 4px solid green;
        }
      `]}render(){return e`
      <slot name="top-buttons"></slot>
      <div id="inner">
        <slot name="img"></slot>
        <slot></slot>
        <a11y-carousel-button button-type="prev" controls="${this.prev}">
          <slot name="prev"></slot>
        </a11y-carousel-button>
        <a11y-carousel-button button-type="next" controls="${this.next}">
          <slot name="next"></slot>
        </a11y-carousel-button>
      </div>
      <slot name="bottom-buttons"></slot>
    `}static get properties(){return{...super.properties,figures:{type:Array}}}static get tag(){return"a11y-carousel"}constructor(){super()}get _query(){return"figure"}get _selected(){return"active"}get _selectEvent(){return"select-carousel-item"}get first(){return this.itemData&&this.itemData[0]?this.itemData[0].id:void 0}get prev(){return this.itemData&&this.itemData[this.selectedIndex-1]?this.itemData[this.selectedIndex-1].id:this.first}get last(){return this.itemData&&this.itemData[this.itemData.length-1]?this.itemData[this.itemData.length-1].id:void 0}get next(){return this.itemData&&this.itemData[this.selectedIndex+1]?this.itemData[this.selectedIndex+1].id:this.last}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this._handleSelectionChange()}_handleSelectionChange(){super._handleSelectionChange(),this._updateItemData();let t=this.querySelector(`figure#${this.selection}[active] > img, figure > img`),e=this.querySelectorAll("a11y-carousel-button"),i=this.itemData&&this.itemData[0]?this.itemData[0].id:void 0,s=this.itemData&&this.itemData[this.itemData.length-1]?this.itemData[this.itemData.length-1].id:void 0,a=this.itemData[this.selectedIndex-1]?this.itemData[this.selectedIndex-1].id:i,r=this.itemData[this.selectedIndex+1]?this.itemData[this.selectedIndex+1].id:s;this.style.setProperty("--a11y-carousel-bg-image",`url(${t.src})`),Object.keys(e||{}).forEach(t=>{let o=e[t];"first"===o.buttonType&&(o.controls=i),"prev"===o.buttonType&&(o.controls=a),"next"===o.buttonType&&(o.controls=r),"last"===o.buttonType&&(o.controls=s),o.active=o.controls===this.selection})}}window.customElements.define(a11yCarousel.tag,a11yCarousel);export{a11yCarousel};