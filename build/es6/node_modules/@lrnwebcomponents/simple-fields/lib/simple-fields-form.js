import{LitElement as e,html as s,css as t}from"../../../lit-element/lit-element.js";import{SimpleFields as o}from"../simple-fields.js";import{SimpleFieldsFormLite as a}from"./simple-fields-form-lite.js";class SimpleFieldsForm extends a{static get tag(){return"simple-fields-form"}render(){return s`
      <form>
        <slot name="before"></slot>
        <simple-fields id="sf" autofocus></simple-fields>
        <slot></slot>
      </form>
    `}updated(e){e.forEach((e,s)=>{!this.autoload||this.loadResponse||this.loading||"loadEndpoint"!==s&&"autoload"!==s||this.loadData(),"loadResponse"===s&&this.loadResponse.data&&(this._applyLoadedData(),this.dispatchEvent(new CustomEvent("response",{bubbles:!0,composed:!0,cancelable:!1,detail:this.loadResponse})))})}_applyLoadedData(){let e=this.shadowRoot.querySelector("#sf");this.loadResponse.data.schema?e.schema=this.loadResponse.data.schema:this.loadResponse.data.fields&&(e.fields=this.loadResponse.data.fields),this.loadResponse.data.value&&(e.value=this.loadResponse.data.value)}static get properties(){return{...super.properties,...o.properties}}}window.customElements.define(SimpleFieldsForm.tag,SimpleFieldsForm);export{SimpleFieldsForm};