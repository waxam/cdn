import{html,PolymerElement}from"../../@polymer/polymer/polymer-element.js";import{afterNextRender}from"../../@polymer/polymer/lib/utils/render-status.js";import{HAXWiring}from"../hax-body-behaviors/lib/HAXWiring.js";import"../simple-colors/simple-colors.js";class PlaceHolder extends PolymerElement{constructor(){super(),import("../../@polymer/iron-icons/iron-icons.js"),import("../../@polymer/iron-icons/editor-icons.js"),import("../../@polymer/iron-icons/notification-icons.js"),import("../../@polymer/iron-icons/av-icons.js"),import("../../@polymer/iron-icons/device-icons.js"),import("../../@polymer/iron-icons/image-icons.js"),afterNextRender(this,function(){this.HAXWiring=new HAXWiring,this.HAXWiring.setup(PlaceHolder.haxProperties,PlaceHolder.tag,this)})}static get template(){return html`
      <style>
        :host {
          display: block;
          border: none;
          transition: 0.2s all linear;
        }
        :host([drag-over]) {
          border: 4px dashed #2196f3;
        }
        .placeholder-inner {
          text-align: center;
          padding: 16px;
          color: var(--simple-colors-default-theme-grey-11, #222222);
          background-color: var(--simple-colors-default-theme-grey-2, #eeeeee);
        }
        iron-icon.placeholder-icon {
          margin: 0 auto;
          width: 50%;
          height: 50%;
          display: block;
        }
        .placeholder-text {
          line-height: 24px;
          font-size: 24px;
          font-style: italic;
        }
      </style>
      <div class="placeholder-inner">
        <iron-icon icon="[[iconFromType]]" class="placeholder-icon"></iron-icon>
        <span class="placeholder-text">[[calcText]]</span>
      </div>
    `}static get tag(){return"place-holder"}static get properties(){return{iconFromType:{type:String,computed:"_getIconFromType(type, dragOver)"},text:{type:String,value:""},calcText:{type:String,computed:"_getCalcText(text, type, dragOver)"},type:{type:String,value:"text"},dragOver:{type:Boolean,value:!1,reflectToAttribute:!0}}}fireReplaceEvent(e){this.dispatchEvent(new CustomEvent("place-holder-replace",{bubbles:!0,cancelable:!0,composed:!0,detail:this.type}))}_getCalcText(text,type,dragOver){return dragOver?"Upload file":""===text?"Place holder for "+type+".":text}_getIconFromType(type,dragOver){if(dragOver)return"icons:file-upload";switch(type){case"document":return"editor:insert-drive-file";case"audio":return"av:music-video";case"video":return"notification:ondemand-video";case"image":return"image:crop-original";case"math":return"editor:functions";case"text":default:return"editor:format-align-left"}}connectedCallback(){super.connectedCallback(),afterNextRender(this,function(){this.addEventListener("dragover",function(e){this.dragOver=!0,e.preventDefault(),e.stopPropagation(),this.classList.add("dragover")}),this.addEventListener("dragleave",function(e){this.dragOver=!1,e.preventDefault(),e.stopPropagation(),this.classList.remove("dragover")}),this.addEventListener("drop",function(e){this.dragOver=!1,e.preventDefault(),e.stopPropagation(),this.classList.remove("dragover");try{"file"===e.dataTransfer.items[0].kind&&(e.placeHolderElement=this,this.dispatchEvent(new CustomEvent("place-holder-file-drop",{bubbles:!0,cancelable:!0,composed:!0,detail:e})))}catch(e){}}),this.addEventListener("dblclick",this.fireReplaceEvent.bind(this))})}disconnectedCallback(){this.removeEventListener("dragover",function(e){this.dragOver=!0,e.preventDefault(),e.stopPropagation(),this.classList.add("dragover")}),this.removeEventListener("dragleave",function(e){this.dragOver=!1,e.preventDefault(),e.stopPropagation(),this.classList.remove("dragover")}),this.removeEventListener("drop",function(e){this.dragOver=!1,e.preventDefault(),e.stopPropagation(),this.classList.remove("dragover");try{"file"===e.dataTransfer.items[0].kind&&(e.placeHolderElement=this,this.dispatchEvent(new CustomEvent("place-holder-file-drop",{bubbles:!0,cancelable:!0,composed:!0,detail:e})))}catch(e){}}),this.removeEventListener("dblclick",this.fireReplaceEvent.bind(this)),super.disconnectedCallback()}static get haxProperties(){return{canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"Placeholder",description:"A place holder that can be converted into the media type that's been selected",icon:"image:transform",color:"grey",groups:["Placeholder"],handles:[],meta:{author:"LRNWebComponents"}},settings:{quick:[],configure:[{property:"type",title:"Type",description:"Type of gizmo that this accepts for replacement.",inputMethod:"select",options:{text:"Text / content",document:"Document / file",audio:"Audio",video:"Video",image:"Image",math:"Math"}}],advanced:[]},saveOptions:{wipeSlot:!0}}}}window.customElements.define(PlaceHolder.tag,PlaceHolder);export{PlaceHolder};