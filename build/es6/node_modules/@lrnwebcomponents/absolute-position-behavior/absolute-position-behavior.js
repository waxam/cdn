/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement,html,css}from"../../lit-element/lit-element.js";import"./lib/absolute-position-state-manager.js";class AbsolutePositionBehavior extends LitElement{static get styles(){return[css`
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none;
        }
      `]}render(){return html`
      <slot></slot>
    `}static get properties(){return{...super.properties,auto:{type:Boolean},fitToVisibleBounds:{type:Boolean,attribute:"fit-to-visible-bounds"},for:{type:String,reflect:!0},offset:{type:Number},position:{type:String,reflect:!0},target:{type:Object},__positions:{type:Object}}}static get tag(){return"absolute-position-behavior"}constructor(){super(),this.auto=!1,this.fitToVisibleBounds=!1,this.for=null,this.offset=0,this.position="bottom",this.target=null,this.__positions={},this.__observe=!1,this.__manager=window.AbsolutePositionStateManager.requestAvailability()}updated(changedProperties){changedProperties.forEach((oldValue,propName)=>{"auto"===propName&&this.auto&&this.setPosition(),"auto"!==propName||this.auto||this.unsetPosition(),"fitToVisibleBounds"===propName&&this.updatePosition(),"for"===propName&&this.updatePosition(),"offset"===propName&&this.updatePosition(),"position"===propName&&this.updatePosition(),"target"===propName&&this.updatePosition()})}setPosition(){this.__observe=!0,this.__manager.loadElement(this)}unsetPosition(){this.__observe=!1,this.__manager.unloadElement(this)}updatePosition(){!0===this.__observe&&this.__manager.positionElement(this)}disconnectedCallback(){this.unsetPosition(),super.disconnectedCallback()}}window.customElements.define(AbsolutePositionBehavior.tag,AbsolutePositionBehavior);export{AbsolutePositionBehavior};