/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as t,html as i,css as o}from"../../lit-element/lit-element.js";import"./lib/absolute-position-state-manager.js";class AbsolutePositionBehavior extends t{static get styles(){return[o`
        :host {
          display: inline-block;
          z-index: 99999999;
          position: absolute;
        }

        :host([hidden]) {
          display: none;
        }
      `]}render(){return i`
      <slot></slot>
    `}static get properties(){return{...super.properties,auto:{type:Boolean,attribute:"auto"},fitToVisibleBounds:{type:Boolean,attribute:"fit-to-visible-bounds"},hidden:{type:Boolean,attribute:"hidden"},for:{type:String,attribute:"for",reflect:!0},offset:{type:Number,attribute:"offset"},position:{type:String,attribute:"position",reflect:!0},positionAlign:{type:String,attribute:"position-align",reflect:!0},target:{type:Object},__positions:{type:Object}}}static get tag(){return"absolute-position-behavior"}constructor(){super(),this.auto=!1,this.fitToVisibleBounds=!1,this.for=null,this.offset=0,this.position="bottom",this.target=null,this.__positions={},this.__observe=!1,this.__manager=window.AbsolutePositionStateManager.requestAvailability()}updated(t){t.forEach((t,i)=>{"auto"===i&&this.auto&&this.setPosition(),"auto"!==i||this.auto||this.unsetPosition(),"fitToVisibleBounds"===i&&this.updatePosition(),"for"===i&&this.updatePosition(),"offset"===i&&this.updatePosition(),"position"===i&&this.updatePosition(),"positionAlign"===i&&this.updatePosition(),"target"===i&&this.updatePosition(),"hidden"===i&&this.updatePosition()})}setPosition(){this.__observe=!0,this.__manager.loadElement(this)}unsetPosition(){this.__observe=!1,this.__manager.unloadElement(this)}updatePosition(){!0===this.__observe&&this.__manager.positionElement(this)}disconnectedCallback(){this.unsetPosition(),super.disconnectedCallback()}}window.customElements.define(AbsolutePositionBehavior.tag,AbsolutePositionBehavior);export{AbsolutePositionBehavior};