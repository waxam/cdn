import{html,PolymerElement}from"../../../@polymer/polymer/polymer-element.js";import{RichTextEditorPicker}from"./rich-text-editor-picker.js";import"../../es-global-bridge/es-global-bridge.js";import{pathFromUrl}from"../../../@polymer/polymer/lib/utils/resolve-url.js";import"../../../@polymer/iron-icons/editor-icons.js";class RichTextEditorEmojiPicker extends RichTextEditorPicker{static get properties(){return{emojiTypes:{name:"emojiTypes",type:"Array",value:["emotions","people","nature","food","travel","activities","objects","symbols","flags"]},icon:{name:"icon",type:"String",value:"editor:insert-emoticon",readOnly:!0},optionsSrc:{name:"optionsSrc",type:"String",value:"data/emojis.js"},titleAsHtml:{name:"titleAsHtml",type:"Boolean",value:!0,readOnly:!0},value:{name:"value",type:"String",value:"null"}}}static get tag(){return"rich-text-editor-emoji-picker"}connectedCallback(){super.connectedCallback();const name="emoji",basePath=pathFromUrl(decodeURIComponent(import.meta.url)),src=this.optionsSrc;window.addEventListener(`es-bridge-${name}-loaded`,this._setOptions.bind(this));window.ESGlobalBridge.requestAvailability();window.ESGlobalBridge.instance.load(name,`${basePath}${src}`)}_setOptions(){let optData=[];this.emojiTypes.forEach(function(type){optData=optData.concat(Object.keys(emojis[type]))});this.set("options",this._getPickerOptions(optData,this.allowNull,this.icon))}_getOptionData(option){return{value:option,alt:option,icon:null,style:null}}}window.customElements.define(RichTextEditorEmojiPicker.tag,RichTextEditorEmojiPicker);export{RichTextEditorEmojiPicker};