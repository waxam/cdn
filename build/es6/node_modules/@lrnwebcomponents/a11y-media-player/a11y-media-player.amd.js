define(["exports","./node_modules/@polymer/polymer/polymer-legacy.js","./node_modules/@lrnwebcomponents/simple-colors/simple-colors.js","./node_modules/@polymer/paper-slider/paper-slider.js","./node_modules/@polymer/iron-icons/iron-icons.js","./node_modules/@polymer/iron-icons/av-icons.js","./lib/screenfull-lib.js","./lib/a11y-media-behaviors.js","./lib/a11y-media-loader.js","./lib/a11y-media-play-button.js","./lib/a11y-media-controls.js","./lib/a11y-media-transcript.js","./lib/a11y-media-transcript-controls.js","./lib/a11y-media-utility.js","./lib/a11y-media-youtube-utility.js"],function(a,b,c){"use strict";function r(){var u=babelHelpers.taggedTemplateLiteral(["\n    <style is=\"custom-style\" include=\"simple-colors\">\n      :host {\n        width: 100%;\n        display: block;\n        color: var(--simple-colors-default-theme-grey-12);\n        background-color: var(--simple-colors-default-theme-grey-2);\n        outline: 1px solid var(--simple-colors-default-theme-grey-3);\n      }\n      :host([dark]) {\n        outline: 1px solid var(--simple-colors-default-theme-grey-1);\n      }\n      :host #outerplayer,\n      :host #outerplayer * {\n        --a11y-media-color: var(--simple-colors-default-theme-grey-11);\n        --a11y-media-bg-color: var(--simple-colors-default-theme-grey-2);\n        --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n        --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n        --a11y-media-accent-color: var(--simple-colors-default-theme-accent-9);\n        --a11y-media-faded-accent-color: var(\n          --simple-colors-default-theme-accent-8\n        );\n\n        /* settings */\n        --a11y-media-settings-menu-color: var(--a11y-media-color);\n        --a11y-media-settings-menu-bg-color: var(--a11y-media-bg-color);\n        --a11y-media-settings-menu-hover-color: var(--a11y-media-hover-color);\n        --a11y-media-settings-menu-hover-bg-color: var(\n          --a11y-media-hover-bg-color\n        );\n\n        /* buttons */\n        --a11y-media-button-color: var(--a11y-media-color);\n        --a11y-media-button-bg-color: var(--a11y-media-bg-color);\n        --a11y-media-button-hover-color: var(--a11y-media-accent-color);\n        --a11y-media-button-hover-bg-color: var(--a11y-media-hover-bg-color);\n        --a11y-media-button-toggle-color: var(--a11y-media-faded-accent-color);\n\n        /* toggle button */\n        --paper-toggle-button-unchecked-bar-color: var(--a11y-media-color);\n        --paper-toggle-button-unchecked-button-color: var(--a11y-media-color);\n        --paper-toggle-button-checked-bar-color: var(--a11y-media-accent-color);\n        --paper-toggle-button-checked-button-color: var(\n          --a11y-media-accent-color\n        );\n\n        /* slider */\n        --paper-slider-active-color: var(--a11y-media-accent-color);\n        --paper-slider-secondary-color: var(--a11y-media-faded-accent-color);\n        --paper-slider-pin-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-pin-start-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-pin-end-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-knob-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-end-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-border-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-border-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-end-border-color: var(--a11y-media-bg-color);\n      }\n      :host #outertranscript,\n      :host #outertranscript *,\n      :host #transcript {\n        --a11y-media-transcript-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-bg-color: var(\n          --simple-colors-default-theme-grey-1\n        );\n        --a11y-media-transcript-accent-color: var(\n          --simple-colors-default-theme-accent-8\n        );\n        --a11y-media-transcript-faded-accent-color: var(\n          --simple-colors-default-theme-accent-10\n        );\n        --a11y-media-transcript-active-cue-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-active-cue-bg-color: var(\n          --simple-colors-default-theme-accent-1\n        );\n        --a11y-media-transcript-focused-cue-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-focused-cue-bg-color: var(\n          --simple-colors-default-theme-grey-2\n        );\n        --a11y-media-transcript-match-color: var(\n          --simple-colors-default-theme-grey-1\n        );\n        --a11y-media-transcript-match-bg-color: var(\n          --simple-colors-default-theme-accent-10\n        );\n        --a11y-media-transcript-match-border-color: var(\n          --simple-colors-default-theme-accent-12\n        );\n        --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n        --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n      }\n      :host #player {\n        display: block;\n        max-width: 100%;\n        transition: position 0.5s ease, max-width 1s ease;\n        background-color: var(--simple-colors-default-theme-grey-2);\n      }\n      :host #innerplayer {\n        z-index: 1;\n      }\n      :host #sources {\n        display: flex;\n        align-items: stretch;\n        position: relative;\n      }\n      :host([no-height]) #sources {\n        display: none;\n      }\n      :host #controls,\n      :host #slider,\n      :host #sources,\n      :host #sources > * {\n        width: 100%;\n      }\n      :host #loader,\n      :host #youtube,\n      :host #customcc,\n      :host #customcctxt {\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n      :host #youtube {\n        height: 100%;\n      }\n      :host #customcc {\n        font-size: 20px;\n        width: 100%;\n        height: 100%;\n        transition: font-size 0.25s;\n      }\n      :host([responsive-size*=\"lg\"]) #customcc {\n        font-size: 14px;\n      }\n      :host([responsive-size*=\"md\"]) #customcc {\n        font-size: 14px;\n      }\n      :host([responsive-size*=\"sm\"]) #customcc {\n        font-size: 12px;\n      }\n      :host([responsive-size*=\"xs\"]) #customcc {\n        font-size: 10px;\n      }\n      :host([sticky]:not([sticky-corner=\"none\"])) #customcc {\n        display: none;\n      }\n      :host #customcctxt {\n        top: unset;\n        bottom: 8px;\n        display: inline-block;\n        margin: 0 10px;\n        color: white;\n        background-color: black;\n        background-color: rgba(0, 0, 0, 0.8);\n        padding: 0.15em 4px;\n      }\n      :host #customcctxt:empty {\n        display: none;\n      }\n      :host #innerplayer,\n      :host #sources > * {\n        max-height: 80vh;\n      }\n      :host #controls,\n      :host #slider {\n        z-index: 2 !important;\n      }\n      :host #audio-only {\n        text-align: center;\n        font-style: italic;\n        width: 100%;\n        line-height: 160%;\n      }\n      :host .media-caption:not(:empty) {\n        padding: 5px 15px;\n      }\n      :host #printthumb {\n        width: 100%;\n        margin: 0;\n        display: block;\n        border-top: 1px solid #aaaaaa;\n      }\n      :host .sr-only {\n        position: absolute;\n        left: -9999px;\n        font-size: 0;\n        height: 0;\n        width: 0;\n        overflow: hidden;\n      }\n      @media screen {\n        :host #printthumb {\n          display: none;\n        }\n        :host([flex-layout]:not([responsive-size*=\"s\"])) {\n          display: inline-flex;\n          align-items: stretch;\n          outline: 1px solid;\n          color: var(--simple-colors-default-theme-grey-12);\n          background-color: var(--simple-colors-default-theme-grey-2);\n          outline-color: var(--simple-colors-default-theme-grey-3);\n          padding: 0;\n        }\n        :host([dark][flex-layout]:not([responsive-size*=\"s\"])) {\n          outline-color: var(--simple-colors-default-theme-grey-1);\n        }\n        :host > div {\n          transition: all 0.5s;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"])) #player {\n          position: fixed;\n          top: 5px;\n          right: 5px;\n          width: 200px;\n          max-width: 200px;\n          z-index: 999999;\n          border: 1px solid;\n          box-shadow: 1px 1px 20px 1px rgba(125, 125, 125);\n          border-radius: 3.2px;\n          border-color: var(--a11y-media-bg-color);\n        }\n        :host([dark][sticky]:not([sticky-corner=\"none\"])) #player {\n          border-color: var(--a11y-media-bg-color);\n        }\n        :host([sticky][sticky-corner=\"top-left\"]) #player {\n          right: unset;\n          left: 5px;\n        }\n        :host([flex-layout]:not([responsive-size*=\"s\"])) > div {\n          width: 50%;\n          flex-grow: 1;\n          flex-shrink: 1;\n        }\n        :host #innertranscript {\n          position: relative;\n          height: 100%;\n        }\n        :host([hide-transcript]) #outerplayer {\n          min-width: 50%;\n          max-width: 100%;\n        }\n        :host([hide-transcript]) #outertranscript {\n          display: none;\n        }\n        :host #transcript {\n          padding-top: 48px;\n        }\n        :host(:not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #transcript {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          overflow-y: scroll;\n        }\n        :host(:not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #player.totop {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 200px !important;\n          z-index: 9999;\n        }\n        :host #tcontrols {\n          z-index: 1000;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          display: flex;\n        }\n        :host([sticky][sticky-corner=\"bottom-left\"]) #player {\n          top: unset;\n          right: unset;\n          bottom: 5px;\n        }\n        :host([sticky][sticky-corner=\"bottom-right\"]) #player {\n          top: unset;\n          bottom: 5px;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"]):not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #controls {\n          display: none;\n        }\n        :host .print-only {\n          display: none;\n        }\n        :host .media-caption:not(:empty) {\n          color: var(--simple-colors-default-theme-grey-1);\n          background-color: var(--simple-colors-default-theme-accent-12);\n        }\n      }\n\n      @media print {\n        :host,\n        :host([dark]) {\n          outline: 1px solid #aaaaaa;\n          background-color: #ffffff;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"])) #outerplayer {\n          height: unset !important;\n        }\n        :host .screen-only,\n        :host #player,\n        :host #printthumb:not([src]) {\n          display: none;\n        }\n        :host(:not([thumbnail-src])) #sources,\n        :host #slider,\n        :host #loader,\n        :host #youtube,\n        :host #controls {\n          display: none;\n        }\n        :host .media-type {\n          font-style: italic;\n        }\n        :host #searchbar {\n          display: none;\n        }\n        :host .media-caption:not(:empty) {\n          background-color: #cccccc;\n          color: #000000;\n          font-size: 120%;\n          padding: 5px 15px;\n        }\n      }\n    </style>\n    <div class=\"sr-only\">[[mediaCaption]]</div>\n    <div id=\"outerplayer\" lang$=\"[[uiLanguage]]\">\n      <div id=\"player\">\n        <div id=\"innerplayer\">\n          <div id=\"sources\" hidden$=\"[[noHeight]]\">\n            <a11y-media-play-button\n              id=\"playbutton\"\n              audio-only$=\"[[audioOnly]]\"\n              disabled=\"true\"\n              hidden$=\"[[noPlayButton]]\"\n              disabled$=\"[[noPlayButton]]\"\n              pause-label$=\"[[pauseLabel]]\"\n              playing$=\"[[__playing]]\"\n              play-label$=\"[[playLabel]]\"\n            >\n            </a11y-media-play-button>\n            <a11y-media-loader\n              id=\"loader\"\n              autoplay$=\"[[autoplay]]\"\n              cc$=\"[[cc]]\"\n              crossorigin$=\"[[crossorigin]]\"\n              hidden$=\"[[isYoutube]]\"\n              lang$=\"[[lang]]\"\n              loop$=\"[[loop]]\"\n              muted$=\"[[muted]]\"\n              manifest$=\"[[manifest]]\"\n              playback-rate$=\"[[playbackRate]]\"\n              style$=\"[[_getThumbnailCSS(thumbnailSrc)]]\"\n              preload$=\"[[preload]]\"\n              volume$=\"[[volume]]\"\n            >\n              <slot></slot>\n            </a11y-media-loader>\n            <div\n              id=\"youtube\"\n              hidden$=\"[[!isYoutube]]\"\n              video-id$=\"[[videoId]]\"\n            ></div>\n            <div id=\"customcc\" hidden$=\"[[!showCustomCaptions]]\">\n              <span id=\"customcctxt\"></span>\n            </div>\n          </div>\n        </div>\n        <paper-slider\n          id=\"slider\"\n          max$=\"[[__duration]]\"\n          pin=\"\"\n          secondary-progress$=\"[[__buffered]]\"\n          value$=\"[[__elapsed]]\"\n        >\n        </paper-slider>\n      </div>\n      <a11y-media-controls\n        id=\"controls\"\n        audio-only$=\"[[audioOnly]]\"\n        audio-label$=\"[[audioLabel]]\"\n        captions-icon$=\"[[captionsIcon]]\"\n        captions-label$=\"[[captionsLabel]]\"\n        captions-menu-label$=\"[[captionsMenuLabel]]\"\n        captions-menu-off$=\"[[captionsMenuOff]]\"\n        cc$=\"[[cc]]\"\n        forward-icon$=\"[[forwardIcon]]\"\n        forward-label$=\"[[forwardLabel]]\"\n        fullscreen-icon$=\"[[fullscreenIcon]]\"\n        fullscreen-label$=\"[[fullscreenLabel]]\"\n        has-captions$=\"[[hasCaptions]]\"\n        has-transcript$=\"[[hasTranscript]]\"\n        lang$=\"[[uiLanguage]]\"\n        loop-icon$=\"[[loopIcon]]\"\n        loop-label$=\"[[loopLabel]]\"\n        mute-icon$=\"[[muteIcon]]\"\n        mute-label$=\"[[muteLabel]]\"\n        muted$=\"[[muted]]\"\n        pause-icon$=\"[[pauseIcon]]\"\n        pause-label$=\"[[pauseLabel]]\"\n        play-icon$=\"[[playIcon]]\"\n        play-label$=\"[[playLabel]]\"\n        playing$=\"[[__playing]]\"\n        restart-icon$=\"[[restartIcon]]\"\n        restart-label$=\"[[restartLabel]]\"\n        rewind-icon$=\"[[rewindIcon]]\"\n        rewind-label$=\"[[rewindLabel]]\"\n        search-transcript$=\"[[searchTranscript]]\"\n        settings-icon$=\"[[settingsIcon]]\"\n        settings-label$=\"[[settingsLabel]]\"\n        speed-label$=\"[[speedLabel]]\"\n        stand-alone$=\"[[standAlone]]\"\n        transcript-icon$=\"[[transcriptIcon]]\"\n        transcript-label$=\"[[transcriptLabel]]\"\n        transcript-menu-label$=\"[[transcriptMenuLabel]]\"\n        unmute-icon$=\"[[unmuteIcon]]\"\n        unmute-label$=\"[[unmuteLabel]]\"\n        video-label$=\"[[videoLabel]]\"\n        volume=\"[[__volume]]\"\n        volume-icon$=\"[[volumeIcon]]\"\n        volume-label$=\"[[volumeLabel]]\"\n      >\n      </a11y-media-controls>\n      <div class=\"screen-only media-caption\" aria-hidden=\"true\">\n        [[mediaCaption]]\n      </div>\n      <div class=\"print-only media-caption\">[[printCaption]]</div>\n    </div>\n    <img id=\"printthumb\" aria-hidden=\"true\" src$=\"[[thumbnailSrc]]\" />\n    <div id=\"outertranscript\" hidden$=\"[[standAlone]]\" lang$=\"[[uiLanguage]]\">\n      <div id=\"innertranscript\">\n        <a11y-media-transcript-controls\n          id=\"tcontrols\"\n          accent-color$=\"[[accentColor]]\"\n          auto-scroll-icon$=\"[[autoScrollIcon]]\"\n          auto-scroll-label$=\"[[autoScrollLabel]]\"\n          dark$=\"[[darkTranscript]]\"\n          disable-print-button$=\"[[disablePrintButton]]\"\n          disable-scroll$=\"[[disableScroll]]\"\n          disable-search$=\"[[disableSearch]]\"\n          lang$=\"[[uiLanguage]]\"\n          print-icon$=\"[[printIcon]]\"\n          print-label$=\"[[printLabel]]\"\n          search-label$=\"[[searchLabel]]\"\n          search-prev-label$=\"[[searchPrevLabel]]\"\n          search-prev-icon$=\"[[searchPrevIcon]]\"\n          search-next-label$=\"[[searchNextLabel]]\"\n          search-next-icon$=\"[[searchNextIcon]]\"\n          skip-transcript-link$=\"[[skipTranscriptLink]]\"\n        >\n        </a11y-media-transcript-controls>\n        <a11y-media-transcript\n          id=\"transcript\"\n          accent-color$=\"[[accentColor]]\"\n          dark$=\"[[darkTranscript]]\"\n          disable-scroll$=\"[[disableScroll]]\"\n          disable-search$=\"[[disableSearch]]\"\n          disable-interactive$=\"[[disableInteractive]]\"\n          hide-timestamps$=\"[[hideTimestamps]]\"\n          search=\"[[search]]\"\n        >\n        </a11y-media-transcript>\n      </div>\n    </div>\n  "],["\n    <style is=\"custom-style\" include=\"simple-colors\">\n      :host {\n        width: 100%;\n        display: block;\n        color: var(--simple-colors-default-theme-grey-12);\n        background-color: var(--simple-colors-default-theme-grey-2);\n        outline: 1px solid var(--simple-colors-default-theme-grey-3);\n      }\n      :host([dark]) {\n        outline: 1px solid var(--simple-colors-default-theme-grey-1);\n      }\n      :host #outerplayer,\n      :host #outerplayer * {\n        --a11y-media-color: var(--simple-colors-default-theme-grey-11);\n        --a11y-media-bg-color: var(--simple-colors-default-theme-grey-2);\n        --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n        --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n        --a11y-media-accent-color: var(--simple-colors-default-theme-accent-9);\n        --a11y-media-faded-accent-color: var(\n          --simple-colors-default-theme-accent-8\n        );\n\n        /* settings */\n        --a11y-media-settings-menu-color: var(--a11y-media-color);\n        --a11y-media-settings-menu-bg-color: var(--a11y-media-bg-color);\n        --a11y-media-settings-menu-hover-color: var(--a11y-media-hover-color);\n        --a11y-media-settings-menu-hover-bg-color: var(\n          --a11y-media-hover-bg-color\n        );\n\n        /* buttons */\n        --a11y-media-button-color: var(--a11y-media-color);\n        --a11y-media-button-bg-color: var(--a11y-media-bg-color);\n        --a11y-media-button-hover-color: var(--a11y-media-accent-color);\n        --a11y-media-button-hover-bg-color: var(--a11y-media-hover-bg-color);\n        --a11y-media-button-toggle-color: var(--a11y-media-faded-accent-color);\n\n        /* toggle button */\n        --paper-toggle-button-unchecked-bar-color: var(--a11y-media-color);\n        --paper-toggle-button-unchecked-button-color: var(--a11y-media-color);\n        --paper-toggle-button-checked-bar-color: var(--a11y-media-accent-color);\n        --paper-toggle-button-checked-button-color: var(\n          --a11y-media-accent-color\n        );\n\n        /* slider */\n        --paper-slider-active-color: var(--a11y-media-accent-color);\n        --paper-slider-secondary-color: var(--a11y-media-faded-accent-color);\n        --paper-slider-pin-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-pin-start-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-pin-end-color: var(--a11y-media-faded-bg-color);\n        --paper-slider-knob-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-end-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-border-color: var(--a11y-media-accent-color);\n        --paper-slider-knob-start-border-color: var(--a11y-media-bg-color);\n        --paper-slider-knob-end-border-color: var(--a11y-media-bg-color);\n      }\n      :host #outertranscript,\n      :host #outertranscript *,\n      :host #transcript {\n        --a11y-media-transcript-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-bg-color: var(\n          --simple-colors-default-theme-grey-1\n        );\n        --a11y-media-transcript-accent-color: var(\n          --simple-colors-default-theme-accent-8\n        );\n        --a11y-media-transcript-faded-accent-color: var(\n          --simple-colors-default-theme-accent-10\n        );\n        --a11y-media-transcript-active-cue-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-active-cue-bg-color: var(\n          --simple-colors-default-theme-accent-1\n        );\n        --a11y-media-transcript-focused-cue-color: var(\n          --simple-colors-default-theme-grey-12\n        );\n        --a11y-media-transcript-focused-cue-bg-color: var(\n          --simple-colors-default-theme-grey-2\n        );\n        --a11y-media-transcript-match-color: var(\n          --simple-colors-default-theme-grey-1\n        );\n        --a11y-media-transcript-match-bg-color: var(\n          --simple-colors-default-theme-accent-10\n        );\n        --a11y-media-transcript-match-border-color: var(\n          --simple-colors-default-theme-accent-12\n        );\n        --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n        --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n      }\n      :host #player {\n        display: block;\n        max-width: 100%;\n        transition: position 0.5s ease, max-width 1s ease;\n        background-color: var(--simple-colors-default-theme-grey-2);\n      }\n      :host #innerplayer {\n        z-index: 1;\n      }\n      :host #sources {\n        display: flex;\n        align-items: stretch;\n        position: relative;\n      }\n      :host([no-height]) #sources {\n        display: none;\n      }\n      :host #controls,\n      :host #slider,\n      :host #sources,\n      :host #sources > * {\n        width: 100%;\n      }\n      :host #loader,\n      :host #youtube,\n      :host #customcc,\n      :host #customcctxt {\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n      :host #youtube {\n        height: 100%;\n      }\n      :host #customcc {\n        font-size: 20px;\n        width: 100%;\n        height: 100%;\n        transition: font-size 0.25s;\n      }\n      :host([responsive-size*=\"lg\"]) #customcc {\n        font-size: 14px;\n      }\n      :host([responsive-size*=\"md\"]) #customcc {\n        font-size: 14px;\n      }\n      :host([responsive-size*=\"sm\"]) #customcc {\n        font-size: 12px;\n      }\n      :host([responsive-size*=\"xs\"]) #customcc {\n        font-size: 10px;\n      }\n      :host([sticky]:not([sticky-corner=\"none\"])) #customcc {\n        display: none;\n      }\n      :host #customcctxt {\n        top: unset;\n        bottom: 8px;\n        display: inline-block;\n        margin: 0 10px;\n        color: white;\n        background-color: black;\n        background-color: rgba(0, 0, 0, 0.8);\n        padding: 0.15em 4px;\n      }\n      :host #customcctxt:empty {\n        display: none;\n      }\n      :host #innerplayer,\n      :host #sources > * {\n        max-height: 80vh;\n      }\n      :host #controls,\n      :host #slider {\n        z-index: 2 !important;\n      }\n      :host #audio-only {\n        text-align: center;\n        font-style: italic;\n        width: 100%;\n        line-height: 160%;\n      }\n      :host .media-caption:not(:empty) {\n        padding: 5px 15px;\n      }\n      :host #printthumb {\n        width: 100%;\n        margin: 0;\n        display: block;\n        border-top: 1px solid #aaaaaa;\n      }\n      :host .sr-only {\n        position: absolute;\n        left: -9999px;\n        font-size: 0;\n        height: 0;\n        width: 0;\n        overflow: hidden;\n      }\n      @media screen {\n        :host #printthumb {\n          display: none;\n        }\n        :host([flex-layout]:not([responsive-size*=\"s\"])) {\n          display: inline-flex;\n          align-items: stretch;\n          outline: 1px solid;\n          color: var(--simple-colors-default-theme-grey-12);\n          background-color: var(--simple-colors-default-theme-grey-2);\n          outline-color: var(--simple-colors-default-theme-grey-3);\n          padding: 0;\n        }\n        :host([dark][flex-layout]:not([responsive-size*=\"s\"])) {\n          outline-color: var(--simple-colors-default-theme-grey-1);\n        }\n        :host > div {\n          transition: all 0.5s;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"])) #player {\n          position: fixed;\n          top: 5px;\n          right: 5px;\n          width: 200px;\n          max-width: 200px;\n          z-index: 999999;\n          border: 1px solid;\n          box-shadow: 1px 1px 20px 1px rgba(125, 125, 125);\n          border-radius: 3.2px;\n          border-color: var(--a11y-media-bg-color);\n        }\n        :host([dark][sticky]:not([sticky-corner=\"none\"])) #player {\n          border-color: var(--a11y-media-bg-color);\n        }\n        :host([sticky][sticky-corner=\"top-left\"]) #player {\n          right: unset;\n          left: 5px;\n        }\n        :host([flex-layout]:not([responsive-size*=\"s\"])) > div {\n          width: 50%;\n          flex-grow: 1;\n          flex-shrink: 1;\n        }\n        :host #innertranscript {\n          position: relative;\n          height: 100%;\n        }\n        :host([hide-transcript]) #outerplayer {\n          min-width: 50%;\n          max-width: 100%;\n        }\n        :host([hide-transcript]) #outertranscript {\n          display: none;\n        }\n        :host #transcript {\n          padding-top: 48px;\n        }\n        :host(:not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #transcript {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          overflow-y: scroll;\n        }\n        :host(:not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #player.totop {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 200px !important;\n          z-index: 9999;\n        }\n        :host #tcontrols {\n          z-index: 1000;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          display: flex;\n        }\n        :host([sticky][sticky-corner=\"bottom-left\"]) #player {\n          top: unset;\n          right: unset;\n          bottom: 5px;\n        }\n        :host([sticky][sticky-corner=\"bottom-right\"]) #player {\n          top: unset;\n          bottom: 5px;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"]):not([no-height]):not([stacked-layout]):not([responsive-size*=\"s\"]))\n          #controls {\n          display: none;\n        }\n        :host .print-only {\n          display: none;\n        }\n        :host .media-caption:not(:empty) {\n          color: var(--simple-colors-default-theme-grey-1);\n          background-color: var(--simple-colors-default-theme-accent-12);\n        }\n      }\n\n      @media print {\n        :host,\n        :host([dark]) {\n          outline: 1px solid #aaaaaa;\n          background-color: #ffffff;\n        }\n        :host([sticky]:not([sticky-corner=\"none\"])) #outerplayer {\n          height: unset !important;\n        }\n        :host .screen-only,\n        :host #player,\n        :host #printthumb:not([src]) {\n          display: none;\n        }\n        :host(:not([thumbnail-src])) #sources,\n        :host #slider,\n        :host #loader,\n        :host #youtube,\n        :host #controls {\n          display: none;\n        }\n        :host .media-type {\n          font-style: italic;\n        }\n        :host #searchbar {\n          display: none;\n        }\n        :host .media-caption:not(:empty) {\n          background-color: #cccccc;\n          color: #000000;\n          font-size: 120%;\n          padding: 5px 15px;\n        }\n      }\n    </style>\n    <div class=\"sr-only\">[[mediaCaption]]</div>\n    <div id=\"outerplayer\" lang\\$=\"[[uiLanguage]]\">\n      <div id=\"player\">\n        <div id=\"innerplayer\">\n          <div id=\"sources\" hidden\\$=\"[[noHeight]]\">\n            <a11y-media-play-button\n              id=\"playbutton\"\n              audio-only\\$=\"[[audioOnly]]\"\n              disabled=\"true\"\n              hidden\\$=\"[[noPlayButton]]\"\n              disabled\\$=\"[[noPlayButton]]\"\n              pause-label\\$=\"[[pauseLabel]]\"\n              playing\\$=\"[[__playing]]\"\n              play-label\\$=\"[[playLabel]]\"\n            >\n            </a11y-media-play-button>\n            <a11y-media-loader\n              id=\"loader\"\n              autoplay\\$=\"[[autoplay]]\"\n              cc\\$=\"[[cc]]\"\n              crossorigin\\$=\"[[crossorigin]]\"\n              hidden\\$=\"[[isYoutube]]\"\n              lang\\$=\"[[lang]]\"\n              loop\\$=\"[[loop]]\"\n              muted\\$=\"[[muted]]\"\n              manifest\\$=\"[[manifest]]\"\n              playback-rate\\$=\"[[playbackRate]]\"\n              style\\$=\"[[_getThumbnailCSS(thumbnailSrc)]]\"\n              preload\\$=\"[[preload]]\"\n              volume\\$=\"[[volume]]\"\n            >\n              <slot></slot>\n            </a11y-media-loader>\n            <div\n              id=\"youtube\"\n              hidden\\$=\"[[!isYoutube]]\"\n              video-id\\$=\"[[videoId]]\"\n            ></div>\n            <div id=\"customcc\" hidden\\$=\"[[!showCustomCaptions]]\">\n              <span id=\"customcctxt\"></span>\n            </div>\n          </div>\n        </div>\n        <paper-slider\n          id=\"slider\"\n          max\\$=\"[[__duration]]\"\n          pin=\"\"\n          secondary-progress\\$=\"[[__buffered]]\"\n          value\\$=\"[[__elapsed]]\"\n        >\n        </paper-slider>\n      </div>\n      <a11y-media-controls\n        id=\"controls\"\n        audio-only\\$=\"[[audioOnly]]\"\n        audio-label\\$=\"[[audioLabel]]\"\n        captions-icon\\$=\"[[captionsIcon]]\"\n        captions-label\\$=\"[[captionsLabel]]\"\n        captions-menu-label\\$=\"[[captionsMenuLabel]]\"\n        captions-menu-off\\$=\"[[captionsMenuOff]]\"\n        cc\\$=\"[[cc]]\"\n        forward-icon\\$=\"[[forwardIcon]]\"\n        forward-label\\$=\"[[forwardLabel]]\"\n        fullscreen-icon\\$=\"[[fullscreenIcon]]\"\n        fullscreen-label\\$=\"[[fullscreenLabel]]\"\n        has-captions\\$=\"[[hasCaptions]]\"\n        has-transcript\\$=\"[[hasTranscript]]\"\n        lang\\$=\"[[uiLanguage]]\"\n        loop-icon\\$=\"[[loopIcon]]\"\n        loop-label\\$=\"[[loopLabel]]\"\n        mute-icon\\$=\"[[muteIcon]]\"\n        mute-label\\$=\"[[muteLabel]]\"\n        muted\\$=\"[[muted]]\"\n        pause-icon\\$=\"[[pauseIcon]]\"\n        pause-label\\$=\"[[pauseLabel]]\"\n        play-icon\\$=\"[[playIcon]]\"\n        play-label\\$=\"[[playLabel]]\"\n        playing\\$=\"[[__playing]]\"\n        restart-icon\\$=\"[[restartIcon]]\"\n        restart-label\\$=\"[[restartLabel]]\"\n        rewind-icon\\$=\"[[rewindIcon]]\"\n        rewind-label\\$=\"[[rewindLabel]]\"\n        search-transcript\\$=\"[[searchTranscript]]\"\n        settings-icon\\$=\"[[settingsIcon]]\"\n        settings-label\\$=\"[[settingsLabel]]\"\n        speed-label\\$=\"[[speedLabel]]\"\n        stand-alone\\$=\"[[standAlone]]\"\n        transcript-icon\\$=\"[[transcriptIcon]]\"\n        transcript-label\\$=\"[[transcriptLabel]]\"\n        transcript-menu-label\\$=\"[[transcriptMenuLabel]]\"\n        unmute-icon\\$=\"[[unmuteIcon]]\"\n        unmute-label\\$=\"[[unmuteLabel]]\"\n        video-label\\$=\"[[videoLabel]]\"\n        volume=\"[[__volume]]\"\n        volume-icon\\$=\"[[volumeIcon]]\"\n        volume-label\\$=\"[[volumeLabel]]\"\n      >\n      </a11y-media-controls>\n      <div class=\"screen-only media-caption\" aria-hidden=\"true\">\n        [[mediaCaption]]\n      </div>\n      <div class=\"print-only media-caption\">[[printCaption]]</div>\n    </div>\n    <img id=\"printthumb\" aria-hidden=\"true\" src\\$=\"[[thumbnailSrc]]\" />\n    <div id=\"outertranscript\" hidden\\$=\"[[standAlone]]\" lang\\$=\"[[uiLanguage]]\">\n      <div id=\"innertranscript\">\n        <a11y-media-transcript-controls\n          id=\"tcontrols\"\n          accent-color\\$=\"[[accentColor]]\"\n          auto-scroll-icon\\$=\"[[autoScrollIcon]]\"\n          auto-scroll-label\\$=\"[[autoScrollLabel]]\"\n          dark\\$=\"[[darkTranscript]]\"\n          disable-print-button\\$=\"[[disablePrintButton]]\"\n          disable-scroll\\$=\"[[disableScroll]]\"\n          disable-search\\$=\"[[disableSearch]]\"\n          lang\\$=\"[[uiLanguage]]\"\n          print-icon\\$=\"[[printIcon]]\"\n          print-label\\$=\"[[printLabel]]\"\n          search-label\\$=\"[[searchLabel]]\"\n          search-prev-label\\$=\"[[searchPrevLabel]]\"\n          search-prev-icon\\$=\"[[searchPrevIcon]]\"\n          search-next-label\\$=\"[[searchNextLabel]]\"\n          search-next-icon\\$=\"[[searchNextIcon]]\"\n          skip-transcript-link\\$=\"[[skipTranscriptLink]]\"\n        >\n        </a11y-media-transcript-controls>\n        <a11y-media-transcript\n          id=\"transcript\"\n          accent-color\\$=\"[[accentColor]]\"\n          dark\\$=\"[[darkTranscript]]\"\n          disable-scroll\\$=\"[[disableScroll]]\"\n          disable-search\\$=\"[[disableSearch]]\"\n          disable-interactive\\$=\"[[disableInteractive]]\"\n          hide-timestamps\\$=\"[[hideTimestamps]]\"\n          search=\"[[search]]\"\n        >\n        </a11y-media-transcript>\n      </div>\n    </div>\n  "]);return r=function(){return u},u}Object.defineProperty(a,"__esModule",{value:!0}),a.A11yMediaPlayer=void 0;var s=Math.max,t=(0,b.Polymer)({_template:(0,b.html)(r()),is:"a11y-media-player",listeners:{"controls-change":"_onControlsChanged","play-button-tapped":"play"},properties:{mediaCaption:{type:String,computed:"_getMediaCaption(audioOnly,audioLabel,mediaTitle)"},printCaption:{type:String,computed:"_getPrintCaption(audioOnly,audioLabel,videoLabel,mediaTitle)"}},behaviors:[c.SimpleColors,a11yMediaBehaviors.MediaProps,a11yMediaBehaviors.GeneralFunctions,a11yMediaBehaviors.PlayerBehaviors,a11yMediaBehaviors.TranscriptBehaviors],attached:function(){this.__playerAttached=!0,window.A11yMediaUtility.requestAvailability(),this._addResponsiveUtility(),this.fire("a11y-player",this),this.isYoutube&&(window.A11yMediaYoutubeUtility.requestAvailability(),this._youTubeRequest())},ready:function(){var v=this,w=this;w.__playerReady=!0,w.__interactive=!w.disableInteractive,w.target=w.shadowRoot.querySelector("#transcript"),w.__status=w.loadingLabel,w.__slider=w.$.slider,w.__volume=w.muted?0:s(this.volume,10),w.__resumePlaying=!1,w.__showFullscreen=!this.disableFullscreen&&screenfull.enabled,w.__duration=0,w.$.controls.setStatus(w.__status);var y=16/9;w.width=null===w.width?"100%":w.width,w.style.maxWidth=null===w.width?"100%":w.width,w.$.sources.style.paddingTop=100/y+"%",this.isYoutube?(w.disableInteractive=!0,this._youTubeRequest()):(w.shadowRoot.querySelector("#slot").assignedNodes().forEach(function(z){("TRACK"===z.nodeName||"SOURCE"===z.nodeName)&&(w.audioOnly?w.$.loader.$.audio.appendChild(z):w.$.loader.$.video.appendChild(z))}),w.__media=w.$.loader,w.__media.addEventListener("media-loaded",function(){y=w.__media.aspectRatio,w.$.sources.style.paddingTop=100/y+"%",w.$.playbutton.removeAttribute("disabled"),w.__duration=0<w.__media.duration?w.__media.duration:0,w.__status=w._getHHMMSS(0,w.__media.duration)+"/"+w._getHHMMSS(w.__media.duration),w.$.controls.setStatus(w.__status),w._getTrackData(w.$.loader.media)})),w.$.tcontrols.addEventListener("searchbar-added",function(z){w.search=z.detail}),w.$.tcontrols.addEventListener("toggle-scroll",function(){w.disableScroll=!w.disableScroll}),w.$.tcontrols.addEventListener("print-transcript",function(){this.fire("printing-transcript",this),w.$.transcript.print(w.mediaTitle)}),w.$.transcript.setMedia(w.$.player),w.__showFullscreen&&screenfull.on("change",function(){v.fullscreen=screenfull.isFullscreen}),w.$.slider.addEventListener("dragging-changed",function(){v._toggleSliderSeek(w.$.slider.dragging,w.$.slider.immediateValue)}),w.$.slider.addEventListener("focused-changed",function(){v._toggleSliderSeek(w.$.slider.focused,w.$.slider.value)})},_getThumbnailCSS:function(v){return null==v?null:"background-image: url("+v+"); background-size: cover;"},_toggleSliderSeek:function(v,w){v?(this.__playing&&(this.__resumePlaying=!0),this.pause()):(this.seek(w),this.__resumePlaying=!1)},_youTubeRequest:function(){var v=this;if(v.__playerAttached&&v.__playerReady){var w={width:"100%",height:"100%",videoId:v.youtubeId},x=function(){v.__media=window.A11yMediaYoutubeUtility.initYoutubePlayer(v.$.youtube,w),v._getTrackData(v.$.loader.media),v._updateCustomTacks();var A=setInterval(function(){void 0!==v.__media.getDuration&&(clearInterval(A),v.__duration=v.__media.duration=v.__media.getDuration(),v.__status=v._getHHMMSS(0,v.__media.duration)+"/"+v._getHHMMSS(v.__media.duration),v.$.controls.setStatus(v.__status),v.disableInteractive=!v.__interactive)},100)},y=function z(){window.A11yMediaYoutubeUtility.apiReady&&(document.removeEventListener("youtube-api-ready",z),x())};window.A11yMediaYoutubeUtility.apiReady?x():document.addEventListener("youtube-api-ready",y)}},_updateCustomTacks:function(){if(this.isYoutube&&void 0!==this.tracks&&null!==this.tracks){var v=this,w=v.tracks[this.$.transcript.selectedTranscript],x=[],y="";if(void 0!==w&&null!==w&&void 0!==w.cues&&null!==w.cues){for(var z=0;z<w.cues.length;z++)w.cues[z].seek<v.__elapsed&&w.cues[z].seekEnd>v.__elapsed&&(x.push(w.cues[z].order),y=""===y?w.cues[z].text:y);v.$.customcctxt.innerText=y,v.$.transcript.setActiveCues(x)}}},play:function(v){var w=this;w.__playing=!0,(void 0===v||v.detail===w.$.playbutton)&&(w.__playProgress=setInterval(function(){w.__elapsed=0<w.__media.getCurrentTime()?w.__media.getCurrentTime():0,w.__duration=0<w.__media.duration?w.__media.duration:0,w._updateCustomTacks(),w.__status=w._getHHMMSS(w.__media.getCurrentTime(),w.__duration)+"/"+w._getHHMMSS(w.__duration),w.$.controls.setStatus(w.__status),w.__elapsed!==w.__duration||w.loop||(w.__playing=!1,clearInterval(w.__playProgress)),w.__buffered=w.__media.getBufferedTime},1),w.fire("a11y-player-playing",w),w.__media.play())},pause:function(){var v=this;v.__playing=!1,v.__media.pause(),clearInterval(v.__playProgress)},stop:function(){this.pause(),this.seek(0)},restart:function(){this.seek(0),this.play()},rewind:function(v){v=void 0===v?1:v,this.seek(s(this.__media.getCurrentTime()-v,0))},forward:function(v){v=void 0===v?1:v,this.seek(Math.min(this.__media.getCurrentTime()+v,this.__duration))},seek:function(v){var w=this.__media.seekable;0<w.length&&v>=w.start(0)&&v<=w.end(0)&&(this.__media.seek(v),this.__elapsed=v,this.__status=this._getHHMMSS(this.__media.getCurrentTime(),this.__duration)+"/"+this._getHHMMSS(this.__duration),this.$.controls.setStatus(this.__status),this._updateCustomTacks(),this.__resumePlaying&&this.play())},toggleCC:function(v){this.cc=void 0===v?!this.cc:v,this.$.loader.setCC(this.cc)},setVolume:function(v){this.volume=null===v?70:v,this.__media.setVolume(this.volume),this.muted=0===this.volume},setPlaybackRate:function(v){v=null===v?1:v,this.__media.setPlaybackRate(v)},toggleAutoplay:function(v){this.isYoutube||(this.autoplay=void 0===v?!this.muted:v,this.__media.setAutoplay(this.autoplay))},toggleLoop:function(v){this.isYoutube||(this.loop=void 0===v?!this.loop:v,this.__media.setLoop(this.loop))},toggleMute:function(v){this.muted=void 0===v?!this.muted:v,this.__volume=this.muted?0:s(this.volume,10),this.__media.setMute(this.muted)},toggleSticky:function(v){v=void 0===v?!this.sticky:v,this.sticky=v,this.fire("player-sticky",this)},toggleTranscript:function(v){v=void 0===v?this.hideTranscript:v,this.hideTranscript=!v,void 0!==this.$.transcript&&null!==this.$.transcript&&(this.fire("transcript-toggle",this),this.$.transcript.toggleHidden(this.hideTranscript))},selectTrack:function(v){this.$.loader.selectTrack(v),this.$.transcript.setActiveTranscript(v)},_getMediaCaption:function(v,w,x){var y=void 0!==x&&null!==x&&""!==x;return v&&y?x+" ("+w+")":v?w:y?x:null},_getPrintCaption:function(v,w,x,y){var z=void 0!==y&&null!==y&&""!==y;return v&&z?y+" ("+w+")":v?w:z?y+" ("+x+")":x},_getTrackData:function(){var v=this,w=v.$.loader.media,x=[];v.hasTranscript=!v.standAlone;for(var z=function(C){if(null!==w.textTracks[C])var D=w.textTracks[C],E={},F=void 0!==D.cues,H=D.label,I=D.language,J=void 0===H?void 0===I?"Track "+C:I:H,L=setInterval(function(){D.mode="showing",void 0!==D.cues&&0<D.cues.length&&(D.mode="hidden",M(),clearInterval(L))},1),M=function(){D.mode="hidden";var O=Object.keys(D.cues).map(function(P){return{order:""===D.cues[P].id?P:D.cues[P].id,seek:D.cues[P].startTime,seekEnd:D.cues[P].endTime,start:v._getHHMMSS(D.cues[P].startTime,v.media.duration),end:v._getHHMMSS(D.cues[P].endTime,v.media.duration),text:D.cues[P].text}});E={text:J,language:I,value:C,cues:O},x.push(E),v.set("tracks",x),v.$.controls.setTracks(x),v.$.transcript.setTracks(x),v.selectTrack(D.default?C:0),D.oncuechange=function(P){v.$.transcript.setActiveCues(Object.keys(P.currentTarget.activeCues).map(function(Q){return P.currentTarget.activeCues[Q].id}))}}},A=0;A<w.textTracks.length;A++)z(A);0<w.textTracks.length?v.hasCaptions=!0:v.standAlone=!0,v.standAlone||void 0===v.$.transcript||null===v.$.transcript||v.$.transcript.addEventListener("cue-seek",function(B){v.__resumePlaying=v.__playing,v.seek(B.detail.cue.seek)})},_onControlsChanged:function(v){var w=this,x=void 0===v.detail.label?v.detail.id:v.detail.label;"backward"===x||x===w.rewindLabel?w.rewind(w.__duration/20):"closed captions"===x||"captions"===x||x===w.captionsLabel||x===w.captionsMenuLabel?w.toggleCC():"transcript"===x||"transcript-toggle"===x||x===w.transcriptLabel||x===w.transcriptMenuLabel?w.toggleTranscript():"tracks"===v.detail.id?""===v.detail.value?w.toggleCC(!1):(w.toggleCC(!0),w.selectTrack(v.detail.value)):"forward"===x||x===w.forwardLabel?w.forward(w.__duration/20):"full screen"===x||x===w.fullscreenLabel?(this.toggleTranscript(this.fullscreen),screenfull.toggle(w.$.outerplayer)):"loop"===x||x===w.loopLabel?w.toggleLoop():"mute"===x||"unmute"===x||x===w.muteLabel||x===w.unmuteLabel?w.toggleMute():"pause"===x||x===w.pauseLabel?w.pause():"play"===x||x===w.playLabel?w.play():"restart"===x||x===w.restartLabel?(w.seek(0),w.play()):"speed"===x||x===w.speedLabel?w.setPlaybackRate(v.detail.value):("volume"===x||x===w.volumeLabel)&&w.setVolume(v.detail.value)}});a.A11yMediaPlayer=t});