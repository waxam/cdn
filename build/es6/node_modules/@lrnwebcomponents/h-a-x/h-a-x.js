/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import"../hax-body/lib/hax-store.js";class HAX extends HTMLElement{get html(){return"\n<style>\n:host {\n  display: block;\n  font-size: var(--haxcms-base-styles-body-font-size, 16px);\n  font-family: var(--haxcms-base-styles-body-font-family, 'Noto Serif', serif);\n  line-height: var(--haxcms-base-styles-body-line-height, 1.8);\n  letter-spacing: var(--haxcms-base-styles-body-letter-spacing, .5px);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nhax-body {\n  font-size: var(--haxcms-base-styles-body-font-size, 16px);\n  font-family: var(--haxcms-base-styles-body-font-family, 'Noto Serif', serif);\n  line-height: var(--haxcms-base-styles-body-line-height, 1.8);\n  letter-spacing: var(--haxcms-base-styles-body-letter-spacing, .5px);\n}\n\nh1 {\n  font-size: var(--hax-base-styles-h1-font-size, 2.5em);\n  line-height: var(--hax-base-styles-h1-line-height, 2.5em);\n}\nh2 {\n  font-size: var(--hax-base-styles-h2-font-size, 2em);\n}\nh3 {\n  font-size: var(--hax-base-styles-h3-font-size, 1.75em);\n}\nh4 {\n  font-size: var(--hax-base-styles-h4-font-size, 1.5em);\n}\nh5 {\n  font-size: var(--hax-base-styles-h5-font-size, 1.25em);  \n}\nh6 {\n  font-size: var(--hax-base-styles-h6-font-size, 1.25em);\n}\np {\n  min-height: var(--hax-base-styles-p-min-height, 43px);\n  font-size: var(--hax-base-styles-p-font-size, 24px);\n  line-height: var(--hax-base-styles-p-line-height, 1.8);\n  letter-spacing: var(--hax-base-styles-p-letter-spacing, .5px);\n}\na,\na:-webkit-any-link {\n  color: var(--hax-base-styles-a-color, #2196f3);\n  font-size: var(--hax-base-styles-a-font-size, 24px);\n  font-weight: var(--hax-base-styles-a-font-weight, normal);\n}\na:visited {\n  color: var(--hax-base-styles-a-color-visited, #2196f3);\n}\na:active,\na:focus,\na:hover {\n  color: var(--hax-base-styles-a-color-active, #2196f3);\n  font-weight: var(--hax-base-styles-a-font-weight-active, normal);\n}\nol,\nul\nol li,\nul li {\n  padding-bottom: var(--hax-base-styles-list-padding-bottom, 1.5em);\n  line-height: var(--hax-base-styles-list-line-height, 40px);\n  font-size: var(--hax-base-styles-list-font-size, 24px);\n  max-width: var(--hax-base-styles-list-max-width, 28em);\n}\nol li:last-child,\nul li:last-child {\n  padding-bottom: var(--hax-base-styles-list-last-child-padding-bottom, 1em);\n}\nul,\nol {\n  padding-left: var(--hax-base-styles-list-padding-left, 20px);\n  padding-left: var(--hax-base-styles-list-margin-left, 20px);\n}\n        </style>\n<hax-body>\n    <slot></slot>\n</hax-body>"}static get properties(){return{...super.properties,appStore:{name:"appStore",type:String,value:""}}}static get tag(){return"h-a-x"}constructor(delayRender=!1){super(),this.tag=HAX.tag;let obj=HAX.properties;for(let p in obj)obj.hasOwnProperty(p)&&(this.hasAttribute(p)?this[p]=this.getAttribute(p):(this.setAttribute(p,obj[p].value),this[p]=obj[p].value));this.template=document.createElement("template"),this.attachShadow({mode:"open"}),delayRender||this.render(),window.addEventListener("hax-store-ready",this.storeReady.bind(this)),window.addEventListener("hax-store-app-store-loaded",this.appStoreReady.bind(this)),import("./lib/h-a-x-dependencies.js")}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.__HAXApplied||window.__HAXApplied||(window.__HAXApplied=this.__HAXApplied=this.applyHAX())}storeReady(e){e.detail&&setTimeout(()=>{window.HaxStore.instance.appStore={...JSON.parse(this.getAttribute("app-store"))}},0)}appStoreReady(e){if(e.detail&&this.shadowRoot.querySelector("slot")){const nodes=this.shadowRoot.querySelector("slot").assignedNodes();let body="";for(let i in nodes)void 0!==nodes[i].outerHTML&&(body+=nodes[i].outerHTML);window.HaxStore.instance.activeHaxBody.importContent(body)}}render(){this.__rendered||(this.__rendered=!0,this.shadowRoot.innerHTML=null,this.template.innerHTML=this.html,this.shadowRoot.appendChild(this.template.content.cloneNode(!0)))}applyHAX(){window.HaxStore.requestAvailability();let panel=document.createElement("hax-panel");return panel.hidePanelOps=this.hidePanelOps,document.body.appendChild(panel),document.body.appendChild(document.createElement("hax-manager")),document.body.appendChild(document.createElement("hax-app-picker")),document.body.appendChild(document.createElement("hax-stax-picker")),document.body.appendChild(document.createElement("hax-blox-picker")),document.body.appendChild(document.createElement("hax-preferences-dialog")),document.body.appendChild(document.createElement("hax-export-dialog")),document.body.appendChild(document.createElement("hax-autoloader")),!0}disconnectedCallback(){window.removeEventListener("hax-store-ready",this.storeReady.bind(this)),window.removeEventListener("hax-store-ready",this.appStoreReady.bind(this)),super.disconnectedCallback&&super.disconnectedCallback()}static get observedAttributes(){return["app-store","hide-panel-ops"]}get hidePanelOps(){return this.getAttribute("hide-panel-ops")}set hidePanelOps(newValue){newValue&&this.setAttribute("hide-panel-ops","hide-panel-ops")}get appStore(){return this.getAttribute("app-store")}set appStore(newValue){this.__rendered&&(this.setAttribute("app-store",newValue),window.HaxStore.instance.appStore={...JSON.parse(this.getAttribute("app-store"))})}attributeChangedCallback(attr,oldValue,newValue){}}window.customElements.define("h-a-x",HAX);export{HAX};