import"../hax-body/lib/hax-store.js";import"../hax-body/lib/hax-panel.js";import"../hax-body/lib/hax-manager.js";import"../hax-body/lib/hax-autoloader.js";import"../hax-body/hax-body.js";import"../hax-body/lib/hax-app-picker.js";import"../hax-body/lib/hax-app.js";import"../hax-body/lib/hax-toolbar.js";import"../hax-body/lib/hax-preferences-dialog.js";import"../hax-body/lib/hax-stax-picker.js";import"../hax-body/lib/hax-blox-picker.js";import"../../@polymer/iron-icons/iron-icons.js";import"../../@polymer/iron-icons/editor-icons.js";import"../../@polymer/iron-icons/device-icons.js";import"../../@polymer/iron-icons/hardware-icons.js";import"../../@polymer/iron-icons/communication-icons.js";import"../lrn-icons/lrn-icons.js";import"../../@polymer/iron-icons/social-icons.js";import"../../@polymer/iron-icons/av-icons.js";import"../../@polymer/iron-icons/places-icons.js";import"../../@polymer/iron-icons/maps-icons.js";import"../../@polymer/iron-image/iron-image.js";import"../hax-body/lib/hax-export-dialog.js";class HAX extends HTMLElement{get html(){return`
<style>:host {
  display: block;
}

:host([hidden]) {
  display: none;
}
</style>
<hax-body>
    <slot></slot>
</hax-body>`}static get properties(){return{appStore:{name:"appStore",type:"String",value:""}}}static get tag(){return"h-a-x"}constructor(delayRender=!0){super();this.tag=HAX.tag;let obj=HAX.properties;for(let p in obj){if(obj.hasOwnProperty(p)){if(this.hasAttribute(p)){this[p]=this.getAttribute(p)}else{this.setAttribute(p,obj[p].value);this[p]=obj[p].value}}}this._queue=[];this.template=document.createElement("template");this.attachShadow({mode:"open"});if(!delayRender||window.HaxStore.ready){this.render()}window.addEventListener("hax-store-ready",this.render.bind(this))}connectedCallback(){if(!this.__HAXApplied&&!window.__HAXApplied){window.__HAXApplied=this.__HAXApplied=this.applyHAX()}if(this._queue.length){this._processQueue()}}_copyAttribute(name,to){const recipients=this.shadowRoot.querySelectorAll(to),value=this.getAttribute(name),fname=null==value?"removeAttribute":"setAttribute";for(const node of recipients){node[fname](name,value)}}_queueAction(action){this._queue.push(action)}_processQueue(){this._queue.forEach(action=>{this[`_${action.type}`](action.data)});this._queue=[]}_setProperty({name,value}){this[name]=value}render(){if(!this.__rendered){window.HaxStore.instance.appStore=JSON.parse(this.getAttribute("app-store"));this.__rendered=!0;this.shadowRoot.innerHTML=null;this.template.innerHTML=this.html;this.shadowRoot.appendChild(this.template.content.cloneNode(!0));if(this.shadowRoot.querySelector("slot")){this._importBodyContent()}}}_importBodyContent(){const nodes=this.shadowRoot.querySelector("slot").assignedNodes();let body="";for(let i in nodes){if(typeof nodes[i].outerHTML!==typeof void 0){body+=nodes[i].outerHTML}}window.HaxStore.instance.activeHaxBody.importContent(body)}applyHAX(){window.HaxStore.requestAvailability();document.body.appendChild(document.createElement("hax-panel"));document.body.appendChild(document.createElement("hax-manager"));document.body.appendChild(document.createElement("hax-app-picker"));document.body.appendChild(document.createElement("hax-stax-picker"));document.body.appendChild(document.createElement("hax-blox-picker"));document.body.appendChild(document.createElement("hax-preferences-dialog"));document.body.appendChild(document.createElement("hax-export-dialog"));document.body.appendChild(document.createElement("hax-autoloader"));return!0}disconnectedCallback(){window.removeEventListener("hax-store-ready",this.render.bind(this))}static get observedAttributes(){return["app-store"]}get appStore(){return this.getAttribute("app-store")}set appStore(newValue){if(this.__rendered){this.setAttribute("app-store",newValue);window.HaxStore.instance.appStore=JSON.parse(this.getAttribute("app-store"))}}attributeChangedCallback(){}}window.customElements.define("h-a-x",HAX);export{HAX};