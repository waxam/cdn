/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
import"../polymer/polymer-legacy.js";import{dom}from"../polymer/lib/legacy/polymer.dom.js";export const IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(scrollTarget,isAttached){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),isAttached)if("document"===scrollTarget)this.scrollTarget=this._doc;else if("string"==typeof scrollTarget){var domHost=this.domHost;this.scrollTarget=domHost&&domHost.$?domHost.$[scrollTarget]:dom(this.ownerDocument).querySelector("#"+scrollTarget)}else this._isValidScrollTarget()&&(this._oldScrollTarget=scrollTarget,this._toggleScrollListener(this._shouldHaveListener,scrollTarget))},_scrollHandler:function scrollHandler(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(top){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,top):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=top)},set _scrollLeft(left){this.scrollTarget===this._doc?window.scrollTo(left,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=left)},scroll:function(leftOrOptions,top){var left;"object"==typeof leftOrOptions?(left=leftOrOptions.left,top=leftOrOptions.top):left=leftOrOptions,left=left||0,top=top||0,this.scrollTarget===this._doc?window.scrollTo(left,top):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=left,this.scrollTarget.scrollTop=top)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(yes,scrollTarget){var eventTarget=scrollTarget===this._doc?window:scrollTarget;yes?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),eventTarget.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(eventTarget.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(yes){this._shouldHaveListener=yes,this._toggleScrollListener(yes,this.scrollTarget)}};