/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
import"../../../../iron-flex-layout/iron-flex-layout.js";import"../../../../iron-media-query/iron-media-query.js";import{Polymer as t}from"../../../../polymer/lib/legacy/polymer-fn.js";import{html as r}from"../../../../polymer/lib/utils/html-tag.js";t({_template:r`
    <style>

      :host {
        @apply --layout-horizontal;
        @apply --layout-wrap;
        max-width: calc(2 * var(--grid-column-width) + 4 * var(--grid-gutter));
        margin: var(--grid-gutter) auto;
        /* item has width/height ratio 4:3 */
        --grid-item-height: calc(3 * var(--grid-column-width) / 4);
      }

      :host > ::slotted(*) {
        @apply --layout-flex-none;
        width: var(--grid-column-width);
        height: var(--grid-item-height);
        margin: var(--grid-gutter);
        box-sizing: border-box;
      }

      /* https://github.com/webcomponents/shadycss/issues/15 */
      :host > ::slotted(*:nth-of-type(3n-2)) {
        width: calc(100% - 2 * var(--grid-gutter));
        /* large item has widht/height ratio 2:1 */
        height: calc(var(--grid-column-width)  + 2 * var(--grid-gutter));
      }

      :host([narrow-layout]) {
        max-width: none;
        margin: 0 var(--grid-gutter);
      }

      :host([narrow-layout]) > ::slotted(*) {
        width: 100% !important;
        height: var(--grid-item-height) !important;
        margin: var(--grid-gutter) 0;
      }

      iron-media-query {
        display: none;
      }

    </style>

    <slot></slot>

    <iron-media-query query="[[query]]" query-matches="{{narrowLayout}}"></iron-media-query>
`,is:"two-columns-grid",properties:{columnWidth:{type:Number,value:300},gutter:{type:Number,value:8},narrowLayout:{type:Boolean,notify:!0,reflectToAttribute:!0}},observers:["_updateLayout(columnWidth, gutter)"],attached:function(){this._updateCustomStyles()},_updateLayout:function(t,r){this.query="(max-width:"+(2*t+4*r)+"px)",this._updateCustomStyles()},_updateCustomStyles:function(){this.updateStyles({"--grid-column-width":this.columnWidth+"px","--grid-gutter":this.gutter+"px"})}});