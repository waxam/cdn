/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
import"../polymer/polymer-legacy.js";import{Polymer}from"../polymer/lib/legacy/polymer-fn.js";export class IronMeta{constructor(options){IronMeta[" "](options),this.type=options&&options.type||"default",this.key=options&&options.key,options&&"value"in options&&(this.value=options.value)}get value(){var type=this.type,key=this.key;if(type&&key)return IronMeta.types[type]&&IronMeta.types[type][key]}set value(value){var type=this.type,key=this.key;type&&key&&(type=IronMeta.types[type]=IronMeta.types[type]||{},null==value?delete type[key]:type[key]=value)}get list(){if(this.type){var items=IronMeta.types[this.type];return items?Object.keys(items).map((function(key){return metaDatas[this.type][key]}),this):[]}}byKey(key){return this.key=key,this.value}}IronMeta[" "]=function(){},IronMeta.types={};var metaDatas=IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(type,key,value){var meta=new IronMeta({type,key});return void 0!==value&&value!==meta.value?meta.value=value:this.value!==meta.value&&(this.value=meta.value),meta},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(self){self&&(this.value=this)},byKey:function(key){return new IronMeta({type:this.type,key}).value}});