/**
 * @license
 * Copyright (c) 2021 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
import{directive as t}from"./lib/directive.js";import*as e from"./lit-html.js";export const PartType={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6};class ChildPart{constructor(t){this.type=PartType.CHILD,this.options=t.options,this.legacyPart=t}get parentNode(){return this.legacyPart.startNode.parentNode}get startNode(){return this.legacyPart.startNode}get endNode(){return this.legacyPart.endNode}}class AttributePart{constructor(t){this.legacyPart=t,this.type=t instanceof e.PropertyPart?PartType.PROPERTY:PartType.ATTRIBUTE}get options(){}get name(){return this.legacyPart.committer.name}get element(){return this.legacyPart.committer.element}get strings(){return this.legacyPart.committer.strings}get tagName(){return this.element.tagName}}class BooleanAttributePart{constructor(t){this.type=PartType.BOOLEAN_ATTRIBUTE,this.legacyPart=t}get options(){}get name(){return this.legacyPart.name}get element(){return this.legacyPart.element}get strings(){return this.legacyPart.strings}get tagName(){return this.element.tagName}}class EventPart{constructor(t){this.type=PartType.EVENT,this.legacyPart=t}get options(){}get name(){return this.legacyPart.eventName}get element(){return this.legacyPart.element}get strings(){}get tagName(){return this.element.tagName}handleEvent(t){this.legacyPart.handleEvent(t)}}export class Directive{constructor(t){}update(t,e){return this.render(...e)}}export function directive(r){const a=new WeakMap;return t(((...t)=>n=>{const s=a.get(n);let i,o;void 0===s?(i=function legacyPartToPart(t){if(t instanceof e.NodePart)return new ChildPart(t);if(t instanceof e.EventPart)return new EventPart(t);if(t instanceof e.BooleanAttributePart)return new BooleanAttributePart(t);if(t instanceof e.PropertyPart||t instanceof e.AttributePart)return new AttributePart(t);throw new Error("Unknown part type")}(n),o=new r(i),a.set(n,[i,o])):(i=s[0],o=s[1]),n.setValue(o.update(i,t)),n.commit()}))}