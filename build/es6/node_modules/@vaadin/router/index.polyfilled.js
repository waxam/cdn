import{Router,Resolver}from"./index.js";let isUrlAvailable,urlDocument,urlBase,urlAnchor;Resolver.__ensureUrlAvailableOrPolyfilled=()=>{if(isUrlAvailable===void 0){try{const url=new URL("b","http://a");url.pathname="c";isUrlAvailable="http://a/c"===url.href}catch(e){isUrlAvailable=!1}if(!isUrlAvailable){// The URL constructor is not available in IE11. Polyfill it by creating
// an HTMLAnchorElement in an in-memory HTML document.
urlDocument=document.implementation.createHTMLDocument("url");urlBase=urlDocument.createElement("base");urlDocument.head.appendChild(urlBase);urlAnchor=urlDocument.createElement("a");if(!urlAnchor.origin){// IE11: HTMLAnchorElement does not have the `origin` property
Object.defineProperty(urlAnchor,"origin",{get:()=>{// IE11: on HTTP and HTTPS the default port is not included into
// window.location.origin, so won't include it here either.
const protocol=urlAnchor.protocol,port=urlAnchor.port,defaultHttp="http:"===protocol&&"80"===port,defaultHttps="https:"===protocol&&"443"===port,host=defaultHttp||defaultHttps?urlAnchor.hostname:urlAnchor.host;return`${protocol}//${host}`}});// IE11: HTMLAnchorElement pathname does not start with a leading slash
Object.defineProperty(urlAnchor,"pathname",{get:()=>{return urlAnchor.href.slice(urlAnchor.origin.length)}})}}}};Resolver.__createUrl=(path,base)=>{Resolver.__ensureUrlAvailableOrPolyfilled();if(isUrlAvailable){return new URL(path,base)}urlBase.href=base;urlAnchor.href=path.replace(/ /g,"%20");// IE11: only absolute href setting results in correct part properties
// (`protocol`, `host`, `port`, and such), otherwise they are empty.
urlAnchor.href=urlAnchor.href;return urlAnchor};export{Router,Resolver};