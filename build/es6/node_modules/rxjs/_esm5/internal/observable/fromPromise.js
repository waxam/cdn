import{Observable}from"../Observable.js";import{Subscription}from"../Subscription.js";import{subscribeToPromise}from"../util/subscribeToPromise.js";export function fromPromise(input,scheduler){if(!scheduler){return new Observable(subscribeToPromise(input))}else{return new Observable(function(subscriber){var sub=new Subscription;sub.add(scheduler.schedule(function(){return input.then(function(value){sub.add(scheduler.schedule(function(){subscriber.next(value);sub.add(scheduler.schedule(function(){return subscriber.complete()}))}))},function(err){sub.add(scheduler.schedule(function(){return subscriber.error(err)}))})}));return sub})}}