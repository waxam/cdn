import*as tslib_1 from"../../../tslib/tslib.es6.js";import{Subject}from"./Subject.js";import{Subscription}from"./Subscription.js";var AsyncSubject=function(_super){tslib_1.__extends(AsyncSubject,_super);function AsyncSubject(){var _this=null!==_super&&_super.apply(this,arguments)||this;_this.value=null;_this.hasNext=!1;_this.hasCompleted=!1;return _this}AsyncSubject.prototype._subscribe=function(subscriber){if(this.hasError){subscriber.error(this.thrownError);return Subscription.EMPTY}else if(this.hasCompleted&&this.hasNext){subscriber.next(this.value);subscriber.complete();return Subscription.EMPTY}return _super.prototype._subscribe.call(this,subscriber)};AsyncSubject.prototype.next=function(value){if(!this.hasCompleted){this.value=value;this.hasNext=!0}};AsyncSubject.prototype.error=function(error){if(!this.hasCompleted){_super.prototype.error.call(this,error)}};AsyncSubject.prototype.complete=function(){this.hasCompleted=!0;if(this.hasNext){_super.prototype.next.call(this,this.value)}_super.prototype.complete.call(this)};return AsyncSubject}(Subject);export{AsyncSubject};