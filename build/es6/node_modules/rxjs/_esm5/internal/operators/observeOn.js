import*as tslib_1 from"../../../../tslib/tslib.es6.js";import{Subscriber}from"../Subscriber.js";import{Notification}from"../Notification.js";export function observeOn(scheduler,delay){if(void 0===delay){delay=0}return function(source){return source.lift(new ObserveOnOperator(scheduler,delay))}}var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){if(void 0===delay){delay=0}this.scheduler=scheduler;this.delay=delay}ObserveOnOperator.prototype.call=function(subscriber,source){return source.subscribe(new ObserveOnSubscriber(subscriber,this.scheduler,this.delay))};return ObserveOnOperator}();export{ObserveOnOperator};var ObserveOnSubscriber=function(_super){tslib_1.__extends(ObserveOnSubscriber,_super);function ObserveOnSubscriber(destination,scheduler,delay){if(void 0===delay){delay=0}var _this=_super.call(this,destination)||this;_this.scheduler=scheduler;_this.delay=delay;return _this}ObserveOnSubscriber.dispatch=function(arg){var notification=arg.notification,destination=arg.destination;notification.observe(destination);this.unsubscribe()};ObserveOnSubscriber.prototype.scheduleMessage=function(notification){var destination=this.destination;destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))};ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(Notification.createNext(value))};ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(Notification.createError(err));this.unsubscribe()};ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(Notification.createComplete());this.unsubscribe()};return ObserveOnSubscriber}(Subscriber);export{ObserveOnSubscriber};var ObserveOnMessage=function(){return function(notification,destination){this.notification=notification;this.destination=destination}}();export{ObserveOnMessage};