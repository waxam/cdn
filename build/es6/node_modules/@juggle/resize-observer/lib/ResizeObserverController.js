import{scheduler as e,updateCount as r}from"./utils/scheduler.js";import{ResizeObservation as s}from"./ResizeObservation.js";import{ResizeObserverDetail as t}from"./ResizeObserverDetail.js";import{resizeObservers as o}from"./utils/resizeObservers.js";var n=new Map,getObservationIndex=function(e,r){for(var s=0;s<e.length;s+=1)if(e[s].target===r)return s;return-1},i=function(){function ResizeObserverController(){}return ResizeObserverController.connect=function(e,r){var s=new t(e,r);o.push(s),n.set(e,s)},ResizeObserverController.observe=function(t,o,i){if(n.has(t)){var a=n.get(t);getObservationIndex(a.observationTargets,o)<0&&(a.observationTargets.push(new s(o,i&&i.box)),r(1),e.schedule())}},ResizeObserverController.unobserve=function(e,s){if(n.has(e)){var t=n.get(e),o=getObservationIndex(t.observationTargets,s);o>=0&&(t.observationTargets.splice(o,1),r(-1))}},ResizeObserverController.disconnect=function(e){if(n.has(e)){var s=n.get(e);o.splice(o.indexOf(s),1),n.delete(e),r(-s.observationTargets.length)}},ResizeObserverController}();export{i as ResizeObserverController};